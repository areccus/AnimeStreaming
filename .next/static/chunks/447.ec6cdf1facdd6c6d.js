(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[447],{1993:function(e){function n(e){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}))}n.keys=function(){return[]},n.resolve=n,n.id=1993,e.exports=n},8321:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return p}});var r=t(5893),i=t(7294),o=t(3388),s=(t(3481),t(871)),c=t(1520),u=t(1067),a=t(730),l=function(e){var n=(0,i.useState)(!1),t=n[0],r=n[1];return(0,i.useEffect)((function(){var n=window.matchMedia(e);n.matches!==t&&r(n.matches);var i=function(){return r(n.matches)};return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}}),[t,e]),t},f=t(961),d=function(){var e=l("(max-width: 768px)"),n=(0,c.I0)();return(0,r.jsxs)(o.pf,{noControls:!0,children:[(0,r.jsxs)(o.ZX,{align:"center",pin:"center",justify:"space-evenly",style:{"--vm-controls-spacing":"80px"},children:[(0,r.jsxs)(o.oT,{onClick:function(){return n((0,f.tq)())},keys:"p",label:"Previous Episode",children:[(0,r.jsx)(u.Z,{className:"w-9 text-white"}),(0,r.jsx)(o.u,{children:"previous(p)"})]}),(0,r.jsx)(o.ko,{hideTooltip:!0,keys:"k/ "}),(0,r.jsxs)(o.oT,{onClick:function(){return n((0,f.Kg)())},keys:"n",label:"Next Episode",children:[(0,r.jsx)(a.Z,{className:"w-9 text-white"}),(0,r.jsx)(o.u,{className:"text-xs",children:"next(n)"})]})]}),(0,r.jsx)(o.ZM,{gradient:"up"}),e&&(0,r.jsxs)(o.ZX,{pin:"topLeft",children:[(0,r.jsx)(o.Br,{}),(0,r.jsx)(o.yr,{}),(0,r.jsx)(o.Eh,{})]}),(0,r.jsxs)(o.ZX,{pin:"bottomLeft",direction:e?"column":"column-reverse",children:[(0,r.jsxs)(o.eQ,{space:e?"none":"top",children:[!e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.ko,{keys:"k/ ",tooltipDirection:"right"}),(0,r.jsx)(o.yr,{})]}),e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.m4,{}),(0,r.jsx)(o.Br,{}),(0,r.jsx)(o.GX,{})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.bO,{}),(0,r.jsx)(o.Br,{})]}),!e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Ag,{}),(0,r.jsx)(o.ak,{keys:"i"}),(0,r.jsx)(o.Eh,{})]}),(0,r.jsx)(o.ot,{tooltipDirection:"left"})]}),(0,r.jsx)(o.eQ,{children:(0,r.jsx)(o.ZO,{})})]})]})};function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],s=!0,c=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);s=!0);}catch(u){c=!0,i=u}finally{try{s||null==t.return||t.return()}finally{if(c)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return m(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=function(e){var n=e.src,t=e.poster,u=(0,c.I0)(),a=x((0,c.v9)((function(e){return[e.timer.startTime,e.timer.currentTime]})),2),l=a[0],f=a[1],m=x((0,c.v9)((function(e){return[e.anime.anime,e.episode.episode]})),2),p=m[0],h=m[1],y=(0,i.useRef)(h),j=(0,i.useRef)(null);(0,i.useEffect)((function(){j.current.focus(),j.current.addEventListener("keydown",(function(e){e.preventDefault()})),j.current.onfullscreenchange=function(){j.current.focus()},document.addEventListener("keydown",(function(e){var n;if((null===(n=j.current)||void 0===n?void 0:n.isFullscreenActive)&&e.target!==j.current){var t=new KeyboardEvent("keydown",{key:e.key,code:e.code,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey});j.current.dispatchEvent(t)}}))}));return(0,i.useEffect)((function(){var e=x((localStorage.getItem("Anime".concat(p))||"1-0").split("-").map((function(e){return parseInt(e,10)})),2),n=e[0],t=e[1];u(n===h?(0,s.qv)(t):(0,s.qv)(0))}),[p,u,h]),(0,i.useEffect)((function(){f<=120||(j.current.duration-f<=180?localStorage.removeItem("Anime".concat(p)):localStorage.setItem("Anime".concat(p),"".concat(y.current,"-").concat(f)))}),[p,f,u]),(0,r.jsxs)(o.J5,{onVmCurrentTimeChange:function(e){j.current.duration<0||f!==Math.ceil(e.detail)&&u((0,s.yR)(e.detail))},ref:j,tabIndex:0,style:{outline:"none"},onVmPlaybackReady:function(){j.current.currentTime=l},children:[n&&n.includes("m3u8")?(0,r.jsx)(o.rW,{version:"latest",poster:t,children:(0,r.jsx)("source",{"data-src":n,type:"application/x-mpegURL"})},n):(0,r.jsx)(o.nk,{poster:t,children:(0,r.jsx)("source",{"data-src":n,type:"video/mp4"})},n),(0,r.jsx)(d,{})]})}}}]);