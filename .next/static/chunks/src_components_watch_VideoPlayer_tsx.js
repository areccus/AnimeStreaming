/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["src_components_watch_VideoPlayer_tsx"],{

/***/ "./node_modules/@seznam/compose-react-refs/composeRefs.js":
/*!****************************************************************!*\
  !*** ./node_modules/@seznam/compose-react-refs/composeRefs.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nfunction composeRefs() {\n    var refs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        refs[_i] = arguments[_i];\n    }\n    if (refs.length === 2) { // micro-optimize the hot path\n        return composeTwoRefs(refs[0], refs[1]) || null;\n    }\n    var composedRef = refs.slice(1).reduce(function (semiCombinedRef, refToInclude) { return composeTwoRefs(semiCombinedRef, refToInclude); }, refs[0]);\n    return composedRef || null;\n}\nexports[\"default\"] = composeRefs;\nvar composedRefCache = new WeakMap();\nfunction composeTwoRefs(ref1, ref2) {\n    if (ref1 && ref2) {\n        var ref1Cache = composedRefCache.get(ref1) || new WeakMap();\n        composedRefCache.set(ref1, ref1Cache);\n        var composedRef = ref1Cache.get(ref2) || (function (instance) {\n            updateRef(ref1, instance);\n            updateRef(ref2, instance);\n        });\n        ref1Cache.set(ref2, composedRef);\n        return composedRef;\n    }\n    if (!ref1) {\n        return ref2;\n    }\n    else {\n        return ref1;\n    }\n}\nfunction updateRef(ref, instance) {\n    if (typeof ref === 'function') {\n        ref(instance);\n    }\n    else {\n        ref.current = instance;\n    }\n}\n//# sourceMappingURL=composeRefs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHNlem5hbS9jb21wb3NlLXJlYWN0LXJlZnMvY29tcG9zZVJlZnMuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBLHFCQUFxQix1QkFBdUI7QUFDNUM7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0Esc0ZBQXNGLHVEQUF1RDtBQUM3STtBQUNBO0FBQ0Esa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9Ac2V6bmFtL2NvbXBvc2UtcmVhY3QtcmVmcy9jb21wb3NlUmVmcy5qcz8zMzM4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gY29tcG9zZVJlZnMoKSB7XG4gICAgdmFyIHJlZnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICByZWZzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGlmIChyZWZzLmxlbmd0aCA9PT0gMikgeyAvLyBtaWNyby1vcHRpbWl6ZSB0aGUgaG90IHBhdGhcbiAgICAgICAgcmV0dXJuIGNvbXBvc2VUd29SZWZzKHJlZnNbMF0sIHJlZnNbMV0pIHx8IG51bGw7XG4gICAgfVxuICAgIHZhciBjb21wb3NlZFJlZiA9IHJlZnMuc2xpY2UoMSkucmVkdWNlKGZ1bmN0aW9uIChzZW1pQ29tYmluZWRSZWYsIHJlZlRvSW5jbHVkZSkgeyByZXR1cm4gY29tcG9zZVR3b1JlZnMoc2VtaUNvbWJpbmVkUmVmLCByZWZUb0luY2x1ZGUpOyB9LCByZWZzWzBdKTtcbiAgICByZXR1cm4gY29tcG9zZWRSZWYgfHwgbnVsbDtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNvbXBvc2VSZWZzO1xudmFyIGNvbXBvc2VkUmVmQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gY29tcG9zZVR3b1JlZnMocmVmMSwgcmVmMikge1xuICAgIGlmIChyZWYxICYmIHJlZjIpIHtcbiAgICAgICAgdmFyIHJlZjFDYWNoZSA9IGNvbXBvc2VkUmVmQ2FjaGUuZ2V0KHJlZjEpIHx8IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGNvbXBvc2VkUmVmQ2FjaGUuc2V0KHJlZjEsIHJlZjFDYWNoZSk7XG4gICAgICAgIHZhciBjb21wb3NlZFJlZiA9IHJlZjFDYWNoZS5nZXQocmVmMikgfHwgKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICAgICAgdXBkYXRlUmVmKHJlZjEsIGluc3RhbmNlKTtcbiAgICAgICAgICAgIHVwZGF0ZVJlZihyZWYyLCBpbnN0YW5jZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZWYxQ2FjaGUuc2V0KHJlZjIsIGNvbXBvc2VkUmVmKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2VkUmVmO1xuICAgIH1cbiAgICBpZiAoIXJlZjEpIHtcbiAgICAgICAgcmV0dXJuIHJlZjI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVmMTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVSZWYocmVmLCBpbnN0YW5jZSkge1xuICAgIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJlZihpbnN0YW5jZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZWYuY3VycmVudCA9IGluc3RhbmNlO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvc2VSZWZzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@seznam/compose-react-refs/composeRefs.js\n"));

/***/ }),

/***/ "./node_modules/@stencil/core/internal/client/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@stencil/core/internal/client/index.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BUILD\": function() { return /* reexport safe */ _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD; },\n/* harmony export */   \"Build\": function() { return /* binding */ Build; },\n/* harmony export */   \"CSS\": function() { return /* binding */ CSS; },\n/* harmony export */   \"Context\": function() { return /* binding */ Context; },\n/* harmony export */   \"Env\": function() { return /* reexport safe */ _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.Env; },\n/* harmony export */   \"Fragment\": function() { return /* binding */ Fragment; },\n/* harmony export */   \"H\": function() { return /* binding */ H; },\n/* harmony export */   \"HTMLElement\": function() { return /* binding */ H; },\n/* harmony export */   \"Host\": function() { return /* binding */ Host; },\n/* harmony export */   \"NAMESPACE\": function() { return /* reexport safe */ _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.NAMESPACE; },\n/* harmony export */   \"STENCIL_DEV_MODE\": function() { return /* binding */ STENCIL_DEV_MODE; },\n/* harmony export */   \"addHostEventListeners\": function() { return /* binding */ addHostEventListeners; },\n/* harmony export */   \"attachShadow\": function() { return /* binding */ attachShadow; },\n/* harmony export */   \"bootstrapLazy\": function() { return /* binding */ bootstrapLazy; },\n/* harmony export */   \"cmpModules\": function() { return /* binding */ cmpModules; },\n/* harmony export */   \"connectedCallback\": function() { return /* binding */ connectedCallback; },\n/* harmony export */   \"consoleDevError\": function() { return /* binding */ consoleDevError; },\n/* harmony export */   \"consoleDevInfo\": function() { return /* binding */ consoleDevInfo; },\n/* harmony export */   \"consoleDevWarn\": function() { return /* binding */ consoleDevWarn; },\n/* harmony export */   \"consoleError\": function() { return /* binding */ consoleError; },\n/* harmony export */   \"createEvent\": function() { return /* binding */ createEvent; },\n/* harmony export */   \"defineCustomElement\": function() { return /* binding */ defineCustomElement; },\n/* harmony export */   \"disconnectedCallback\": function() { return /* binding */ disconnectedCallback; },\n/* harmony export */   \"doc\": function() { return /* binding */ doc; },\n/* harmony export */   \"forceModeUpdate\": function() { return /* binding */ forceModeUpdate; },\n/* harmony export */   \"forceUpdate\": function() { return /* binding */ forceUpdate; },\n/* harmony export */   \"getAssetPath\": function() { return /* binding */ getAssetPath; },\n/* harmony export */   \"getConnect\": function() { return /* binding */ getConnect; },\n/* harmony export */   \"getContext\": function() { return /* binding */ getContext; },\n/* harmony export */   \"getElement\": function() { return /* binding */ getElement; },\n/* harmony export */   \"getHostRef\": function() { return /* binding */ getHostRef; },\n/* harmony export */   \"getMode\": function() { return /* binding */ getMode; },\n/* harmony export */   \"getRenderingRef\": function() { return /* binding */ getRenderingRef; },\n/* harmony export */   \"getValue\": function() { return /* binding */ getValue; },\n/* harmony export */   \"h\": function() { return /* binding */ h; },\n/* harmony export */   \"insertVdomAnnotations\": function() { return /* binding */ insertVdomAnnotations; },\n/* harmony export */   \"isMemberInElement\": function() { return /* binding */ isMemberInElement; },\n/* harmony export */   \"loadModule\": function() { return /* binding */ loadModule; },\n/* harmony export */   \"modeResolutionChain\": function() { return /* binding */ modeResolutionChain; },\n/* harmony export */   \"nextTick\": function() { return /* binding */ nextTick; },\n/* harmony export */   \"parsePropertyValue\": function() { return /* binding */ parsePropertyValue; },\n/* harmony export */   \"plt\": function() { return /* binding */ plt; },\n/* harmony export */   \"postUpdateComponent\": function() { return /* binding */ postUpdateComponent; },\n/* harmony export */   \"promiseResolve\": function() { return /* binding */ promiseResolve; },\n/* harmony export */   \"proxyComponent\": function() { return /* binding */ proxyComponent; },\n/* harmony export */   \"proxyCustomElement\": function() { return /* binding */ proxyCustomElement; },\n/* harmony export */   \"readTask\": function() { return /* binding */ readTask; },\n/* harmony export */   \"registerHost\": function() { return /* binding */ registerHost; },\n/* harmony export */   \"registerInstance\": function() { return /* binding */ registerInstance; },\n/* harmony export */   \"renderVdom\": function() { return /* binding */ renderVdom; },\n/* harmony export */   \"setAssetPath\": function() { return /* binding */ setAssetPath; },\n/* harmony export */   \"setErrorHandler\": function() { return /* binding */ setErrorHandler; },\n/* harmony export */   \"setMode\": function() { return /* binding */ setMode; },\n/* harmony export */   \"setPlatformOptions\": function() { return /* binding */ setPlatformOptions; },\n/* harmony export */   \"setValue\": function() { return /* binding */ setValue; },\n/* harmony export */   \"styles\": function() { return /* binding */ styles; },\n/* harmony export */   \"supportsConstructibleStylesheets\": function() { return /* binding */ supportsConstructibleStylesheets; },\n/* harmony export */   \"supportsListenerOptions\": function() { return /* binding */ supportsListenerOptions; },\n/* harmony export */   \"supportsShadow\": function() { return /* binding */ supportsShadow; },\n/* harmony export */   \"win\": function() { return /* binding */ win; },\n/* harmony export */   \"writeTask\": function() { return /* binding */ writeTask; }\n/* harmony export */ });\n/* harmony import */ var _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stencil/core/internal/app-data */ \"./node_modules/@stencil/core/internal/app-data/index.js\");\nlet scopeId;\nlet contentRef;\nlet hostTagName;\nlet customError;\nlet i = 0;\nlet useNativeShadowDom = false;\nlet checkSlotFallbackVisibility = false;\nlet checkSlotRelocate = false;\nlet isSvgMode = false;\nlet renderingRef = null;\nlet queueCongestion = 0;\nlet queuePending = false;\n/*\n Stencil Client Platform v2.5.2 | MIT Licensed | https://stenciljs.com\n */\n\nconst win = typeof window !== 'undefined' ? window : {};\nconst CSS = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cssVarShim ? win.CSS : null;\nconst doc = win.document || { head: {} };\nconst H = (win.HTMLElement || class {\n});\nconst plt = {\n    $flags$: 0,\n    $resourcesUrl$: '',\n    jmp: h => h(),\n    raf: h => requestAnimationFrame(h),\n    ael: (el, eventName, listener, opts) => el.addEventListener(eventName, listener, opts),\n    rel: (el, eventName, listener, opts) => el.removeEventListener(eventName, listener, opts),\n    ce: (eventName, opts) => new CustomEvent(eventName, opts),\n};\nconst supportsShadow = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDomShim && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom ? /*@__PURE__*/ (() => (doc.head.attachShadow + '').indexOf('[native') > -1)() : true;\nconst supportsListenerOptions = /*@__PURE__*/ (() => {\n    let supportsListenerOptions = false;\n    try {\n        doc.addEventListener('e', null, Object.defineProperty({}, 'passive', {\n            get() {\n                supportsListenerOptions = true;\n            },\n        }));\n    }\n    catch (e) { }\n    return supportsListenerOptions;\n})();\nconst promiseResolve = (v) => Promise.resolve(v);\nconst supportsConstructibleStylesheets = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.constructableCSS\n    ? /*@__PURE__*/ (() => {\n        try {\n            new CSSStyleSheet();\n            return typeof (new CSSStyleSheet()).replace === 'function';\n        }\n        catch (e) { }\n        return false;\n    })()\n    : false;\nconst Context = {};\nconst addHostEventListeners = (elm, hostRef, listeners, attachParentListeners) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListener && listeners) {\n        // this is called immediately within the element's constructor\n        // initialize our event listeners on the host element\n        // we do this now so that we can listen to events that may\n        // have fired even before the instance is ready\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListenerTargetParent) {\n            // this component may have event listeners that should be attached to the parent\n            if (attachParentListeners) {\n                // this is being ran from within the connectedCallback\n                // which is important so that we know the host element actually has a parent element\n                // filter out the listeners to only have the ones that ARE being attached to the parent\n                listeners = listeners.filter(([flags]) => flags & 32 /* TargetParent */);\n            }\n            else {\n                // this is being ran from within the component constructor\n                // everything BUT the parent element listeners should be attached at this time\n                // filter out the listeners that are NOT being attached to the parent\n                listeners = listeners.filter(([flags]) => !(flags & 32 /* TargetParent */));\n            }\n        }\n        listeners.map(([flags, name, method]) => {\n            const target = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListenerTarget ? getHostListenerTarget(elm, flags) : elm;\n            const handler = hostListenerProxy(hostRef, method);\n            const opts = hostListenerOpts(flags);\n            plt.ael(target, name, handler, opts);\n            (hostRef.$rmListeners$ = hostRef.$rmListeners$ || []).push(() => plt.rel(target, name, handler, opts));\n        });\n    }\n};\nconst hostListenerProxy = (hostRef, methodName) => (ev) => {\n    try {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad) {\n            if (hostRef.$flags$ & 256 /* isListenReady */) {\n                // instance is ready, let's call it's member method for this event\n                hostRef.$lazyInstance$[methodName](ev);\n            }\n            else {\n                (hostRef.$queuedListeners$ = hostRef.$queuedListeners$ || []).push([methodName, ev]);\n            }\n        }\n        else {\n            hostRef.$hostElement$[methodName](ev);\n        }\n    }\n    catch (e) {\n        consoleError(e);\n    }\n};\nconst getHostListenerTarget = (elm, flags) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListenerTargetDocument && flags & 4 /* TargetDocument */)\n        return doc;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListenerTargetWindow && flags & 8 /* TargetWindow */)\n        return win;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListenerTargetBody && flags & 16 /* TargetBody */)\n        return doc.body;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListenerTargetParent && flags & 32 /* TargetParent */)\n        return elm.parentElement;\n    return elm;\n};\n// prettier-ignore\nconst hostListenerOpts = (flags) => supportsListenerOptions\n    ? ({\n        passive: (flags & 1 /* Passive */) !== 0,\n        capture: (flags & 2 /* Capture */) !== 0,\n    })\n    : (flags & 2 /* Capture */) !== 0;\nconst CONTENT_REF_ID = 'r';\nconst ORG_LOCATION_ID = 'o';\nconst SLOT_NODE_ID = 's';\nconst TEXT_NODE_ID = 't';\nconst HYDRATE_ID = 's-id';\nconst HYDRATED_STYLE_ID = 'sty-id';\nconst HYDRATE_CHILD_ID = 'c-id';\nconst HYDRATED_CSS = '{visibility:hidden}.hydrated{visibility:inherit}';\nconst XLINK_NS = 'http://www.w3.org/1999/xlink';\nconst createTime = (fnName, tagName = '') => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.profile && performance.mark) {\n        const key = `st:${fnName}:${tagName}:${i++}`;\n        // Start\n        performance.mark(key);\n        // End\n        return () => performance.measure(`[Stencil] ${fnName}() <${tagName}>`, key);\n    }\n    else {\n        return () => {\n            return;\n        };\n    }\n};\nconst uniqueTime = (key, measureText) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.profile && performance.mark) {\n        if (performance.getEntriesByName(key).length === 0) {\n            performance.mark(key);\n        }\n        return () => {\n            if (performance.getEntriesByName(measureText).length === 0) {\n                performance.measure(measureText, key);\n            }\n        };\n    }\n    else {\n        return () => {\n            return;\n        };\n    }\n};\nconst inspect = (ref) => {\n    const hostRef = getHostRef(ref);\n    if (!hostRef) {\n        return undefined;\n    }\n    const flags = hostRef.$flags$;\n    const hostElement = hostRef.$hostElement$;\n    return {\n        renderCount: hostRef.$renderCount$,\n        flags: {\n            hasRendered: !!(flags & 2 /* hasRendered */),\n            hasConnected: !!(flags & 1 /* hasConnected */),\n            isWaitingForChildren: !!(flags & 4 /* isWaitingForChildren */),\n            isConstructingInstance: !!(flags & 8 /* isConstructingInstance */),\n            isQueuedForUpdate: !!(flags & 16 /* isQueuedForUpdate */),\n            hasInitializedComponent: !!(flags & 32 /* hasInitializedComponent */),\n            hasLoadedComponent: !!(flags & 64 /* hasLoadedComponent */),\n            isWatchReady: !!(flags & 128 /* isWatchReady */),\n            isListenReady: !!(flags & 256 /* isListenReady */),\n            needsRerender: !!(flags & 512 /* needsRerender */),\n        },\n        instanceValues: hostRef.$instanceValues$,\n        ancestorComponent: hostRef.$ancestorComponent$,\n        hostElement,\n        lazyInstance: hostRef.$lazyInstance$,\n        vnode: hostRef.$vnode$,\n        modeName: hostRef.$modeName$,\n        onReadyPromise: hostRef.$onReadyPromise$,\n        onReadyResolve: hostRef.$onReadyResolve$,\n        onInstancePromise: hostRef.$onInstancePromise$,\n        onInstanceResolve: hostRef.$onInstanceResolve$,\n        onRenderResolve: hostRef.$onRenderResolve$,\n        queuedListeners: hostRef.$queuedListeners$,\n        rmListeners: hostRef.$rmListeners$,\n        ['s-id']: hostElement['s-id'],\n        ['s-cr']: hostElement['s-cr'],\n        ['s-lr']: hostElement['s-lr'],\n        ['s-p']: hostElement['s-p'],\n        ['s-rc']: hostElement['s-rc'],\n        ['s-sc']: hostElement['s-sc'],\n    };\n};\nconst installDevTools = () => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.devTools) {\n        const stencil = (win.stencil = win.stencil || {});\n        const originalInspect = stencil.inspect;\n        stencil.inspect = (ref) => {\n            let result = inspect(ref);\n            if (!result && typeof originalInspect === 'function') {\n                result = originalInspect(ref);\n            }\n            return result;\n        };\n    }\n};\nconst rootAppliedStyles = new WeakMap();\nconst registerStyle = (scopeId, cssText, allowCS) => {\n    let style = styles.get(scopeId);\n    if (supportsConstructibleStylesheets && allowCS) {\n        style = (style || new CSSStyleSheet());\n        style.replace(cssText);\n    }\n    else {\n        style = cssText;\n    }\n    styles.set(scopeId, style);\n};\nconst addStyle = (styleContainerNode, cmpMeta, mode, hostElm) => {\n    let scopeId = getScopeId(cmpMeta, mode);\n    let style = styles.get(scopeId);\n    if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.attachStyles) {\n        return scopeId;\n    }\n    // if an element is NOT connected then getRootNode() will return the wrong root node\n    // so the fallback is to always use the document for the root node in those cases\n    styleContainerNode = styleContainerNode.nodeType === 11 /* DocumentFragment */ ? styleContainerNode : doc;\n    if (style) {\n        if (typeof style === 'string') {\n            styleContainerNode = styleContainerNode.head || styleContainerNode;\n            let appliedStyles = rootAppliedStyles.get(styleContainerNode);\n            let styleElm;\n            if (!appliedStyles) {\n                rootAppliedStyles.set(styleContainerNode, (appliedStyles = new Set()));\n            }\n            if (!appliedStyles.has(scopeId)) {\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateClientSide && styleContainerNode.host && (styleElm = styleContainerNode.querySelector(`[${HYDRATED_STYLE_ID}=\"${scopeId}\"]`))) {\n                    // This is only happening on native shadow-dom, do not needs CSS var shim\n                    styleElm.innerHTML = style;\n                }\n                else {\n                    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cssVarShim && plt.$cssShim$) {\n                        styleElm = plt.$cssShim$.createHostStyle(hostElm, scopeId, style, !!(cmpMeta.$flags$ & 10 /* needsScopedEncapsulation */));\n                        const newScopeId = styleElm['s-sc'];\n                        if (newScopeId) {\n                            scopeId = newScopeId;\n                            // we don't want to add this styleID to the appliedStyles Set\n                            // since the cssVarShim might need to apply several different\n                            // stylesheets for the same component\n                            appliedStyles = null;\n                        }\n                    }\n                    else {\n                        styleElm = doc.createElement('style');\n                        styleElm.innerHTML = style;\n                    }\n                    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hotModuleReplacement) {\n                        styleElm.setAttribute(HYDRATED_STYLE_ID, scopeId);\n                    }\n                    styleContainerNode.insertBefore(styleElm, styleContainerNode.querySelector('link'));\n                }\n                if (appliedStyles) {\n                    appliedStyles.add(scopeId);\n                }\n            }\n        }\n        else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.constructableCSS && !styleContainerNode.adoptedStyleSheets.includes(style)) {\n            styleContainerNode.adoptedStyleSheets = [...styleContainerNode.adoptedStyleSheets, style];\n        }\n    }\n    return scopeId;\n};\nconst attachStyles = (hostRef) => {\n    const cmpMeta = hostRef.$cmpMeta$;\n    const elm = hostRef.$hostElement$;\n    const flags = cmpMeta.$flags$;\n    const endAttachStyles = createTime('attachStyles', cmpMeta.$tagName$);\n    const scopeId = addStyle(_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && supportsShadow && elm.shadowRoot ? elm.shadowRoot : elm.getRootNode(), cmpMeta, hostRef.$modeName$, elm);\n    if ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.scoped) && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cssAnnotations && flags & 10 /* needsScopedEncapsulation */) {\n        // only required when we're NOT using native shadow dom (slot)\n        // or this browser doesn't support native shadow dom\n        // and this host element was NOT created with SSR\n        // let's pick out the inner content for slot projection\n        // create a node to represent where the original\n        // content was first placed, which is useful later on\n        // DOM WRITE!!\n        elm['s-sc'] = scopeId;\n        elm.classList.add(scopeId + '-h');\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.scoped && flags & 2 /* scopedCssEncapsulation */) {\n            elm.classList.add(scopeId + '-s');\n        }\n    }\n    endAttachStyles();\n};\nconst getScopeId = (cmp, mode) => 'sc-' + (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.mode && mode && cmp.$flags$ & 32 /* hasMode */ ? cmp.$tagName$ + '-' + mode : cmp.$tagName$);\nconst convertScopedToShadow = (css) => css.replace(/\\/\\*!@([^\\/]+)\\*\\/[^\\{]+\\{/g, '$1{');\n// Private\nconst computeMode = (elm) => modeResolutionChain.map(h => h(elm)).find(m => !!m);\n// Public\nconst setMode = (handler) => modeResolutionChain.push(handler);\nconst getMode = (ref) => getHostRef(ref).$modeName$;\n/**\n * Default style mode id\n */\n/**\n * Reusable empty obj/array\n * Don't add values to these!!\n */\nconst EMPTY_OBJ = {};\n/**\n * Namespaces\n */\nconst SVG_NS = 'http://www.w3.org/2000/svg';\nconst HTML_NS = 'http://www.w3.org/1999/xhtml';\nconst isDef = (v) => v != null;\nconst isComplexType = (o) => {\n    // https://jsperf.com/typeof-fn-object/5\n    o = typeof o;\n    return o === 'object' || o === 'function';\n};\n/**\n * Production h() function based on Preact by\n * Jason Miller (@developit)\n * Licensed under the MIT License\n * https://github.com/developit/preact/blob/master/LICENSE\n *\n * Modified for Stencil's compiler and vdom\n */\n// const stack: any[] = [];\n// export function h(nodeName: string | d.FunctionalComponent, vnodeData: d.PropsType, child?: d.ChildType): d.VNode;\n// export function h(nodeName: string | d.FunctionalComponent, vnodeData: d.PropsType, ...children: d.ChildType[]): d.VNode;\nconst h = (nodeName, vnodeData, ...children) => {\n    let child = null;\n    let key = null;\n    let slotName = null;\n    let simple = false;\n    let lastSimple = false;\n    let vNodeChildren = [];\n    const walk = (c) => {\n        for (let i = 0; i < c.length; i++) {\n            child = c[i];\n            if (Array.isArray(child)) {\n                walk(child);\n            }\n            else if (child != null && typeof child !== 'boolean') {\n                if ((simple = typeof nodeName !== 'function' && !isComplexType(child))) {\n                    child = String(child);\n                }\n                else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev && typeof nodeName !== 'function' && child.$flags$ === undefined) {\n                    consoleDevError(`vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects.`);\n                }\n                if (simple && lastSimple) {\n                    // If the previous child was simple (string), we merge both\n                    vNodeChildren[vNodeChildren.length - 1].$text$ += child;\n                }\n                else {\n                    // Append a new vNode, if it's text, we create a text vNode\n                    vNodeChildren.push(simple ? newVNode(null, child) : child);\n                }\n                lastSimple = simple;\n            }\n        }\n    };\n    walk(children);\n    if (vnodeData) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev && nodeName === 'input') {\n            validateInputProperties(vnodeData);\n        }\n        // normalize class / classname attributes\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomKey && vnodeData.key) {\n            key = vnodeData.key;\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && vnodeData.name) {\n            slotName = vnodeData.name;\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomClass) {\n            const classData = vnodeData.className || vnodeData.class;\n            if (classData) {\n                vnodeData.class =\n                    typeof classData !== 'object'\n                        ? classData\n                        : Object.keys(classData)\n                            .filter(k => classData[k])\n                            .join(' ');\n            }\n        }\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev && vNodeChildren.some(isHost)) {\n        consoleDevError(`The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function.`);\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomFunctional && typeof nodeName === 'function') {\n        // nodeName is a functional component\n        return nodeName(vnodeData === null ? {} : vnodeData, vNodeChildren, vdomFnUtils);\n    }\n    const vnode = newVNode(nodeName, null);\n    vnode.$attrs$ = vnodeData;\n    if (vNodeChildren.length > 0) {\n        vnode.$children$ = vNodeChildren;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomKey) {\n        vnode.$key$ = key;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n        vnode.$name$ = slotName;\n    }\n    return vnode;\n};\nconst newVNode = (tag, text) => {\n    const vnode = {\n        $flags$: 0,\n        $tag$: tag,\n        $text$: text,\n        $elm$: null,\n        $children$: null,\n    };\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomAttribute) {\n        vnode.$attrs$ = null;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomKey) {\n        vnode.$key$ = null;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n        vnode.$name$ = null;\n    }\n    return vnode;\n};\nconst Host = {};\nconst isHost = (node) => node && node.$tag$ === Host;\nconst vdomFnUtils = {\n    forEach: (children, cb) => children.map(convertToPublic).forEach(cb),\n    map: (children, cb) => children.map(convertToPublic).map(cb).map(convertToPrivate),\n};\nconst convertToPublic = (node) => ({\n    vattrs: node.$attrs$,\n    vchildren: node.$children$,\n    vkey: node.$key$,\n    vname: node.$name$,\n    vtag: node.$tag$,\n    vtext: node.$text$,\n});\nconst convertToPrivate = (node) => {\n    if (typeof node.vtag === 'function') {\n        const vnodeData = Object.assign({}, node.vattrs);\n        if (node.vkey) {\n            vnodeData.key = node.vkey;\n        }\n        if (node.vname) {\n            vnodeData.name = node.vname;\n        }\n        return h(node.vtag, vnodeData, ...(node.vchildren || []));\n    }\n    const vnode = newVNode(node.vtag, node.vtext);\n    vnode.$attrs$ = node.vattrs;\n    vnode.$children$ = node.vchildren;\n    vnode.$key$ = node.vkey;\n    vnode.$name$ = node.vname;\n    return vnode;\n};\nconst validateInputProperties = (vnodeData) => {\n    const props = Object.keys(vnodeData);\n    const typeIndex = props.indexOf('type');\n    const minIndex = props.indexOf('min');\n    const maxIndex = props.indexOf('max');\n    const stepIndex = props.indexOf('min');\n    const value = props.indexOf('value');\n    if (value === -1) {\n        return;\n    }\n    if (value < typeIndex || value < minIndex || value < maxIndex || value < stepIndex) {\n        consoleDevWarn(`The \"value\" prop of <input> should be set after \"min\", \"max\", \"type\" and \"step\"`);\n    }\n};\n/**\n * Production setAccessor() function based on Preact by\n * Jason Miller (@developit)\n * Licensed under the MIT License\n * https://github.com/developit/preact/blob/master/LICENSE\n *\n * Modified for Stencil's compiler and vdom\n */\nconst setAccessor = (elm, memberName, oldValue, newValue, isSvg, flags) => {\n    if (oldValue !== newValue) {\n        let isProp = isMemberInElement(elm, memberName);\n        let ln = memberName.toLowerCase();\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomClass && memberName === 'class') {\n            const classList = elm.classList;\n            const oldClasses = parseClassList(oldValue);\n            const newClasses = parseClassList(newValue);\n            classList.remove(...oldClasses.filter(c => c && !newClasses.includes(c)));\n            classList.add(...newClasses.filter(c => c && !oldClasses.includes(c)));\n        }\n        else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomStyle && memberName === 'style') {\n            // update style attribute, css properties and values\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable) {\n                for (const prop in oldValue) {\n                    if (!newValue || newValue[prop] == null) {\n                        if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide && prop.includes('-')) {\n                            elm.style.removeProperty(prop);\n                        }\n                        else {\n                            elm.style[prop] = '';\n                        }\n                    }\n                }\n            }\n            for (const prop in newValue) {\n                if (!oldValue || newValue[prop] !== oldValue[prop]) {\n                    if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide && prop.includes('-')) {\n                        elm.style.setProperty(prop, newValue[prop]);\n                    }\n                    else {\n                        elm.style[prop] = newValue[prop];\n                    }\n                }\n            }\n        }\n        else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomKey && memberName === 'key')\n            ;\n        else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomRef && memberName === 'ref') {\n            // minifier will clean this up\n            if (newValue) {\n                newValue(elm);\n            }\n        }\n        else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomListener && (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? !isProp : !elm.__lookupSetter__(memberName)) && memberName[0] === 'o' && memberName[1] === 'n') {\n            // Event Handlers\n            // so if the member name starts with \"on\" and the 3rd characters is\n            // a capital letter, and it's not already a member on the element,\n            // then we're assuming it's an event listener\n            if (memberName[2] === '-') {\n                // on- prefixed events\n                // allows to be explicit about the dom event to listen without any magic\n                // under the hood:\n                // <my-cmp on-click> // listens for \"click\"\n                // <my-cmp on-Click> // listens for \"Click\"\n                // <my-cmp on-ionChange> // listens for \"ionChange\"\n                // <my-cmp on-EVENTS> // listens for \"EVENTS\"\n                memberName = memberName.slice(3);\n            }\n            else if (isMemberInElement(win, ln)) {\n                // standard event\n                // the JSX attribute could have been \"onMouseOver\" and the\n                // member name \"onmouseover\" is on the window's prototype\n                // so let's add the listener \"mouseover\", which is all lowercased\n                memberName = ln.slice(2);\n            }\n            else {\n                // custom event\n                // the JSX attribute could have been \"onMyCustomEvent\"\n                // so let's trim off the \"on\" prefix and lowercase the first character\n                // and add the listener \"myCustomEvent\"\n                // except for the first character, we keep the event name case\n                memberName = ln[2] + memberName.slice(3);\n            }\n            if (oldValue) {\n                plt.rel(elm, memberName, oldValue, false);\n            }\n            if (newValue) {\n                plt.ael(elm, memberName, newValue, false);\n            }\n        }\n        else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomPropOrAttr) {\n            // Set property if it exists and it's not a SVG\n            const isComplex = isComplexType(newValue);\n            if ((isProp || (isComplex && newValue !== null)) && !isSvg) {\n                try {\n                    if (!elm.tagName.includes('-')) {\n                        let n = newValue == null ? '' : newValue;\n                        // Workaround for Safari, moving the <input> caret when re-assigning the same valued\n                        if (memberName === 'list') {\n                            isProp = false;\n                            // tslint:disable-next-line: triple-equals\n                        }\n                        else if (oldValue == null || elm[memberName] != n) {\n                            elm[memberName] = n;\n                        }\n                    }\n                    else {\n                        elm[memberName] = newValue;\n                    }\n                }\n                catch (e) { }\n            }\n            /**\n             * Need to manually update attribute if:\n             * - memberName is not an attribute\n             * - if we are rendering the host element in order to reflect attribute\n             * - if it's a SVG, since properties might not work in <svg>\n             * - if the newValue is null/undefined or 'false'.\n             */\n            let xlink = false;\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomXlink) {\n                if (ln !== (ln = ln.replace(/^xlink\\:?/, ''))) {\n                    memberName = ln;\n                    xlink = true;\n                }\n            }\n            if (newValue == null || newValue === false) {\n                if (newValue !== false || elm.getAttribute(memberName) === '') {\n                    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomXlink && xlink) {\n                        elm.removeAttributeNS(XLINK_NS, memberName);\n                    }\n                    else {\n                        elm.removeAttribute(memberName);\n                    }\n                }\n            }\n            else if ((!isProp || flags & 4 /* isHost */ || isSvg) && !isComplex) {\n                newValue = newValue === true ? '' : newValue;\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomXlink && xlink) {\n                    elm.setAttributeNS(XLINK_NS, memberName, newValue);\n                }\n                else {\n                    elm.setAttribute(memberName, newValue);\n                }\n            }\n        }\n    }\n};\nconst parseClassListRegex = /\\s/;\nconst parseClassList = (value) => (!value ? [] : value.split(parseClassListRegex));\nconst updateElement = (oldVnode, newVnode, isSvgMode, memberName) => {\n    // if the element passed in is a shadow root, which is a document fragment\n    // then we want to be adding attrs/props to the shadow root's \"host\" element\n    // if it's not a shadow root, then we add attrs/props to the same element\n    const elm = newVnode.$elm$.nodeType === 11 /* DocumentFragment */ && newVnode.$elm$.host ? newVnode.$elm$.host : newVnode.$elm$;\n    const oldVnodeAttrs = (oldVnode && oldVnode.$attrs$) || EMPTY_OBJ;\n    const newVnodeAttrs = newVnode.$attrs$ || EMPTY_OBJ;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable) {\n        // remove attributes no longer present on the vnode by setting them to undefined\n        for (memberName in oldVnodeAttrs) {\n            if (!(memberName in newVnodeAttrs)) {\n                setAccessor(elm, memberName, oldVnodeAttrs[memberName], undefined, isSvgMode, newVnode.$flags$);\n            }\n        }\n    }\n    // add new & update changed attributes\n    for (memberName in newVnodeAttrs) {\n        setAccessor(elm, memberName, oldVnodeAttrs[memberName], newVnodeAttrs[memberName], isSvgMode, newVnode.$flags$);\n    }\n};\nconst createElm = (oldParentVNode, newParentVNode, childIndex, parentElm) => {\n    // tslint:disable-next-line: prefer-const\n    let newVNode = newParentVNode.$children$[childIndex];\n    let i = 0;\n    let elm;\n    let childNode;\n    let oldVNode;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && !useNativeShadowDom) {\n        // remember for later we need to check to relocate nodes\n        checkSlotRelocate = true;\n        if (newVNode.$tag$ === 'slot') {\n            if (scopeId) {\n                // scoped css needs to add its scoped id to the parent element\n                parentElm.classList.add(scopeId + '-s');\n            }\n            newVNode.$flags$ |= newVNode.$children$\n                ? // slot element has fallback content\n                    2 /* isSlotFallback */\n                : // slot element does not have fallback content\n                    1 /* isSlotReference */;\n        }\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev && newVNode.$elm$) {\n        consoleDevError(`The JSX ${newVNode.$text$ !== null ? `\"${newVNode.$text$}\" text` : `\"${newVNode.$tag$}\" element`} node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes`);\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomText && newVNode.$text$ !== null) {\n        // create text node\n        elm = newVNode.$elm$ = doc.createTextNode(newVNode.$text$);\n    }\n    else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && newVNode.$flags$ & 1 /* isSlotReference */) {\n        // create a slot reference node\n        elm = newVNode.$elm$ = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDebug || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide ? slotReferenceDebugNode(newVNode) : doc.createTextNode('');\n    }\n    else {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.svg && !isSvgMode) {\n            isSvgMode = newVNode.$tag$ === 'svg';\n        }\n        // create element\n        elm = newVNode.$elm$ = (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.svg\n            ? doc.createElementNS(isSvgMode ? SVG_NS : HTML_NS, _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && newVNode.$flags$ & 2 /* isSlotFallback */ ? 'slot-fb' : newVNode.$tag$)\n            : doc.createElement(_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && newVNode.$flags$ & 2 /* isSlotFallback */ ? 'slot-fb' : newVNode.$tag$));\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.svg && isSvgMode && newVNode.$tag$ === 'foreignObject') {\n            isSvgMode = false;\n        }\n        // add css classes, attrs, props, listeners, etc.\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomAttribute) {\n            updateElement(null, newVNode, isSvgMode);\n        }\n        if ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.scoped) && isDef(scopeId) && elm['s-si'] !== scopeId) {\n            // if there is a scopeId and this is the initial render\n            // then let's add the scopeId as a css class\n            elm.classList.add((elm['s-si'] = scopeId));\n        }\n        if (newVNode.$children$) {\n            for (i = 0; i < newVNode.$children$.length; ++i) {\n                // create the node\n                childNode = createElm(oldParentVNode, newVNode, i, elm);\n                // return node could have been null\n                if (childNode) {\n                    // append our new node\n                    elm.appendChild(childNode);\n                }\n            }\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.svg) {\n            if (newVNode.$tag$ === 'svg') {\n                // Only reset the SVG context when we're exiting <svg> element\n                isSvgMode = false;\n            }\n            else if (elm.tagName === 'foreignObject') {\n                // Reenter SVG context when we're exiting <foreignObject> element\n                isSvgMode = true;\n            }\n        }\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n        elm['s-hn'] = hostTagName;\n        if (newVNode.$flags$ & (2 /* isSlotFallback */ | 1 /* isSlotReference */)) {\n            // remember the content reference comment\n            elm['s-sr'] = true;\n            // remember the content reference comment\n            elm['s-cr'] = contentRef;\n            // remember the slot name, or empty string for default slot\n            elm['s-sn'] = newVNode.$name$ || '';\n            // check if we've got an old vnode for this slot\n            oldVNode = oldParentVNode && oldParentVNode.$children$ && oldParentVNode.$children$[childIndex];\n            if (oldVNode && oldVNode.$tag$ === newVNode.$tag$ && oldParentVNode.$elm$) {\n                // we've got an old slot vnode and the wrapper is being replaced\n                // so let's move the old slot content back to it's original location\n                putBackInOriginalLocation(oldParentVNode.$elm$, false);\n            }\n        }\n    }\n    return elm;\n};\nconst putBackInOriginalLocation = (parentElm, recursive) => {\n    plt.$flags$ |= 1 /* isTmpDisconnected */;\n    const oldSlotChildNodes = parentElm.childNodes;\n    for (let i = oldSlotChildNodes.length - 1; i >= 0; i--) {\n        const childNode = oldSlotChildNodes[i];\n        if (childNode['s-hn'] !== hostTagName && childNode['s-ol']) {\n            // // this child node in the old element is from another component\n            // // remove this node from the old slot's parent\n            // childNode.remove();\n            // and relocate it back to it's original location\n            parentReferenceNode(childNode).insertBefore(childNode, referenceNode(childNode));\n            // remove the old original location comment entirely\n            // later on the patch function will know what to do\n            // and move this to the correct spot in need be\n            childNode['s-ol'].remove();\n            childNode['s-ol'] = undefined;\n            checkSlotRelocate = true;\n        }\n        if (recursive) {\n            putBackInOriginalLocation(childNode, recursive);\n        }\n    }\n    plt.$flags$ &= ~1 /* isTmpDisconnected */;\n};\nconst addVnodes = (parentElm, before, parentVNode, vnodes, startIdx, endIdx) => {\n    let containerElm = ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && parentElm['s-cr'] && parentElm['s-cr'].parentNode) || parentElm);\n    let childNode;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && containerElm.shadowRoot && containerElm.tagName === hostTagName) {\n        containerElm = containerElm.shadowRoot;\n    }\n    for (; startIdx <= endIdx; ++startIdx) {\n        if (vnodes[startIdx]) {\n            childNode = createElm(null, parentVNode, startIdx, parentElm);\n            if (childNode) {\n                vnodes[startIdx].$elm$ = childNode;\n                containerElm.insertBefore(childNode, _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation ? referenceNode(before) : before);\n            }\n        }\n    }\n};\nconst removeVnodes = (vnodes, startIdx, endIdx, vnode, elm) => {\n    for (; startIdx <= endIdx; ++startIdx) {\n        if ((vnode = vnodes[startIdx])) {\n            elm = vnode.$elm$;\n            callNodeRefs(vnode);\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n                // we're removing this element\n                // so it's possible we need to show slot fallback content now\n                checkSlotFallbackVisibility = true;\n                if (elm['s-ol']) {\n                    // remove the original location comment\n                    elm['s-ol'].remove();\n                }\n                else {\n                    // it's possible that child nodes of the node\n                    // that's being removed are slot nodes\n                    putBackInOriginalLocation(elm, true);\n                }\n            }\n            // remove the vnode's element from the dom\n            elm.remove();\n        }\n    }\n};\nconst updateChildren = (parentElm, oldCh, newVNode, newCh) => {\n    let oldStartIdx = 0;\n    let newStartIdx = 0;\n    let idxInOld = 0;\n    let i = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let node;\n    let elmToMove;\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            // Vnode might have been moved left\n            oldStartVnode = oldCh[++oldStartIdx];\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldStartVnode, newStartVnode)) {\n            patch(oldStartVnode, newStartVnode);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (isSameVnode(oldEndVnode, newEndVnode)) {\n            patch(oldEndVnode, newEndVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldStartVnode, newEndVnode)) {\n            // Vnode moved right\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && (oldStartVnode.$tag$ === 'slot' || newEndVnode.$tag$ === 'slot')) {\n                putBackInOriginalLocation(oldStartVnode.$elm$.parentNode, false);\n            }\n            patch(oldStartVnode, newEndVnode);\n            parentElm.insertBefore(oldStartVnode.$elm$, oldEndVnode.$elm$.nextSibling);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (isSameVnode(oldEndVnode, newStartVnode)) {\n            // Vnode moved left\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && (oldStartVnode.$tag$ === 'slot' || newEndVnode.$tag$ === 'slot')) {\n                putBackInOriginalLocation(oldEndVnode.$elm$.parentNode, false);\n            }\n            patch(oldEndVnode, newStartVnode);\n            parentElm.insertBefore(oldEndVnode.$elm$, oldStartVnode.$elm$);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            // createKeyToOldIdx\n            idxInOld = -1;\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomKey) {\n                for (i = oldStartIdx; i <= oldEndIdx; ++i) {\n                    if (oldCh[i] && oldCh[i].$key$ !== null && oldCh[i].$key$ === newStartVnode.$key$) {\n                        idxInOld = i;\n                        break;\n                    }\n                }\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomKey && idxInOld >= 0) {\n                elmToMove = oldCh[idxInOld];\n                if (elmToMove.$tag$ !== newStartVnode.$tag$) {\n                    node = createElm(oldCh && oldCh[newStartIdx], newVNode, idxInOld, parentElm);\n                }\n                else {\n                    patch(elmToMove, newStartVnode);\n                    oldCh[idxInOld] = undefined;\n                    node = elmToMove.$elm$;\n                }\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else {\n                // new element\n                node = createElm(oldCh && oldCh[newStartIdx], newVNode, newStartIdx, parentElm);\n                newStartVnode = newCh[++newStartIdx];\n            }\n            if (node) {\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n                    parentReferenceNode(oldStartVnode.$elm$).insertBefore(node, referenceNode(oldStartVnode.$elm$));\n                }\n                else {\n                    oldStartVnode.$elm$.parentNode.insertBefore(node, oldStartVnode.$elm$);\n                }\n            }\n        }\n    }\n    if (oldStartIdx > oldEndIdx) {\n        addVnodes(parentElm, newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].$elm$, newVNode, newCh, newStartIdx, newEndIdx);\n    }\n    else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable && newStartIdx > newEndIdx) {\n        removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n    }\n};\nconst isSameVnode = (vnode1, vnode2) => {\n    // compare if two vnode to see if they're \"technically\" the same\n    // need to have the same element tag, and same key to be the same\n    if (vnode1.$tag$ === vnode2.$tag$) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && vnode1.$tag$ === 'slot') {\n            return vnode1.$name$ === vnode2.$name$;\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomKey) {\n            return vnode1.$key$ === vnode2.$key$;\n        }\n        return true;\n    }\n    return false;\n};\nconst referenceNode = (node) => {\n    // this node was relocated to a new location in the dom\n    // because of some other component's slot\n    // but we still have an html comment in place of where\n    // it's original location was according to it's original vdom\n    return (node && node['s-ol']) || node;\n};\nconst parentReferenceNode = (node) => (node['s-ol'] ? node['s-ol'] : node).parentNode;\nconst patch = (oldVNode, newVNode) => {\n    const elm = (newVNode.$elm$ = oldVNode.$elm$);\n    const oldChildren = oldVNode.$children$;\n    const newChildren = newVNode.$children$;\n    const tag = newVNode.$tag$;\n    const text = newVNode.$text$;\n    let defaultHolder;\n    if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomText || text === null) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.svg) {\n            // test if we're rendering an svg element, or still rendering nodes inside of one\n            // only add this to the when the compiler sees we're using an svg somewhere\n            isSvgMode = tag === 'svg' ? true : tag === 'foreignObject' ? false : isSvgMode;\n        }\n        // element node\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomAttribute || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.reflect) {\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slot && tag === 'slot')\n                ;\n            else {\n                // either this is the first render of an element OR it's an update\n                // AND we already know it's possible it could have changed\n                // this updates the element's css classes, attrs, props, listeners, etc.\n                updateElement(oldVNode, newVNode, isSvgMode);\n            }\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable && oldChildren !== null && newChildren !== null) {\n            // looks like there's child vnodes for both the old and new vnodes\n            updateChildren(elm, oldChildren, newVNode, newChildren);\n        }\n        else if (newChildren !== null) {\n            // no old child vnodes, but there are new child vnodes to add\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomText && oldVNode.$text$ !== null) {\n                // the old vnode was text, so be sure to clear it out\n                elm.textContent = '';\n            }\n            // add the new vnode children\n            addVnodes(elm, null, newVNode, newChildren, 0, newChildren.length - 1);\n        }\n        else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable && oldChildren !== null) {\n            // no new child vnodes, but there are old child vnodes to remove\n            removeVnodes(oldChildren, 0, oldChildren.length - 1);\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.svg && isSvgMode && tag === 'svg') {\n            isSvgMode = false;\n        }\n    }\n    else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomText && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && (defaultHolder = elm['s-cr'])) {\n        // this element has slotted content\n        defaultHolder.parentNode.textContent = text;\n    }\n    else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomText && oldVNode.$text$ !== text) {\n        // update the text content for the text only vnode\n        // and also only if the text is different than before\n        elm.data = text;\n    }\n};\nconst updateFallbackSlotVisibility = (elm) => {\n    // tslint:disable-next-line: prefer-const\n    let childNodes = elm.childNodes;\n    let childNode;\n    let i;\n    let ilen;\n    let j;\n    let slotNameAttr;\n    let nodeType;\n    for (i = 0, ilen = childNodes.length; i < ilen; i++) {\n        childNode = childNodes[i];\n        if (childNode.nodeType === 1 /* ElementNode */) {\n            if (childNode['s-sr']) {\n                // this is a slot fallback node\n                // get the slot name for this slot reference node\n                slotNameAttr = childNode['s-sn'];\n                // by default always show a fallback slot node\n                // then hide it if there are other slots in the light dom\n                childNode.hidden = false;\n                for (j = 0; j < ilen; j++) {\n                    nodeType = childNodes[j].nodeType;\n                    if (childNodes[j]['s-hn'] !== childNode['s-hn'] || slotNameAttr !== '') {\n                        // this sibling node is from a different component OR is a named fallback slot node\n                        if (nodeType === 1 /* ElementNode */ && slotNameAttr === childNodes[j].getAttribute('slot')) {\n                            childNode.hidden = true;\n                            break;\n                        }\n                    }\n                    else {\n                        // this is a default fallback slot node\n                        // any element or text node (with content)\n                        // should hide the default fallback slot node\n                        if (nodeType === 1 /* ElementNode */ ||\n                            (nodeType === 3 /* TextNode */ && childNodes[j].textContent.trim() !== '')) {\n                            childNode.hidden = true;\n                            break;\n                        }\n                    }\n                }\n            }\n            // keep drilling down\n            updateFallbackSlotVisibility(childNode);\n        }\n    }\n};\nconst relocateNodes = [];\nconst relocateSlotContent = (elm) => {\n    // tslint:disable-next-line: prefer-const\n    let childNode;\n    let node;\n    let hostContentNodes;\n    let slotNameAttr;\n    let relocateNodeData;\n    let j;\n    let i = 0;\n    let childNodes = elm.childNodes;\n    let ilen = childNodes.length;\n    for (; i < ilen; i++) {\n        childNode = childNodes[i];\n        if (childNode['s-sr'] && (node = childNode['s-cr']) && node.parentNode) {\n            // first got the content reference comment node\n            // then we got it's parent, which is where all the host content is in now\n            hostContentNodes = node.parentNode.childNodes;\n            slotNameAttr = childNode['s-sn'];\n            for (j = hostContentNodes.length - 1; j >= 0; j--) {\n                node = hostContentNodes[j];\n                if (!node['s-cn'] && !node['s-nr'] && node['s-hn'] !== childNode['s-hn']) {\n                    // let's do some relocating to its new home\n                    // but never relocate a content reference node\n                    // that is suppose to always represent the original content location\n                    if (isNodeLocatedInSlot(node, slotNameAttr)) {\n                        // it's possible we've already decided to relocate this node\n                        relocateNodeData = relocateNodes.find(r => r.$nodeToRelocate$ === node);\n                        // made some changes to slots\n                        // let's make sure we also double check\n                        // fallbacks are correctly hidden or shown\n                        checkSlotFallbackVisibility = true;\n                        node['s-sn'] = node['s-sn'] || slotNameAttr;\n                        if (relocateNodeData) {\n                            // previously we never found a slot home for this node\n                            // but turns out we did, so let's remember it now\n                            relocateNodeData.$slotRefNode$ = childNode;\n                        }\n                        else {\n                            // add to our list of nodes to relocate\n                            relocateNodes.push({\n                                $slotRefNode$: childNode,\n                                $nodeToRelocate$: node,\n                            });\n                        }\n                        if (node['s-sr']) {\n                            relocateNodes.map(relocateNode => {\n                                if (isNodeLocatedInSlot(relocateNode.$nodeToRelocate$, node['s-sn'])) {\n                                    relocateNodeData = relocateNodes.find(r => r.$nodeToRelocate$ === node);\n                                    if (relocateNodeData && !relocateNode.$slotRefNode$) {\n                                        relocateNode.$slotRefNode$ = relocateNodeData.$slotRefNode$;\n                                    }\n                                }\n                            });\n                        }\n                    }\n                    else if (!relocateNodes.some(r => r.$nodeToRelocate$ === node)) {\n                        // so far this element does not have a slot home, not setting slotRefNode on purpose\n                        // if we never find a home for this element then we'll need to hide it\n                        relocateNodes.push({\n                            $nodeToRelocate$: node,\n                        });\n                    }\n                }\n            }\n        }\n        if (childNode.nodeType === 1 /* ElementNode */) {\n            relocateSlotContent(childNode);\n        }\n    }\n};\nconst isNodeLocatedInSlot = (nodeToRelocate, slotNameAttr) => {\n    if (nodeToRelocate.nodeType === 1 /* ElementNode */) {\n        if (nodeToRelocate.getAttribute('slot') === null && slotNameAttr === '') {\n            return true;\n        }\n        if (nodeToRelocate.getAttribute('slot') === slotNameAttr) {\n            return true;\n        }\n        return false;\n    }\n    if (nodeToRelocate['s-sn'] === slotNameAttr) {\n        return true;\n    }\n    return slotNameAttr === '';\n};\nconst callNodeRefs = (vNode) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomRef) {\n        vNode.$attrs$ && vNode.$attrs$.ref && vNode.$attrs$.ref(null);\n        vNode.$children$ && vNode.$children$.map(callNodeRefs);\n    }\n};\nconst renderVdom = (hostRef, renderFnResults) => {\n    const hostElm = hostRef.$hostElement$;\n    const cmpMeta = hostRef.$cmpMeta$;\n    const oldVNode = hostRef.$vnode$ || newVNode(null, null);\n    const rootVnode = isHost(renderFnResults) ? renderFnResults : h(null, null, renderFnResults);\n    hostTagName = hostElm.tagName;\n    // <Host> runtime check\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev && Array.isArray(renderFnResults) && renderFnResults.some(isHost)) {\n        throw new Error(`The <Host> must be the single root component.\nLooks like the render() function of \"${hostTagName.toLowerCase()}\" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  `);\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.reflect && cmpMeta.$attrsToReflect$) {\n        rootVnode.$attrs$ = rootVnode.$attrs$ || {};\n        cmpMeta.$attrsToReflect$.map(([propName, attribute]) => (rootVnode.$attrs$[attribute] = hostElm[propName]));\n    }\n    rootVnode.$tag$ = null;\n    rootVnode.$flags$ |= 4 /* isHost */;\n    hostRef.$vnode$ = rootVnode;\n    rootVnode.$elm$ = oldVNode.$elm$ = (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom ? hostElm.shadowRoot || hostElm : hostElm);\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.scoped || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom) {\n        scopeId = hostElm['s-sc'];\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n        contentRef = hostElm['s-cr'];\n        useNativeShadowDom = supportsShadow && (cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) !== 0;\n        // always reset\n        checkSlotFallbackVisibility = false;\n    }\n    // synchronous patch\n    patch(oldVNode, rootVnode);\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n        // while we're moving nodes around existing nodes, temporarily disable\n        // the disconnectCallback from working\n        plt.$flags$ |= 1 /* isTmpDisconnected */;\n        if (checkSlotRelocate) {\n            relocateSlotContent(rootVnode.$elm$);\n            let relocateData;\n            let nodeToRelocate;\n            let orgLocationNode;\n            let parentNodeRef;\n            let insertBeforeNode;\n            let refNode;\n            let i = 0;\n            for (; i < relocateNodes.length; i++) {\n                relocateData = relocateNodes[i];\n                nodeToRelocate = relocateData.$nodeToRelocate$;\n                if (!nodeToRelocate['s-ol']) {\n                    // add a reference node marking this node's original location\n                    // keep a reference to this node for later lookups\n                    orgLocationNode = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDebug || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide ? originalLocationDebugNode(nodeToRelocate) : doc.createTextNode('');\n                    orgLocationNode['s-nr'] = nodeToRelocate;\n                    nodeToRelocate.parentNode.insertBefore((nodeToRelocate['s-ol'] = orgLocationNode), nodeToRelocate);\n                }\n            }\n            for (i = 0; i < relocateNodes.length; i++) {\n                relocateData = relocateNodes[i];\n                nodeToRelocate = relocateData.$nodeToRelocate$;\n                if (relocateData.$slotRefNode$) {\n                    // by default we're just going to insert it directly\n                    // after the slot reference node\n                    parentNodeRef = relocateData.$slotRefNode$.parentNode;\n                    insertBeforeNode = relocateData.$slotRefNode$.nextSibling;\n                    orgLocationNode = nodeToRelocate['s-ol'];\n                    while ((orgLocationNode = orgLocationNode.previousSibling)) {\n                        refNode = orgLocationNode['s-nr'];\n                        if (refNode && refNode['s-sn'] === nodeToRelocate['s-sn'] && parentNodeRef === refNode.parentNode) {\n                            refNode = refNode.nextSibling;\n                            if (!refNode || !refNode['s-nr']) {\n                                insertBeforeNode = refNode;\n                                break;\n                            }\n                        }\n                    }\n                    if ((!insertBeforeNode && parentNodeRef !== nodeToRelocate.parentNode) || nodeToRelocate.nextSibling !== insertBeforeNode) {\n                        // we've checked that it's worth while to relocate\n                        // since that the node to relocate\n                        // has a different next sibling or parent relocated\n                        if (nodeToRelocate !== insertBeforeNode) {\n                            if (!nodeToRelocate['s-hn'] && nodeToRelocate['s-ol']) {\n                                // probably a component in the index.html that doesn't have it's hostname set\n                                nodeToRelocate['s-hn'] = nodeToRelocate['s-ol'].parentNode.nodeName;\n                            }\n                            // add it back to the dom but in its new home\n                            parentNodeRef.insertBefore(nodeToRelocate, insertBeforeNode);\n                        }\n                    }\n                }\n                else {\n                    // this node doesn't have a slot home to go to, so let's hide it\n                    if (nodeToRelocate.nodeType === 1 /* ElementNode */) {\n                        nodeToRelocate.hidden = true;\n                    }\n                }\n            }\n        }\n        if (checkSlotFallbackVisibility) {\n            updateFallbackSlotVisibility(rootVnode.$elm$);\n        }\n        // done moving nodes around\n        // allow the disconnect callback to work again\n        plt.$flags$ &= ~1 /* isTmpDisconnected */;\n        // always reset\n        relocateNodes.length = 0;\n    }\n};\n// slot comment debug nodes only created with the `--debug` flag\n// otherwise these nodes are text nodes w/out content\nconst slotReferenceDebugNode = (slotVNode) => doc.createComment(`<slot${slotVNode.$name$ ? ' name=\"' + slotVNode.$name$ + '\"' : ''}> (host=${hostTagName.toLowerCase()})`);\nconst originalLocationDebugNode = (nodeToRelocate) => doc.createComment(`org-location for ` + (nodeToRelocate.localName ? `<${nodeToRelocate.localName}> (host=${nodeToRelocate['s-hn']})` : `[${nodeToRelocate.textContent}]`));\nconst getElement = (ref) => (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? getHostRef(ref).$hostElement$ : ref);\nconst createEvent = (ref, name, flags) => {\n    const elm = getElement(ref);\n    return {\n        emit: (detail) => {\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev && !elm.isConnected) {\n                consoleDevWarn(`The \"${name}\" event was emitted, but the dispatcher node is no longer connected to the dom.`);\n            }\n            return emitEvent(elm, name, {\n                bubbles: !!(flags & 4 /* Bubbles */),\n                composed: !!(flags & 2 /* Composed */),\n                cancelable: !!(flags & 1 /* Cancellable */),\n                detail,\n            });\n        },\n    };\n};\nconst emitEvent = (elm, name, opts) => {\n    const ev = plt.ce(name, opts);\n    elm.dispatchEvent(ev);\n    return ev;\n};\nconst attachToAncestor = (hostRef, ancestorComponent) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading && ancestorComponent && !hostRef.$onRenderResolve$ && ancestorComponent['s-p']) {\n        ancestorComponent['s-p'].push(new Promise(r => (hostRef.$onRenderResolve$ = r)));\n    }\n};\nconst scheduleUpdate = (hostRef, isInitialLoad) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.taskQueue && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable) {\n        hostRef.$flags$ |= 16 /* isQueuedForUpdate */;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading && hostRef.$flags$ & 4 /* isWaitingForChildren */) {\n        hostRef.$flags$ |= 512 /* needsRerender */;\n        return;\n    }\n    attachToAncestor(hostRef, hostRef.$ancestorComponent$);\n    // there is no ancestor component or the ancestor component\n    // has already fired off its lifecycle update then\n    // fire off the initial update\n    const dispatch = () => dispatchHooks(hostRef, isInitialLoad);\n    return _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.taskQueue ? writeTask(dispatch) : dispatch();\n};\nconst dispatchHooks = (hostRef, isInitialLoad) => {\n    const elm = hostRef.$hostElement$;\n    const endSchedule = createTime('scheduleUpdate', hostRef.$cmpMeta$.$tagName$);\n    const instance = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? hostRef.$lazyInstance$ : elm;\n    let promise;\n    if (isInitialLoad) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListener) {\n            hostRef.$flags$ |= 256 /* isListenReady */;\n            if (hostRef.$queuedListeners$) {\n                hostRef.$queuedListeners$.map(([methodName, event]) => safeCall(instance, methodName, event));\n                hostRef.$queuedListeners$ = null;\n            }\n        }\n        emitLifecycleEvent(elm, 'componentWillLoad');\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpWillLoad) {\n            promise = safeCall(instance, 'componentWillLoad');\n        }\n    }\n    else {\n        emitLifecycleEvent(elm, 'componentWillUpdate');\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpWillUpdate) {\n            promise = safeCall(instance, 'componentWillUpdate');\n        }\n    }\n    emitLifecycleEvent(elm, 'componentWillRender');\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpWillRender) {\n        promise = then(promise, () => safeCall(instance, 'componentWillRender'));\n    }\n    endSchedule();\n    return then(promise, () => updateComponent(hostRef, instance, isInitialLoad));\n};\nconst updateComponent = async (hostRef, instance, isInitialLoad) => {\n    // updateComponent\n    const elm = hostRef.$hostElement$;\n    const endUpdate = createTime('update', hostRef.$cmpMeta$.$tagName$);\n    const rc = elm['s-rc'];\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.style && isInitialLoad) {\n        // DOM WRITE!\n        attachStyles(hostRef);\n    }\n    const endRender = createTime('render', hostRef.$cmpMeta$.$tagName$);\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n        hostRef.$flags$ |= 1024 /* devOnRender */;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide) {\n        await callRender(hostRef, instance, elm);\n    }\n    else {\n        callRender(hostRef, instance, elm);\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cssVarShim && plt.$cssShim$) {\n        plt.$cssShim$.updateHost(elm);\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n        hostRef.$renderCount$++;\n        hostRef.$flags$ &= ~1024 /* devOnRender */;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide) {\n        try {\n            // manually connected child components during server-side hydrate\n            serverSideConnected(elm);\n            if (isInitialLoad) {\n                // using only during server-side hydrate\n                if (hostRef.$cmpMeta$.$flags$ & 1 /* shadowDomEncapsulation */) {\n                    elm['s-en'] = '';\n                }\n                else if (hostRef.$cmpMeta$.$flags$ & 2 /* scopedCssEncapsulation */) {\n                    elm['s-en'] = 'c';\n                }\n            }\n        }\n        catch (e) {\n            consoleError(e, elm);\n        }\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading && rc) {\n        // ok, so turns out there are some child host elements\n        // waiting on this parent element to load\n        // let's fire off all update callbacks waiting\n        rc.map(cb => cb());\n        elm['s-rc'] = undefined;\n    }\n    endRender();\n    endUpdate();\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading) {\n        const childrenPromises = elm['s-p'];\n        const postUpdate = () => postUpdateComponent(hostRef);\n        if (childrenPromises.length === 0) {\n            postUpdate();\n        }\n        else {\n            Promise.all(childrenPromises).then(postUpdate);\n            hostRef.$flags$ |= 4 /* isWaitingForChildren */;\n            childrenPromises.length = 0;\n        }\n    }\n    else {\n        postUpdateComponent(hostRef);\n    }\n};\nconst callRender = (hostRef, instance, elm) => {\n    // in order for bundlers to correctly treeshake the BUILD object\n    // we need to ensure BUILD is not deoptimized within a try/catch\n    // https://rollupjs.org/guide/en/#treeshake tryCatchDeoptimization\n    const allRenderFn = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.allRenderFn ? true : false;\n    const lazyLoad = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? true : false;\n    const taskQueue = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.taskQueue ? true : false;\n    const updatable = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable ? true : false;\n    try {\n        renderingRef = instance;\n        instance = allRenderFn ? instance.render() : instance.render && instance.render();\n        if (updatable && taskQueue) {\n            hostRef.$flags$ &= ~16 /* isQueuedForUpdate */;\n        }\n        if (updatable || lazyLoad) {\n            hostRef.$flags$ |= 2 /* hasRendered */;\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hasRenderFn || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.reflect) {\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.vdomRender || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.reflect) {\n                // looks like we've got child nodes to render into this host element\n                // or we need to update the css class/attrs on the host element\n                // DOM WRITE!\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide) {\n                    return Promise.resolve(instance).then(value => renderVdom(hostRef, value));\n                }\n                else {\n                    renderVdom(hostRef, instance);\n                }\n            }\n            else {\n                elm.textContent = instance;\n            }\n        }\n    }\n    catch (e) {\n        consoleError(e, hostRef.$hostElement$);\n    }\n    renderingRef = null;\n    return null;\n};\nconst getRenderingRef = () => renderingRef;\nconst postUpdateComponent = (hostRef) => {\n    const tagName = hostRef.$cmpMeta$.$tagName$;\n    const elm = hostRef.$hostElement$;\n    const endPostUpdate = createTime('postUpdate', tagName);\n    const instance = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? hostRef.$lazyInstance$ : elm;\n    const ancestorComponent = hostRef.$ancestorComponent$;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpDidRender) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n            hostRef.$flags$ |= 1024 /* devOnRender */;\n        }\n        safeCall(instance, 'componentDidRender');\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n            hostRef.$flags$ &= ~1024 /* devOnRender */;\n        }\n    }\n    emitLifecycleEvent(elm, 'componentDidRender');\n    if (!(hostRef.$flags$ & 64 /* hasLoadedComponent */)) {\n        hostRef.$flags$ |= 64 /* hasLoadedComponent */;\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cssAnnotations) {\n            // DOM WRITE!\n            addHydratedFlag(elm);\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpDidLoad) {\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n                hostRef.$flags$ |= 2048 /* devOnDidLoad */;\n            }\n            safeCall(instance, 'componentDidLoad');\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n                hostRef.$flags$ &= ~2048 /* devOnDidLoad */;\n            }\n        }\n        emitLifecycleEvent(elm, 'componentDidLoad');\n        endPostUpdate();\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading) {\n            hostRef.$onReadyResolve$(elm);\n            if (!ancestorComponent) {\n                appDidLoad(tagName);\n            }\n        }\n    }\n    else {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpDidUpdate) {\n            // we've already loaded this component\n            // fire off the user's componentDidUpdate method (if one was provided)\n            // componentDidUpdate runs AFTER render() has been called\n            // and all child components have finished updating\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n                hostRef.$flags$ |= 1024 /* devOnRender */;\n            }\n            safeCall(instance, 'componentDidUpdate');\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n                hostRef.$flags$ &= ~1024 /* devOnRender */;\n            }\n        }\n        emitLifecycleEvent(elm, 'componentDidUpdate');\n        endPostUpdate();\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hotModuleReplacement) {\n        elm['s-hmr-load'] && elm['s-hmr-load']();\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.method && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad) {\n        hostRef.$onInstanceResolve$(elm);\n    }\n    // load events fire from bottom to top\n    // the deepest elements load first then bubbles up\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading) {\n        if (hostRef.$onRenderResolve$) {\n            hostRef.$onRenderResolve$();\n            hostRef.$onRenderResolve$ = undefined;\n        }\n        if (hostRef.$flags$ & 512 /* needsRerender */) {\n            nextTick(() => scheduleUpdate(hostRef, false));\n        }\n        hostRef.$flags$ &= ~(4 /* isWaitingForChildren */ | 512 /* needsRerender */);\n    }\n    // ( _)\n    // ( _)>-\n    // (_)\n};\nconst forceUpdate = (ref) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable) {\n        const hostRef = getHostRef(ref);\n        const isConnected = hostRef.$hostElement$.isConnected;\n        if (isConnected && (hostRef.$flags$ & (2 /* hasRendered */ | 16 /* isQueuedForUpdate */)) === 2 /* hasRendered */) {\n            scheduleUpdate(hostRef, false);\n        }\n        // Returns \"true\" when the forced update was successfully scheduled\n        return isConnected;\n    }\n    return false;\n};\nconst appDidLoad = (who) => {\n    // on appload\n    // we have finish the first big initial render\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cssAnnotations) {\n        addHydratedFlag(doc.documentElement);\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncQueue) {\n        plt.$flags$ |= 2 /* appLoaded */;\n    }\n    nextTick(() => emitEvent(win, 'appload', { detail: { namespace: _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.NAMESPACE } }));\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.profile && performance.measure) {\n        performance.measure(`[Stencil] ${_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.NAMESPACE} initial load (by ${who})`, 'st:app:start');\n    }\n};\nconst safeCall = (instance, method, arg) => {\n    if (instance && instance[method]) {\n        try {\n            return instance[method](arg);\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    return undefined;\n};\nconst then = (promise, thenFn) => {\n    return promise && promise.then ? promise.then(thenFn) : thenFn();\n};\nconst emitLifecycleEvent = (elm, lifecycleName) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lifecycleDOMEvents) {\n        emitEvent(elm, 'stencil_' + lifecycleName, {\n            bubbles: true,\n            composed: true,\n            detail: {\n                namespace: _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.NAMESPACE,\n            },\n        });\n    }\n};\nconst addHydratedFlag = (elm) => (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydratedClass ? elm.classList.add('hydrated') : _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydratedAttribute ? elm.setAttribute('hydrated', '') : undefined);\nconst serverSideConnected = (elm) => {\n    const children = elm.children;\n    if (children != null) {\n        for (let i = 0, ii = children.length; i < ii; i++) {\n            const childElm = children[i];\n            if (typeof childElm.connectedCallback === 'function') {\n                childElm.connectedCallback();\n            }\n            serverSideConnected(childElm);\n        }\n    }\n};\nconst initializeClientHydrate = (hostElm, tagName, hostId, hostRef) => {\n    const endHydrate = createTime('hydrateClient', tagName);\n    const shadowRoot = hostElm.shadowRoot;\n    const childRenderNodes = [];\n    const slotNodes = [];\n    const shadowRootNodes = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && shadowRoot ? [] : null;\n    const vnode = (hostRef.$vnode$ = newVNode(tagName, null));\n    if (!plt.$orgLocNodes$) {\n        initializeDocumentHydrate(doc.body, (plt.$orgLocNodes$ = new Map()));\n    }\n    hostElm[HYDRATE_ID] = hostId;\n    hostElm.removeAttribute(HYDRATE_ID);\n    clientHydrate(vnode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, hostElm, hostId);\n    childRenderNodes.map(c => {\n        const orgLocationId = c.$hostId$ + '.' + c.$nodeId$;\n        const orgLocationNode = plt.$orgLocNodes$.get(orgLocationId);\n        const node = c.$elm$;\n        if (orgLocationNode && supportsShadow && orgLocationNode['s-en'] === '') {\n            orgLocationNode.parentNode.insertBefore(node, orgLocationNode.nextSibling);\n        }\n        if (!shadowRoot) {\n            node['s-hn'] = tagName;\n            if (orgLocationNode) {\n                node['s-ol'] = orgLocationNode;\n                node['s-ol']['s-nr'] = node;\n            }\n        }\n        plt.$orgLocNodes$.delete(orgLocationId);\n    });\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && shadowRoot) {\n        shadowRootNodes.map(shadowRootNode => {\n            if (shadowRootNode) {\n                shadowRoot.appendChild(shadowRootNode);\n            }\n        });\n    }\n    endHydrate();\n};\nconst clientHydrate = (parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node, hostId) => {\n    let childNodeType;\n    let childIdSplt;\n    let childVNode;\n    let i;\n    if (node.nodeType === 1 /* ElementNode */) {\n        childNodeType = node.getAttribute(HYDRATE_CHILD_ID);\n        if (childNodeType) {\n            // got the node data from the element's attribute\n            // `${hostId}.${nodeId}.${depth}.${index}`\n            childIdSplt = childNodeType.split('.');\n            if (childIdSplt[0] === hostId || childIdSplt[0] === '0') {\n                childVNode = {\n                    $flags$: 0,\n                    $hostId$: childIdSplt[0],\n                    $nodeId$: childIdSplt[1],\n                    $depth$: childIdSplt[2],\n                    $index$: childIdSplt[3],\n                    $tag$: node.tagName.toLowerCase(),\n                    $elm$: node,\n                    $attrs$: null,\n                    $children$: null,\n                    $key$: null,\n                    $name$: null,\n                    $text$: null,\n                };\n                childRenderNodes.push(childVNode);\n                node.removeAttribute(HYDRATE_CHILD_ID);\n                // this is a new child vnode\n                // so ensure its parent vnode has the vchildren array\n                if (!parentVNode.$children$) {\n                    parentVNode.$children$ = [];\n                }\n                // add our child vnode to a specific index of the vnode's children\n                parentVNode.$children$[childVNode.$index$] = childVNode;\n                // this is now the new parent vnode for all the next child checks\n                parentVNode = childVNode;\n                if (shadowRootNodes && childVNode.$depth$ === '0') {\n                    shadowRootNodes[childVNode.$index$] = childVNode.$elm$;\n                }\n            }\n        }\n        // recursively drill down, end to start so we can remove nodes\n        for (i = node.childNodes.length - 1; i >= 0; i--) {\n            clientHydrate(parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node.childNodes[i], hostId);\n        }\n        if (node.shadowRoot) {\n            // keep drilling down through the shadow root nodes\n            for (i = node.shadowRoot.childNodes.length - 1; i >= 0; i--) {\n                clientHydrate(parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node.shadowRoot.childNodes[i], hostId);\n            }\n        }\n    }\n    else if (node.nodeType === 8 /* CommentNode */) {\n        // `${COMMENT_TYPE}.${hostId}.${nodeId}.${depth}.${index}`\n        childIdSplt = node.nodeValue.split('.');\n        if (childIdSplt[1] === hostId || childIdSplt[1] === '0') {\n            // comment node for either the host id or a 0 host id\n            childNodeType = childIdSplt[0];\n            childVNode = {\n                $flags$: 0,\n                $hostId$: childIdSplt[1],\n                $nodeId$: childIdSplt[2],\n                $depth$: childIdSplt[3],\n                $index$: childIdSplt[4],\n                $elm$: node,\n                $attrs$: null,\n                $children$: null,\n                $key$: null,\n                $name$: null,\n                $tag$: null,\n                $text$: null,\n            };\n            if (childNodeType === TEXT_NODE_ID) {\n                childVNode.$elm$ = node.nextSibling;\n                if (childVNode.$elm$ && childVNode.$elm$.nodeType === 3 /* TextNode */) {\n                    childVNode.$text$ = childVNode.$elm$.textContent;\n                    childRenderNodes.push(childVNode);\n                    // remove the text comment since it's no longer needed\n                    node.remove();\n                    if (!parentVNode.$children$) {\n                        parentVNode.$children$ = [];\n                    }\n                    parentVNode.$children$[childVNode.$index$] = childVNode;\n                    if (shadowRootNodes && childVNode.$depth$ === '0') {\n                        shadowRootNodes[childVNode.$index$] = childVNode.$elm$;\n                    }\n                }\n            }\n            else if (childVNode.$hostId$ === hostId) {\n                // this comment node is specifcally for this host id\n                if (childNodeType === SLOT_NODE_ID) {\n                    // `${SLOT_NODE_ID}.${hostId}.${nodeId}.${depth}.${index}.${slotName}`;\n                    childVNode.$tag$ = 'slot';\n                    if (childIdSplt[5]) {\n                        node['s-sn'] = childVNode.$name$ = childIdSplt[5];\n                    }\n                    else {\n                        node['s-sn'] = '';\n                    }\n                    node['s-sr'] = true;\n                    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && shadowRootNodes) {\n                        // browser support shadowRoot and this is a shadow dom component\n                        // create an actual slot element\n                        childVNode.$elm$ = doc.createElement(childVNode.$tag$);\n                        if (childVNode.$name$) {\n                            // add the slot name attribute\n                            childVNode.$elm$.setAttribute('name', childVNode.$name$);\n                        }\n                        // insert the new slot element before the slot comment\n                        node.parentNode.insertBefore(childVNode.$elm$, node);\n                        // remove the slot comment since it's not needed for shadow\n                        node.remove();\n                        if (childVNode.$depth$ === '0') {\n                            shadowRootNodes[childVNode.$index$] = childVNode.$elm$;\n                        }\n                    }\n                    slotNodes.push(childVNode);\n                    if (!parentVNode.$children$) {\n                        parentVNode.$children$ = [];\n                    }\n                    parentVNode.$children$[childVNode.$index$] = childVNode;\n                }\n                else if (childNodeType === CONTENT_REF_ID) {\n                    // `${CONTENT_REF_ID}.${hostId}`;\n                    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && shadowRootNodes) {\n                        // remove the content ref comment since it's not needed for shadow\n                        node.remove();\n                    }\n                    else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation) {\n                        hostElm['s-cr'] = node;\n                        node['s-cn'] = true;\n                    }\n                }\n            }\n        }\n    }\n    else if (parentVNode && parentVNode.$tag$ === 'style') {\n        const vnode = newVNode(null, node.textContent);\n        vnode.$elm$ = node;\n        vnode.$index$ = '0';\n        parentVNode.$children$ = [vnode];\n    }\n};\nconst initializeDocumentHydrate = (node, orgLocNodes) => {\n    if (node.nodeType === 1 /* ElementNode */) {\n        let i = 0;\n        for (; i < node.childNodes.length; i++) {\n            initializeDocumentHydrate(node.childNodes[i], orgLocNodes);\n        }\n        if (node.shadowRoot) {\n            for (i = 0; i < node.shadowRoot.childNodes.length; i++) {\n                initializeDocumentHydrate(node.shadowRoot.childNodes[i], orgLocNodes);\n            }\n        }\n    }\n    else if (node.nodeType === 8 /* CommentNode */) {\n        const childIdSplt = node.nodeValue.split('.');\n        if (childIdSplt[0] === ORG_LOCATION_ID) {\n            orgLocNodes.set(childIdSplt[1] + '.' + childIdSplt[2], node);\n            node.nodeValue = '';\n            // useful to know if the original location is\n            // the root light-dom of a shadow dom component\n            node['s-en'] = childIdSplt[3];\n        }\n    }\n};\nconst parsePropertyValue = (propValue, propType) => {\n    // ensure this value is of the correct prop type\n    if (propValue != null && !isComplexType(propValue)) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.propBoolean && propType & 4 /* Boolean */) {\n            // per the HTML spec, any string value means it is a boolean true value\n            // but we'll cheat here and say that the string \"false\" is the boolean false\n            return propValue === 'false' ? false : propValue === '' || !!propValue;\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.propNumber && propType & 2 /* Number */) {\n            // force it to be a number\n            return parseFloat(propValue);\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.propString && propType & 1 /* String */) {\n            // could have been passed as a number or boolean\n            // but we still want it as a string\n            return String(propValue);\n        }\n        // redundant return here for better minification\n        return propValue;\n    }\n    // not sure exactly what type we want\n    // so no need to change to a different type\n    return propValue;\n};\nconst getValue = (ref, propName) => getHostRef(ref).$instanceValues$.get(propName);\nconst setValue = (ref, propName, newVal, cmpMeta) => {\n    // check our new property value against our internal value\n    const hostRef = getHostRef(ref);\n    const elm = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? hostRef.$hostElement$ : ref;\n    const oldVal = hostRef.$instanceValues$.get(propName);\n    const flags = hostRef.$flags$;\n    const instance = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? hostRef.$lazyInstance$ : elm;\n    newVal = parsePropertyValue(newVal, cmpMeta.$members$[propName][0]);\n    if ((!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad || !(flags & 8 /* isConstructingInstance */) || oldVal === undefined) && newVal !== oldVal) {\n        // gadzooks! the property's value has changed!!\n        // set our new value!\n        hostRef.$instanceValues$.set(propName, newVal);\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n            if (hostRef.$flags$ & 1024 /* devOnRender */) {\n                consoleDevWarn(`The state/prop \"${propName}\" changed during rendering. This can potentially lead to infinite-loops and other bugs.`, '\\nElement', elm, '\\nNew value', newVal, '\\nOld value', oldVal);\n            }\n            else if (hostRef.$flags$ & 2048 /* devOnDidLoad */) {\n                consoleDevWarn(`The state/prop \"${propName}\" changed during \"componentDidLoad()\", this triggers extra re-renders, try to setup on \"componentWillLoad()\"`, '\\nElement', elm, '\\nNew value', newVal, '\\nOld value', oldVal);\n            }\n        }\n        if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad || instance) {\n            // get an array of method names of watch functions to call\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.watchCallback && cmpMeta.$watchers$ && flags & 128 /* isWatchReady */) {\n                const watchMethods = cmpMeta.$watchers$[propName];\n                if (watchMethods) {\n                    // this instance is watching for when this property changed\n                    watchMethods.map(watchMethodName => {\n                        try {\n                            // fire off each of the watch methods that are watching this property\n                            instance[watchMethodName](newVal, oldVal, propName);\n                        }\n                        catch (e) {\n                            consoleError(e, elm);\n                        }\n                    });\n                }\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.updatable && (flags & (2 /* hasRendered */ | 16 /* isQueuedForUpdate */)) === 2 /* hasRendered */) {\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpShouldUpdate && instance.componentShouldUpdate) {\n                    if (instance.componentShouldUpdate(newVal, oldVal, propName) === false) {\n                        return;\n                    }\n                }\n                // looks like this value actually changed, so we've got work to do!\n                // but only if we've already rendered, otherwise just chill out\n                // queue that we need to do an update, but don't worry about queuing\n                // up millions cuz this function ensures it only runs once\n                scheduleUpdate(hostRef, false);\n            }\n        }\n    }\n};\nconst proxyComponent = (Cstr, cmpMeta, flags) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.member && cmpMeta.$members$) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.watchCallback && Cstr.watchers) {\n            cmpMeta.$watchers$ = Cstr.watchers;\n        }\n        // It's better to have a const than two Object.entries()\n        const members = Object.entries(cmpMeta.$members$);\n        const prototype = Cstr.prototype;\n        members.map(([memberName, [memberFlags]]) => {\n            if ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.prop || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.state) && (memberFlags & 31 /* Prop */ || ((!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad || flags & 2 /* proxyState */) && memberFlags & 32 /* State */))) {\n                // proxyComponent - prop\n                Object.defineProperty(prototype, memberName, {\n                    get() {\n                        // proxyComponent, get value\n                        return getValue(this, memberName);\n                    },\n                    set(newValue) {\n                        // only during dev time\n                        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n                            const ref = getHostRef(this);\n                            if (\n                            // we are proxying the instance (not element)\n                            (flags & 1 /* isElementConstructor */) === 0 &&\n                                // the element is not constructing\n                                (ref.$flags$ & 8 /* isConstructingInstance */) === 0 &&\n                                // the member is a prop\n                                (memberFlags & 31 /* Prop */) !== 0 &&\n                                // the member is not mutable\n                                (memberFlags & 1024 /* Mutable */) === 0) {\n                                consoleDevWarn(`@Prop() \"${memberName}\" on <${cmpMeta.$tagName$}> is immutable but was modified from within the component.\\nMore information: https://stenciljs.com/docs/properties#prop-mutability`);\n                            }\n                        }\n                        // proxyComponent, set value\n                        setValue(this, memberName, newValue, cmpMeta);\n                    },\n                    configurable: true,\n                    enumerable: true,\n                });\n            }\n            else if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.method && flags & 1 /* isElementConstructor */ && memberFlags & 64 /* Method */) {\n                // proxyComponent - method\n                Object.defineProperty(prototype, memberName, {\n                    value(...args) {\n                        const ref = getHostRef(this);\n                        return ref.$onInstancePromise$.then(() => ref.$lazyInstance$[memberName](...args));\n                    },\n                });\n            }\n        });\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.observeAttribute && (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad || flags & 1 /* isElementConstructor */)) {\n            const attrNameToPropName = new Map();\n            prototype.attributeChangedCallback = function (attrName, _oldValue, newValue) {\n                plt.jmp(() => {\n                    const propName = attrNameToPropName.get(attrName);\n                    this[propName] = newValue === null && typeof this[propName] === 'boolean' ? false : newValue;\n                });\n            };\n            // create an array of attributes to observe\n            // and also create a map of html attribute name to js property name\n            Cstr.observedAttributes = members\n                .filter(([_, m]) => m[0] & 15 /* HasAttribute */) // filter to only keep props that should match attributes\n                .map(([propName, m]) => {\n                const attrName = m[1] || propName;\n                attrNameToPropName.set(attrName, propName);\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.reflect && m[0] & 512 /* ReflectAttr */) {\n                    cmpMeta.$attrsToReflect$.push([propName, attrName]);\n                }\n                return attrName;\n            });\n        }\n    }\n    return Cstr;\n};\nconst initializeComponent = async (elm, hostRef, cmpMeta, hmrVersionId, Cstr) => {\n    // initializeComponent\n    if ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.style) && (hostRef.$flags$ & 32 /* hasInitializedComponent */) === 0) {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateClientSide) {\n            // we haven't initialized this element yet\n            hostRef.$flags$ |= 32 /* hasInitializedComponent */;\n            // lazy loaded components\n            // request the component's implementation to be\n            // wired up with the host element\n            Cstr = loadModule(cmpMeta, hostRef, hmrVersionId);\n            if (Cstr.then) {\n                // Await creates a micro-task avoid if possible\n                const endLoad = uniqueTime(`st:load:${cmpMeta.$tagName$}:${hostRef.$modeName$}`, `[Stencil] Load module for <${cmpMeta.$tagName$}>`);\n                Cstr = await Cstr;\n                endLoad();\n            }\n            if ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDebug) && !Cstr) {\n                throw new Error(`Constructor for \"${cmpMeta.$tagName$}#${hostRef.$modeName$}\" was not found`);\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.member && !Cstr.isProxied) {\n                // we'eve never proxied this Constructor before\n                // let's add the getters/setters to its prototype before\n                // the first time we create an instance of the implementation\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.watchCallback) {\n                    cmpMeta.$watchers$ = Cstr.watchers;\n                }\n                proxyComponent(Cstr, cmpMeta, 2 /* proxyState */);\n                Cstr.isProxied = true;\n            }\n            const endNewInstance = createTime('createInstance', cmpMeta.$tagName$);\n            // ok, time to construct the instance\n            // but let's keep track of when we start and stop\n            // so that the getters/setters don't incorrectly step on data\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.member) {\n                hostRef.$flags$ |= 8 /* isConstructingInstance */;\n            }\n            // construct the lazy-loaded component implementation\n            // passing the hostRef is very important during\n            // construction in order to directly wire together the\n            // host element and the lazy-loaded instance\n            try {\n                new Cstr(hostRef);\n            }\n            catch (e) {\n                consoleError(e);\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.member) {\n                hostRef.$flags$ &= ~8 /* isConstructingInstance */;\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.watchCallback) {\n                hostRef.$flags$ |= 128 /* isWatchReady */;\n            }\n            endNewInstance();\n            fireConnectedCallback(hostRef.$lazyInstance$);\n        }\n        else {\n            // sync constructor component\n            Cstr = elm.constructor;\n            hostRef.$flags$ |= 128 /* isWatchReady */ | 32 /* hasInitializedComponent */;\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.style && Cstr.style) {\n            // this component has styles but we haven't registered them yet\n            let style = Cstr.style;\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.mode && typeof style !== 'string') {\n                style = style[(hostRef.$modeName$ = computeMode(elm))];\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide && hostRef.$modeName$) {\n                    elm.setAttribute('s-mode', hostRef.$modeName$);\n                }\n            }\n            const scopeId = getScopeId(cmpMeta, hostRef.$modeName$);\n            if (!styles.has(scopeId)) {\n                const endRegisterStyles = createTime('registerStyles', cmpMeta.$tagName$);\n                if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDomShim && cmpMeta.$flags$ & 8 /* needsShadowDomShim */) {\n                    style = await __webpack_require__.e(/*! import() */ \"node_modules_stencil_core_internal_client_shadow-css_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./shadow-css.js */ \"./node_modules/@stencil/core/internal/client/shadow-css.js\")).then(m => m.scopeCss(style, scopeId, false));\n                }\n                registerStyle(scopeId, style, !!(cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */));\n                endRegisterStyles();\n            }\n        }\n    }\n    // we've successfully created a lazy instance\n    const ancestorComponent = hostRef.$ancestorComponent$;\n    const schedule = () => scheduleUpdate(hostRef, true);\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading && ancestorComponent && ancestorComponent['s-rc']) {\n        // this is the intial load and this component it has an ancestor component\n        // but the ancestor component has NOT fired its will update lifecycle yet\n        // so let's just cool our jets and wait for the ancestor to continue first\n        // this will get fired off when the ancestor component\n        // finally gets around to rendering its lazy self\n        // fire off the initial update\n        ancestorComponent['s-rc'].push(schedule);\n    }\n    else {\n        schedule();\n    }\n};\nconst fireConnectedCallback = (instance) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.connectedCallback) {\n        safeCall(instance, 'connectedCallback');\n    }\n};\nconst connectedCallback = (elm) => {\n    if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0) {\n        const hostRef = getHostRef(elm);\n        const cmpMeta = hostRef.$cmpMeta$;\n        const endConnected = createTime('connectedCallback', cmpMeta.$tagName$);\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListenerTargetParent) {\n            // only run if we have listeners being attached to a parent\n            addHostEventListeners(elm, hostRef, cmpMeta.$listeners$, true);\n        }\n        if (!(hostRef.$flags$ & 1 /* hasConnected */)) {\n            // first time this component has connected\n            hostRef.$flags$ |= 1 /* hasConnected */;\n            let hostId;\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateClientSide) {\n                hostId = elm.getAttribute(HYDRATE_ID);\n                if (hostId) {\n                    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && supportsShadow && cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {\n                        const scopeId = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.mode ? addStyle(elm.shadowRoot, cmpMeta, elm.getAttribute('s-mode')) : addStyle(elm.shadowRoot, cmpMeta);\n                        elm.classList.remove(scopeId + '-h', scopeId + '-s');\n                    }\n                    initializeClientHydrate(elm, cmpMeta.$tagName$, hostId, hostRef);\n                }\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotRelocation && !hostId) {\n                // initUpdate\n                // if the slot polyfill is required we'll need to put some nodes\n                // in here to act as original content anchors as we move nodes around\n                // host element has been connected to the DOM\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide || ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slot || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom) && cmpMeta.$flags$ & (4 /* hasSlotRelocation */ | 8 /* needsShadowDomShim */))) {\n                    setContentReference(elm);\n                }\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading) {\n                // find the first ancestor component (if there is one) and register\n                // this component as one of the actively loading child components for its ancestor\n                let ancestorComponent = elm;\n                while ((ancestorComponent = ancestorComponent.parentNode || ancestorComponent.host)) {\n                    // climb up the ancestors looking for the first\n                    // component that hasn't finished its lifecycle update yet\n                    if ((_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateClientSide && ancestorComponent.nodeType === 1 /* ElementNode */ && ancestorComponent.hasAttribute('s-id') && ancestorComponent['s-p']) ||\n                        ancestorComponent['s-p']) {\n                        // we found this components first ancestor component\n                        // keep a reference to this component's ancestor component\n                        attachToAncestor(hostRef, (hostRef.$ancestorComponent$ = ancestorComponent));\n                        break;\n                    }\n                }\n            }\n            // Lazy properties\n            // https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.prop && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad && !_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide && cmpMeta.$members$) {\n                Object.entries(cmpMeta.$members$).map(([memberName, [memberFlags]]) => {\n                    if (memberFlags & 31 /* Prop */ && elm.hasOwnProperty(memberName)) {\n                        const value = elm[memberName];\n                        delete elm[memberName];\n                        elm[memberName] = value;\n                    }\n                });\n            }\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.initializeNextTick) {\n                // connectedCallback, taskQueue, initialLoad\n                // angular sets attribute AFTER connectCallback\n                // https://github.com/angular/angular/issues/18909\n                // https://github.com/angular/angular/issues/19940\n                nextTick(() => initializeComponent(elm, hostRef, cmpMeta));\n            }\n            else {\n                initializeComponent(elm, hostRef, cmpMeta);\n            }\n        }\n        else {\n            // not the first time this has connected\n            // reattach any event listeners to the host\n            // since they would have been removed when disconnected\n            addHostEventListeners(elm, hostRef, cmpMeta.$listeners$, false);\n            // fire off connectedCallback() on component instance\n            fireConnectedCallback(hostRef.$lazyInstance$);\n        }\n        endConnected();\n    }\n};\nconst setContentReference = (elm) => {\n    // only required when we're NOT using native shadow dom (slot)\n    // or this browser doesn't support native shadow dom\n    // and this host element was NOT created with SSR\n    // let's pick out the inner content for slot projection\n    // create a node to represent where the original\n    // content was first placed, which is useful later on\n    const contentRefElm = (elm['s-cr'] = doc.createComment(_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDebug ? `content-ref (host=${elm.localName})` : ''));\n    contentRefElm['s-cn'] = true;\n    elm.insertBefore(contentRefElm, elm.firstChild);\n};\nconst disconnectedCallback = (elm) => {\n    if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0) {\n        const hostRef = getHostRef(elm);\n        const instance = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad ? hostRef.$lazyInstance$ : elm;\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListener) {\n            if (hostRef.$rmListeners$) {\n                hostRef.$rmListeners$.map(rmListener => rmListener());\n                hostRef.$rmListeners$ = undefined;\n            }\n        }\n        // clear CSS var-shim tracking\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cssVarShim && plt.$cssShim$) {\n            plt.$cssShim$.removeHost(elm);\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.disconnectedCallback) {\n            safeCall(instance, 'disconnectedCallback');\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cmpDidUnload) {\n            safeCall(instance, 'componentDidUnload');\n        }\n    }\n};\nconst defineCustomElement = (Cstr, compactMeta) => {\n    customElements.define(compactMeta[1], proxyCustomElement(Cstr, compactMeta));\n};\nconst proxyCustomElement = (Cstr, compactMeta) => {\n    const cmpMeta = {\n        $flags$: compactMeta[0],\n        $tagName$: compactMeta[1],\n    };\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.member) {\n        cmpMeta.$members$ = compactMeta[2];\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListener) {\n        cmpMeta.$listeners$ = compactMeta[3];\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.watchCallback) {\n        cmpMeta.$watchers$ = Cstr.$watchers$;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.reflect) {\n        cmpMeta.$attrsToReflect$ = [];\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && !supportsShadow && cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {\n        cmpMeta.$flags$ |= 8 /* needsShadowDomShim */;\n    }\n    const originalConnectedCallback = Cstr.prototype.connectedCallback;\n    const originalDisconnectedCallback = Cstr.prototype.disconnectedCallback;\n    Object.assign(Cstr.prototype, {\n        __registerHost() {\n            registerHost(this, cmpMeta);\n        },\n        connectedCallback() {\n            connectedCallback(this);\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.connectedCallback && originalConnectedCallback) {\n                originalConnectedCallback.call(this);\n            }\n        },\n        disconnectedCallback() {\n            disconnectedCallback(this);\n            if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.disconnectedCallback && originalDisconnectedCallback) {\n                originalDisconnectedCallback.call(this);\n            }\n        },\n    });\n    Cstr.is = cmpMeta.$tagName$;\n    return proxyComponent(Cstr, cmpMeta, 1 /* isElementConstructor */ | 2 /* proxyState */);\n};\nconst forceModeUpdate = (elm) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.style && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.mode && !_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad) {\n        const mode = computeMode(elm);\n        const hostRef = getHostRef(elm);\n        if (hostRef.$modeName$ !== mode) {\n            const cmpMeta = hostRef.$cmpMeta$;\n            const oldScopeId = elm['s-sc'];\n            const scopeId = getScopeId(cmpMeta, mode);\n            const style = elm.constructor.style[mode];\n            const flags = cmpMeta.$flags$;\n            if (style) {\n                if (!styles.has(scopeId)) {\n                    registerStyle(scopeId, style, !!(flags & 1 /* shadowDomEncapsulation */));\n                }\n                hostRef.$modeName$ = mode;\n                elm.classList.remove(oldScopeId + '-h', oldScopeId + '-s');\n                attachStyles(hostRef);\n                forceUpdate(elm);\n            }\n        }\n    }\n};\nconst attachShadow = (el) => {\n    if (supportsShadow) {\n        el.attachShadow({ mode: 'open' });\n    }\n    else {\n        el.shadowRoot = el;\n    }\n};\nconst hmrStart = (elm, cmpMeta, hmrVersionId) => {\n    // \\_()_/\n    const hostRef = getHostRef(elm);\n    // reset state flags to only have been connected\n    hostRef.$flags$ = 1 /* hasConnected */;\n    // TODO\n    // detatch any event listeners that may have been added\n    // because we're not passing an exact event name it'll\n    // remove all of this element's event, which is good\n    // create a callback for when this component finishes hmr\n    elm['s-hmr-load'] = () => {\n        // finished hmr for this element\n        delete elm['s-hmr-load'];\n    };\n    // re-initialize the component\n    initializeComponent(elm, hostRef, cmpMeta, hmrVersionId);\n};\nconst patchCloneNode = (HostElementPrototype) => {\n    const orgCloneNode = HostElementPrototype.cloneNode;\n    HostElementPrototype.cloneNode = function (deep) {\n        const srcNode = this;\n        const isShadowDom = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom ? srcNode.shadowRoot && supportsShadow : false;\n        const clonedNode = orgCloneNode.call(srcNode, isShadowDom ? deep : false);\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slot && !isShadowDom && deep) {\n            let i = 0;\n            let slotted, nonStencilNode;\n            let stencilPrivates = ['s-id', 's-cr', 's-lr', 's-rc', 's-sc', 's-p', 's-cn', 's-sr', 's-sn', 's-hn', 's-ol', 's-nr', 's-si'];\n            for (; i < srcNode.childNodes.length; i++) {\n                slotted = srcNode.childNodes[i]['s-nr'];\n                nonStencilNode = stencilPrivates.every((privateField) => !srcNode.childNodes[i][privateField]);\n                if (slotted) {\n                    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.appendChildSlotFix && clonedNode.__appendChild) {\n                        clonedNode.__appendChild(slotted.cloneNode(true));\n                    }\n                    else {\n                        clonedNode.appendChild(slotted.cloneNode(true));\n                    }\n                }\n                if (nonStencilNode) {\n                    clonedNode.appendChild(srcNode.childNodes[i].cloneNode(true));\n                }\n            }\n        }\n        return clonedNode;\n    };\n};\nconst patchSlotAppendChild = (HostElementPrototype) => {\n    HostElementPrototype.__appendChild = HostElementPrototype.appendChild;\n    HostElementPrototype.appendChild = function (newChild) {\n        const slotName = (newChild['s-sn'] = getSlotName(newChild));\n        const slotNode = getHostSlotNode(this.childNodes, slotName);\n        if (slotNode) {\n            const slotChildNodes = getHostSlotChildNodes(slotNode, slotName);\n            const appendAfter = slotChildNodes[slotChildNodes.length - 1];\n            return appendAfter.parentNode.insertBefore(newChild, appendAfter.nextSibling);\n        }\n        return this.__appendChild(newChild);\n    };\n};\nconst patchChildSlotNodes = (elm, cmpMeta) => {\n    class FakeNodeList extends Array {\n        item(n) {\n            return this[n];\n        }\n    }\n    if (cmpMeta.$flags$ & 8 /* needsShadowDomShim */) {\n        const childNodesFn = elm.__lookupGetter__('childNodes');\n        Object.defineProperty(elm, 'children', {\n            get() {\n                return this.childNodes.map((n) => n.nodeType === 1);\n            },\n        });\n        Object.defineProperty(elm, 'childElementCount', {\n            get() {\n                return elm.children.length;\n            },\n        });\n        Object.defineProperty(elm, 'childNodes', {\n            get() {\n                const childNodes = childNodesFn.call(this);\n                if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0 && getHostRef(this).$flags$ & 2 /* hasRendered */) {\n                    const result = new FakeNodeList();\n                    for (let i = 0; i < childNodes.length; i++) {\n                        const slot = childNodes[i]['s-nr'];\n                        if (slot) {\n                            result.push(slot);\n                        }\n                    }\n                    return result;\n                }\n                return FakeNodeList.from(childNodes);\n            },\n        });\n    }\n};\nconst getSlotName = (node) => node['s-sn'] || (node.nodeType === 1 && node.getAttribute('slot')) || '';\nconst getHostSlotNode = (childNodes, slotName) => {\n    let i = 0;\n    let childNode;\n    for (; i < childNodes.length; i++) {\n        childNode = childNodes[i];\n        if (childNode['s-sr'] && childNode['s-sn'] === slotName) {\n            return childNode;\n        }\n        childNode = getHostSlotNode(childNode.childNodes, slotName);\n        if (childNode) {\n            return childNode;\n        }\n    }\n    return null;\n};\nconst getHostSlotChildNodes = (n, slotName) => {\n    const childNodes = [n];\n    while ((n = n.nextSibling) && n['s-sn'] === slotName) {\n        childNodes.push(n);\n    }\n    return childNodes;\n};\nconst bootstrapLazy = (lazyBundles, options = {}) => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.profile && performance.mark) {\n        performance.mark('st:app:start');\n    }\n    installDevTools();\n    const endBootstrap = createTime('bootstrapLazy');\n    const cmpTags = [];\n    const exclude = options.exclude || [];\n    const customElements = win.customElements;\n    const head = doc.head;\n    const metaCharset = /*@__PURE__*/ head.querySelector('meta[charset]');\n    const visibilityStyle = /*@__PURE__*/ doc.createElement('style');\n    const deferredConnectedCallbacks = [];\n    const styles = /*@__PURE__*/ doc.querySelectorAll(`[${HYDRATED_STYLE_ID}]`);\n    let appLoadFallback;\n    let isBootstrapping = true;\n    let i = 0;\n    Object.assign(plt, options);\n    plt.$resourcesUrl$ = new URL(options.resourcesUrl || './', doc.baseURI).href;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncQueue) {\n        if (options.syncQueue) {\n            plt.$flags$ |= 4 /* queueSync */;\n        }\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateClientSide) {\n        // If the app is already hydrated there is not point to disable the\n        // async queue. This will improve the first input delay\n        plt.$flags$ |= 2 /* appLoaded */;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateClientSide && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom) {\n        for (; i < styles.length; i++) {\n            registerStyle(styles[i].getAttribute(HYDRATED_STYLE_ID), convertScopedToShadow(styles[i].innerHTML), true);\n        }\n    }\n    lazyBundles.map(lazyBundle => lazyBundle[1].map(compactMeta => {\n        const cmpMeta = {\n            $flags$: compactMeta[0],\n            $tagName$: compactMeta[1],\n            $members$: compactMeta[2],\n            $listeners$: compactMeta[3],\n        };\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.member) {\n            cmpMeta.$members$ = compactMeta[2];\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hostListener) {\n            cmpMeta.$listeners$ = compactMeta[3];\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.reflect) {\n            cmpMeta.$attrsToReflect$ = [];\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.watchCallback) {\n            cmpMeta.$watchers$ = {};\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && !supportsShadow && cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {\n            cmpMeta.$flags$ |= 8 /* needsShadowDomShim */;\n        }\n        const tagName = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.transformTagName && options.transformTagName ? options.transformTagName(cmpMeta.$tagName$) : cmpMeta.$tagName$;\n        const HostElement = class extends HTMLElement {\n            // StencilLazyHost\n            constructor(self) {\n                // @ts-ignore\n                super(self);\n                self = this;\n                registerHost(self, cmpMeta);\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDom && cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {\n                    // this component is using shadow dom\n                    // and this browser supports shadow dom\n                    // add the read-only property \"shadowRoot\" to the host element\n                    // adding the shadow root build conditionals to minimize runtime\n                    if (supportsShadow) {\n                        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.shadowDelegatesFocus) {\n                            self.attachShadow({\n                                mode: 'open',\n                                delegatesFocus: !!(cmpMeta.$flags$ & 16 /* shadowDelegatesFocus */),\n                            });\n                        }\n                        else {\n                            self.attachShadow({ mode: 'open' });\n                        }\n                    }\n                    else if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide && !('shadowRoot' in self)) {\n                        self.shadowRoot = self;\n                    }\n                }\n                if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.slotChildNodesFix) {\n                    patchChildSlotNodes(self, cmpMeta);\n                }\n            }\n            connectedCallback() {\n                if (appLoadFallback) {\n                    clearTimeout(appLoadFallback);\n                    appLoadFallback = null;\n                }\n                if (isBootstrapping) {\n                    // connectedCallback will be processed once all components have been registered\n                    deferredConnectedCallbacks.push(this);\n                }\n                else {\n                    plt.jmp(() => connectedCallback(this));\n                }\n            }\n            disconnectedCallback() {\n                plt.jmp(() => disconnectedCallback(this));\n            }\n            componentOnReady() {\n                return getHostRef(this).$onReadyPromise$;\n            }\n        };\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.cloneNodeFix) {\n            patchCloneNode(HostElement.prototype);\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.appendChildSlotFix) {\n            patchSlotAppendChild(HostElement.prototype);\n        }\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hotModuleReplacement) {\n            HostElement.prototype['s-hmr'] = function (hmrVersionId) {\n                hmrStart(this, cmpMeta, hmrVersionId);\n            };\n        }\n        cmpMeta.$lazyBundleId$ = lazyBundle[0];\n        if (!exclude.includes(tagName) && !customElements.get(tagName)) {\n            cmpTags.push(tagName);\n            customElements.define(tagName, proxyComponent(HostElement, cmpMeta, 1 /* isElementConstructor */));\n        }\n    }));\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydratedClass || _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydratedAttribute) {\n        visibilityStyle.innerHTML = cmpTags + HYDRATED_CSS;\n        visibilityStyle.setAttribute('data-styles', '');\n        head.insertBefore(visibilityStyle, metaCharset ? metaCharset.nextSibling : head.firstChild);\n    }\n    // Process deferred connectedCallbacks now all components have been registered\n    isBootstrapping = false;\n    if (deferredConnectedCallbacks.length) {\n        deferredConnectedCallbacks.map(host => host.connectedCallback());\n    }\n    else {\n        if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.profile) {\n            plt.jmp(() => (appLoadFallback = setTimeout(appDidLoad, 30, 'timeout')));\n        }\n        else {\n            plt.jmp(() => (appLoadFallback = setTimeout(appDidLoad, 30)));\n        }\n    }\n    // Fallback appLoad event\n    endBootstrap();\n};\nconst getAssetPath = (path) => {\n    const assetUrl = new URL(path, plt.$resourcesUrl$);\n    return assetUrl.origin !== win.location.origin ? assetUrl.href : assetUrl.pathname;\n};\nconst setAssetPath = (path) => (plt.$resourcesUrl$ = path);\nconst getConnect = (_ref, tagName) => {\n    const componentOnReady = () => {\n        let elm = doc.querySelector(tagName);\n        if (!elm) {\n            elm = doc.createElement(tagName);\n            doc.body.appendChild(elm);\n        }\n        return typeof elm.componentOnReady === 'function' ? elm.componentOnReady() : Promise.resolve(elm);\n    };\n    const create = (...args) => {\n        return componentOnReady().then(el => el.create(...args));\n    };\n    return {\n        create,\n        componentOnReady,\n    };\n};\nconst getContext = (_elm, context) => {\n    if (context in Context) {\n        return Context[context];\n    }\n    else if (context === 'window') {\n        return win;\n    }\n    else if (context === 'document') {\n        return doc;\n    }\n    else if (context === 'isServer' || context === 'isPrerender') {\n        return _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide ? true : false;\n    }\n    else if (context === 'isClient') {\n        return _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hydrateServerSide ? false : true;\n    }\n    else if (context === 'resourcesUrl' || context === 'publicPath') {\n        return getAssetPath('.');\n    }\n    else if (context === 'queue') {\n        return {\n            write: writeTask,\n            read: readTask,\n            tick: {\n                then(cb) {\n                    return nextTick(cb);\n                },\n            },\n        };\n    }\n    return undefined;\n};\nconst insertVdomAnnotations = (doc, staticComponents) => {\n    if (doc != null) {\n        const docData = {\n            hostIds: 0,\n            rootLevelIds: 0,\n            staticComponents: new Set(staticComponents),\n        };\n        const orgLocationNodes = [];\n        parseVNodeAnnotations(doc, doc.body, docData, orgLocationNodes);\n        orgLocationNodes.forEach(orgLocationNode => {\n            if (orgLocationNode != null) {\n                const nodeRef = orgLocationNode['s-nr'];\n                let hostId = nodeRef['s-host-id'];\n                let nodeId = nodeRef['s-node-id'];\n                let childId = `${hostId}.${nodeId}`;\n                if (hostId == null) {\n                    hostId = 0;\n                    docData.rootLevelIds++;\n                    nodeId = docData.rootLevelIds;\n                    childId = `${hostId}.${nodeId}`;\n                    if (nodeRef.nodeType === 1 /* ElementNode */) {\n                        nodeRef.setAttribute(HYDRATE_CHILD_ID, childId);\n                    }\n                    else if (nodeRef.nodeType === 3 /* TextNode */) {\n                        if (hostId === 0) {\n                            const textContent = nodeRef.nodeValue.trim();\n                            if (textContent === '') {\n                                // useless whitespace node at the document root\n                                orgLocationNode.remove();\n                                return;\n                            }\n                        }\n                        const commentBeforeTextNode = doc.createComment(childId);\n                        commentBeforeTextNode.nodeValue = `${TEXT_NODE_ID}.${childId}`;\n                        nodeRef.parentNode.insertBefore(commentBeforeTextNode, nodeRef);\n                    }\n                }\n                let orgLocationNodeId = `${ORG_LOCATION_ID}.${childId}`;\n                const orgLocationParentNode = orgLocationNode.parentElement;\n                if (orgLocationParentNode) {\n                    if (orgLocationParentNode['s-en'] === '') {\n                        // ending with a \".\" means that the parent element\n                        // of this node's original location is a SHADOW dom element\n                        // and this node is apart of the root level light dom\n                        orgLocationNodeId += `.`;\n                    }\n                    else if (orgLocationParentNode['s-en'] === 'c') {\n                        // ending with a \".c\" means that the parent element\n                        // of this node's original location is a SCOPED element\n                        // and this node is apart of the root level light dom\n                        orgLocationNodeId += `.c`;\n                    }\n                }\n                orgLocationNode.nodeValue = orgLocationNodeId;\n            }\n        });\n    }\n};\nconst parseVNodeAnnotations = (doc, node, docData, orgLocationNodes) => {\n    if (node == null) {\n        return;\n    }\n    if (node['s-nr'] != null) {\n        orgLocationNodes.push(node);\n    }\n    if (node.nodeType === 1 /* ElementNode */) {\n        node.childNodes.forEach(childNode => {\n            const hostRef = getHostRef(childNode);\n            if (hostRef != null && !docData.staticComponents.has(childNode.nodeName.toLowerCase())) {\n                const cmpData = {\n                    nodeIds: 0,\n                };\n                insertVNodeAnnotations(doc, childNode, hostRef.$vnode$, docData, cmpData);\n            }\n            parseVNodeAnnotations(doc, childNode, docData, orgLocationNodes);\n        });\n    }\n};\nconst insertVNodeAnnotations = (doc, hostElm, vnode, docData, cmpData) => {\n    if (vnode != null) {\n        const hostId = ++docData.hostIds;\n        hostElm.setAttribute(HYDRATE_ID, hostId);\n        if (hostElm['s-cr'] != null) {\n            hostElm['s-cr'].nodeValue = `${CONTENT_REF_ID}.${hostId}`;\n        }\n        if (vnode.$children$ != null) {\n            const depth = 0;\n            vnode.$children$.forEach((vnodeChild, index) => {\n                insertChildVNodeAnnotations(doc, vnodeChild, cmpData, hostId, depth, index);\n            });\n        }\n        if (hostElm && vnode && vnode.$elm$ && !hostElm.hasAttribute('c-id')) {\n            const parent = hostElm.parentElement;\n            if (parent && parent.childNodes) {\n                const parentChildNodes = Array.from(parent.childNodes);\n                const comment = parentChildNodes.find(node => node.nodeType === 8 /* CommentNode */ && node['s-sr']);\n                if (comment) {\n                    const index = parentChildNodes.indexOf(hostElm) - 1;\n                    vnode.$elm$.setAttribute(HYDRATE_CHILD_ID, `${comment['s-host-id']}.${comment['s-node-id']}.0.${index}`);\n                }\n            }\n        }\n    }\n};\nconst insertChildVNodeAnnotations = (doc, vnodeChild, cmpData, hostId, depth, index) => {\n    const childElm = vnodeChild.$elm$;\n    if (childElm == null) {\n        return;\n    }\n    const nodeId = cmpData.nodeIds++;\n    const childId = `${hostId}.${nodeId}.${depth}.${index}`;\n    childElm['s-host-id'] = hostId;\n    childElm['s-node-id'] = nodeId;\n    if (childElm.nodeType === 1 /* ElementNode */) {\n        childElm.setAttribute(HYDRATE_CHILD_ID, childId);\n    }\n    else if (childElm.nodeType === 3 /* TextNode */) {\n        const parentNode = childElm.parentNode;\n        const nodeName = parentNode.nodeName;\n        if (nodeName !== 'STYLE' && nodeName !== 'SCRIPT') {\n            const textNodeId = `${TEXT_NODE_ID}.${childId}`;\n            const commentBeforeTextNode = doc.createComment(textNodeId);\n            parentNode.insertBefore(commentBeforeTextNode, childElm);\n        }\n    }\n    else if (childElm.nodeType === 8 /* CommentNode */) {\n        if (childElm['s-sr']) {\n            const slotName = childElm['s-sn'] || '';\n            const slotNodeId = `${SLOT_NODE_ID}.${childId}.${slotName}`;\n            childElm.nodeValue = slotNodeId;\n        }\n    }\n    if (vnodeChild.$children$ != null) {\n        const childDepth = depth + 1;\n        vnodeChild.$children$.forEach((vnode, index) => {\n            insertChildVNodeAnnotations(doc, vnode, cmpData, hostId, childDepth, index);\n        });\n    }\n};\nconst setPlatformOptions = (opts) => Object.assign(plt, opts);\nconst Fragment = (_, children) => children;\nconst hostRefs = new WeakMap();\nconst getHostRef = (ref) => hostRefs.get(ref);\nconst registerInstance = (lazyInstance, hostRef) => hostRefs.set((hostRef.$lazyInstance$ = lazyInstance), hostRef);\nconst registerHost = (elm, cmpMeta) => {\n    const hostRef = {\n        $flags$: 0,\n        $hostElement$: elm,\n        $cmpMeta$: cmpMeta,\n        $instanceValues$: new Map(),\n    };\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev) {\n        hostRef.$renderCount$ = 0;\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.method && _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.lazyLoad) {\n        hostRef.$onInstancePromise$ = new Promise(r => (hostRef.$onInstanceResolve$ = r));\n    }\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncLoading) {\n        hostRef.$onReadyPromise$ = new Promise(r => (hostRef.$onReadyResolve$ = r));\n        elm['s-p'] = [];\n        elm['s-rc'] = [];\n    }\n    addHostEventListeners(elm, hostRef, cmpMeta.$listeners$, false);\n    return hostRefs.set(elm, hostRef);\n};\nconst isMemberInElement = (elm, memberName) => memberName in elm;\nconst consoleError = (e, el) => (customError || console.error)(e, el);\nconst STENCIL_DEV_MODE = _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isTesting\n    ? ['STENCIL:'] // E2E testing\n    : ['%cstencil', 'color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px'];\nconst consoleDevError = (...m) => console.error(...STENCIL_DEV_MODE, ...m);\nconst consoleDevWarn = (...m) => console.warn(...STENCIL_DEV_MODE, ...m);\nconst consoleDevInfo = (...m) => console.info(...STENCIL_DEV_MODE, ...m);\nconst setErrorHandler = (handler) => customError = handler;\nconst cmpModules = /*@__PURE__*/ new Map();\nconst loadModule = (cmpMeta, hostRef, hmrVersionId) => {\n    // loadModuleImport\n    const exportName = cmpMeta.$tagName$.replace(/-/g, '_');\n    const bundleId = cmpMeta.$lazyBundleId$;\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev && typeof bundleId !== 'string') {\n        consoleDevError(`Trying to lazily load component <${cmpMeta.$tagName$}> with style mode \"${hostRef.$modeName$}\", but it does not exist.`);\n        return undefined;\n    }\n    const module = !_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hotModuleReplacement ? cmpModules.get(bundleId) : false;\n    if (module) {\n        return module[exportName];\n    }\n    return __webpack_require__(\"./node_modules/@stencil/core/internal/client lazy recursive ^\\\\.\\\\/.*\\\\.entry\\\\.js.*$ include: \\\\.entry\\\\.js$ exclude: \\\\.system\\\\.entry\\\\.js$\")(`./${bundleId}.entry.js${_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hotModuleReplacement && hmrVersionId ? '?s-hmr=' + hmrVersionId : ''}`).then(importedModule => {\n        if (!_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.hotModuleReplacement) {\n            cmpModules.set(bundleId, importedModule);\n        }\n        return importedModule[exportName];\n    }, consoleError);\n};\nconst styles = new Map();\nconst modeResolutionChain = [];\nconst queueDomReads = [];\nconst queueDomWrites = [];\nconst queueDomWritesLow = [];\nconst queueTask = (queue, write) => (cb) => {\n    queue.push(cb);\n    if (!queuePending) {\n        queuePending = true;\n        if (write && plt.$flags$ & 4 /* queueSync */) {\n            nextTick(flush);\n        }\n        else {\n            plt.raf(flush);\n        }\n    }\n};\nconst consume = (queue) => {\n    for (let i = 0; i < queue.length; i++) {\n        try {\n            queue[i](performance.now());\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    queue.length = 0;\n};\nconst consumeTimeout = (queue, timeout) => {\n    let i = 0;\n    let ts = 0;\n    while (i < queue.length && (ts = performance.now()) < timeout) {\n        try {\n            queue[i++](ts);\n        }\n        catch (e) {\n            consoleError(e);\n        }\n    }\n    if (i === queue.length) {\n        queue.length = 0;\n    }\n    else if (i !== 0) {\n        queue.splice(0, i);\n    }\n};\nconst flush = () => {\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncQueue) {\n        queueCongestion++;\n    }\n    // always force a bunch of medium callbacks to run, but still have\n    // a throttle on how many can run in a certain time\n    // DOM READS!!!\n    consume(queueDomReads);\n    // DOM WRITES!!!\n    if (_stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.asyncQueue) {\n        const timeout = (plt.$flags$ & 6 /* queueMask */) === 2 /* appLoaded */ ? performance.now() + 14 * Math.ceil(queueCongestion * (1.0 / 10.0)) : Infinity;\n        consumeTimeout(queueDomWrites, timeout);\n        consumeTimeout(queueDomWritesLow, timeout);\n        if (queueDomWrites.length > 0) {\n            queueDomWritesLow.push(...queueDomWrites);\n            queueDomWrites.length = 0;\n        }\n        if ((queuePending = queueDomReads.length + queueDomWrites.length + queueDomWritesLow.length > 0)) {\n            // still more to do yet, but we've run out of time\n            // let's let this thing cool off and try again in the next tick\n            plt.raf(flush);\n        }\n        else {\n            queueCongestion = 0;\n        }\n    }\n    else {\n        consume(queueDomWrites);\n        if ((queuePending = queueDomReads.length > 0)) {\n            // still more to do yet, but we've run out of time\n            // let's let this thing cool off and try again in the next tick\n            plt.raf(flush);\n        }\n    }\n};\nconst nextTick = /*@__PURE__*/ (cb) => promiseResolve().then(cb);\nconst readTask = /*@__PURE__*/ queueTask(queueDomReads, false);\nconst writeTask = /*@__PURE__*/ queueTask(queueDomWrites, true);\nconst Build = {\n    isDev: _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isDev ? true : false,\n    isBrowser: true,\n    isServer: false,\n    isTesting: _stencil_core_internal_app_data__WEBPACK_IMPORTED_MODULE_0__.BUILD.isTesting ? true : false,\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN0ZW5jaWwvY29yZS9pbnRlcm5hbC9jbGllbnQvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDbUU7QUFDbkU7QUFDQSxZQUFZLDZFQUFnQjtBQUM1Qiw4QkFBOEI7QUFDOUI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdGQUFtQixJQUFJLDRFQUFlO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSx5Q0FBeUMsbUZBQXNCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0VBQWtCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyRkFBOEI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHFGQUF3QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkVBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkZBQWdDO0FBQ3hDO0FBQ0EsUUFBUSwyRkFBOEI7QUFDdEM7QUFDQSxRQUFRLHlGQUE0QjtB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LG9CQUFvQix1RkFBMEI7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxzS0FJUCxHQUFHLEVBQUUsU0FBUyxXQUFXLHVGQUEwQixpREFBaUQsQ0FBQyxDQUFDO0FBQzFHLGFBQWEsdUZBQTBCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDZFQUFnQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkVBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHdFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxlQUFlLDRFQUFlO0FBQzlCO0FBQ3dFO0FBQ3N2QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHN0ZW5jaWwvY29yZS9pbnRlcm5hbC9jbGllbnQvaW5kZXguanM/NWFkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgc2NvcGVJZDtcbmxldCBjb250ZW50UmVmO1xubGV0IGhvc3RUYWdOYW1lO1xubGV0IGN1c3RvbUVycm9yO1xubGV0IGkgPSAwO1xubGV0IHVzZU5hdGl2ZVNoYWRvd0RvbSA9IGZhbHNlO1xubGV0IGNoZWNrU2xvdEZhbGxiYWNrVmlzaWJpbGl0eSA9IGZhbHNlO1xubGV0IGNoZWNrU2xvdFJlbG9jYXRlID0gZmFsc2U7XG5sZXQgaXNTdmdNb2RlID0gZmFsc2U7XG5sZXQgcmVuZGVyaW5nUmVmID0gbnVsbDtcbmxldCBxdWV1ZUNvbmdlc3Rpb24gPSAwO1xubGV0IHF1ZXVlUGVuZGluZyA9IGZhbHNlO1xuLypcbiBTdGVuY2lsIENsaWVudCBQbGF0Zm9ybSB2Mi41LjIgfCBNSVQgTGljZW5zZWQgfCBodHRwczovL3N0ZW5jaWxqcy5jb21cbiAqL1xuaW1wb3J0IHsgQlVJTEQsIE5BTUVTUEFDRSB9IGZyb20gJ0BzdGVuY2lsL2NvcmUvaW50ZXJuYWwvYXBwLWRhdGEnO1xuY29uc3Qgd2luID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB7fTtcbmNvbnN0IENTUyA9IEJVSUxELmNzc1ZhclNoaW0gPyB3aW4uQ1NTIDogbnVsbDtcbmNvbnN0IGRvYyA9IHdpbi5kb2N1bWVudCB8fCB7IGhlYWQ6IHt9IH07XG5jb25zdCBIID0gKHdpbi5IVE1MRWxlbWVudCB8fCBjbGFzcyB7XG59KTtcbmNvbnN0IHBsdCA9IHtcbiAgICAkZmxhZ3MkOiAwLFxuICAgICRyZXNvdXJjZXNVcmwkOiAnJyxcbiAgICBqbXA6IGggPT4gaCgpLFxuICAgIHJhZjogaCA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaCksXG4gICAgYWVsOiAoZWwsIGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdHMpID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lciwgb3B0cyksXG4gICAgcmVsOiAoZWwsIGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdHMpID0+IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lciwgb3B0cyksXG4gICAgY2U6IChldmVudE5hbWUsIG9wdHMpID0+IG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIG9wdHMpLFxufTtcbmNvbnN0IHN1cHBvcnRzU2hhZG93ID0gQlVJTEQuc2hhZG93RG9tU2hpbSAmJiBCVUlMRC5zaGFkb3dEb20gPyAvKkBfX1BVUkVfXyovICgoKSA9PiAoZG9jLmhlYWQuYXR0YWNoU2hhZG93ICsgJycpLmluZGV4T2YoJ1tuYXRpdmUnKSA+IC0xKSgpIDogdHJ1ZTtcbmNvbnN0IHN1cHBvcnRzTGlzdGVuZXJPcHRpb25zID0gLypAX19QVVJFX18qLyAoKCkgPT4ge1xuICAgIGxldCBzdXBwb3J0c0xpc3RlbmVyT3B0aW9ucyA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdlJywgbnVsbCwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICBzdXBwb3J0c0xpc3RlbmVyT3B0aW9ucyA9IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7IH1cbiAgICByZXR1cm4gc3VwcG9ydHNMaXN0ZW5lck9wdGlvbnM7XG59KSgpO1xuY29uc3QgcHJvbWlzZVJlc29sdmUgPSAodikgPT4gUHJvbWlzZS5yZXNvbHZlKHYpO1xuY29uc3Qgc3VwcG9ydHNDb25zdHJ1Y3RpYmxlU3R5bGVzaGVldHMgPSBCVUlMRC5jb25zdHJ1Y3RhYmxlQ1NTXG4gICAgPyAvKkBfX1BVUkVfXyovICgoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXcgQ1NTU3R5bGVTaGVldCgpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiAobmV3IENTU1N0eWxlU2hlZXQoKSkucmVwbGFjZSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KSgpXG4gICAgOiBmYWxzZTtcbmNvbnN0IENvbnRleHQgPSB7fTtcbmNvbnN0IGFkZEhvc3RFdmVudExpc3RlbmVycyA9IChlbG0sIGhvc3RSZWYsIGxpc3RlbmVycywgYXR0YWNoUGFyZW50TGlzdGVuZXJzKSA9PiB7XG4gICAgaWYgKEJVSUxELmhvc3RMaXN0ZW5lciAmJiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBjYWxsZWQgaW1tZWRpYXRlbHkgd2l0aGluIHRoZSBlbGVtZW50J3MgY29uc3RydWN0b3JcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBvdXIgZXZlbnQgbGlzdGVuZXJzIG9uIHRoZSBob3N0IGVsZW1lbnRcbiAgICAgICAgLy8gd2UgZG8gdGhpcyBub3cgc28gdGhhdCB3ZSBjYW4gbGlzdGVuIHRvIGV2ZW50cyB0aGF0IG1heVxuICAgICAgICAvLyBoYXZlIGZpcmVkIGV2ZW4gYmVmb3JlIHRoZSBpbnN0YW5jZSBpcyByZWFkeVxuICAgICAgICBpZiAoQlVJTEQuaG9zdExpc3RlbmVyVGFyZ2V0UGFyZW50KSB7XG4gICAgICAgICAgICAvLyB0aGlzIGNvbXBvbmVudCBtYXkgaGF2ZSBldmVudCBsaXN0ZW5lcnMgdGhhdCBzaG91bGQgYmUgYXR0YWNoZWQgdG8gdGhlIHBhcmVudFxuICAgICAgICAgICAgaWYgKGF0dGFjaFBhcmVudExpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYmVpbmcgcmFuIGZyb20gd2l0aGluIHRoZSBjb25uZWN0ZWRDYWxsYmFja1xuICAgICAgICAgICAgICAgIC8vIHdoaWNoIGlzIGltcG9ydGFudCBzbyB0aGF0IHdlIGtub3cgdGhlIGhvc3QgZWxlbWVudCBhY3R1YWxseSBoYXMgYSBwYXJlbnQgZWxlbWVudFxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgdGhlIGxpc3RlbmVycyB0byBvbmx5IGhhdmUgdGhlIG9uZXMgdGhhdCBBUkUgYmVpbmcgYXR0YWNoZWQgdG8gdGhlIHBhcmVudFxuICAgICAgICAgICAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5maWx0ZXIoKFtmbGFnc10pID0+IGZsYWdzICYgMzIgLyogVGFyZ2V0UGFyZW50ICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYmVpbmcgcmFuIGZyb20gd2l0aGluIHRoZSBjb21wb25lbnQgY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAvLyBldmVyeXRoaW5nIEJVVCB0aGUgcGFyZW50IGVsZW1lbnQgbGlzdGVuZXJzIHNob3VsZCBiZSBhdHRhY2hlZCBhdCB0aGlzIHRpbWVcbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IHRoZSBsaXN0ZW5lcnMgdGhhdCBhcmUgTk9UIGJlaW5nIGF0dGFjaGVkIHRvIHRoZSBwYXJlbnRcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZmlsdGVyKChbZmxhZ3NdKSA9PiAhKGZsYWdzICYgMzIgLyogVGFyZ2V0UGFyZW50ICovKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGlzdGVuZXJzLm1hcCgoW2ZsYWdzLCBuYW1lLCBtZXRob2RdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBCVUlMRC5ob3N0TGlzdGVuZXJUYXJnZXQgPyBnZXRIb3N0TGlzdGVuZXJUYXJnZXQoZWxtLCBmbGFncykgOiBlbG07XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gaG9zdExpc3RlbmVyUHJveHkoaG9zdFJlZiwgbWV0aG9kKTtcbiAgICAgICAgICAgIGNvbnN0IG9wdHMgPSBob3N0TGlzdGVuZXJPcHRzKGZsYWdzKTtcbiAgICAgICAgICAgIHBsdC5hZWwodGFyZ2V0LCBuYW1lLCBoYW5kbGVyLCBvcHRzKTtcbiAgICAgICAgICAgIChob3N0UmVmLiRybUxpc3RlbmVycyQgPSBob3N0UmVmLiRybUxpc3RlbmVycyQgfHwgW10pLnB1c2goKCkgPT4gcGx0LnJlbCh0YXJnZXQsIG5hbWUsIGhhbmRsZXIsIG9wdHMpKTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcbmNvbnN0IGhvc3RMaXN0ZW5lclByb3h5ID0gKGhvc3RSZWYsIG1ldGhvZE5hbWUpID0+IChldikgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChCVUlMRC5sYXp5TG9hZCkge1xuICAgICAgICAgICAgaWYgKGhvc3RSZWYuJGZsYWdzJCAmIDI1NiAvKiBpc0xpc3RlblJlYWR5ICovKSB7XG4gICAgICAgICAgICAgICAgLy8gaW5zdGFuY2UgaXMgcmVhZHksIGxldCdzIGNhbGwgaXQncyBtZW1iZXIgbWV0aG9kIGZvciB0aGlzIGV2ZW50XG4gICAgICAgICAgICAgICAgaG9zdFJlZi4kbGF6eUluc3RhbmNlJFttZXRob2ROYW1lXShldik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAoaG9zdFJlZi4kcXVldWVkTGlzdGVuZXJzJCA9IGhvc3RSZWYuJHF1ZXVlZExpc3RlbmVycyQgfHwgW10pLnB1c2goW21ldGhvZE5hbWUsIGV2XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBob3N0UmVmLiRob3N0RWxlbWVudCRbbWV0aG9kTmFtZV0oZXYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGVFcnJvcihlKTtcbiAgICB9XG59O1xuY29uc3QgZ2V0SG9zdExpc3RlbmVyVGFyZ2V0ID0gKGVsbSwgZmxhZ3MpID0+IHtcbiAgICBpZiAoQlVJTEQuaG9zdExpc3RlbmVyVGFyZ2V0RG9jdW1lbnQgJiYgZmxhZ3MgJiA0IC8qIFRhcmdldERvY3VtZW50ICovKVxuICAgICAgICByZXR1cm4gZG9jO1xuICAgIGlmIChCVUlMRC5ob3N0TGlzdGVuZXJUYXJnZXRXaW5kb3cgJiYgZmxhZ3MgJiA4IC8qIFRhcmdldFdpbmRvdyAqLylcbiAgICAgICAgcmV0dXJuIHdpbjtcbiAgICBpZiAoQlVJTEQuaG9zdExpc3RlbmVyVGFyZ2V0Qm9keSAmJiBmbGFncyAmIDE2IC8qIFRhcmdldEJvZHkgKi8pXG4gICAgICAgIHJldHVybiBkb2MuYm9keTtcbiAgICBpZiAoQlVJTEQuaG9zdExpc3RlbmVyVGFyZ2V0UGFyZW50ICYmIGZsYWdzICYgMzIgLyogVGFyZ2V0UGFyZW50ICovKVxuICAgICAgICByZXR1cm4gZWxtLnBhcmVudEVsZW1lbnQ7XG4gICAgcmV0dXJuIGVsbTtcbn07XG4vLyBwcmV0dGllci1pZ25vcmVcbmNvbnN0IGhvc3RMaXN0ZW5lck9wdHMgPSAoZmxhZ3MpID0+IHN1cHBvcnRzTGlzdGVuZXJPcHRpb25zXG4gICAgPyAoe1xuICAgICAgICBwYXNzaXZlOiAoZmxhZ3MgJiAxIC8qIFBhc3NpdmUgKi8pICE9PSAwLFxuICAgICAgICBjYXB0dXJlOiAoZmxhZ3MgJiAyIC8qIENhcHR1cmUgKi8pICE9PSAwLFxuICAgIH0pXG4gICAgOiAoZmxhZ3MgJiAyIC8qIENhcHR1cmUgKi8pICE9PSAwO1xuY29uc3QgQ09OVEVOVF9SRUZfSUQgPSAncic7XG5jb25zdCBPUkdfTE9DQVRJT05fSUQgPSAnbyc7XG5jb25zdCBTTE9UX05PREVfSUQgPSAncyc7XG5jb25zdCBURVhUX05PREVfSUQgPSAndCc7XG5jb25zdCBIWURSQVRFX0lEID0gJ3MtaWQnO1xuY29uc3QgSFlEUkFURURfU1RZTEVfSUQgPSAnc3R5LWlkJztcbmNvbnN0IEhZRFJBVEVfQ0hJTERfSUQgPSAnYy1pZCc7XG5jb25zdCBIWURSQVRFRF9DU1MgPSAne3Zpc2liaWxpdHk6aGlkZGVufS5oeWRyYXRlZHt2aXNpYmlsaXR5OmluaGVyaXR9JztcbmNvbnN0IFhMSU5LX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xuY29uc3QgY3JlYXRlVGltZSA9IChmbk5hbWUsIHRhZ05hbWUgPSAnJykgPT4ge1xuICAgIGlmIChCVUlMRC5wcm9maWxlICYmIHBlcmZvcm1hbmNlLm1hcmspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYHN0OiR7Zm5OYW1lfToke3RhZ05hbWV9OiR7aSsrfWA7XG4gICAgICAgIC8vIFN0YXJ0XG4gICAgICAgIHBlcmZvcm1hbmNlLm1hcmsoa2V5KTtcbiAgICAgICAgLy8gRW5kXG4gICAgICAgIHJldHVybiAoKSA9PiBwZXJmb3JtYW5jZS5tZWFzdXJlKGBbU3RlbmNpbF0gJHtmbk5hbWV9KCkgPCR7dGFnTmFtZX0+YCwga2V5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH07XG4gICAgfVxufTtcbmNvbnN0IHVuaXF1ZVRpbWUgPSAoa2V5LCBtZWFzdXJlVGV4dCkgPT4ge1xuICAgIGlmIChCVUlMRC5wcm9maWxlICYmIHBlcmZvcm1hbmNlLm1hcmspIHtcbiAgICAgICAgaWYgKHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoa2V5KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHBlcmZvcm1hbmNlLm1hcmsoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUobWVhc3VyZVRleHQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlLm1lYXN1cmUobWVhc3VyZVRleHQsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9O1xuICAgIH1cbn07XG5jb25zdCBpbnNwZWN0ID0gKHJlZikgPT4ge1xuICAgIGNvbnN0IGhvc3RSZWYgPSBnZXRIb3N0UmVmKHJlZik7XG4gICAgaWYgKCFob3N0UmVmKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGZsYWdzID0gaG9zdFJlZi4kZmxhZ3MkO1xuICAgIGNvbnN0IGhvc3RFbGVtZW50ID0gaG9zdFJlZi4kaG9zdEVsZW1lbnQkO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlckNvdW50OiBob3N0UmVmLiRyZW5kZXJDb3VudCQsXG4gICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICBoYXNSZW5kZXJlZDogISEoZmxhZ3MgJiAyIC8qIGhhc1JlbmRlcmVkICovKSxcbiAgICAgICAgICAgIGhhc0Nvbm5lY3RlZDogISEoZmxhZ3MgJiAxIC8qIGhhc0Nvbm5lY3RlZCAqLyksXG4gICAgICAgICAgICBpc1dhaXRpbmdGb3JDaGlsZHJlbjogISEoZmxhZ3MgJiA0IC8qIGlzV2FpdGluZ0ZvckNoaWxkcmVuICovKSxcbiAgICAgICAgICAgIGlzQ29uc3RydWN0aW5nSW5zdGFuY2U6ICEhKGZsYWdzICYgOCAvKiBpc0NvbnN0cnVjdGluZ0luc3RhbmNlICovKSxcbiAgICAgICAgICAgIGlzUXVldWVkRm9yVXBkYXRlOiAhIShmbGFncyAmIDE2IC8qIGlzUXVldWVkRm9yVXBkYXRlICovKSxcbiAgICAgICAgICAgIGhhc0luaXRpYWxpemVkQ29tcG9uZW50OiAhIShmbGFncyAmIDMyIC8qIGhhc0luaXRpYWxpemVkQ29tcG9uZW50ICovKSxcbiAgICAgICAgICAgIGhhc0xvYWRlZENvbXBvbmVudDogISEoZmxhZ3MgJiA2NCAvKiBoYXNMb2FkZWRDb21wb25lbnQgKi8pLFxuICAgICAgICAgICAgaXNXYXRjaFJlYWR5OiAhIShmbGFncyAmIDEyOCAvKiBpc1dhdGNoUmVhZHkgKi8pLFxuICAgICAgICAgICAgaXNMaXN0ZW5SZWFkeTogISEoZmxhZ3MgJiAyNTYgLyogaXNMaXN0ZW5SZWFkeSAqLyksXG4gICAgICAgICAgICBuZWVkc1JlcmVuZGVyOiAhIShmbGFncyAmIDUxMiAvKiBuZWVkc1JlcmVuZGVyICovKSxcbiAgICAgICAgfSxcbiAgICAgICAgaW5zdGFuY2VWYWx1ZXM6IGhvc3RSZWYuJGluc3RhbmNlVmFsdWVzJCxcbiAgICAgICAgYW5jZXN0b3JDb21wb25lbnQ6IGhvc3RSZWYuJGFuY2VzdG9yQ29tcG9uZW50JCxcbiAgICAgICAgaG9zdEVsZW1lbnQsXG4gICAgICAgIGxhenlJbnN0YW5jZTogaG9zdFJlZi4kbGF6eUluc3RhbmNlJCxcbiAgICAgICAgdm5vZGU6IGhvc3RSZWYuJHZub2RlJCxcbiAgICAgICAgbW9kZU5hbWU6IGhvc3RSZWYuJG1vZGVOYW1lJCxcbiAgICAgICAgb25SZWFkeVByb21pc2U6IGhvc3RSZWYuJG9uUmVhZHlQcm9taXNlJCxcbiAgICAgICAgb25SZWFkeVJlc29sdmU6IGhvc3RSZWYuJG9uUmVhZHlSZXNvbHZlJCxcbiAgICAgICAgb25JbnN0YW5jZVByb21pc2U6IGhvc3RSZWYuJG9uSW5zdGFuY2VQcm9taXNlJCxcbiAgICAgICAgb25JbnN0YW5jZVJlc29sdmU6IGhvc3RSZWYuJG9uSW5zdGFuY2VSZXNvbHZlJCxcbiAgICAgICAgb25SZW5kZXJSZXNvbHZlOiBob3N0UmVmLiRvblJlbmRlclJlc29sdmUkLFxuICAgICAgICBxdWV1ZWRMaXN0ZW5lcnM6IGhvc3RSZWYuJHF1ZXVlZExpc3RlbmVycyQsXG4gICAgICAgIHJtTGlzdGVuZXJzOiBob3N0UmVmLiRybUxpc3RlbmVycyQsXG4gICAgICAgIFsncy1pZCddOiBob3N0RWxlbWVudFsncy1pZCddLFxuICAgICAgICBbJ3MtY3InXTogaG9zdEVsZW1lbnRbJ3MtY3InXSxcbiAgICAgICAgWydzLWxyJ106IGhvc3RFbGVtZW50WydzLWxyJ10sXG4gICAgICAgIFsncy1wJ106IGhvc3RFbGVtZW50WydzLXAnXSxcbiAgICAgICAgWydzLXJjJ106IGhvc3RFbGVtZW50WydzLXJjJ10sXG4gICAgICAgIFsncy1zYyddOiBob3N0RWxlbWVudFsncy1zYyddLFxuICAgIH07XG59O1xuY29uc3QgaW5zdGFsbERldlRvb2xzID0gKCkgPT4ge1xuICAgIGlmIChCVUlMRC5kZXZUb29scykge1xuICAgICAgICBjb25zdCBzdGVuY2lsID0gKHdpbi5zdGVuY2lsID0gd2luLnN0ZW5jaWwgfHwge30pO1xuICAgICAgICBjb25zdCBvcmlnaW5hbEluc3BlY3QgPSBzdGVuY2lsLmluc3BlY3Q7XG4gICAgICAgIHN0ZW5jaWwuaW5zcGVjdCA9IChyZWYpID0+IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBpbnNwZWN0KHJlZik7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCAmJiB0eXBlb2Ygb3JpZ2luYWxJbnNwZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gb3JpZ2luYWxJbnNwZWN0KHJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgIH1cbn07XG5jb25zdCByb290QXBwbGllZFN0eWxlcyA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZWdpc3RlclN0eWxlID0gKHNjb3BlSWQsIGNzc1RleHQsIGFsbG93Q1MpID0+IHtcbiAgICBsZXQgc3R5bGUgPSBzdHlsZXMuZ2V0KHNjb3BlSWQpO1xuICAgIGlmIChzdXBwb3J0c0NvbnN0cnVjdGlibGVTdHlsZXNoZWV0cyAmJiBhbGxvd0NTKSB7XG4gICAgICAgIHN0eWxlID0gKHN0eWxlIHx8IG5ldyBDU1NTdHlsZVNoZWV0KCkpO1xuICAgICAgICBzdHlsZS5yZXBsYWNlKGNzc1RleHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3R5bGUgPSBjc3NUZXh0O1xuICAgIH1cbiAgICBzdHlsZXMuc2V0KHNjb3BlSWQsIHN0eWxlKTtcbn07XG5jb25zdCBhZGRTdHlsZSA9IChzdHlsZUNvbnRhaW5lck5vZGUsIGNtcE1ldGEsIG1vZGUsIGhvc3RFbG0pID0+IHtcbiAgICBsZXQgc2NvcGVJZCA9IGdldFNjb3BlSWQoY21wTWV0YSwgbW9kZSk7XG4gICAgbGV0IHN0eWxlID0gc3R5bGVzLmdldChzY29wZUlkKTtcbiAgICBpZiAoIUJVSUxELmF0dGFjaFN0eWxlcykge1xuICAgICAgICByZXR1cm4gc2NvcGVJZDtcbiAgICB9XG4gICAgLy8gaWYgYW4gZWxlbWVudCBpcyBOT1QgY29ubmVjdGVkIHRoZW4gZ2V0Um9vdE5vZGUoKSB3aWxsIHJldHVybiB0aGUgd3Jvbmcgcm9vdCBub2RlXG4gICAgLy8gc28gdGhlIGZhbGxiYWNrIGlzIHRvIGFsd2F5cyB1c2UgdGhlIGRvY3VtZW50IGZvciB0aGUgcm9vdCBub2RlIGluIHRob3NlIGNhc2VzXG4gICAgc3R5bGVDb250YWluZXJOb2RlID0gc3R5bGVDb250YWluZXJOb2RlLm5vZGVUeXBlID09PSAxMSAvKiBEb2N1bWVudEZyYWdtZW50ICovID8gc3R5bGVDb250YWluZXJOb2RlIDogZG9jO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgICBpZiAodHlwZW9mIHN0eWxlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc3R5bGVDb250YWluZXJOb2RlID0gc3R5bGVDb250YWluZXJOb2RlLmhlYWQgfHwgc3R5bGVDb250YWluZXJOb2RlO1xuICAgICAgICAgICAgbGV0IGFwcGxpZWRTdHlsZXMgPSByb290QXBwbGllZFN0eWxlcy5nZXQoc3R5bGVDb250YWluZXJOb2RlKTtcbiAgICAgICAgICAgIGxldCBzdHlsZUVsbTtcbiAgICAgICAgICAgIGlmICghYXBwbGllZFN0eWxlcykge1xuICAgICAgICAgICAgICAgIHJvb3RBcHBsaWVkU3R5bGVzLnNldChzdHlsZUNvbnRhaW5lck5vZGUsIChhcHBsaWVkU3R5bGVzID0gbmV3IFNldCgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWFwcGxpZWRTdHlsZXMuaGFzKHNjb3BlSWQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKEJVSUxELmh5ZHJhdGVDbGllbnRTaWRlICYmIHN0eWxlQ29udGFpbmVyTm9kZS5ob3N0ICYmIChzdHlsZUVsbSA9IHN0eWxlQ29udGFpbmVyTm9kZS5xdWVyeVNlbGVjdG9yKGBbJHtIWURSQVRFRF9TVFlMRV9JRH09XCIke3Njb3BlSWR9XCJdYCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgb25seSBoYXBwZW5pbmcgb24gbmF0aXZlIHNoYWRvdy1kb20sIGRvIG5vdCBuZWVkcyBDU1MgdmFyIHNoaW1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGVFbG0uaW5uZXJIVE1MID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQlVJTEQuY3NzVmFyU2hpbSAmJiBwbHQuJGNzc1NoaW0kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZUVsbSA9IHBsdC4kY3NzU2hpbSQuY3JlYXRlSG9zdFN0eWxlKGhvc3RFbG0sIHNjb3BlSWQsIHN0eWxlLCAhIShjbXBNZXRhLiRmbGFncyQgJiAxMCAvKiBuZWVkc1Njb3BlZEVuY2Fwc3VsYXRpb24gKi8pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Njb3BlSWQgPSBzdHlsZUVsbVsncy1zYyddO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Njb3BlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZUlkID0gbmV3U2NvcGVJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIGFkZCB0aGlzIHN0eWxlSUQgdG8gdGhlIGFwcGxpZWRTdHlsZXMgU2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIGNzc1ZhclNoaW0gbWlnaHQgbmVlZCB0byBhcHBseSBzZXZlcmFsIGRpZmZlcmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0eWxlc2hlZXRzIGZvciB0aGUgc2FtZSBjb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWVkU3R5bGVzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlRWxtID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZUVsbS5pbm5lckhUTUwgPSBzdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoQlVJTEQuaHlkcmF0ZVNlcnZlclNpZGUgfHwgQlVJTEQuaG90TW9kdWxlUmVwbGFjZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlRWxtLnNldEF0dHJpYnV0ZShIWURSQVRFRF9TVFlMRV9JRCwgc2NvcGVJZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGVDb250YWluZXJOb2RlLmluc2VydEJlZm9yZShzdHlsZUVsbSwgc3R5bGVDb250YWluZXJOb2RlLnF1ZXJ5U2VsZWN0b3IoJ2xpbmsnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhcHBsaWVkU3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGxpZWRTdHlsZXMuYWRkKHNjb3BlSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChCVUlMRC5jb25zdHJ1Y3RhYmxlQ1NTICYmICFzdHlsZUNvbnRhaW5lck5vZGUuYWRvcHRlZFN0eWxlU2hlZXRzLmluY2x1ZGVzKHN0eWxlKSkge1xuICAgICAgICAgICAgc3R5bGVDb250YWluZXJOb2RlLmFkb3B0ZWRTdHlsZVNoZWV0cyA9IFsuLi5zdHlsZUNvbnRhaW5lck5vZGUuYWRvcHRlZFN0eWxlU2hlZXRzLCBzdHlsZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNjb3BlSWQ7XG59O1xuY29uc3QgYXR0YWNoU3R5bGVzID0gKGhvc3RSZWYpID0+IHtcbiAgICBjb25zdCBjbXBNZXRhID0gaG9zdFJlZi4kY21wTWV0YSQ7XG4gICAgY29uc3QgZWxtID0gaG9zdFJlZi4kaG9zdEVsZW1lbnQkO1xuICAgIGNvbnN0IGZsYWdzID0gY21wTWV0YS4kZmxhZ3MkO1xuICAgIGNvbnN0IGVuZEF0dGFjaFN0eWxlcyA9IGNyZWF0ZVRpbWUoJ2F0dGFjaFN0eWxlcycsIGNtcE1ldGEuJHRhZ05hbWUkKTtcbiAgICBjb25zdCBzY29wZUlkID0gYWRkU3R5bGUoQlVJTEQuc2hhZG93RG9tICYmIHN1cHBvcnRzU2hhZG93ICYmIGVsbS5zaGFkb3dSb290ID8gZWxtLnNoYWRvd1Jvb3QgOiBlbG0uZ2V0Um9vdE5vZGUoKSwgY21wTWV0YSwgaG9zdFJlZi4kbW9kZU5hbWUkLCBlbG0pO1xuICAgIGlmICgoQlVJTEQuc2hhZG93RG9tIHx8IEJVSUxELnNjb3BlZCkgJiYgQlVJTEQuY3NzQW5ub3RhdGlvbnMgJiYgZmxhZ3MgJiAxMCAvKiBuZWVkc1Njb3BlZEVuY2Fwc3VsYXRpb24gKi8pIHtcbiAgICAgICAgLy8gb25seSByZXF1aXJlZCB3aGVuIHdlJ3JlIE5PVCB1c2luZyBuYXRpdmUgc2hhZG93IGRvbSAoc2xvdClcbiAgICAgICAgLy8gb3IgdGhpcyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBuYXRpdmUgc2hhZG93IGRvbVxuICAgICAgICAvLyBhbmQgdGhpcyBob3N0IGVsZW1lbnQgd2FzIE5PVCBjcmVhdGVkIHdpdGggU1NSXG4gICAgICAgIC8vIGxldCdzIHBpY2sgb3V0IHRoZSBpbm5lciBjb250ZW50IGZvciBzbG90IHByb2plY3Rpb25cbiAgICAgICAgLy8gY3JlYXRlIGEgbm9kZSB0byByZXByZXNlbnQgd2hlcmUgdGhlIG9yaWdpbmFsXG4gICAgICAgIC8vIGNvbnRlbnQgd2FzIGZpcnN0IHBsYWNlZCwgd2hpY2ggaXMgdXNlZnVsIGxhdGVyIG9uXG4gICAgICAgIC8vIERPTSBXUklURSEhXG4gICAgICAgIGVsbVsncy1zYyddID0gc2NvcGVJZDtcbiAgICAgICAgZWxtLmNsYXNzTGlzdC5hZGQoc2NvcGVJZCArICctaCcpO1xuICAgICAgICBpZiAoQlVJTEQuc2NvcGVkICYmIGZsYWdzICYgMiAvKiBzY29wZWRDc3NFbmNhcHN1bGF0aW9uICovKSB7XG4gICAgICAgICAgICBlbG0uY2xhc3NMaXN0LmFkZChzY29wZUlkICsgJy1zJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW5kQXR0YWNoU3R5bGVzKCk7XG59O1xuY29uc3QgZ2V0U2NvcGVJZCA9IChjbXAsIG1vZGUpID0+ICdzYy0nICsgKEJVSUxELm1vZGUgJiYgbW9kZSAmJiBjbXAuJGZsYWdzJCAmIDMyIC8qIGhhc01vZGUgKi8gPyBjbXAuJHRhZ05hbWUkICsgJy0nICsgbW9kZSA6IGNtcC4kdGFnTmFtZSQpO1xuY29uc3QgY29udmVydFNjb3BlZFRvU2hhZG93ID0gKGNzcykgPT4gY3NzLnJlcGxhY2UoL1xcL1xcKiFAKFteXFwvXSspXFwqXFwvW15cXHtdK1xcey9nLCAnJDF7Jyk7XG4vLyBQcml2YXRlXG5jb25zdCBjb21wdXRlTW9kZSA9IChlbG0pID0+IG1vZGVSZXNvbHV0aW9uQ2hhaW4ubWFwKGggPT4gaChlbG0pKS5maW5kKG0gPT4gISFtKTtcbi8vIFB1YmxpY1xuY29uc3Qgc2V0TW9kZSA9IChoYW5kbGVyKSA9PiBtb2RlUmVzb2x1dGlvbkNoYWluLnB1c2goaGFuZGxlcik7XG5jb25zdCBnZXRNb2RlID0gKHJlZikgPT4gZ2V0SG9zdFJlZihyZWYpLiRtb2RlTmFtZSQ7XG4vKipcbiAqIERlZmF1bHQgc3R5bGUgbW9kZSBpZFxuICovXG4vKipcbiAqIFJldXNhYmxlIGVtcHR5IG9iai9hcnJheVxuICogRG9uJ3QgYWRkIHZhbHVlcyB0byB0aGVzZSEhXG4gKi9cbmNvbnN0IEVNUFRZX09CSiA9IHt9O1xuLyoqXG4gKiBOYW1lc3BhY2VzXG4gKi9cbmNvbnN0IFNWR19OUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5jb25zdCBIVE1MX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnO1xuY29uc3QgaXNEZWYgPSAodikgPT4gdiAhPSBudWxsO1xuY29uc3QgaXNDb21wbGV4VHlwZSA9IChvKSA9PiB7XG4gICAgLy8gaHR0cHM6Ly9qc3BlcmYuY29tL3R5cGVvZi1mbi1vYmplY3QvNVxuICAgIG8gPSB0eXBlb2YgbztcbiAgICByZXR1cm4gbyA9PT0gJ29iamVjdCcgfHwgbyA9PT0gJ2Z1bmN0aW9uJztcbn07XG4vKipcbiAqIFByb2R1Y3Rpb24gaCgpIGZ1bmN0aW9uIGJhc2VkIG9uIFByZWFjdCBieVxuICogSmFzb24gTWlsbGVyIChAZGV2ZWxvcGl0KVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZGV2ZWxvcGl0L3ByZWFjdC9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKlxuICogTW9kaWZpZWQgZm9yIFN0ZW5jaWwncyBjb21waWxlciBhbmQgdmRvbVxuICovXG4vLyBjb25zdCBzdGFjazogYW55W10gPSBbXTtcbi8vIGV4cG9ydCBmdW5jdGlvbiBoKG5vZGVOYW1lOiBzdHJpbmcgfCBkLkZ1bmN0aW9uYWxDb21wb25lbnQsIHZub2RlRGF0YTogZC5Qcm9wc1R5cGUsIGNoaWxkPzogZC5DaGlsZFR5cGUpOiBkLlZOb2RlO1xuLy8gZXhwb3J0IGZ1bmN0aW9uIGgobm9kZU5hbWU6IHN0cmluZyB8IGQuRnVuY3Rpb25hbENvbXBvbmVudCwgdm5vZGVEYXRhOiBkLlByb3BzVHlwZSwgLi4uY2hpbGRyZW46IGQuQ2hpbGRUeXBlW10pOiBkLlZOb2RlO1xuY29uc3QgaCA9IChub2RlTmFtZSwgdm5vZGVEYXRhLCAuLi5jaGlsZHJlbikgPT4ge1xuICAgIGxldCBjaGlsZCA9IG51bGw7XG4gICAgbGV0IGtleSA9IG51bGw7XG4gICAgbGV0IHNsb3ROYW1lID0gbnVsbDtcbiAgICBsZXQgc2ltcGxlID0gZmFsc2U7XG4gICAgbGV0IGxhc3RTaW1wbGUgPSBmYWxzZTtcbiAgICBsZXQgdk5vZGVDaGlsZHJlbiA9IFtdO1xuICAgIGNvbnN0IHdhbGsgPSAoYykgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoaWxkID0gY1tpXTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkKSkge1xuICAgICAgICAgICAgICAgIHdhbGsoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQgIT0gbnVsbCAmJiB0eXBlb2YgY2hpbGQgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIGlmICgoc2ltcGxlID0gdHlwZW9mIG5vZGVOYW1lICE9PSAnZnVuY3Rpb24nICYmICFpc0NvbXBsZXhUeXBlKGNoaWxkKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBTdHJpbmcoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChCVUlMRC5pc0RldiAmJiB0eXBlb2Ygbm9kZU5hbWUgIT09ICdmdW5jdGlvbicgJiYgY2hpbGQuJGZsYWdzJCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGVEZXZFcnJvcihgdk5vZGUgcGFzc2VkIGFzIGNoaWxkcmVuIGhhcyB1bmV4cGVjdGVkIHR5cGUuXG5NYWtlIHN1cmUgaXQncyB1c2luZyB0aGUgY29ycmVjdCBoKCkgZnVuY3Rpb24uXG5FbXB0eSBvYmplY3RzIGNhbiBhbHNvIGJlIHRoZSBjYXVzZSwgbG9vayBmb3IgSlNYIGNvbW1lbnRzIHRoYXQgYmVjYW1lIG9iamVjdHMuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzaW1wbGUgJiYgbGFzdFNpbXBsZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcHJldmlvdXMgY2hpbGQgd2FzIHNpbXBsZSAoc3RyaW5nKSwgd2UgbWVyZ2UgYm90aFxuICAgICAgICAgICAgICAgICAgICB2Tm9kZUNoaWxkcmVuW3ZOb2RlQ2hpbGRyZW4ubGVuZ3RoIC0gMV0uJHRleHQkICs9IGNoaWxkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXBwZW5kIGEgbmV3IHZOb2RlLCBpZiBpdCdzIHRleHQsIHdlIGNyZWF0ZSBhIHRleHQgdk5vZGVcbiAgICAgICAgICAgICAgICAgICAgdk5vZGVDaGlsZHJlbi5wdXNoKHNpbXBsZSA/IG5ld1ZOb2RlKG51bGwsIGNoaWxkKSA6IGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdFNpbXBsZSA9IHNpbXBsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgd2FsayhjaGlsZHJlbik7XG4gICAgaWYgKHZub2RlRGF0YSkge1xuICAgICAgICBpZiAoQlVJTEQuaXNEZXYgJiYgbm9kZU5hbWUgPT09ICdpbnB1dCcpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlSW5wdXRQcm9wZXJ0aWVzKHZub2RlRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm9ybWFsaXplIGNsYXNzIC8gY2xhc3NuYW1lIGF0dHJpYnV0ZXNcbiAgICAgICAgaWYgKEJVSUxELnZkb21LZXkgJiYgdm5vZGVEYXRhLmtleSkge1xuICAgICAgICAgICAga2V5ID0gdm5vZGVEYXRhLmtleTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQuc2xvdFJlbG9jYXRpb24gJiYgdm5vZGVEYXRhLm5hbWUpIHtcbiAgICAgICAgICAgIHNsb3ROYW1lID0gdm5vZGVEYXRhLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEJVSUxELnZkb21DbGFzcykge1xuICAgICAgICAgICAgY29uc3QgY2xhc3NEYXRhID0gdm5vZGVEYXRhLmNsYXNzTmFtZSB8fCB2bm9kZURhdGEuY2xhc3M7XG4gICAgICAgICAgICBpZiAoY2xhc3NEYXRhKSB7XG4gICAgICAgICAgICAgICAgdm5vZGVEYXRhLmNsYXNzID1cbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGNsYXNzRGF0YSAhPT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY2xhc3NEYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICA6IE9iamVjdC5rZXlzKGNsYXNzRGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGsgPT4gY2xhc3NEYXRhW2tdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qb2luKCcgJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKEJVSUxELmlzRGV2ICYmIHZOb2RlQ2hpbGRyZW4uc29tZShpc0hvc3QpKSB7XG4gICAgICAgIGNvbnNvbGVEZXZFcnJvcihgVGhlIDxIb3N0PiBtdXN0IGJlIHRoZSBzaW5nbGUgcm9vdCBjb21wb25lbnQuIE1ha2Ugc3VyZTpcbi0gWW91IGFyZSBOT1QgdXNpbmcgaG9zdERhdGEoKSBhbmQgPEhvc3Q+IGluIHRoZSBzYW1lIGNvbXBvbmVudC5cbi0gPEhvc3Q+IGlzIHVzZWQgb25jZSwgYW5kIGl0J3MgdGhlIHNpbmdsZSByb290IGNvbXBvbmVudCBvZiB0aGUgcmVuZGVyKCkgZnVuY3Rpb24uYCk7XG4gICAgfVxuICAgIGlmIChCVUlMRC52ZG9tRnVuY3Rpb25hbCAmJiB0eXBlb2Ygbm9kZU5hbWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm9kZU5hbWUgaXMgYSBmdW5jdGlvbmFsIGNvbXBvbmVudFxuICAgICAgICByZXR1cm4gbm9kZU5hbWUodm5vZGVEYXRhID09PSBudWxsID8ge30gOiB2bm9kZURhdGEsIHZOb2RlQ2hpbGRyZW4sIHZkb21GblV0aWxzKTtcbiAgICB9XG4gICAgY29uc3Qgdm5vZGUgPSBuZXdWTm9kZShub2RlTmFtZSwgbnVsbCk7XG4gICAgdm5vZGUuJGF0dHJzJCA9IHZub2RlRGF0YTtcbiAgICBpZiAodk5vZGVDaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZub2RlLiRjaGlsZHJlbiQgPSB2Tm9kZUNoaWxkcmVuO1xuICAgIH1cbiAgICBpZiAoQlVJTEQudmRvbUtleSkge1xuICAgICAgICB2bm9kZS4ka2V5JCA9IGtleTtcbiAgICB9XG4gICAgaWYgKEJVSUxELnNsb3RSZWxvY2F0aW9uKSB7XG4gICAgICAgIHZub2RlLiRuYW1lJCA9IHNsb3ROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG59O1xuY29uc3QgbmV3Vk5vZGUgPSAodGFnLCB0ZXh0KSA9PiB7XG4gICAgY29uc3Qgdm5vZGUgPSB7XG4gICAgICAgICRmbGFncyQ6IDAsXG4gICAgICAgICR0YWckOiB0YWcsXG4gICAgICAgICR0ZXh0JDogdGV4dCxcbiAgICAgICAgJGVsbSQ6IG51bGwsXG4gICAgICAgICRjaGlsZHJlbiQ6IG51bGwsXG4gICAgfTtcbiAgICBpZiAoQlVJTEQudmRvbUF0dHJpYnV0ZSkge1xuICAgICAgICB2bm9kZS4kYXR0cnMkID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKEJVSUxELnZkb21LZXkpIHtcbiAgICAgICAgdm5vZGUuJGtleSQgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoQlVJTEQuc2xvdFJlbG9jYXRpb24pIHtcbiAgICAgICAgdm5vZGUuJG5hbWUkID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xufTtcbmNvbnN0IEhvc3QgPSB7fTtcbmNvbnN0IGlzSG9zdCA9IChub2RlKSA9PiBub2RlICYmIG5vZGUuJHRhZyQgPT09IEhvc3Q7XG5jb25zdCB2ZG9tRm5VdGlscyA9IHtcbiAgICBmb3JFYWNoOiAoY2hpbGRyZW4sIGNiKSA9PiBjaGlsZHJlbi5tYXAoY29udmVydFRvUHVibGljKS5mb3JFYWNoKGNiKSxcbiAgICBtYXA6IChjaGlsZHJlbiwgY2IpID0+IGNoaWxkcmVuLm1hcChjb252ZXJ0VG9QdWJsaWMpLm1hcChjYikubWFwKGNvbnZlcnRUb1ByaXZhdGUpLFxufTtcbmNvbnN0IGNvbnZlcnRUb1B1YmxpYyA9IChub2RlKSA9PiAoe1xuICAgIHZhdHRyczogbm9kZS4kYXR0cnMkLFxuICAgIHZjaGlsZHJlbjogbm9kZS4kY2hpbGRyZW4kLFxuICAgIHZrZXk6IG5vZGUuJGtleSQsXG4gICAgdm5hbWU6IG5vZGUuJG5hbWUkLFxuICAgIHZ0YWc6IG5vZGUuJHRhZyQsXG4gICAgdnRleHQ6IG5vZGUuJHRleHQkLFxufSk7XG5jb25zdCBjb252ZXJ0VG9Qcml2YXRlID0gKG5vZGUpID0+IHtcbiAgICBpZiAodHlwZW9mIG5vZGUudnRhZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb25zdCB2bm9kZURhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBub2RlLnZhdHRycyk7XG4gICAgICAgIGlmIChub2RlLnZrZXkpIHtcbiAgICAgICAgICAgIHZub2RlRGF0YS5rZXkgPSBub2RlLnZrZXk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUudm5hbWUpIHtcbiAgICAgICAgICAgIHZub2RlRGF0YS5uYW1lID0gbm9kZS52bmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaChub2RlLnZ0YWcsIHZub2RlRGF0YSwgLi4uKG5vZGUudmNoaWxkcmVuIHx8IFtdKSk7XG4gICAgfVxuICAgIGNvbnN0IHZub2RlID0gbmV3Vk5vZGUobm9kZS52dGFnLCBub2RlLnZ0ZXh0KTtcbiAgICB2bm9kZS4kYXR0cnMkID0gbm9kZS52YXR0cnM7XG4gICAgdm5vZGUuJGNoaWxkcmVuJCA9IG5vZGUudmNoaWxkcmVuO1xuICAgIHZub2RlLiRrZXkkID0gbm9kZS52a2V5O1xuICAgIHZub2RlLiRuYW1lJCA9IG5vZGUudm5hbWU7XG4gICAgcmV0dXJuIHZub2RlO1xufTtcbmNvbnN0IHZhbGlkYXRlSW5wdXRQcm9wZXJ0aWVzID0gKHZub2RlRGF0YSkgPT4ge1xuICAgIGNvbnN0IHByb3BzID0gT2JqZWN0LmtleXModm5vZGVEYXRhKTtcbiAgICBjb25zdCB0eXBlSW5kZXggPSBwcm9wcy5pbmRleE9mKCd0eXBlJyk7XG4gICAgY29uc3QgbWluSW5kZXggPSBwcm9wcy5pbmRleE9mKCdtaW4nKTtcbiAgICBjb25zdCBtYXhJbmRleCA9IHByb3BzLmluZGV4T2YoJ21heCcpO1xuICAgIGNvbnN0IHN0ZXBJbmRleCA9IHByb3BzLmluZGV4T2YoJ21pbicpO1xuICAgIGNvbnN0IHZhbHVlID0gcHJvcHMuaW5kZXhPZigndmFsdWUnKTtcbiAgICBpZiAodmFsdWUgPT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHZhbHVlIDwgdHlwZUluZGV4IHx8IHZhbHVlIDwgbWluSW5kZXggfHwgdmFsdWUgPCBtYXhJbmRleCB8fCB2YWx1ZSA8IHN0ZXBJbmRleCkge1xuICAgICAgICBjb25zb2xlRGV2V2FybihgVGhlIFwidmFsdWVcIiBwcm9wIG9mIDxpbnB1dD4gc2hvdWxkIGJlIHNldCBhZnRlciBcIm1pblwiLCBcIm1heFwiLCBcInR5cGVcIiBhbmQgXCJzdGVwXCJgKTtcbiAgICB9XG59O1xuLyoqXG4gKiBQcm9kdWN0aW9uIHNldEFjY2Vzc29yKCkgZnVuY3Rpb24gYmFzZWQgb24gUHJlYWN0IGJ5XG4gKiBKYXNvbiBNaWxsZXIgKEBkZXZlbG9waXQpXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQvcHJlYWN0L2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqXG4gKiBNb2RpZmllZCBmb3IgU3RlbmNpbCdzIGNvbXBpbGVyIGFuZCB2ZG9tXG4gKi9cbmNvbnN0IHNldEFjY2Vzc29yID0gKGVsbSwgbWVtYmVyTmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlLCBpc1N2ZywgZmxhZ3MpID0+IHtcbiAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgIGxldCBpc1Byb3AgPSBpc01lbWJlckluRWxlbWVudChlbG0sIG1lbWJlck5hbWUpO1xuICAgICAgICBsZXQgbG4gPSBtZW1iZXJOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChCVUlMRC52ZG9tQ2xhc3MgJiYgbWVtYmVyTmFtZSA9PT0gJ2NsYXNzJykge1xuICAgICAgICAgICAgY29uc3QgY2xhc3NMaXN0ID0gZWxtLmNsYXNzTGlzdDtcbiAgICAgICAgICAgIGNvbnN0IG9sZENsYXNzZXMgPSBwYXJzZUNsYXNzTGlzdChvbGRWYWx1ZSk7XG4gICAgICAgICAgICBjb25zdCBuZXdDbGFzc2VzID0gcGFyc2VDbGFzc0xpc3QobmV3VmFsdWUpO1xuICAgICAgICAgICAgY2xhc3NMaXN0LnJlbW92ZSguLi5vbGRDbGFzc2VzLmZpbHRlcihjID0+IGMgJiYgIW5ld0NsYXNzZXMuaW5jbHVkZXMoYykpKTtcbiAgICAgICAgICAgIGNsYXNzTGlzdC5hZGQoLi4ubmV3Q2xhc3Nlcy5maWx0ZXIoYyA9PiBjICYmICFvbGRDbGFzc2VzLmluY2x1ZGVzKGMpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQlVJTEQudmRvbVN0eWxlICYmIG1lbWJlck5hbWUgPT09ICdzdHlsZScpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBzdHlsZSBhdHRyaWJ1dGUsIGNzcyBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXNcbiAgICAgICAgICAgIGlmIChCVUlMRC51cGRhdGFibGUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXdWYWx1ZSB8fCBuZXdWYWx1ZVtwcm9wXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUJVSUxELmh5ZHJhdGVTZXJ2ZXJTaWRlICYmIHByb3AuaW5jbHVkZXMoJy0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsbS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsbS5zdHlsZVtwcm9wXSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wIGluIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvbGRWYWx1ZSB8fCBuZXdWYWx1ZVtwcm9wXSAhPT0gb2xkVmFsdWVbcHJvcF0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFCVUlMRC5oeWRyYXRlU2VydmVyU2lkZSAmJiBwcm9wLmluY2x1ZGVzKCctJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsbS5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wLCBuZXdWYWx1ZVtwcm9wXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbG0uc3R5bGVbcHJvcF0gPSBuZXdWYWx1ZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChCVUlMRC52ZG9tS2V5ICYmIG1lbWJlck5hbWUgPT09ICdrZXknKVxuICAgICAgICAgICAgO1xuICAgICAgICBlbHNlIGlmIChCVUlMRC52ZG9tUmVmICYmIG1lbWJlck5hbWUgPT09ICdyZWYnKSB7XG4gICAgICAgICAgICAvLyBtaW5pZmllciB3aWxsIGNsZWFuIHRoaXMgdXBcbiAgICAgICAgICAgIGlmIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlKGVsbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQlVJTEQudmRvbUxpc3RlbmVyICYmIChCVUlMRC5sYXp5TG9hZCA/ICFpc1Byb3AgOiAhZWxtLl9fbG9va3VwU2V0dGVyX18obWVtYmVyTmFtZSkpICYmIG1lbWJlck5hbWVbMF0gPT09ICdvJyAmJiBtZW1iZXJOYW1lWzFdID09PSAnbicpIHtcbiAgICAgICAgICAgIC8vIEV2ZW50IEhhbmRsZXJzXG4gICAgICAgICAgICAvLyBzbyBpZiB0aGUgbWVtYmVyIG5hbWUgc3RhcnRzIHdpdGggXCJvblwiIGFuZCB0aGUgM3JkIGNoYXJhY3RlcnMgaXNcbiAgICAgICAgICAgIC8vIGEgY2FwaXRhbCBsZXR0ZXIsIGFuZCBpdCdzIG5vdCBhbHJlYWR5IGEgbWVtYmVyIG9uIHRoZSBlbGVtZW50LFxuICAgICAgICAgICAgLy8gdGhlbiB3ZSdyZSBhc3N1bWluZyBpdCdzIGFuIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICBpZiAobWVtYmVyTmFtZVsyXSA9PT0gJy0nKSB7XG4gICAgICAgICAgICAgICAgLy8gb24tIHByZWZpeGVkIGV2ZW50c1xuICAgICAgICAgICAgICAgIC8vIGFsbG93cyB0byBiZSBleHBsaWNpdCBhYm91dCB0aGUgZG9tIGV2ZW50IHRvIGxpc3RlbiB3aXRob3V0IGFueSBtYWdpY1xuICAgICAgICAgICAgICAgIC8vIHVuZGVyIHRoZSBob29kOlxuICAgICAgICAgICAgICAgIC8vIDxteS1jbXAgb24tY2xpY2s+IC8vIGxpc3RlbnMgZm9yIFwiY2xpY2tcIlxuICAgICAgICAgICAgICAgIC8vIDxteS1jbXAgb24tQ2xpY2s+IC8vIGxpc3RlbnMgZm9yIFwiQ2xpY2tcIlxuICAgICAgICAgICAgICAgIC8vIDxteS1jbXAgb24taW9uQ2hhbmdlPiAvLyBsaXN0ZW5zIGZvciBcImlvbkNoYW5nZVwiXG4gICAgICAgICAgICAgICAgLy8gPG15LWNtcCBvbi1FVkVOVFM+IC8vIGxpc3RlbnMgZm9yIFwiRVZFTlRTXCJcbiAgICAgICAgICAgICAgICBtZW1iZXJOYW1lID0gbWVtYmVyTmFtZS5zbGljZSgzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzTWVtYmVySW5FbGVtZW50KHdpbiwgbG4pKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RhbmRhcmQgZXZlbnRcbiAgICAgICAgICAgICAgICAvLyB0aGUgSlNYIGF0dHJpYnV0ZSBjb3VsZCBoYXZlIGJlZW4gXCJvbk1vdXNlT3ZlclwiIGFuZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBtZW1iZXIgbmFtZSBcIm9ubW91c2VvdmVyXCIgaXMgb24gdGhlIHdpbmRvdydzIHByb3RvdHlwZVxuICAgICAgICAgICAgICAgIC8vIHNvIGxldCdzIGFkZCB0aGUgbGlzdGVuZXIgXCJtb3VzZW92ZXJcIiwgd2hpY2ggaXMgYWxsIGxvd2VyY2FzZWRcbiAgICAgICAgICAgICAgICBtZW1iZXJOYW1lID0gbG4uc2xpY2UoMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBjdXN0b20gZXZlbnRcbiAgICAgICAgICAgICAgICAvLyB0aGUgSlNYIGF0dHJpYnV0ZSBjb3VsZCBoYXZlIGJlZW4gXCJvbk15Q3VzdG9tRXZlbnRcIlxuICAgICAgICAgICAgICAgIC8vIHNvIGxldCdzIHRyaW0gb2ZmIHRoZSBcIm9uXCIgcHJlZml4IGFuZCBsb3dlcmNhc2UgdGhlIGZpcnN0IGNoYXJhY3RlclxuICAgICAgICAgICAgICAgIC8vIGFuZCBhZGQgdGhlIGxpc3RlbmVyIFwibXlDdXN0b21FdmVudFwiXG4gICAgICAgICAgICAgICAgLy8gZXhjZXB0IGZvciB0aGUgZmlyc3QgY2hhcmFjdGVyLCB3ZSBrZWVwIHRoZSBldmVudCBuYW1lIGNhc2VcbiAgICAgICAgICAgICAgICBtZW1iZXJOYW1lID0gbG5bMl0gKyBtZW1iZXJOYW1lLnNsaWNlKDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcGx0LnJlbChlbG0sIG1lbWJlck5hbWUsIG9sZFZhbHVlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwbHQuYWVsKGVsbSwgbWVtYmVyTmFtZSwgbmV3VmFsdWUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChCVUlMRC52ZG9tUHJvcE9yQXR0cikge1xuICAgICAgICAgICAgLy8gU2V0IHByb3BlcnR5IGlmIGl0IGV4aXN0cyBhbmQgaXQncyBub3QgYSBTVkdcbiAgICAgICAgICAgIGNvbnN0IGlzQ29tcGxleCA9IGlzQ29tcGxleFR5cGUobmV3VmFsdWUpO1xuICAgICAgICAgICAgaWYgKChpc1Byb3AgfHwgKGlzQ29tcGxleCAmJiBuZXdWYWx1ZSAhPT0gbnVsbCkpICYmICFpc1N2Zykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZWxtLnRhZ05hbWUuaW5jbHVkZXMoJy0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG4gPSBuZXdWYWx1ZSA9PSBudWxsID8gJycgOiBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIFNhZmFyaSwgbW92aW5nIHRoZSA8aW5wdXQ+IGNhcmV0IHdoZW4gcmUtYXNzaWduaW5nIHRoZSBzYW1lIHZhbHVlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lbWJlck5hbWUgPT09ICdsaXN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUHJvcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogdHJpcGxlLWVxdWFsc1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob2xkVmFsdWUgPT0gbnVsbCB8fCBlbG1bbWVtYmVyTmFtZV0gIT0gbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsbVttZW1iZXJOYW1lXSA9IG47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbG1bbWVtYmVyTmFtZV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE5lZWQgdG8gbWFudWFsbHkgdXBkYXRlIGF0dHJpYnV0ZSBpZjpcbiAgICAgICAgICAgICAqIC0gbWVtYmVyTmFtZSBpcyBub3QgYW4gYXR0cmlidXRlXG4gICAgICAgICAgICAgKiAtIGlmIHdlIGFyZSByZW5kZXJpbmcgdGhlIGhvc3QgZWxlbWVudCBpbiBvcmRlciB0byByZWZsZWN0IGF0dHJpYnV0ZVxuICAgICAgICAgICAgICogLSBpZiBpdCdzIGEgU1ZHLCBzaW5jZSBwcm9wZXJ0aWVzIG1pZ2h0IG5vdCB3b3JrIGluIDxzdmc+XG4gICAgICAgICAgICAgKiAtIGlmIHRoZSBuZXdWYWx1ZSBpcyBudWxsL3VuZGVmaW5lZCBvciAnZmFsc2UnLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsZXQgeGxpbmsgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChCVUlMRC52ZG9tWGxpbmspIHtcbiAgICAgICAgICAgICAgICBpZiAobG4gIT09IChsbiA9IGxuLnJlcGxhY2UoL154bGlua1xcOj8vLCAnJykpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlck5hbWUgPSBsbjtcbiAgICAgICAgICAgICAgICAgICAgeGxpbmsgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PSBudWxsIHx8IG5ld1ZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gZmFsc2UgfHwgZWxtLmdldEF0dHJpYnV0ZShtZW1iZXJOYW1lKSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEJVSUxELnZkb21YbGluayAmJiB4bGluaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxtLnJlbW92ZUF0dHJpYnV0ZU5TKFhMSU5LX05TLCBtZW1iZXJOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGUobWVtYmVyTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgoIWlzUHJvcCB8fCBmbGFncyAmIDQgLyogaXNIb3N0ICovIHx8IGlzU3ZnKSAmJiAhaXNDb21wbGV4KSB7XG4gICAgICAgICAgICAgICAgbmV3VmFsdWUgPSBuZXdWYWx1ZSA9PT0gdHJ1ZSA/ICcnIDogbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKEJVSUxELnZkb21YbGluayAmJiB4bGluaykge1xuICAgICAgICAgICAgICAgICAgICBlbG0uc2V0QXR0cmlidXRlTlMoWExJTktfTlMsIG1lbWJlck5hbWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsbS5zZXRBdHRyaWJ1dGUobWVtYmVyTmFtZSwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBwYXJzZUNsYXNzTGlzdFJlZ2V4ID0gL1xccy87XG5jb25zdCBwYXJzZUNsYXNzTGlzdCA9ICh2YWx1ZSkgPT4gKCF2YWx1ZSA/IFtdIDogdmFsdWUuc3BsaXQocGFyc2VDbGFzc0xpc3RSZWdleCkpO1xuY29uc3QgdXBkYXRlRWxlbWVudCA9IChvbGRWbm9kZSwgbmV3Vm5vZGUsIGlzU3ZnTW9kZSwgbWVtYmVyTmFtZSkgPT4ge1xuICAgIC8vIGlmIHRoZSBlbGVtZW50IHBhc3NlZCBpbiBpcyBhIHNoYWRvdyByb290LCB3aGljaCBpcyBhIGRvY3VtZW50IGZyYWdtZW50XG4gICAgLy8gdGhlbiB3ZSB3YW50IHRvIGJlIGFkZGluZyBhdHRycy9wcm9wcyB0byB0aGUgc2hhZG93IHJvb3QncyBcImhvc3RcIiBlbGVtZW50XG4gICAgLy8gaWYgaXQncyBub3QgYSBzaGFkb3cgcm9vdCwgdGhlbiB3ZSBhZGQgYXR0cnMvcHJvcHMgdG8gdGhlIHNhbWUgZWxlbWVudFxuICAgIGNvbnN0IGVsbSA9IG5ld1Zub2RlLiRlbG0kLm5vZGVUeXBlID09PSAxMSAvKiBEb2N1bWVudEZyYWdtZW50ICovICYmIG5ld1Zub2RlLiRlbG0kLmhvc3QgPyBuZXdWbm9kZS4kZWxtJC5ob3N0IDogbmV3Vm5vZGUuJGVsbSQ7XG4gICAgY29uc3Qgb2xkVm5vZGVBdHRycyA9IChvbGRWbm9kZSAmJiBvbGRWbm9kZS4kYXR0cnMkKSB8fCBFTVBUWV9PQko7XG4gICAgY29uc3QgbmV3Vm5vZGVBdHRycyA9IG5ld1Zub2RlLiRhdHRycyQgfHwgRU1QVFlfT0JKO1xuICAgIGlmIChCVUlMRC51cGRhdGFibGUpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGF0dHJpYnV0ZXMgbm8gbG9uZ2VyIHByZXNlbnQgb24gdGhlIHZub2RlIGJ5IHNldHRpbmcgdGhlbSB0byB1bmRlZmluZWRcbiAgICAgICAgZm9yIChtZW1iZXJOYW1lIGluIG9sZFZub2RlQXR0cnMpIHtcbiAgICAgICAgICAgIGlmICghKG1lbWJlck5hbWUgaW4gbmV3Vm5vZGVBdHRycykpIHtcbiAgICAgICAgICAgICAgICBzZXRBY2Nlc3NvcihlbG0sIG1lbWJlck5hbWUsIG9sZFZub2RlQXR0cnNbbWVtYmVyTmFtZV0sIHVuZGVmaW5lZCwgaXNTdmdNb2RlLCBuZXdWbm9kZS4kZmxhZ3MkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBhZGQgbmV3ICYgdXBkYXRlIGNoYW5nZWQgYXR0cmlidXRlc1xuICAgIGZvciAobWVtYmVyTmFtZSBpbiBuZXdWbm9kZUF0dHJzKSB7XG4gICAgICAgIHNldEFjY2Vzc29yKGVsbSwgbWVtYmVyTmFtZSwgb2xkVm5vZGVBdHRyc1ttZW1iZXJOYW1lXSwgbmV3Vm5vZGVBdHRyc1ttZW1iZXJOYW1lXSwgaXNTdmdNb2RlLCBuZXdWbm9kZS4kZmxhZ3MkKTtcbiAgICB9XG59O1xuY29uc3QgY3JlYXRlRWxtID0gKG9sZFBhcmVudFZOb2RlLCBuZXdQYXJlbnRWTm9kZSwgY2hpbGRJbmRleCwgcGFyZW50RWxtKSA9PiB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBwcmVmZXItY29uc3RcbiAgICBsZXQgbmV3Vk5vZGUgPSBuZXdQYXJlbnRWTm9kZS4kY2hpbGRyZW4kW2NoaWxkSW5kZXhdO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgZWxtO1xuICAgIGxldCBjaGlsZE5vZGU7XG4gICAgbGV0IG9sZFZOb2RlO1xuICAgIGlmIChCVUlMRC5zbG90UmVsb2NhdGlvbiAmJiAhdXNlTmF0aXZlU2hhZG93RG9tKSB7XG4gICAgICAgIC8vIHJlbWVtYmVyIGZvciBsYXRlciB3ZSBuZWVkIHRvIGNoZWNrIHRvIHJlbG9jYXRlIG5vZGVzXG4gICAgICAgIGNoZWNrU2xvdFJlbG9jYXRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKG5ld1ZOb2RlLiR0YWckID09PSAnc2xvdCcpIHtcbiAgICAgICAgICAgIGlmIChzY29wZUlkKSB7XG4gICAgICAgICAgICAgICAgLy8gc2NvcGVkIGNzcyBuZWVkcyB0byBhZGQgaXRzIHNjb3BlZCBpZCB0byB0aGUgcGFyZW50IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBwYXJlbnRFbG0uY2xhc3NMaXN0LmFkZChzY29wZUlkICsgJy1zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdWTm9kZS4kZmxhZ3MkIHw9IG5ld1ZOb2RlLiRjaGlsZHJlbiRcbiAgICAgICAgICAgICAgICA/IC8vIHNsb3QgZWxlbWVudCBoYXMgZmFsbGJhY2sgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAyIC8qIGlzU2xvdEZhbGxiYWNrICovXG4gICAgICAgICAgICAgICAgOiAvLyBzbG90IGVsZW1lbnQgZG9lcyBub3QgaGF2ZSBmYWxsYmFjayBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgIDEgLyogaXNTbG90UmVmZXJlbmNlICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChCVUlMRC5pc0RldiAmJiBuZXdWTm9kZS4kZWxtJCkge1xuICAgICAgICBjb25zb2xlRGV2RXJyb3IoYFRoZSBKU1ggJHtuZXdWTm9kZS4kdGV4dCQgIT09IG51bGwgPyBgXCIke25ld1ZOb2RlLiR0ZXh0JH1cIiB0ZXh0YCA6IGBcIiR7bmV3Vk5vZGUuJHRhZyR9XCIgZWxlbWVudGB9IG5vZGUgc2hvdWxkIG5vdCBiZSBzaGFyZWQgd2l0aGluIHRoZSBzYW1lIHJlbmRlcmVyLiBUaGUgcmVuZGVyZXIgY2FjaGVzIGVsZW1lbnQgbG9va3VwcyBpbiBvcmRlciB0byBpbXByb3ZlIHBlcmZvcm1hbmNlLiBIb3dldmVyLCBhIHNpZGUgZWZmZWN0IGZyb20gdGhpcyBpcyB0aGF0IHRoZSBleGFjdCBzYW1lIEpTWCBub2RlIHNob3VsZCBub3QgYmUgcmV1c2VkLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBwbGVhc2Ugc2VlIGh0dHBzOi8vc3RlbmNpbGpzLmNvbS9kb2NzL3RlbXBsYXRpbmctanN4I2F2b2lkLXNoYXJlZC1qc3gtbm9kZXNgKTtcbiAgICB9XG4gICAgaWYgKEJVSUxELnZkb21UZXh0ICYmIG5ld1ZOb2RlLiR0ZXh0JCAhPT0gbnVsbCkge1xuICAgICAgICAvLyBjcmVhdGUgdGV4dCBub2RlXG4gICAgICAgIGVsbSA9IG5ld1ZOb2RlLiRlbG0kID0gZG9jLmNyZWF0ZVRleHROb2RlKG5ld1ZOb2RlLiR0ZXh0JCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKEJVSUxELnNsb3RSZWxvY2F0aW9uICYmIG5ld1ZOb2RlLiRmbGFncyQgJiAxIC8qIGlzU2xvdFJlZmVyZW5jZSAqLykge1xuICAgICAgICAvLyBjcmVhdGUgYSBzbG90IHJlZmVyZW5jZSBub2RlXG4gICAgICAgIGVsbSA9IG5ld1ZOb2RlLiRlbG0kID0gQlVJTEQuaXNEZWJ1ZyB8fCBCVUlMRC5oeWRyYXRlU2VydmVyU2lkZSA/IHNsb3RSZWZlcmVuY2VEZWJ1Z05vZGUobmV3Vk5vZGUpIDogZG9jLmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChCVUlMRC5zdmcgJiYgIWlzU3ZnTW9kZSkge1xuICAgICAgICAgICAgaXNTdmdNb2RlID0gbmV3Vk5vZGUuJHRhZyQgPT09ICdzdmcnO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNyZWF0ZSBlbGVtZW50XG4gICAgICAgIGVsbSA9IG5ld1ZOb2RlLiRlbG0kID0gKEJVSUxELnN2Z1xuICAgICAgICAgICAgPyBkb2MuY3JlYXRlRWxlbWVudE5TKGlzU3ZnTW9kZSA/IFNWR19OUyA6IEhUTUxfTlMsIEJVSUxELnNsb3RSZWxvY2F0aW9uICYmIG5ld1ZOb2RlLiRmbGFncyQgJiAyIC8qIGlzU2xvdEZhbGxiYWNrICovID8gJ3Nsb3QtZmInIDogbmV3Vk5vZGUuJHRhZyQpXG4gICAgICAgICAgICA6IGRvYy5jcmVhdGVFbGVtZW50KEJVSUxELnNsb3RSZWxvY2F0aW9uICYmIG5ld1ZOb2RlLiRmbGFncyQgJiAyIC8qIGlzU2xvdEZhbGxiYWNrICovID8gJ3Nsb3QtZmInIDogbmV3Vk5vZGUuJHRhZyQpKTtcbiAgICAgICAgaWYgKEJVSUxELnN2ZyAmJiBpc1N2Z01vZGUgJiYgbmV3Vk5vZGUuJHRhZyQgPT09ICdmb3JlaWduT2JqZWN0Jykge1xuICAgICAgICAgICAgaXNTdmdNb2RlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIGNzcyBjbGFzc2VzLCBhdHRycywgcHJvcHMsIGxpc3RlbmVycywgZXRjLlxuICAgICAgICBpZiAoQlVJTEQudmRvbUF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgdXBkYXRlRWxlbWVudChudWxsLCBuZXdWTm9kZSwgaXNTdmdNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKEJVSUxELnNoYWRvd0RvbSB8fCBCVUlMRC5zY29wZWQpICYmIGlzRGVmKHNjb3BlSWQpICYmIGVsbVsncy1zaSddICE9PSBzY29wZUlkKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHNjb3BlSWQgYW5kIHRoaXMgaXMgdGhlIGluaXRpYWwgcmVuZGVyXG4gICAgICAgICAgICAvLyB0aGVuIGxldCdzIGFkZCB0aGUgc2NvcGVJZCBhcyBhIGNzcyBjbGFzc1xuICAgICAgICAgICAgZWxtLmNsYXNzTGlzdC5hZGQoKGVsbVsncy1zaSddID0gc2NvcGVJZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdWTm9kZS4kY2hpbGRyZW4kKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbmV3Vk5vZGUuJGNoaWxkcmVuJC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgbm9kZVxuICAgICAgICAgICAgICAgIGNoaWxkTm9kZSA9IGNyZWF0ZUVsbShvbGRQYXJlbnRWTm9kZSwgbmV3Vk5vZGUsIGksIGVsbSk7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIG5vZGUgY291bGQgaGF2ZSBiZWVuIG51bGxcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGVuZCBvdXIgbmV3IG5vZGVcbiAgICAgICAgICAgICAgICAgICAgZWxtLmFwcGVuZENoaWxkKGNoaWxkTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChCVUlMRC5zdmcpIHtcbiAgICAgICAgICAgIGlmIChuZXdWTm9kZS4kdGFnJCA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHJlc2V0IHRoZSBTVkcgY29udGV4dCB3aGVuIHdlJ3JlIGV4aXRpbmcgPHN2Zz4gZWxlbWVudFxuICAgICAgICAgICAgICAgIGlzU3ZnTW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZWxtLnRhZ05hbWUgPT09ICdmb3JlaWduT2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIC8vIFJlZW50ZXIgU1ZHIGNvbnRleHQgd2hlbiB3ZSdyZSBleGl0aW5nIDxmb3JlaWduT2JqZWN0PiBlbGVtZW50XG4gICAgICAgICAgICAgICAgaXNTdmdNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoQlVJTEQuc2xvdFJlbG9jYXRpb24pIHtcbiAgICAgICAgZWxtWydzLWhuJ10gPSBob3N0VGFnTmFtZTtcbiAgICAgICAgaWYgKG5ld1ZOb2RlLiRmbGFncyQgJiAoMiAvKiBpc1Nsb3RGYWxsYmFjayAqLyB8IDEgLyogaXNTbG90UmVmZXJlbmNlICovKSkge1xuICAgICAgICAgICAgLy8gcmVtZW1iZXIgdGhlIGNvbnRlbnQgcmVmZXJlbmNlIGNvbW1lbnRcbiAgICAgICAgICAgIGVsbVsncy1zciddID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIHJlbWVtYmVyIHRoZSBjb250ZW50IHJlZmVyZW5jZSBjb21tZW50XG4gICAgICAgICAgICBlbG1bJ3MtY3InXSA9IGNvbnRlbnRSZWY7XG4gICAgICAgICAgICAvLyByZW1lbWJlciB0aGUgc2xvdCBuYW1lLCBvciBlbXB0eSBzdHJpbmcgZm9yIGRlZmF1bHQgc2xvdFxuICAgICAgICAgICAgZWxtWydzLXNuJ10gPSBuZXdWTm9kZS4kbmFtZSQgfHwgJyc7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiB3ZSd2ZSBnb3QgYW4gb2xkIHZub2RlIGZvciB0aGlzIHNsb3RcbiAgICAgICAgICAgIG9sZFZOb2RlID0gb2xkUGFyZW50Vk5vZGUgJiYgb2xkUGFyZW50Vk5vZGUuJGNoaWxkcmVuJCAmJiBvbGRQYXJlbnRWTm9kZS4kY2hpbGRyZW4kW2NoaWxkSW5kZXhdO1xuICAgICAgICAgICAgaWYgKG9sZFZOb2RlICYmIG9sZFZOb2RlLiR0YWckID09PSBuZXdWTm9kZS4kdGFnJCAmJiBvbGRQYXJlbnRWTm9kZS4kZWxtJCkge1xuICAgICAgICAgICAgICAgIC8vIHdlJ3ZlIGdvdCBhbiBvbGQgc2xvdCB2bm9kZSBhbmQgdGhlIHdyYXBwZXIgaXMgYmVpbmcgcmVwbGFjZWRcbiAgICAgICAgICAgICAgICAvLyBzbyBsZXQncyBtb3ZlIHRoZSBvbGQgc2xvdCBjb250ZW50IGJhY2sgdG8gaXQncyBvcmlnaW5hbCBsb2NhdGlvblxuICAgICAgICAgICAgICAgIHB1dEJhY2tJbk9yaWdpbmFsTG9jYXRpb24ob2xkUGFyZW50Vk5vZGUuJGVsbSQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWxtO1xufTtcbmNvbnN0IHB1dEJhY2tJbk9yaWdpbmFsTG9jYXRpb24gPSAocGFyZW50RWxtLCByZWN1cnNpdmUpID0+IHtcbiAgICBwbHQuJGZsYWdzJCB8PSAxIC8qIGlzVG1wRGlzY29ubmVjdGVkICovO1xuICAgIGNvbnN0IG9sZFNsb3RDaGlsZE5vZGVzID0gcGFyZW50RWxtLmNoaWxkTm9kZXM7XG4gICAgZm9yIChsZXQgaSA9IG9sZFNsb3RDaGlsZE5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IG9sZFNsb3RDaGlsZE5vZGVzW2ldO1xuICAgICAgICBpZiAoY2hpbGROb2RlWydzLWhuJ10gIT09IGhvc3RUYWdOYW1lICYmIGNoaWxkTm9kZVsncy1vbCddKSB7XG4gICAgICAgICAgICAvLyAvLyB0aGlzIGNoaWxkIG5vZGUgaW4gdGhlIG9sZCBlbGVtZW50IGlzIGZyb20gYW5vdGhlciBjb21wb25lbnRcbiAgICAgICAgICAgIC8vIC8vIHJlbW92ZSB0aGlzIG5vZGUgZnJvbSB0aGUgb2xkIHNsb3QncyBwYXJlbnRcbiAgICAgICAgICAgIC8vIGNoaWxkTm9kZS5yZW1vdmUoKTtcbiAgICAgICAgICAgIC8vIGFuZCByZWxvY2F0ZSBpdCBiYWNrIHRvIGl0J3Mgb3JpZ2luYWwgbG9jYXRpb25cbiAgICAgICAgICAgIHBhcmVudFJlZmVyZW5jZU5vZGUoY2hpbGROb2RlKS5pbnNlcnRCZWZvcmUoY2hpbGROb2RlLCByZWZlcmVuY2VOb2RlKGNoaWxkTm9kZSkpO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBvbGQgb3JpZ2luYWwgbG9jYXRpb24gY29tbWVudCBlbnRpcmVseVxuICAgICAgICAgICAgLy8gbGF0ZXIgb24gdGhlIHBhdGNoIGZ1bmN0aW9uIHdpbGwga25vdyB3aGF0IHRvIGRvXG4gICAgICAgICAgICAvLyBhbmQgbW92ZSB0aGlzIHRvIHRoZSBjb3JyZWN0IHNwb3QgaW4gbmVlZCBiZVxuICAgICAgICAgICAgY2hpbGROb2RlWydzLW9sJ10ucmVtb3ZlKCk7XG4gICAgICAgICAgICBjaGlsZE5vZGVbJ3Mtb2wnXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNoZWNrU2xvdFJlbG9jYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVjdXJzaXZlKSB7XG4gICAgICAgICAgICBwdXRCYWNrSW5PcmlnaW5hbExvY2F0aW9uKGNoaWxkTm9kZSwgcmVjdXJzaXZlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwbHQuJGZsYWdzJCAmPSB+MSAvKiBpc1RtcERpc2Nvbm5lY3RlZCAqLztcbn07XG5jb25zdCBhZGRWbm9kZXMgPSAocGFyZW50RWxtLCBiZWZvcmUsIHBhcmVudFZOb2RlLCB2bm9kZXMsIHN0YXJ0SWR4LCBlbmRJZHgpID0+IHtcbiAgICBsZXQgY29udGFpbmVyRWxtID0gKChCVUlMRC5zbG90UmVsb2NhdGlvbiAmJiBwYXJlbnRFbG1bJ3MtY3InXSAmJiBwYXJlbnRFbG1bJ3MtY3InXS5wYXJlbnROb2RlKSB8fCBwYXJlbnRFbG0pO1xuICAgIGxldCBjaGlsZE5vZGU7XG4gICAgaWYgKEJVSUxELnNoYWRvd0RvbSAmJiBjb250YWluZXJFbG0uc2hhZG93Um9vdCAmJiBjb250YWluZXJFbG0udGFnTmFtZSA9PT0gaG9zdFRhZ05hbWUpIHtcbiAgICAgICAgY29udGFpbmVyRWxtID0gY29udGFpbmVyRWxtLnNoYWRvd1Jvb3Q7XG4gICAgfVxuICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcbiAgICAgICAgaWYgKHZub2Rlc1tzdGFydElkeF0pIHtcbiAgICAgICAgICAgIGNoaWxkTm9kZSA9IGNyZWF0ZUVsbShudWxsLCBwYXJlbnRWTm9kZSwgc3RhcnRJZHgsIHBhcmVudEVsbSk7XG4gICAgICAgICAgICBpZiAoY2hpbGROb2RlKSB7XG4gICAgICAgICAgICAgICAgdm5vZGVzW3N0YXJ0SWR4XS4kZWxtJCA9IGNoaWxkTm9kZTtcbiAgICAgICAgICAgICAgICBjb250YWluZXJFbG0uaW5zZXJ0QmVmb3JlKGNoaWxkTm9kZSwgQlVJTEQuc2xvdFJlbG9jYXRpb24gPyByZWZlcmVuY2VOb2RlKGJlZm9yZSkgOiBiZWZvcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IHJlbW92ZVZub2RlcyA9ICh2bm9kZXMsIHN0YXJ0SWR4LCBlbmRJZHgsIHZub2RlLCBlbG0pID0+IHtcbiAgICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG4gICAgICAgIGlmICgodm5vZGUgPSB2bm9kZXNbc3RhcnRJZHhdKSkge1xuICAgICAgICAgICAgZWxtID0gdm5vZGUuJGVsbSQ7XG4gICAgICAgICAgICBjYWxsTm9kZVJlZnModm5vZGUpO1xuICAgICAgICAgICAgaWYgKEJVSUxELnNsb3RSZWxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gd2UncmUgcmVtb3ZpbmcgdGhpcyBlbGVtZW50XG4gICAgICAgICAgICAgICAgLy8gc28gaXQncyBwb3NzaWJsZSB3ZSBuZWVkIHRvIHNob3cgc2xvdCBmYWxsYmFjayBjb250ZW50IG5vd1xuICAgICAgICAgICAgICAgIGNoZWNrU2xvdEZhbGxiYWNrVmlzaWJpbGl0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGVsbVsncy1vbCddKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgb3JpZ2luYWwgbG9jYXRpb24gY29tbWVudFxuICAgICAgICAgICAgICAgICAgICBlbG1bJ3Mtb2wnXS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGl0J3MgcG9zc2libGUgdGhhdCBjaGlsZCBub2RlcyBvZiB0aGUgbm9kZVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGF0J3MgYmVpbmcgcmVtb3ZlZCBhcmUgc2xvdCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICBwdXRCYWNrSW5PcmlnaW5hbExvY2F0aW9uKGVsbSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSB2bm9kZSdzIGVsZW1lbnQgZnJvbSB0aGUgZG9tXG4gICAgICAgICAgICBlbG0ucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgdXBkYXRlQ2hpbGRyZW4gPSAocGFyZW50RWxtLCBvbGRDaCwgbmV3Vk5vZGUsIG5ld0NoKSA9PiB7XG4gICAgbGV0IG9sZFN0YXJ0SWR4ID0gMDtcbiAgICBsZXQgbmV3U3RhcnRJZHggPSAwO1xuICAgIGxldCBpZHhJbk9sZCA9IDA7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBvbGRFbmRJZHggPSBvbGRDaC5sZW5ndGggLSAxO1xuICAgIGxldCBvbGRTdGFydFZub2RlID0gb2xkQ2hbMF07XG4gICAgbGV0IG9sZEVuZFZub2RlID0gb2xkQ2hbb2xkRW5kSWR4XTtcbiAgICBsZXQgbmV3RW5kSWR4ID0gbmV3Q2gubGVuZ3RoIC0gMTtcbiAgICBsZXQgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWzBdO1xuICAgIGxldCBuZXdFbmRWbm9kZSA9IG5ld0NoW25ld0VuZElkeF07XG4gICAgbGV0IG5vZGU7XG4gICAgbGV0IGVsbVRvTW92ZTtcbiAgICB3aGlsZSAob2xkU3RhcnRJZHggPD0gb2xkRW5kSWR4ICYmIG5ld1N0YXJ0SWR4IDw9IG5ld0VuZElkeCkge1xuICAgICAgICBpZiAob2xkU3RhcnRWbm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBWbm9kZSBtaWdodCBoYXZlIGJlZW4gbW92ZWQgbGVmdFxuICAgICAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9sZEVuZFZub2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5ld1N0YXJ0Vm5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5ld0VuZFZub2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XG4gICAgICAgICAgICBwYXRjaChvbGRTdGFydFZub2RlLCBuZXdTdGFydFZub2RlKTtcbiAgICAgICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1NhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICAgICAgICBwYXRjaChvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUpO1xuICAgICAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1NhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSkpIHtcbiAgICAgICAgICAgIC8vIFZub2RlIG1vdmVkIHJpZ2h0XG4gICAgICAgICAgICBpZiAoQlVJTEQuc2xvdFJlbG9jYXRpb24gJiYgKG9sZFN0YXJ0Vm5vZGUuJHRhZyQgPT09ICdzbG90JyB8fCBuZXdFbmRWbm9kZS4kdGFnJCA9PT0gJ3Nsb3QnKSkge1xuICAgICAgICAgICAgICAgIHB1dEJhY2tJbk9yaWdpbmFsTG9jYXRpb24ob2xkU3RhcnRWbm9kZS4kZWxtJC5wYXJlbnROb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXRjaChvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSk7XG4gICAgICAgICAgICBwYXJlbnRFbG0uaW5zZXJ0QmVmb3JlKG9sZFN0YXJ0Vm5vZGUuJGVsbSQsIG9sZEVuZFZub2RlLiRlbG0kLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgICAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlKSkge1xuICAgICAgICAgICAgLy8gVm5vZGUgbW92ZWQgbGVmdFxuICAgICAgICAgICAgaWYgKEJVSUxELnNsb3RSZWxvY2F0aW9uICYmIChvbGRTdGFydFZub2RlLiR0YWckID09PSAnc2xvdCcgfHwgbmV3RW5kVm5vZGUuJHRhZyQgPT09ICdzbG90JykpIHtcbiAgICAgICAgICAgICAgICBwdXRCYWNrSW5PcmlnaW5hbExvY2F0aW9uKG9sZEVuZFZub2RlLiRlbG0kLnBhcmVudE5vZGUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhdGNoKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlKTtcbiAgICAgICAgICAgIHBhcmVudEVsbS5pbnNlcnRCZWZvcmUob2xkRW5kVm5vZGUuJGVsbSQsIG9sZFN0YXJ0Vm5vZGUuJGVsbSQpO1xuICAgICAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBjcmVhdGVLZXlUb09sZElkeFxuICAgICAgICAgICAgaWR4SW5PbGQgPSAtMTtcbiAgICAgICAgICAgIGlmIChCVUlMRC52ZG9tS2V5KSB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gb2xkU3RhcnRJZHg7IGkgPD0gb2xkRW5kSWR4OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZENoW2ldICYmIG9sZENoW2ldLiRrZXkkICE9PSBudWxsICYmIG9sZENoW2ldLiRrZXkkID09PSBuZXdTdGFydFZub2RlLiRrZXkkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZHhJbk9sZCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChCVUlMRC52ZG9tS2V5ICYmIGlkeEluT2xkID49IDApIHtcbiAgICAgICAgICAgICAgICBlbG1Ub01vdmUgPSBvbGRDaFtpZHhJbk9sZF07XG4gICAgICAgICAgICAgICAgaWYgKGVsbVRvTW92ZS4kdGFnJCAhPT0gbmV3U3RhcnRWbm9kZS4kdGFnJCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gY3JlYXRlRWxtKG9sZENoICYmIG9sZENoW25ld1N0YXJ0SWR4XSwgbmV3Vk5vZGUsIGlkeEluT2xkLCBwYXJlbnRFbG0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2goZWxtVG9Nb3ZlLCBuZXdTdGFydFZub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgb2xkQ2hbaWR4SW5PbGRdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gZWxtVG9Nb3ZlLiRlbG0kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBuZXcgZWxlbWVudFxuICAgICAgICAgICAgICAgIG5vZGUgPSBjcmVhdGVFbG0ob2xkQ2ggJiYgb2xkQ2hbbmV3U3RhcnRJZHhdLCBuZXdWTm9kZSwgbmV3U3RhcnRJZHgsIHBhcmVudEVsbSk7XG4gICAgICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoQlVJTEQuc2xvdFJlbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50UmVmZXJlbmNlTm9kZShvbGRTdGFydFZub2RlLiRlbG0kKS5pbnNlcnRCZWZvcmUobm9kZSwgcmVmZXJlbmNlTm9kZShvbGRTdGFydFZub2RlLiRlbG0kKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvbGRTdGFydFZub2RlLiRlbG0kLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIG9sZFN0YXJ0Vm5vZGUuJGVsbSQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob2xkU3RhcnRJZHggPiBvbGRFbmRJZHgpIHtcbiAgICAgICAgYWRkVm5vZGVzKHBhcmVudEVsbSwgbmV3Q2hbbmV3RW5kSWR4ICsgMV0gPT0gbnVsbCA/IG51bGwgOiBuZXdDaFtuZXdFbmRJZHggKyAxXS4kZWxtJCwgbmV3Vk5vZGUsIG5ld0NoLCBuZXdTdGFydElkeCwgbmV3RW5kSWR4KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoQlVJTEQudXBkYXRhYmxlICYmIG5ld1N0YXJ0SWR4ID4gbmV3RW5kSWR4KSB7XG4gICAgICAgIHJlbW92ZVZub2RlcyhvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XG4gICAgfVxufTtcbmNvbnN0IGlzU2FtZVZub2RlID0gKHZub2RlMSwgdm5vZGUyKSA9PiB7XG4gICAgLy8gY29tcGFyZSBpZiB0d28gdm5vZGUgdG8gc2VlIGlmIHRoZXkncmUgXCJ0ZWNobmljYWxseVwiIHRoZSBzYW1lXG4gICAgLy8gbmVlZCB0byBoYXZlIHRoZSBzYW1lIGVsZW1lbnQgdGFnLCBhbmQgc2FtZSBrZXkgdG8gYmUgdGhlIHNhbWVcbiAgICBpZiAodm5vZGUxLiR0YWckID09PSB2bm9kZTIuJHRhZyQpIHtcbiAgICAgICAgaWYgKEJVSUxELnNsb3RSZWxvY2F0aW9uICYmIHZub2RlMS4kdGFnJCA9PT0gJ3Nsb3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gdm5vZGUxLiRuYW1lJCA9PT0gdm5vZGUyLiRuYW1lJDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQudmRvbUtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHZub2RlMS4ka2V5JCA9PT0gdm5vZGUyLiRrZXkkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuY29uc3QgcmVmZXJlbmNlTm9kZSA9IChub2RlKSA9PiB7XG4gICAgLy8gdGhpcyBub2RlIHdhcyByZWxvY2F0ZWQgdG8gYSBuZXcgbG9jYXRpb24gaW4gdGhlIGRvbVxuICAgIC8vIGJlY2F1c2Ugb2Ygc29tZSBvdGhlciBjb21wb25lbnQncyBzbG90XG4gICAgLy8gYnV0IHdlIHN0aWxsIGhhdmUgYW4gaHRtbCBjb21tZW50IGluIHBsYWNlIG9mIHdoZXJlXG4gICAgLy8gaXQncyBvcmlnaW5hbCBsb2NhdGlvbiB3YXMgYWNjb3JkaW5nIHRvIGl0J3Mgb3JpZ2luYWwgdmRvbVxuICAgIHJldHVybiAobm9kZSAmJiBub2RlWydzLW9sJ10pIHx8IG5vZGU7XG59O1xuY29uc3QgcGFyZW50UmVmZXJlbmNlTm9kZSA9IChub2RlKSA9PiAobm9kZVsncy1vbCddID8gbm9kZVsncy1vbCddIDogbm9kZSkucGFyZW50Tm9kZTtcbmNvbnN0IHBhdGNoID0gKG9sZFZOb2RlLCBuZXdWTm9kZSkgPT4ge1xuICAgIGNvbnN0IGVsbSA9IChuZXdWTm9kZS4kZWxtJCA9IG9sZFZOb2RlLiRlbG0kKTtcbiAgICBjb25zdCBvbGRDaGlsZHJlbiA9IG9sZFZOb2RlLiRjaGlsZHJlbiQ7XG4gICAgY29uc3QgbmV3Q2hpbGRyZW4gPSBuZXdWTm9kZS4kY2hpbGRyZW4kO1xuICAgIGNvbnN0IHRhZyA9IG5ld1ZOb2RlLiR0YWckO1xuICAgIGNvbnN0IHRleHQgPSBuZXdWTm9kZS4kdGV4dCQ7XG4gICAgbGV0IGRlZmF1bHRIb2xkZXI7XG4gICAgaWYgKCFCVUlMRC52ZG9tVGV4dCB8fCB0ZXh0ID09PSBudWxsKSB7XG4gICAgICAgIGlmIChCVUlMRC5zdmcpIHtcbiAgICAgICAgICAgIC8vIHRlc3QgaWYgd2UncmUgcmVuZGVyaW5nIGFuIHN2ZyBlbGVtZW50LCBvciBzdGlsbCByZW5kZXJpbmcgbm9kZXMgaW5zaWRlIG9mIG9uZVxuICAgICAgICAgICAgLy8gb25seSBhZGQgdGhpcyB0byB0aGUgd2hlbiB0aGUgY29tcGlsZXIgc2VlcyB3ZSdyZSB1c2luZyBhbiBzdmcgc29tZXdoZXJlXG4gICAgICAgICAgICBpc1N2Z01vZGUgPSB0YWcgPT09ICdzdmcnID8gdHJ1ZSA6IHRhZyA9PT0gJ2ZvcmVpZ25PYmplY3QnID8gZmFsc2UgOiBpc1N2Z01vZGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZWxlbWVudCBub2RlXG4gICAgICAgIGlmIChCVUlMRC52ZG9tQXR0cmlidXRlIHx8IEJVSUxELnJlZmxlY3QpIHtcbiAgICAgICAgICAgIGlmIChCVUlMRC5zbG90ICYmIHRhZyA9PT0gJ3Nsb3QnKVxuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCByZW5kZXIgb2YgYW4gZWxlbWVudCBPUiBpdCdzIGFuIHVwZGF0ZVxuICAgICAgICAgICAgICAgIC8vIEFORCB3ZSBhbHJlYWR5IGtub3cgaXQncyBwb3NzaWJsZSBpdCBjb3VsZCBoYXZlIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHVwZGF0ZXMgdGhlIGVsZW1lbnQncyBjc3MgY2xhc3NlcywgYXR0cnMsIHByb3BzLCBsaXN0ZW5lcnMsIGV0Yy5cbiAgICAgICAgICAgICAgICB1cGRhdGVFbGVtZW50KG9sZFZOb2RlLCBuZXdWTm9kZSwgaXNTdmdNb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQudXBkYXRhYmxlICYmIG9sZENoaWxkcmVuICE9PSBudWxsICYmIG5ld0NoaWxkcmVuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZXJlJ3MgY2hpbGQgdm5vZGVzIGZvciBib3RoIHRoZSBvbGQgYW5kIG5ldyB2bm9kZXNcbiAgICAgICAgICAgIHVwZGF0ZUNoaWxkcmVuKGVsbSwgb2xkQ2hpbGRyZW4sIG5ld1ZOb2RlLCBuZXdDaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV3Q2hpbGRyZW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIG5vIG9sZCBjaGlsZCB2bm9kZXMsIGJ1dCB0aGVyZSBhcmUgbmV3IGNoaWxkIHZub2RlcyB0byBhZGRcbiAgICAgICAgICAgIGlmIChCVUlMRC51cGRhdGFibGUgJiYgQlVJTEQudmRvbVRleHQgJiYgb2xkVk5vZGUuJHRleHQkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlIG9sZCB2bm9kZSB3YXMgdGV4dCwgc28gYmUgc3VyZSB0byBjbGVhciBpdCBvdXRcbiAgICAgICAgICAgICAgICBlbG0udGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFkZCB0aGUgbmV3IHZub2RlIGNoaWxkcmVuXG4gICAgICAgICAgICBhZGRWbm9kZXMoZWxtLCBudWxsLCBuZXdWTm9kZSwgbmV3Q2hpbGRyZW4sIDAsIG5ld0NoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEJVSUxELnVwZGF0YWJsZSAmJiBvbGRDaGlsZHJlbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbm8gbmV3IGNoaWxkIHZub2RlcywgYnV0IHRoZXJlIGFyZSBvbGQgY2hpbGQgdm5vZGVzIHRvIHJlbW92ZVxuICAgICAgICAgICAgcmVtb3ZlVm5vZGVzKG9sZENoaWxkcmVuLCAwLCBvbGRDaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQuc3ZnICYmIGlzU3ZnTW9kZSAmJiB0YWcgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICBpc1N2Z01vZGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChCVUlMRC52ZG9tVGV4dCAmJiBCVUlMRC5zbG90UmVsb2NhdGlvbiAmJiAoZGVmYXVsdEhvbGRlciA9IGVsbVsncy1jciddKSkge1xuICAgICAgICAvLyB0aGlzIGVsZW1lbnQgaGFzIHNsb3R0ZWQgY29udGVudFxuICAgICAgICBkZWZhdWx0SG9sZGVyLnBhcmVudE5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH1cbiAgICBlbHNlIGlmIChCVUlMRC52ZG9tVGV4dCAmJiBvbGRWTm9kZS4kdGV4dCQgIT09IHRleHQpIHtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSB0ZXh0IGNvbnRlbnQgZm9yIHRoZSB0ZXh0IG9ubHkgdm5vZGVcbiAgICAgICAgLy8gYW5kIGFsc28gb25seSBpZiB0aGUgdGV4dCBpcyBkaWZmZXJlbnQgdGhhbiBiZWZvcmVcbiAgICAgICAgZWxtLmRhdGEgPSB0ZXh0O1xuICAgIH1cbn07XG5jb25zdCB1cGRhdGVGYWxsYmFja1Nsb3RWaXNpYmlsaXR5ID0gKGVsbSkgPT4ge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogcHJlZmVyLWNvbnN0XG4gICAgbGV0IGNoaWxkTm9kZXMgPSBlbG0uY2hpbGROb2RlcztcbiAgICBsZXQgY2hpbGROb2RlO1xuICAgIGxldCBpO1xuICAgIGxldCBpbGVuO1xuICAgIGxldCBqO1xuICAgIGxldCBzbG90TmFtZUF0dHI7XG4gICAgbGV0IG5vZGVUeXBlO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBjaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGlsZW47IGkrKykge1xuICAgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGVzW2ldO1xuICAgICAgICBpZiAoY2hpbGROb2RlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGROb2RlWydzLXNyJ10pIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGEgc2xvdCBmYWxsYmFjayBub2RlXG4gICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSBzbG90IG5hbWUgZm9yIHRoaXMgc2xvdCByZWZlcmVuY2Ugbm9kZVxuICAgICAgICAgICAgICAgIHNsb3ROYW1lQXR0ciA9IGNoaWxkTm9kZVsncy1zbiddO1xuICAgICAgICAgICAgICAgIC8vIGJ5IGRlZmF1bHQgYWx3YXlzIHNob3cgYSBmYWxsYmFjayBzbG90IG5vZGVcbiAgICAgICAgICAgICAgICAvLyB0aGVuIGhpZGUgaXQgaWYgdGhlcmUgYXJlIG90aGVyIHNsb3RzIGluIHRoZSBsaWdodCBkb21cbiAgICAgICAgICAgICAgICBjaGlsZE5vZGUuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGlsZW47IGorKykge1xuICAgICAgICAgICAgICAgICAgICBub2RlVHlwZSA9IGNoaWxkTm9kZXNbal0ubm9kZVR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZE5vZGVzW2pdWydzLWhuJ10gIT09IGNoaWxkTm9kZVsncy1obiddIHx8IHNsb3ROYW1lQXR0ciAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgc2libGluZyBub2RlIGlzIGZyb20gYSBkaWZmZXJlbnQgY29tcG9uZW50IE9SIGlzIGEgbmFtZWQgZmFsbGJhY2sgc2xvdCBub2RlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZVR5cGUgPT09IDEgLyogRWxlbWVudE5vZGUgKi8gJiYgc2xvdE5hbWVBdHRyID09PSBjaGlsZE5vZGVzW2pdLmdldEF0dHJpYnV0ZSgnc2xvdCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGROb2RlLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGEgZGVmYXVsdCBmYWxsYmFjayBzbG90IG5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFueSBlbGVtZW50IG9yIHRleHQgbm9kZSAod2l0aCBjb250ZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIGhpZGUgdGhlIGRlZmF1bHQgZmFsbGJhY2sgc2xvdCBub2RlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZVR5cGUgPT09IDEgLyogRWxlbWVudE5vZGUgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobm9kZVR5cGUgPT09IDMgLyogVGV4dE5vZGUgKi8gJiYgY2hpbGROb2Rlc1tqXS50ZXh0Q29udGVudC50cmltKCkgIT09ICcnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkTm9kZS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8ga2VlcCBkcmlsbGluZyBkb3duXG4gICAgICAgICAgICB1cGRhdGVGYWxsYmFja1Nsb3RWaXNpYmlsaXR5KGNoaWxkTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgcmVsb2NhdGVOb2RlcyA9IFtdO1xuY29uc3QgcmVsb2NhdGVTbG90Q29udGVudCA9IChlbG0pID0+IHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHByZWZlci1jb25zdFxuICAgIGxldCBjaGlsZE5vZGU7XG4gICAgbGV0IG5vZGU7XG4gICAgbGV0IGhvc3RDb250ZW50Tm9kZXM7XG4gICAgbGV0IHNsb3ROYW1lQXR0cjtcbiAgICBsZXQgcmVsb2NhdGVOb2RlRGF0YTtcbiAgICBsZXQgajtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGNoaWxkTm9kZXMgPSBlbG0uY2hpbGROb2RlcztcbiAgICBsZXQgaWxlbiA9IGNoaWxkTm9kZXMubGVuZ3RoO1xuICAgIGZvciAoOyBpIDwgaWxlbjsgaSsrKSB7XG4gICAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZXNbaV07XG4gICAgICAgIGlmIChjaGlsZE5vZGVbJ3Mtc3InXSAmJiAobm9kZSA9IGNoaWxkTm9kZVsncy1jciddKSAmJiBub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IGdvdCB0aGUgY29udGVudCByZWZlcmVuY2UgY29tbWVudCBub2RlXG4gICAgICAgICAgICAvLyB0aGVuIHdlIGdvdCBpdCdzIHBhcmVudCwgd2hpY2ggaXMgd2hlcmUgYWxsIHRoZSBob3N0IGNvbnRlbnQgaXMgaW4gbm93XG4gICAgICAgICAgICBob3N0Q29udGVudE5vZGVzID0gbm9kZS5wYXJlbnROb2RlLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICBzbG90TmFtZUF0dHIgPSBjaGlsZE5vZGVbJ3Mtc24nXTtcbiAgICAgICAgICAgIGZvciAoaiA9IGhvc3RDb250ZW50Tm9kZXMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgICAgICAgICBub2RlID0gaG9zdENvbnRlbnROb2Rlc1tqXTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGVbJ3MtY24nXSAmJiAhbm9kZVsncy1uciddICYmIG5vZGVbJ3MtaG4nXSAhPT0gY2hpbGROb2RlWydzLWhuJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0J3MgZG8gc29tZSByZWxvY2F0aW5nIHRvIGl0cyBuZXcgaG9tZVxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgbmV2ZXIgcmVsb2NhdGUgYSBjb250ZW50IHJlZmVyZW5jZSBub2RlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoYXQgaXMgc3VwcG9zZSB0byBhbHdheXMgcmVwcmVzZW50IHRoZSBvcmlnaW5hbCBjb250ZW50IGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05vZGVMb2NhdGVkSW5TbG90KG5vZGUsIHNsb3ROYW1lQXR0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0J3MgcG9zc2libGUgd2UndmUgYWxyZWFkeSBkZWNpZGVkIHRvIHJlbG9jYXRlIHRoaXMgbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2NhdGVOb2RlRGF0YSA9IHJlbG9jYXRlTm9kZXMuZmluZChyID0+IHIuJG5vZGVUb1JlbG9jYXRlJCA9PT0gbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWRlIHNvbWUgY2hhbmdlcyB0byBzbG90c1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0J3MgbWFrZSBzdXJlIHdlIGFsc28gZG91YmxlIGNoZWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmYWxsYmFja3MgYXJlIGNvcnJlY3RseSBoaWRkZW4gb3Igc2hvd25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrU2xvdEZhbGxiYWNrVmlzaWJpbGl0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlWydzLXNuJ10gPSBub2RlWydzLXNuJ10gfHwgc2xvdE5hbWVBdHRyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbG9jYXRlTm9kZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcmV2aW91c2x5IHdlIG5ldmVyIGZvdW5kIGEgc2xvdCBob21lIGZvciB0aGlzIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgdHVybnMgb3V0IHdlIGRpZCwgc28gbGV0J3MgcmVtZW1iZXIgaXQgbm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2NhdGVOb2RlRGF0YS4kc2xvdFJlZk5vZGUkID0gY2hpbGROb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRvIG91ciBsaXN0IG9mIG5vZGVzIHRvIHJlbG9jYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2NhdGVOb2Rlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNsb3RSZWZOb2RlJDogY2hpbGROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbm9kZVRvUmVsb2NhdGUkOiBub2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVbJ3Mtc3InXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9jYXRlTm9kZXMubWFwKHJlbG9jYXRlTm9kZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05vZGVMb2NhdGVkSW5TbG90KHJlbG9jYXRlTm9kZS4kbm9kZVRvUmVsb2NhdGUkLCBub2RlWydzLXNuJ10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxvY2F0ZU5vZGVEYXRhID0gcmVsb2NhdGVOb2Rlcy5maW5kKHIgPT4gci4kbm9kZVRvUmVsb2NhdGUkID09PSBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWxvY2F0ZU5vZGVEYXRhICYmICFyZWxvY2F0ZU5vZGUuJHNsb3RSZWZOb2RlJCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9jYXRlTm9kZS4kc2xvdFJlZk5vZGUkID0gcmVsb2NhdGVOb2RlRGF0YS4kc2xvdFJlZk5vZGUkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIXJlbG9jYXRlTm9kZXMuc29tZShyID0+IHIuJG5vZGVUb1JlbG9jYXRlJCA9PT0gbm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIGZhciB0aGlzIGVsZW1lbnQgZG9lcyBub3QgaGF2ZSBhIHNsb3QgaG9tZSwgbm90IHNldHRpbmcgc2xvdFJlZk5vZGUgb24gcHVycG9zZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgbmV2ZXIgZmluZCBhIGhvbWUgZm9yIHRoaXMgZWxlbWVudCB0aGVuIHdlJ2xsIG5lZWQgdG8gaGlkZSBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2NhdGVOb2Rlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbm9kZVRvUmVsb2NhdGUkOiBub2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkTm9kZS5ub2RlVHlwZSA9PT0gMSAvKiBFbGVtZW50Tm9kZSAqLykge1xuICAgICAgICAgICAgcmVsb2NhdGVTbG90Q29udGVudChjaGlsZE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IGlzTm9kZUxvY2F0ZWRJblNsb3QgPSAobm9kZVRvUmVsb2NhdGUsIHNsb3ROYW1lQXR0cikgPT4ge1xuICAgIGlmIChub2RlVG9SZWxvY2F0ZS5ub2RlVHlwZSA9PT0gMSAvKiBFbGVtZW50Tm9kZSAqLykge1xuICAgICAgICBpZiAobm9kZVRvUmVsb2NhdGUuZ2V0QXR0cmlidXRlKCdzbG90JykgPT09IG51bGwgJiYgc2xvdE5hbWVBdHRyID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGVUb1JlbG9jYXRlLmdldEF0dHJpYnV0ZSgnc2xvdCcpID09PSBzbG90TmFtZUF0dHIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG5vZGVUb1JlbG9jYXRlWydzLXNuJ10gPT09IHNsb3ROYW1lQXR0cikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHNsb3ROYW1lQXR0ciA9PT0gJyc7XG59O1xuY29uc3QgY2FsbE5vZGVSZWZzID0gKHZOb2RlKSA9PiB7XG4gICAgaWYgKEJVSUxELnZkb21SZWYpIHtcbiAgICAgICAgdk5vZGUuJGF0dHJzJCAmJiB2Tm9kZS4kYXR0cnMkLnJlZiAmJiB2Tm9kZS4kYXR0cnMkLnJlZihudWxsKTtcbiAgICAgICAgdk5vZGUuJGNoaWxkcmVuJCAmJiB2Tm9kZS4kY2hpbGRyZW4kLm1hcChjYWxsTm9kZVJlZnMpO1xuICAgIH1cbn07XG5jb25zdCByZW5kZXJWZG9tID0gKGhvc3RSZWYsIHJlbmRlckZuUmVzdWx0cykgPT4ge1xuICAgIGNvbnN0IGhvc3RFbG0gPSBob3N0UmVmLiRob3N0RWxlbWVudCQ7XG4gICAgY29uc3QgY21wTWV0YSA9IGhvc3RSZWYuJGNtcE1ldGEkO1xuICAgIGNvbnN0IG9sZFZOb2RlID0gaG9zdFJlZi4kdm5vZGUkIHx8IG5ld1ZOb2RlKG51bGwsIG51bGwpO1xuICAgIGNvbnN0IHJvb3RWbm9kZSA9IGlzSG9zdChyZW5kZXJGblJlc3VsdHMpID8gcmVuZGVyRm5SZXN1bHRzIDogaChudWxsLCBudWxsLCByZW5kZXJGblJlc3VsdHMpO1xuICAgIGhvc3RUYWdOYW1lID0gaG9zdEVsbS50YWdOYW1lO1xuICAgIC8vIDxIb3N0PiBydW50aW1lIGNoZWNrXG4gICAgaWYgKEJVSUxELmlzRGV2ICYmIEFycmF5LmlzQXJyYXkocmVuZGVyRm5SZXN1bHRzKSAmJiByZW5kZXJGblJlc3VsdHMuc29tZShpc0hvc3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIDxIb3N0PiBtdXN0IGJlIHRoZSBzaW5nbGUgcm9vdCBjb21wb25lbnQuXG5Mb29rcyBsaWtlIHRoZSByZW5kZXIoKSBmdW5jdGlvbiBvZiBcIiR7aG9zdFRhZ05hbWUudG9Mb3dlckNhc2UoKX1cIiBpcyByZXR1cm5pbmcgYW4gYXJyYXkgdGhhdCBjb250YWlucyB0aGUgPEhvc3Q+LlxuXG5UaGUgcmVuZGVyKCkgZnVuY3Rpb24gc2hvdWxkIGxvb2sgbGlrZSB0aGlzIGluc3RlYWQ6XG5cbnJlbmRlcigpIHtcbiAgLy8gRG8gbm90IHJldHVybiBhbiBhcnJheVxuICByZXR1cm4gKFxuICAgIDxIb3N0Pntjb250ZW50fTwvSG9zdD5cbiAgKTtcbn1cbiAgYCk7XG4gICAgfVxuICAgIGlmIChCVUlMRC5yZWZsZWN0ICYmIGNtcE1ldGEuJGF0dHJzVG9SZWZsZWN0JCkge1xuICAgICAgICByb290Vm5vZGUuJGF0dHJzJCA9IHJvb3RWbm9kZS4kYXR0cnMkIHx8IHt9O1xuICAgICAgICBjbXBNZXRhLiRhdHRyc1RvUmVmbGVjdCQubWFwKChbcHJvcE5hbWUsIGF0dHJpYnV0ZV0pID0+IChyb290Vm5vZGUuJGF0dHJzJFthdHRyaWJ1dGVdID0gaG9zdEVsbVtwcm9wTmFtZV0pKTtcbiAgICB9XG4gICAgcm9vdFZub2RlLiR0YWckID0gbnVsbDtcbiAgICByb290Vm5vZGUuJGZsYWdzJCB8PSA0IC8qIGlzSG9zdCAqLztcbiAgICBob3N0UmVmLiR2bm9kZSQgPSByb290Vm5vZGU7XG4gICAgcm9vdFZub2RlLiRlbG0kID0gb2xkVk5vZGUuJGVsbSQgPSAoQlVJTEQuc2hhZG93RG9tID8gaG9zdEVsbS5zaGFkb3dSb290IHx8IGhvc3RFbG0gOiBob3N0RWxtKTtcbiAgICBpZiAoQlVJTEQuc2NvcGVkIHx8IEJVSUxELnNoYWRvd0RvbSkge1xuICAgICAgICBzY29wZUlkID0gaG9zdEVsbVsncy1zYyddO1xuICAgIH1cbiAgICBpZiAoQlVJTEQuc2xvdFJlbG9jYXRpb24pIHtcbiAgICAgICAgY29udGVudFJlZiA9IGhvc3RFbG1bJ3MtY3InXTtcbiAgICAgICAgdXNlTmF0aXZlU2hhZG93RG9tID0gc3VwcG9ydHNTaGFkb3cgJiYgKGNtcE1ldGEuJGZsYWdzJCAmIDEgLyogc2hhZG93RG9tRW5jYXBzdWxhdGlvbiAqLykgIT09IDA7XG4gICAgICAgIC8vIGFsd2F5cyByZXNldFxuICAgICAgICBjaGVja1Nsb3RGYWxsYmFja1Zpc2liaWxpdHkgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gc3luY2hyb25vdXMgcGF0Y2hcbiAgICBwYXRjaChvbGRWTm9kZSwgcm9vdFZub2RlKTtcbiAgICBpZiAoQlVJTEQuc2xvdFJlbG9jYXRpb24pIHtcbiAgICAgICAgLy8gd2hpbGUgd2UncmUgbW92aW5nIG5vZGVzIGFyb3VuZCBleGlzdGluZyBub2RlcywgdGVtcG9yYXJpbHkgZGlzYWJsZVxuICAgICAgICAvLyB0aGUgZGlzY29ubmVjdENhbGxiYWNrIGZyb20gd29ya2luZ1xuICAgICAgICBwbHQuJGZsYWdzJCB8PSAxIC8qIGlzVG1wRGlzY29ubmVjdGVkICovO1xuICAgICAgICBpZiAoY2hlY2tTbG90UmVsb2NhdGUpIHtcbiAgICAgICAgICAgIHJlbG9jYXRlU2xvdENvbnRlbnQocm9vdFZub2RlLiRlbG0kKTtcbiAgICAgICAgICAgIGxldCByZWxvY2F0ZURhdGE7XG4gICAgICAgICAgICBsZXQgbm9kZVRvUmVsb2NhdGU7XG4gICAgICAgICAgICBsZXQgb3JnTG9jYXRpb25Ob2RlO1xuICAgICAgICAgICAgbGV0IHBhcmVudE5vZGVSZWY7XG4gICAgICAgICAgICBsZXQgaW5zZXJ0QmVmb3JlTm9kZTtcbiAgICAgICAgICAgIGxldCByZWZOb2RlO1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgZm9yICg7IGkgPCByZWxvY2F0ZU5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVsb2NhdGVEYXRhID0gcmVsb2NhdGVOb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICBub2RlVG9SZWxvY2F0ZSA9IHJlbG9jYXRlRGF0YS4kbm9kZVRvUmVsb2NhdGUkO1xuICAgICAgICAgICAgICAgIGlmICghbm9kZVRvUmVsb2NhdGVbJ3Mtb2wnXSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSByZWZlcmVuY2Ugbm9kZSBtYXJraW5nIHRoaXMgbm9kZSdzIG9yaWdpbmFsIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhpcyBub2RlIGZvciBsYXRlciBsb29rdXBzXG4gICAgICAgICAgICAgICAgICAgIG9yZ0xvY2F0aW9uTm9kZSA9IEJVSUxELmlzRGVidWcgfHwgQlVJTEQuaHlkcmF0ZVNlcnZlclNpZGUgPyBvcmlnaW5hbExvY2F0aW9uRGVidWdOb2RlKG5vZGVUb1JlbG9jYXRlKSA6IGRvYy5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICAgICAgICAgICAgICAgIG9yZ0xvY2F0aW9uTm9kZVsncy1uciddID0gbm9kZVRvUmVsb2NhdGU7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVUb1JlbG9jYXRlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKChub2RlVG9SZWxvY2F0ZVsncy1vbCddID0gb3JnTG9jYXRpb25Ob2RlKSwgbm9kZVRvUmVsb2NhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByZWxvY2F0ZU5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVsb2NhdGVEYXRhID0gcmVsb2NhdGVOb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICBub2RlVG9SZWxvY2F0ZSA9IHJlbG9jYXRlRGF0YS4kbm9kZVRvUmVsb2NhdGUkO1xuICAgICAgICAgICAgICAgIGlmIChyZWxvY2F0ZURhdGEuJHNsb3RSZWZOb2RlJCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBieSBkZWZhdWx0IHdlJ3JlIGp1c3QgZ29pbmcgdG8gaW5zZXJ0IGl0IGRpcmVjdGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGFmdGVyIHRoZSBzbG90IHJlZmVyZW5jZSBub2RlXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGVSZWYgPSByZWxvY2F0ZURhdGEuJHNsb3RSZWZOb2RlJC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmVOb2RlID0gcmVsb2NhdGVEYXRhLiRzbG90UmVmTm9kZSQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIG9yZ0xvY2F0aW9uTm9kZSA9IG5vZGVUb1JlbG9jYXRlWydzLW9sJ107XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgob3JnTG9jYXRpb25Ob2RlID0gb3JnTG9jYXRpb25Ob2RlLnByZXZpb3VzU2libGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZk5vZGUgPSBvcmdMb2NhdGlvbk5vZGVbJ3MtbnInXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWZOb2RlICYmIHJlZk5vZGVbJ3Mtc24nXSA9PT0gbm9kZVRvUmVsb2NhdGVbJ3Mtc24nXSAmJiBwYXJlbnROb2RlUmVmID09PSByZWZOb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZOb2RlID0gcmVmTm9kZS5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlZk5vZGUgfHwgIXJlZk5vZGVbJ3MtbnInXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmVOb2RlID0gcmVmTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICgoIWluc2VydEJlZm9yZU5vZGUgJiYgcGFyZW50Tm9kZVJlZiAhPT0gbm9kZVRvUmVsb2NhdGUucGFyZW50Tm9kZSkgfHwgbm9kZVRvUmVsb2NhdGUubmV4dFNpYmxpbmcgIT09IGluc2VydEJlZm9yZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlJ3ZlIGNoZWNrZWQgdGhhdCBpdCdzIHdvcnRoIHdoaWxlIHRvIHJlbG9jYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGF0IHRoZSBub2RlIHRvIHJlbG9jYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYXMgYSBkaWZmZXJlbnQgbmV4dCBzaWJsaW5nIG9yIHBhcmVudCByZWxvY2F0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlVG9SZWxvY2F0ZSAhPT0gaW5zZXJ0QmVmb3JlTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbm9kZVRvUmVsb2NhdGVbJ3MtaG4nXSAmJiBub2RlVG9SZWxvY2F0ZVsncy1vbCddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2JhYmx5IGEgY29tcG9uZW50IGluIHRoZSBpbmRleC5odG1sIHRoYXQgZG9lc24ndCBoYXZlIGl0J3MgaG9zdG5hbWUgc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVUb1JlbG9jYXRlWydzLWhuJ10gPSBub2RlVG9SZWxvY2F0ZVsncy1vbCddLnBhcmVudE5vZGUubm9kZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBpdCBiYWNrIHRvIHRoZSBkb20gYnV0IGluIGl0cyBuZXcgaG9tZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGVSZWYuaW5zZXJ0QmVmb3JlKG5vZGVUb1JlbG9jYXRlLCBpbnNlcnRCZWZvcmVOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBub2RlIGRvZXNuJ3QgaGF2ZSBhIHNsb3QgaG9tZSB0byBnbyB0bywgc28gbGV0J3MgaGlkZSBpdFxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZVRvUmVsb2NhdGUubm9kZVR5cGUgPT09IDEgLyogRWxlbWVudE5vZGUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVUb1JlbG9jYXRlLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoZWNrU2xvdEZhbGxiYWNrVmlzaWJpbGl0eSkge1xuICAgICAgICAgICAgdXBkYXRlRmFsbGJhY2tTbG90VmlzaWJpbGl0eShyb290Vm5vZGUuJGVsbSQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRvbmUgbW92aW5nIG5vZGVzIGFyb3VuZFxuICAgICAgICAvLyBhbGxvdyB0aGUgZGlzY29ubmVjdCBjYWxsYmFjayB0byB3b3JrIGFnYWluXG4gICAgICAgIHBsdC4kZmxhZ3MkICY9IH4xIC8qIGlzVG1wRGlzY29ubmVjdGVkICovO1xuICAgICAgICAvLyBhbHdheXMgcmVzZXRcbiAgICAgICAgcmVsb2NhdGVOb2Rlcy5sZW5ndGggPSAwO1xuICAgIH1cbn07XG4vLyBzbG90IGNvbW1lbnQgZGVidWcgbm9kZXMgb25seSBjcmVhdGVkIHdpdGggdGhlIGAtLWRlYnVnYCBmbGFnXG4vLyBvdGhlcndpc2UgdGhlc2Ugbm9kZXMgYXJlIHRleHQgbm9kZXMgdy9vdXQgY29udGVudFxuY29uc3Qgc2xvdFJlZmVyZW5jZURlYnVnTm9kZSA9IChzbG90Vk5vZGUpID0+IGRvYy5jcmVhdGVDb21tZW50KGA8c2xvdCR7c2xvdFZOb2RlLiRuYW1lJCA/ICcgbmFtZT1cIicgKyBzbG90Vk5vZGUuJG5hbWUkICsgJ1wiJyA6ICcnfT4gKGhvc3Q9JHtob3N0VGFnTmFtZS50b0xvd2VyQ2FzZSgpfSlgKTtcbmNvbnN0IG9yaWdpbmFsTG9jYXRpb25EZWJ1Z05vZGUgPSAobm9kZVRvUmVsb2NhdGUpID0+IGRvYy5jcmVhdGVDb21tZW50KGBvcmctbG9jYXRpb24gZm9yIGAgKyAobm9kZVRvUmVsb2NhdGUubG9jYWxOYW1lID8gYDwke25vZGVUb1JlbG9jYXRlLmxvY2FsTmFtZX0+IChob3N0PSR7bm9kZVRvUmVsb2NhdGVbJ3MtaG4nXX0pYCA6IGBbJHtub2RlVG9SZWxvY2F0ZS50ZXh0Q29udGVudH1dYCkpO1xuY29uc3QgZ2V0RWxlbWVudCA9IChyZWYpID0+IChCVUlMRC5sYXp5TG9hZCA/IGdldEhvc3RSZWYocmVmKS4kaG9zdEVsZW1lbnQkIDogcmVmKTtcbmNvbnN0IGNyZWF0ZUV2ZW50ID0gKHJlZiwgbmFtZSwgZmxhZ3MpID0+IHtcbiAgICBjb25zdCBlbG0gPSBnZXRFbGVtZW50KHJlZik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW1pdDogKGRldGFpbCkgPT4ge1xuICAgICAgICAgICAgaWYgKEJVSUxELmlzRGV2ICYmICFlbG0uaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlRGV2V2FybihgVGhlIFwiJHtuYW1lfVwiIGV2ZW50IHdhcyBlbWl0dGVkLCBidXQgdGhlIGRpc3BhdGNoZXIgbm9kZSBpcyBubyBsb25nZXIgY29ubmVjdGVkIHRvIHRoZSBkb20uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZW1pdEV2ZW50KGVsbSwgbmFtZSwge1xuICAgICAgICAgICAgICAgIGJ1YmJsZXM6ICEhKGZsYWdzICYgNCAvKiBCdWJibGVzICovKSxcbiAgICAgICAgICAgICAgICBjb21wb3NlZDogISEoZmxhZ3MgJiAyIC8qIENvbXBvc2VkICovKSxcbiAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiAhIShmbGFncyAmIDEgLyogQ2FuY2VsbGFibGUgKi8pLFxuICAgICAgICAgICAgICAgIGRldGFpbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuY29uc3QgZW1pdEV2ZW50ID0gKGVsbSwgbmFtZSwgb3B0cykgPT4ge1xuICAgIGNvbnN0IGV2ID0gcGx0LmNlKG5hbWUsIG9wdHMpO1xuICAgIGVsbS5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICByZXR1cm4gZXY7XG59O1xuY29uc3QgYXR0YWNoVG9BbmNlc3RvciA9IChob3N0UmVmLCBhbmNlc3RvckNvbXBvbmVudCkgPT4ge1xuICAgIGlmIChCVUlMRC5hc3luY0xvYWRpbmcgJiYgYW5jZXN0b3JDb21wb25lbnQgJiYgIWhvc3RSZWYuJG9uUmVuZGVyUmVzb2x2ZSQgJiYgYW5jZXN0b3JDb21wb25lbnRbJ3MtcCddKSB7XG4gICAgICAgIGFuY2VzdG9yQ29tcG9uZW50WydzLXAnXS5wdXNoKG5ldyBQcm9taXNlKHIgPT4gKGhvc3RSZWYuJG9uUmVuZGVyUmVzb2x2ZSQgPSByKSkpO1xuICAgIH1cbn07XG5jb25zdCBzY2hlZHVsZVVwZGF0ZSA9IChob3N0UmVmLCBpc0luaXRpYWxMb2FkKSA9PiB7XG4gICAgaWYgKEJVSUxELnRhc2tRdWV1ZSAmJiBCVUlMRC51cGRhdGFibGUpIHtcbiAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDE2IC8qIGlzUXVldWVkRm9yVXBkYXRlICovO1xuICAgIH1cbiAgICBpZiAoQlVJTEQuYXN5bmNMb2FkaW5nICYmIGhvc3RSZWYuJGZsYWdzJCAmIDQgLyogaXNXYWl0aW5nRm9yQ2hpbGRyZW4gKi8pIHtcbiAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDUxMiAvKiBuZWVkc1JlcmVuZGVyICovO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGF0dGFjaFRvQW5jZXN0b3IoaG9zdFJlZiwgaG9zdFJlZi4kYW5jZXN0b3JDb21wb25lbnQkKTtcbiAgICAvLyB0aGVyZSBpcyBubyBhbmNlc3RvciBjb21wb25lbnQgb3IgdGhlIGFuY2VzdG9yIGNvbXBvbmVudFxuICAgIC8vIGhhcyBhbHJlYWR5IGZpcmVkIG9mZiBpdHMgbGlmZWN5Y2xlIHVwZGF0ZSB0aGVuXG4gICAgLy8gZmlyZSBvZmYgdGhlIGluaXRpYWwgdXBkYXRlXG4gICAgY29uc3QgZGlzcGF0Y2ggPSAoKSA9PiBkaXNwYXRjaEhvb2tzKGhvc3RSZWYsIGlzSW5pdGlhbExvYWQpO1xuICAgIHJldHVybiBCVUlMRC50YXNrUXVldWUgPyB3cml0ZVRhc2soZGlzcGF0Y2gpIDogZGlzcGF0Y2goKTtcbn07XG5jb25zdCBkaXNwYXRjaEhvb2tzID0gKGhvc3RSZWYsIGlzSW5pdGlhbExvYWQpID0+IHtcbiAgICBjb25zdCBlbG0gPSBob3N0UmVmLiRob3N0RWxlbWVudCQ7XG4gICAgY29uc3QgZW5kU2NoZWR1bGUgPSBjcmVhdGVUaW1lKCdzY2hlZHVsZVVwZGF0ZScsIGhvc3RSZWYuJGNtcE1ldGEkLiR0YWdOYW1lJCk7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBCVUlMRC5sYXp5TG9hZCA/IGhvc3RSZWYuJGxhenlJbnN0YW5jZSQgOiBlbG07XG4gICAgbGV0IHByb21pc2U7XG4gICAgaWYgKGlzSW5pdGlhbExvYWQpIHtcbiAgICAgICAgaWYgKEJVSUxELmxhenlMb2FkICYmIEJVSUxELmhvc3RMaXN0ZW5lcikge1xuICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDI1NiAvKiBpc0xpc3RlblJlYWR5ICovO1xuICAgICAgICAgICAgaWYgKGhvc3RSZWYuJHF1ZXVlZExpc3RlbmVycyQpIHtcbiAgICAgICAgICAgICAgICBob3N0UmVmLiRxdWV1ZWRMaXN0ZW5lcnMkLm1hcCgoW21ldGhvZE5hbWUsIGV2ZW50XSkgPT4gc2FmZUNhbGwoaW5zdGFuY2UsIG1ldGhvZE5hbWUsIGV2ZW50KSk7XG4gICAgICAgICAgICAgICAgaG9zdFJlZi4kcXVldWVkTGlzdGVuZXJzJCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZW1pdExpZmVjeWNsZUV2ZW50KGVsbSwgJ2NvbXBvbmVudFdpbGxMb2FkJyk7XG4gICAgICAgIGlmIChCVUlMRC5jbXBXaWxsTG9hZCkge1xuICAgICAgICAgICAgcHJvbWlzZSA9IHNhZmVDYWxsKGluc3RhbmNlLCAnY29tcG9uZW50V2lsbExvYWQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZW1pdExpZmVjeWNsZUV2ZW50KGVsbSwgJ2NvbXBvbmVudFdpbGxVcGRhdGUnKTtcbiAgICAgICAgaWYgKEJVSUxELmNtcFdpbGxVcGRhdGUpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBzYWZlQ2FsbChpbnN0YW5jZSwgJ2NvbXBvbmVudFdpbGxVcGRhdGUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbWl0TGlmZWN5Y2xlRXZlbnQoZWxtLCAnY29tcG9uZW50V2lsbFJlbmRlcicpO1xuICAgIGlmIChCVUlMRC5jbXBXaWxsUmVuZGVyKSB7XG4gICAgICAgIHByb21pc2UgPSB0aGVuKHByb21pc2UsICgpID0+IHNhZmVDYWxsKGluc3RhbmNlLCAnY29tcG9uZW50V2lsbFJlbmRlcicpKTtcbiAgICB9XG4gICAgZW5kU2NoZWR1bGUoKTtcbiAgICByZXR1cm4gdGhlbihwcm9taXNlLCAoKSA9PiB1cGRhdGVDb21wb25lbnQoaG9zdFJlZiwgaW5zdGFuY2UsIGlzSW5pdGlhbExvYWQpKTtcbn07XG5jb25zdCB1cGRhdGVDb21wb25lbnQgPSBhc3luYyAoaG9zdFJlZiwgaW5zdGFuY2UsIGlzSW5pdGlhbExvYWQpID0+IHtcbiAgICAvLyB1cGRhdGVDb21wb25lbnRcbiAgICBjb25zdCBlbG0gPSBob3N0UmVmLiRob3N0RWxlbWVudCQ7XG4gICAgY29uc3QgZW5kVXBkYXRlID0gY3JlYXRlVGltZSgndXBkYXRlJywgaG9zdFJlZi4kY21wTWV0YSQuJHRhZ05hbWUkKTtcbiAgICBjb25zdCByYyA9IGVsbVsncy1yYyddO1xuICAgIGlmIChCVUlMRC5zdHlsZSAmJiBpc0luaXRpYWxMb2FkKSB7XG4gICAgICAgIC8vIERPTSBXUklURSFcbiAgICAgICAgYXR0YWNoU3R5bGVzKGhvc3RSZWYpO1xuICAgIH1cbiAgICBjb25zdCBlbmRSZW5kZXIgPSBjcmVhdGVUaW1lKCdyZW5kZXInLCBob3N0UmVmLiRjbXBNZXRhJC4kdGFnTmFtZSQpO1xuICAgIGlmIChCVUlMRC5pc0Rldikge1xuICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gMTAyNCAvKiBkZXZPblJlbmRlciAqLztcbiAgICB9XG4gICAgaWYgKEJVSUxELmh5ZHJhdGVTZXJ2ZXJTaWRlKSB7XG4gICAgICAgIGF3YWl0IGNhbGxSZW5kZXIoaG9zdFJlZiwgaW5zdGFuY2UsIGVsbSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjYWxsUmVuZGVyKGhvc3RSZWYsIGluc3RhbmNlLCBlbG0pO1xuICAgIH1cbiAgICBpZiAoQlVJTEQuY3NzVmFyU2hpbSAmJiBwbHQuJGNzc1NoaW0kKSB7XG4gICAgICAgIHBsdC4kY3NzU2hpbSQudXBkYXRlSG9zdChlbG0pO1xuICAgIH1cbiAgICBpZiAoQlVJTEQuaXNEZXYpIHtcbiAgICAgICAgaG9zdFJlZi4kcmVuZGVyQ291bnQkKys7XG4gICAgICAgIGhvc3RSZWYuJGZsYWdzJCAmPSB+MTAyNCAvKiBkZXZPblJlbmRlciAqLztcbiAgICB9XG4gICAgaWYgKEJVSUxELmh5ZHJhdGVTZXJ2ZXJTaWRlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBtYW51YWxseSBjb25uZWN0ZWQgY2hpbGQgY29tcG9uZW50cyBkdXJpbmcgc2VydmVyLXNpZGUgaHlkcmF0ZVxuICAgICAgICAgICAgc2VydmVyU2lkZUNvbm5lY3RlZChlbG0pO1xuICAgICAgICAgICAgaWYgKGlzSW5pdGlhbExvYWQpIHtcbiAgICAgICAgICAgICAgICAvLyB1c2luZyBvbmx5IGR1cmluZyBzZXJ2ZXItc2lkZSBoeWRyYXRlXG4gICAgICAgICAgICAgICAgaWYgKGhvc3RSZWYuJGNtcE1ldGEkLiRmbGFncyQgJiAxIC8qIHNoYWRvd0RvbUVuY2Fwc3VsYXRpb24gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgZWxtWydzLWVuJ10gPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaG9zdFJlZi4kY21wTWV0YSQuJGZsYWdzJCAmIDIgLyogc2NvcGVkQ3NzRW5jYXBzdWxhdGlvbiAqLykge1xuICAgICAgICAgICAgICAgICAgICBlbG1bJ3MtZW4nXSA9ICdjJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGVFcnJvcihlLCBlbG0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChCVUlMRC5hc3luY0xvYWRpbmcgJiYgcmMpIHtcbiAgICAgICAgLy8gb2ssIHNvIHR1cm5zIG91dCB0aGVyZSBhcmUgc29tZSBjaGlsZCBob3N0IGVsZW1lbnRzXG4gICAgICAgIC8vIHdhaXRpbmcgb24gdGhpcyBwYXJlbnQgZWxlbWVudCB0byBsb2FkXG4gICAgICAgIC8vIGxldCdzIGZpcmUgb2ZmIGFsbCB1cGRhdGUgY2FsbGJhY2tzIHdhaXRpbmdcbiAgICAgICAgcmMubWFwKGNiID0+IGNiKCkpO1xuICAgICAgICBlbG1bJ3MtcmMnXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZW5kUmVuZGVyKCk7XG4gICAgZW5kVXBkYXRlKCk7XG4gICAgaWYgKEJVSUxELmFzeW5jTG9hZGluZykge1xuICAgICAgICBjb25zdCBjaGlsZHJlblByb21pc2VzID0gZWxtWydzLXAnXTtcbiAgICAgICAgY29uc3QgcG9zdFVwZGF0ZSA9ICgpID0+IHBvc3RVcGRhdGVDb21wb25lbnQoaG9zdFJlZik7XG4gICAgICAgIGlmIChjaGlsZHJlblByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcG9zdFVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgUHJvbWlzZS5hbGwoY2hpbGRyZW5Qcm9taXNlcykudGhlbihwb3N0VXBkYXRlKTtcbiAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSA0IC8qIGlzV2FpdGluZ0ZvckNoaWxkcmVuICovO1xuICAgICAgICAgICAgY2hpbGRyZW5Qcm9taXNlcy5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwb3N0VXBkYXRlQ29tcG9uZW50KGhvc3RSZWYpO1xuICAgIH1cbn07XG5jb25zdCBjYWxsUmVuZGVyID0gKGhvc3RSZWYsIGluc3RhbmNlLCBlbG0pID0+IHtcbiAgICAvLyBpbiBvcmRlciBmb3IgYnVuZGxlcnMgdG8gY29ycmVjdGx5IHRyZWVzaGFrZSB0aGUgQlVJTEQgb2JqZWN0XG4gICAgLy8gd2UgbmVlZCB0byBlbnN1cmUgQlVJTEQgaXMgbm90IGRlb3B0aW1pemVkIHdpdGhpbiBhIHRyeS9jYXRjaFxuICAgIC8vIGh0dHBzOi8vcm9sbHVwanMub3JnL2d1aWRlL2VuLyN0cmVlc2hha2UgdHJ5Q2F0Y2hEZW9wdGltaXphdGlvblxuICAgIGNvbnN0IGFsbFJlbmRlckZuID0gQlVJTEQuYWxsUmVuZGVyRm4gPyB0cnVlIDogZmFsc2U7XG4gICAgY29uc3QgbGF6eUxvYWQgPSBCVUlMRC5sYXp5TG9hZCA/IHRydWUgOiBmYWxzZTtcbiAgICBjb25zdCB0YXNrUXVldWUgPSBCVUlMRC50YXNrUXVldWUgPyB0cnVlIDogZmFsc2U7XG4gICAgY29uc3QgdXBkYXRhYmxlID0gQlVJTEQudXBkYXRhYmxlID8gdHJ1ZSA6IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIHJlbmRlcmluZ1JlZiA9IGluc3RhbmNlO1xuICAgICAgICBpbnN0YW5jZSA9IGFsbFJlbmRlckZuID8gaW5zdGFuY2UucmVuZGVyKCkgOiBpbnN0YW5jZS5yZW5kZXIgJiYgaW5zdGFuY2UucmVuZGVyKCk7XG4gICAgICAgIGlmICh1cGRhdGFibGUgJiYgdGFza1F1ZXVlKSB7XG4gICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgJj0gfjE2IC8qIGlzUXVldWVkRm9yVXBkYXRlICovO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGFibGUgfHwgbGF6eUxvYWQpIHtcbiAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSAyIC8qIGhhc1JlbmRlcmVkICovO1xuICAgICAgICB9XG4gICAgICAgIGlmIChCVUlMRC5oYXNSZW5kZXJGbiB8fCBCVUlMRC5yZWZsZWN0KSB7XG4gICAgICAgICAgICBpZiAoQlVJTEQudmRvbVJlbmRlciB8fCBCVUlMRC5yZWZsZWN0KSB7XG4gICAgICAgICAgICAgICAgLy8gbG9va3MgbGlrZSB3ZSd2ZSBnb3QgY2hpbGQgbm9kZXMgdG8gcmVuZGVyIGludG8gdGhpcyBob3N0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAvLyBvciB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgY3NzIGNsYXNzL2F0dHJzIG9uIHRoZSBob3N0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAvLyBET00gV1JJVEUhXG4gICAgICAgICAgICAgICAgaWYgKEJVSUxELmh5ZHJhdGVTZXJ2ZXJTaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaW5zdGFuY2UpLnRoZW4odmFsdWUgPT4gcmVuZGVyVmRvbShob3N0UmVmLCB2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyVmRvbShob3N0UmVmLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxtLnRleHRDb250ZW50ID0gaW5zdGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZUVycm9yKGUsIGhvc3RSZWYuJGhvc3RFbGVtZW50JCk7XG4gICAgfVxuICAgIHJlbmRlcmluZ1JlZiA9IG51bGw7XG4gICAgcmV0dXJuIG51bGw7XG59O1xuY29uc3QgZ2V0UmVuZGVyaW5nUmVmID0gKCkgPT4gcmVuZGVyaW5nUmVmO1xuY29uc3QgcG9zdFVwZGF0ZUNvbXBvbmVudCA9IChob3N0UmVmKSA9PiB7XG4gICAgY29uc3QgdGFnTmFtZSA9IGhvc3RSZWYuJGNtcE1ldGEkLiR0YWdOYW1lJDtcbiAgICBjb25zdCBlbG0gPSBob3N0UmVmLiRob3N0RWxlbWVudCQ7XG4gICAgY29uc3QgZW5kUG9zdFVwZGF0ZSA9IGNyZWF0ZVRpbWUoJ3Bvc3RVcGRhdGUnLCB0YWdOYW1lKTtcbiAgICBjb25zdCBpbnN0YW5jZSA9IEJVSUxELmxhenlMb2FkID8gaG9zdFJlZi4kbGF6eUluc3RhbmNlJCA6IGVsbTtcbiAgICBjb25zdCBhbmNlc3RvckNvbXBvbmVudCA9IGhvc3RSZWYuJGFuY2VzdG9yQ29tcG9uZW50JDtcbiAgICBpZiAoQlVJTEQuY21wRGlkUmVuZGVyKSB7XG4gICAgICAgIGlmIChCVUlMRC5pc0Rldikge1xuICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDEwMjQgLyogZGV2T25SZW5kZXIgKi87XG4gICAgICAgIH1cbiAgICAgICAgc2FmZUNhbGwoaW5zdGFuY2UsICdjb21wb25lbnREaWRSZW5kZXInKTtcbiAgICAgICAgaWYgKEJVSUxELmlzRGV2KSB7XG4gICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgJj0gfjEwMjQgLyogZGV2T25SZW5kZXIgKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW1pdExpZmVjeWNsZUV2ZW50KGVsbSwgJ2NvbXBvbmVudERpZFJlbmRlcicpO1xuICAgIGlmICghKGhvc3RSZWYuJGZsYWdzJCAmIDY0IC8qIGhhc0xvYWRlZENvbXBvbmVudCAqLykpIHtcbiAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDY0IC8qIGhhc0xvYWRlZENvbXBvbmVudCAqLztcbiAgICAgICAgaWYgKEJVSUxELmFzeW5jTG9hZGluZyAmJiBCVUlMRC5jc3NBbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgLy8gRE9NIFdSSVRFIVxuICAgICAgICAgICAgYWRkSHlkcmF0ZWRGbGFnKGVsbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEJVSUxELmNtcERpZExvYWQpIHtcbiAgICAgICAgICAgIGlmIChCVUlMRC5pc0Rldikge1xuICAgICAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSAyMDQ4IC8qIGRldk9uRGlkTG9hZCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNhZmVDYWxsKGluc3RhbmNlLCAnY29tcG9uZW50RGlkTG9hZCcpO1xuICAgICAgICAgICAgaWYgKEJVSUxELmlzRGV2KSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkICY9IH4yMDQ4IC8qIGRldk9uRGlkTG9hZCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbWl0TGlmZWN5Y2xlRXZlbnQoZWxtLCAnY29tcG9uZW50RGlkTG9hZCcpO1xuICAgICAgICBlbmRQb3N0VXBkYXRlKCk7XG4gICAgICAgIGlmIChCVUlMRC5hc3luY0xvYWRpbmcpIHtcbiAgICAgICAgICAgIGhvc3RSZWYuJG9uUmVhZHlSZXNvbHZlJChlbG0pO1xuICAgICAgICAgICAgaWYgKCFhbmNlc3RvckNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIGFwcERpZExvYWQodGFnTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChCVUlMRC5jbXBEaWRVcGRhdGUpIHtcbiAgICAgICAgICAgIC8vIHdlJ3ZlIGFscmVhZHkgbG9hZGVkIHRoaXMgY29tcG9uZW50XG4gICAgICAgICAgICAvLyBmaXJlIG9mZiB0aGUgdXNlcidzIGNvbXBvbmVudERpZFVwZGF0ZSBtZXRob2QgKGlmIG9uZSB3YXMgcHJvdmlkZWQpXG4gICAgICAgICAgICAvLyBjb21wb25lbnREaWRVcGRhdGUgcnVucyBBRlRFUiByZW5kZXIoKSBoYXMgYmVlbiBjYWxsZWRcbiAgICAgICAgICAgIC8vIGFuZCBhbGwgY2hpbGQgY29tcG9uZW50cyBoYXZlIGZpbmlzaGVkIHVwZGF0aW5nXG4gICAgICAgICAgICBpZiAoQlVJTEQuaXNEZXYpIHtcbiAgICAgICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gMTAyNCAvKiBkZXZPblJlbmRlciAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNhZmVDYWxsKGluc3RhbmNlLCAnY29tcG9uZW50RGlkVXBkYXRlJyk7XG4gICAgICAgICAgICBpZiAoQlVJTEQuaXNEZXYpIHtcbiAgICAgICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgJj0gfjEwMjQgLyogZGV2T25SZW5kZXIgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZW1pdExpZmVjeWNsZUV2ZW50KGVsbSwgJ2NvbXBvbmVudERpZFVwZGF0ZScpO1xuICAgICAgICBlbmRQb3N0VXBkYXRlKCk7XG4gICAgfVxuICAgIGlmIChCVUlMRC5ob3RNb2R1bGVSZXBsYWNlbWVudCkge1xuICAgICAgICBlbG1bJ3MtaG1yLWxvYWQnXSAmJiBlbG1bJ3MtaG1yLWxvYWQnXSgpO1xuICAgIH1cbiAgICBpZiAoQlVJTEQubWV0aG9kICYmIEJVSUxELmxhenlMb2FkKSB7XG4gICAgICAgIGhvc3RSZWYuJG9uSW5zdGFuY2VSZXNvbHZlJChlbG0pO1xuICAgIH1cbiAgICAvLyBsb2FkIGV2ZW50cyBmaXJlIGZyb20gYm90dG9tIHRvIHRvcFxuICAgIC8vIHRoZSBkZWVwZXN0IGVsZW1lbnRzIGxvYWQgZmlyc3QgdGhlbiBidWJibGVzIHVwXG4gICAgaWYgKEJVSUxELmFzeW5jTG9hZGluZykge1xuICAgICAgICBpZiAoaG9zdFJlZi4kb25SZW5kZXJSZXNvbHZlJCkge1xuICAgICAgICAgICAgaG9zdFJlZi4kb25SZW5kZXJSZXNvbHZlJCgpO1xuICAgICAgICAgICAgaG9zdFJlZi4kb25SZW5kZXJSZXNvbHZlJCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaG9zdFJlZi4kZmxhZ3MkICYgNTEyIC8qIG5lZWRzUmVyZW5kZXIgKi8pIHtcbiAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHNjaGVkdWxlVXBkYXRlKGhvc3RSZWYsIGZhbHNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaG9zdFJlZi4kZmxhZ3MkICY9IH4oNCAvKiBpc1dhaXRpbmdGb3JDaGlsZHJlbiAqLyB8IDUxMiAvKiBuZWVkc1JlcmVuZGVyICovKTtcbiAgICB9XG4gICAgLy8gKCDigKJf4oCiKVxuICAgIC8vICgg4oCiX+KAoik+4oyQ4pagLeKWoFxuICAgIC8vICjijJDilqBf4pagKVxufTtcbmNvbnN0IGZvcmNlVXBkYXRlID0gKHJlZikgPT4ge1xuICAgIGlmIChCVUlMRC51cGRhdGFibGUpIHtcbiAgICAgICAgY29uc3QgaG9zdFJlZiA9IGdldEhvc3RSZWYocmVmKTtcbiAgICAgICAgY29uc3QgaXNDb25uZWN0ZWQgPSBob3N0UmVmLiRob3N0RWxlbWVudCQuaXNDb25uZWN0ZWQ7XG4gICAgICAgIGlmIChpc0Nvbm5lY3RlZCAmJiAoaG9zdFJlZi4kZmxhZ3MkICYgKDIgLyogaGFzUmVuZGVyZWQgKi8gfCAxNiAvKiBpc1F1ZXVlZEZvclVwZGF0ZSAqLykpID09PSAyIC8qIGhhc1JlbmRlcmVkICovKSB7XG4gICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZShob3N0UmVmLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV0dXJucyBcInRydWVcIiB3aGVuIHRoZSBmb3JjZWQgdXBkYXRlIHdhcyBzdWNjZXNzZnVsbHkgc2NoZWR1bGVkXG4gICAgICAgIHJldHVybiBpc0Nvbm5lY3RlZDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmNvbnN0IGFwcERpZExvYWQgPSAod2hvKSA9PiB7XG4gICAgLy8gb24gYXBwbG9hZFxuICAgIC8vIHdlIGhhdmUgZmluaXNoIHRoZSBmaXJzdCBiaWcgaW5pdGlhbCByZW5kZXJcbiAgICBpZiAoQlVJTEQuY3NzQW5ub3RhdGlvbnMpIHtcbiAgICAgICAgYWRkSHlkcmF0ZWRGbGFnKGRvYy5kb2N1bWVudEVsZW1lbnQpO1xuICAgIH1cbiAgICBpZiAoQlVJTEQuYXN5bmNRdWV1ZSkge1xuICAgICAgICBwbHQuJGZsYWdzJCB8PSAyIC8qIGFwcExvYWRlZCAqLztcbiAgICB9XG4gICAgbmV4dFRpY2soKCkgPT4gZW1pdEV2ZW50KHdpbiwgJ2FwcGxvYWQnLCB7IGRldGFpbDogeyBuYW1lc3BhY2U6IE5BTUVTUEFDRSB9IH0pKTtcbiAgICBpZiAoQlVJTEQucHJvZmlsZSAmJiBwZXJmb3JtYW5jZS5tZWFzdXJlKSB7XG4gICAgICAgIHBlcmZvcm1hbmNlLm1lYXN1cmUoYFtTdGVuY2lsXSAke05BTUVTUEFDRX0gaW5pdGlhbCBsb2FkIChieSAke3dob30pYCwgJ3N0OmFwcDpzdGFydCcpO1xuICAgIH1cbn07XG5jb25zdCBzYWZlQ2FsbCA9IChpbnN0YW5jZSwgbWV0aG9kLCBhcmcpID0+IHtcbiAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2VbbWV0aG9kXSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlW21ldGhvZF0oYXJnKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZUVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuY29uc3QgdGhlbiA9IChwcm9taXNlLCB0aGVuRm4pID0+IHtcbiAgICByZXR1cm4gcHJvbWlzZSAmJiBwcm9taXNlLnRoZW4gPyBwcm9taXNlLnRoZW4odGhlbkZuKSA6IHRoZW5GbigpO1xufTtcbmNvbnN0IGVtaXRMaWZlY3ljbGVFdmVudCA9IChlbG0sIGxpZmVjeWNsZU5hbWUpID0+IHtcbiAgICBpZiAoQlVJTEQubGlmZWN5Y2xlRE9NRXZlbnRzKSB7XG4gICAgICAgIGVtaXRFdmVudChlbG0sICdzdGVuY2lsXycgKyBsaWZlY3ljbGVOYW1lLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgY29tcG9zZWQ6IHRydWUsXG4gICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IE5BTUVTUEFDRSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5jb25zdCBhZGRIeWRyYXRlZEZsYWcgPSAoZWxtKSA9PiAoQlVJTEQuaHlkcmF0ZWRDbGFzcyA/IGVsbS5jbGFzc0xpc3QuYWRkKCdoeWRyYXRlZCcpIDogQlVJTEQuaHlkcmF0ZWRBdHRyaWJ1dGUgPyBlbG0uc2V0QXR0cmlidXRlKCdoeWRyYXRlZCcsICcnKSA6IHVuZGVmaW5lZCk7XG5jb25zdCBzZXJ2ZXJTaWRlQ29ubmVjdGVkID0gKGVsbSkgPT4ge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gZWxtLmNoaWxkcmVuO1xuICAgIGlmIChjaGlsZHJlbiAhPSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBpaSA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkRWxtID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNoaWxkRWxtLmNvbm5lY3RlZENhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRFbG0uY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlcnZlclNpZGVDb25uZWN0ZWQoY2hpbGRFbG0pO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IGluaXRpYWxpemVDbGllbnRIeWRyYXRlID0gKGhvc3RFbG0sIHRhZ05hbWUsIGhvc3RJZCwgaG9zdFJlZikgPT4ge1xuICAgIGNvbnN0IGVuZEh5ZHJhdGUgPSBjcmVhdGVUaW1lKCdoeWRyYXRlQ2xpZW50JywgdGFnTmFtZSk7XG4gICAgY29uc3Qgc2hhZG93Um9vdCA9IGhvc3RFbG0uc2hhZG93Um9vdDtcbiAgICBjb25zdCBjaGlsZFJlbmRlck5vZGVzID0gW107XG4gICAgY29uc3Qgc2xvdE5vZGVzID0gW107XG4gICAgY29uc3Qgc2hhZG93Um9vdE5vZGVzID0gQlVJTEQuc2hhZG93RG9tICYmIHNoYWRvd1Jvb3QgPyBbXSA6IG51bGw7XG4gICAgY29uc3Qgdm5vZGUgPSAoaG9zdFJlZi4kdm5vZGUkID0gbmV3Vk5vZGUodGFnTmFtZSwgbnVsbCkpO1xuICAgIGlmICghcGx0LiRvcmdMb2NOb2RlcyQpIHtcbiAgICAgICAgaW5pdGlhbGl6ZURvY3VtZW50SHlkcmF0ZShkb2MuYm9keSwgKHBsdC4kb3JnTG9jTm9kZXMkID0gbmV3IE1hcCgpKSk7XG4gICAgfVxuICAgIGhvc3RFbG1bSFlEUkFURV9JRF0gPSBob3N0SWQ7XG4gICAgaG9zdEVsbS5yZW1vdmVBdHRyaWJ1dGUoSFlEUkFURV9JRCk7XG4gICAgY2xpZW50SHlkcmF0ZSh2bm9kZSwgY2hpbGRSZW5kZXJOb2Rlcywgc2xvdE5vZGVzLCBzaGFkb3dSb290Tm9kZXMsIGhvc3RFbG0sIGhvc3RFbG0sIGhvc3RJZCk7XG4gICAgY2hpbGRSZW5kZXJOb2Rlcy5tYXAoYyA9PiB7XG4gICAgICAgIGNvbnN0IG9yZ0xvY2F0aW9uSWQgPSBjLiRob3N0SWQkICsgJy4nICsgYy4kbm9kZUlkJDtcbiAgICAgICAgY29uc3Qgb3JnTG9jYXRpb25Ob2RlID0gcGx0LiRvcmdMb2NOb2RlcyQuZ2V0KG9yZ0xvY2F0aW9uSWQpO1xuICAgICAgICBjb25zdCBub2RlID0gYy4kZWxtJDtcbiAgICAgICAgaWYgKG9yZ0xvY2F0aW9uTm9kZSAmJiBzdXBwb3J0c1NoYWRvdyAmJiBvcmdMb2NhdGlvbk5vZGVbJ3MtZW4nXSA9PT0gJycpIHtcbiAgICAgICAgICAgIG9yZ0xvY2F0aW9uTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBvcmdMb2NhdGlvbk5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgbm9kZVsncy1obiddID0gdGFnTmFtZTtcbiAgICAgICAgICAgIGlmIChvcmdMb2NhdGlvbk5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlWydzLW9sJ10gPSBvcmdMb2NhdGlvbk5vZGU7XG4gICAgICAgICAgICAgICAgbm9kZVsncy1vbCddWydzLW5yJ10gPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBsdC4kb3JnTG9jTm9kZXMkLmRlbGV0ZShvcmdMb2NhdGlvbklkKTtcbiAgICB9KTtcbiAgICBpZiAoQlVJTEQuc2hhZG93RG9tICYmIHNoYWRvd1Jvb3QpIHtcbiAgICAgICAgc2hhZG93Um9vdE5vZGVzLm1hcChzaGFkb3dSb290Tm9kZSA9PiB7XG4gICAgICAgICAgICBpZiAoc2hhZG93Um9vdE5vZGUpIHtcbiAgICAgICAgICAgICAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHNoYWRvd1Jvb3ROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVuZEh5ZHJhdGUoKTtcbn07XG5jb25zdCBjbGllbnRIeWRyYXRlID0gKHBhcmVudFZOb2RlLCBjaGlsZFJlbmRlck5vZGVzLCBzbG90Tm9kZXMsIHNoYWRvd1Jvb3ROb2RlcywgaG9zdEVsbSwgbm9kZSwgaG9zdElkKSA9PiB7XG4gICAgbGV0IGNoaWxkTm9kZVR5cGU7XG4gICAgbGV0IGNoaWxkSWRTcGx0O1xuICAgIGxldCBjaGlsZFZOb2RlO1xuICAgIGxldCBpO1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgICAgIGNoaWxkTm9kZVR5cGUgPSBub2RlLmdldEF0dHJpYnV0ZShIWURSQVRFX0NISUxEX0lEKTtcbiAgICAgICAgaWYgKGNoaWxkTm9kZVR5cGUpIHtcbiAgICAgICAgICAgIC8vIGdvdCB0aGUgbm9kZSBkYXRhIGZyb20gdGhlIGVsZW1lbnQncyBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vIGAke2hvc3RJZH0uJHtub2RlSWR9LiR7ZGVwdGh9LiR7aW5kZXh9YFxuICAgICAgICAgICAgY2hpbGRJZFNwbHQgPSBjaGlsZE5vZGVUeXBlLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBpZiAoY2hpbGRJZFNwbHRbMF0gPT09IGhvc3RJZCB8fCBjaGlsZElkU3BsdFswXSA9PT0gJzAnKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRWTm9kZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgJGZsYWdzJDogMCxcbiAgICAgICAgICAgICAgICAgICAgJGhvc3RJZCQ6IGNoaWxkSWRTcGx0WzBdLFxuICAgICAgICAgICAgICAgICAgICAkbm9kZUlkJDogY2hpbGRJZFNwbHRbMV0sXG4gICAgICAgICAgICAgICAgICAgICRkZXB0aCQ6IGNoaWxkSWRTcGx0WzJdLFxuICAgICAgICAgICAgICAgICAgICAkaW5kZXgkOiBjaGlsZElkU3BsdFszXSxcbiAgICAgICAgICAgICAgICAgICAgJHRhZyQ6IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgICAgICAkZWxtJDogbm9kZSxcbiAgICAgICAgICAgICAgICAgICAgJGF0dHJzJDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgJGNoaWxkcmVuJDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgJGtleSQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICRuYW1lJDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgJHRleHQkOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2hpbGRSZW5kZXJOb2Rlcy5wdXNoKGNoaWxkVk5vZGUpO1xuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKEhZRFJBVEVfQ0hJTERfSUQpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYSBuZXcgY2hpbGQgdm5vZGVcbiAgICAgICAgICAgICAgICAvLyBzbyBlbnN1cmUgaXRzIHBhcmVudCB2bm9kZSBoYXMgdGhlIHZjaGlsZHJlbiBhcnJheVxuICAgICAgICAgICAgICAgIGlmICghcGFyZW50Vk5vZGUuJGNoaWxkcmVuJCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRWTm9kZS4kY2hpbGRyZW4kID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGFkZCBvdXIgY2hpbGQgdm5vZGUgdG8gYSBzcGVjaWZpYyBpbmRleCBvZiB0aGUgdm5vZGUncyBjaGlsZHJlblxuICAgICAgICAgICAgICAgIHBhcmVudFZOb2RlLiRjaGlsZHJlbiRbY2hpbGRWTm9kZS4kaW5kZXgkXSA9IGNoaWxkVk5vZGU7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBub3cgdGhlIG5ldyBwYXJlbnQgdm5vZGUgZm9yIGFsbCB0aGUgbmV4dCBjaGlsZCBjaGVja3NcbiAgICAgICAgICAgICAgICBwYXJlbnRWTm9kZSA9IGNoaWxkVk5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKHNoYWRvd1Jvb3ROb2RlcyAmJiBjaGlsZFZOb2RlLiRkZXB0aCQgPT09ICcwJykge1xuICAgICAgICAgICAgICAgICAgICBzaGFkb3dSb290Tm9kZXNbY2hpbGRWTm9kZS4kaW5kZXgkXSA9IGNoaWxkVk5vZGUuJGVsbSQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHJlY3Vyc2l2ZWx5IGRyaWxsIGRvd24sIGVuZCB0byBzdGFydCBzbyB3ZSBjYW4gcmVtb3ZlIG5vZGVzXG4gICAgICAgIGZvciAoaSA9IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY2xpZW50SHlkcmF0ZShwYXJlbnRWTm9kZSwgY2hpbGRSZW5kZXJOb2Rlcywgc2xvdE5vZGVzLCBzaGFkb3dSb290Tm9kZXMsIGhvc3RFbG0sIG5vZGUuY2hpbGROb2Rlc1tpXSwgaG9zdElkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICAvLyBrZWVwIGRyaWxsaW5nIGRvd24gdGhyb3VnaCB0aGUgc2hhZG93IHJvb3Qgbm9kZXNcbiAgICAgICAgICAgIGZvciAoaSA9IG5vZGUuc2hhZG93Um9vdC5jaGlsZE5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgY2xpZW50SHlkcmF0ZShwYXJlbnRWTm9kZSwgY2hpbGRSZW5kZXJOb2Rlcywgc2xvdE5vZGVzLCBzaGFkb3dSb290Tm9kZXMsIGhvc3RFbG0sIG5vZGUuc2hhZG93Um9vdC5jaGlsZE5vZGVzW2ldLCBob3N0SWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogQ29tbWVudE5vZGUgKi8pIHtcbiAgICAgICAgLy8gYCR7Q09NTUVOVF9UWVBFfS4ke2hvc3RJZH0uJHtub2RlSWR9LiR7ZGVwdGh9LiR7aW5kZXh9YFxuICAgICAgICBjaGlsZElkU3BsdCA9IG5vZGUubm9kZVZhbHVlLnNwbGl0KCcuJyk7XG4gICAgICAgIGlmIChjaGlsZElkU3BsdFsxXSA9PT0gaG9zdElkIHx8IGNoaWxkSWRTcGx0WzFdID09PSAnMCcpIHtcbiAgICAgICAgICAgIC8vIGNvbW1lbnQgbm9kZSBmb3IgZWl0aGVyIHRoZSBob3N0IGlkIG9yIGEgMCBob3N0IGlkXG4gICAgICAgICAgICBjaGlsZE5vZGVUeXBlID0gY2hpbGRJZFNwbHRbMF07XG4gICAgICAgICAgICBjaGlsZFZOb2RlID0ge1xuICAgICAgICAgICAgICAgICRmbGFncyQ6IDAsXG4gICAgICAgICAgICAgICAgJGhvc3RJZCQ6IGNoaWxkSWRTcGx0WzFdLFxuICAgICAgICAgICAgICAgICRub2RlSWQkOiBjaGlsZElkU3BsdFsyXSxcbiAgICAgICAgICAgICAgICAkZGVwdGgkOiBjaGlsZElkU3BsdFszXSxcbiAgICAgICAgICAgICAgICAkaW5kZXgkOiBjaGlsZElkU3BsdFs0XSxcbiAgICAgICAgICAgICAgICAkZWxtJDogbm9kZSxcbiAgICAgICAgICAgICAgICAkYXR0cnMkOiBudWxsLFxuICAgICAgICAgICAgICAgICRjaGlsZHJlbiQ6IG51bGwsXG4gICAgICAgICAgICAgICAgJGtleSQ6IG51bGwsXG4gICAgICAgICAgICAgICAgJG5hbWUkOiBudWxsLFxuICAgICAgICAgICAgICAgICR0YWckOiBudWxsLFxuICAgICAgICAgICAgICAgICR0ZXh0JDogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY2hpbGROb2RlVHlwZSA9PT0gVEVYVF9OT0RFX0lEKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRWTm9kZS4kZWxtJCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkVk5vZGUuJGVsbSQgJiYgY2hpbGRWTm9kZS4kZWxtJC5ub2RlVHlwZSA9PT0gMyAvKiBUZXh0Tm9kZSAqLykge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZFZOb2RlLiR0ZXh0JCA9IGNoaWxkVk5vZGUuJGVsbSQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkUmVuZGVyTm9kZXMucHVzaChjaGlsZFZOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSB0ZXh0IGNvbW1lbnQgc2luY2UgaXQncyBubyBsb25nZXIgbmVlZGVkXG4gICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFyZW50Vk5vZGUuJGNoaWxkcmVuJCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Vk5vZGUuJGNoaWxkcmVuJCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFZOb2RlLiRjaGlsZHJlbiRbY2hpbGRWTm9kZS4kaW5kZXgkXSA9IGNoaWxkVk5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGFkb3dSb290Tm9kZXMgJiYgY2hpbGRWTm9kZS4kZGVwdGgkID09PSAnMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd1Jvb3ROb2Rlc1tjaGlsZFZOb2RlLiRpbmRleCRdID0gY2hpbGRWTm9kZS4kZWxtJDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkVk5vZGUuJGhvc3RJZCQgPT09IGhvc3RJZCkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgY29tbWVudCBub2RlIGlzIHNwZWNpZmNhbGx5IGZvciB0aGlzIGhvc3QgaWRcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGROb2RlVHlwZSA9PT0gU0xPVF9OT0RFX0lEKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGAke1NMT1RfTk9ERV9JRH0uJHtob3N0SWR9LiR7bm9kZUlkfS4ke2RlcHRofS4ke2luZGV4fS4ke3Nsb3ROYW1lfWA7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkVk5vZGUuJHRhZyQgPSAnc2xvdCc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZElkU3BsdFs1XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVsncy1zbiddID0gY2hpbGRWTm9kZS4kbmFtZSQgPSBjaGlsZElkU3BsdFs1XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVbJ3Mtc24nXSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGVbJ3Mtc3InXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCVUlMRC5zaGFkb3dEb20gJiYgc2hhZG93Um9vdE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBicm93c2VyIHN1cHBvcnQgc2hhZG93Um9vdCBhbmQgdGhpcyBpcyBhIHNoYWRvdyBkb20gY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgYW4gYWN0dWFsIHNsb3QgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRWTm9kZS4kZWxtJCA9IGRvYy5jcmVhdGVFbGVtZW50KGNoaWxkVk5vZGUuJHRhZyQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkVk5vZGUuJG5hbWUkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBzbG90IG5hbWUgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRWTm9kZS4kZWxtJC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBjaGlsZFZOb2RlLiRuYW1lJCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbnNlcnQgdGhlIG5ldyBzbG90IGVsZW1lbnQgYmVmb3JlIHRoZSBzbG90IGNvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY2hpbGRWTm9kZS4kZWxtJCwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIHNsb3QgY29tbWVudCBzaW5jZSBpdCdzIG5vdCBuZWVkZWQgZm9yIHNoYWRvd1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZFZOb2RlLiRkZXB0aCQgPT09ICcwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd1Jvb3ROb2Rlc1tjaGlsZFZOb2RlLiRpbmRleCRdID0gY2hpbGRWTm9kZS4kZWxtJDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzbG90Tm9kZXMucHVzaChjaGlsZFZOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJlbnRWTm9kZS4kY2hpbGRyZW4kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRWTm9kZS4kY2hpbGRyZW4kID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Vk5vZGUuJGNoaWxkcmVuJFtjaGlsZFZOb2RlLiRpbmRleCRdID0gY2hpbGRWTm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGROb2RlVHlwZSA9PT0gQ09OVEVOVF9SRUZfSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYCR7Q09OVEVOVF9SRUZfSUR9LiR7aG9zdElkfWA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChCVUlMRC5zaGFkb3dEb20gJiYgc2hhZG93Um9vdE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIGNvbnRlbnQgcmVmIGNvbW1lbnQgc2luY2UgaXQncyBub3QgbmVlZGVkIGZvciBzaGFkb3dcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoQlVJTEQuc2xvdFJlbG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RFbG1bJ3MtY3InXSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlWydzLWNuJ10gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHBhcmVudFZOb2RlICYmIHBhcmVudFZOb2RlLiR0YWckID09PSAnc3R5bGUnKSB7XG4gICAgICAgIGNvbnN0IHZub2RlID0gbmV3Vk5vZGUobnVsbCwgbm9kZS50ZXh0Q29udGVudCk7XG4gICAgICAgIHZub2RlLiRlbG0kID0gbm9kZTtcbiAgICAgICAgdm5vZGUuJGluZGV4JCA9ICcwJztcbiAgICAgICAgcGFyZW50Vk5vZGUuJGNoaWxkcmVuJCA9IFt2bm9kZV07XG4gICAgfVxufTtcbmNvbnN0IGluaXRpYWxpemVEb2N1bWVudEh5ZHJhdGUgPSAobm9kZSwgb3JnTG9jTm9kZXMpID0+IHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSAvKiBFbGVtZW50Tm9kZSAqLykge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoOyBpIDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpbml0aWFsaXplRG9jdW1lbnRIeWRyYXRlKG5vZGUuY2hpbGROb2Rlc1tpXSwgb3JnTG9jTm9kZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBub2RlLnNoYWRvd1Jvb3QuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVEb2N1bWVudEh5ZHJhdGUobm9kZS5zaGFkb3dSb290LmNoaWxkTm9kZXNbaV0sIG9yZ0xvY05vZGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIENvbW1lbnROb2RlICovKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkSWRTcGx0ID0gbm9kZS5ub2RlVmFsdWUuc3BsaXQoJy4nKTtcbiAgICAgICAgaWYgKGNoaWxkSWRTcGx0WzBdID09PSBPUkdfTE9DQVRJT05fSUQpIHtcbiAgICAgICAgICAgIG9yZ0xvY05vZGVzLnNldChjaGlsZElkU3BsdFsxXSArICcuJyArIGNoaWxkSWRTcGx0WzJdLCBub2RlKTtcbiAgICAgICAgICAgIG5vZGUubm9kZVZhbHVlID0gJyc7XG4gICAgICAgICAgICAvLyB1c2VmdWwgdG8ga25vdyBpZiB0aGUgb3JpZ2luYWwgbG9jYXRpb24gaXNcbiAgICAgICAgICAgIC8vIHRoZSByb290IGxpZ2h0LWRvbSBvZiBhIHNoYWRvdyBkb20gY29tcG9uZW50XG4gICAgICAgICAgICBub2RlWydzLWVuJ10gPSBjaGlsZElkU3BsdFszXTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBwYXJzZVByb3BlcnR5VmFsdWUgPSAocHJvcFZhbHVlLCBwcm9wVHlwZSkgPT4ge1xuICAgIC8vIGVuc3VyZSB0aGlzIHZhbHVlIGlzIG9mIHRoZSBjb3JyZWN0IHByb3AgdHlwZVxuICAgIGlmIChwcm9wVmFsdWUgIT0gbnVsbCAmJiAhaXNDb21wbGV4VHlwZShwcm9wVmFsdWUpKSB7XG4gICAgICAgIGlmIChCVUlMRC5wcm9wQm9vbGVhbiAmJiBwcm9wVHlwZSAmIDQgLyogQm9vbGVhbiAqLykge1xuICAgICAgICAgICAgLy8gcGVyIHRoZSBIVE1MIHNwZWMsIGFueSBzdHJpbmcgdmFsdWUgbWVhbnMgaXQgaXMgYSBib29sZWFuIHRydWUgdmFsdWVcbiAgICAgICAgICAgIC8vIGJ1dCB3ZSdsbCBjaGVhdCBoZXJlIGFuZCBzYXkgdGhhdCB0aGUgc3RyaW5nIFwiZmFsc2VcIiBpcyB0aGUgYm9vbGVhbiBmYWxzZVxuICAgICAgICAgICAgcmV0dXJuIHByb3BWYWx1ZSA9PT0gJ2ZhbHNlJyA/IGZhbHNlIDogcHJvcFZhbHVlID09PSAnJyB8fCAhIXByb3BWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQucHJvcE51bWJlciAmJiBwcm9wVHlwZSAmIDIgLyogTnVtYmVyICovKSB7XG4gICAgICAgICAgICAvLyBmb3JjZSBpdCB0byBiZSBhIG51bWJlclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocHJvcFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQucHJvcFN0cmluZyAmJiBwcm9wVHlwZSAmIDEgLyogU3RyaW5nICovKSB7XG4gICAgICAgICAgICAvLyBjb3VsZCBoYXZlIGJlZW4gcGFzc2VkIGFzIGEgbnVtYmVyIG9yIGJvb2xlYW5cbiAgICAgICAgICAgIC8vIGJ1dCB3ZSBzdGlsbCB3YW50IGl0IGFzIGEgc3RyaW5nXG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKHByb3BWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVkdW5kYW50IHJldHVybiBoZXJlIGZvciBiZXR0ZXIgbWluaWZpY2F0aW9uXG4gICAgICAgIHJldHVybiBwcm9wVmFsdWU7XG4gICAgfVxuICAgIC8vIG5vdCBzdXJlIGV4YWN0bHkgd2hhdCB0eXBlIHdlIHdhbnRcbiAgICAvLyBzbyBubyBuZWVkIHRvIGNoYW5nZSB0byBhIGRpZmZlcmVudCB0eXBlXG4gICAgcmV0dXJuIHByb3BWYWx1ZTtcbn07XG5jb25zdCBnZXRWYWx1ZSA9IChyZWYsIHByb3BOYW1lKSA9PiBnZXRIb3N0UmVmKHJlZikuJGluc3RhbmNlVmFsdWVzJC5nZXQocHJvcE5hbWUpO1xuY29uc3Qgc2V0VmFsdWUgPSAocmVmLCBwcm9wTmFtZSwgbmV3VmFsLCBjbXBNZXRhKSA9PiB7XG4gICAgLy8gY2hlY2sgb3VyIG5ldyBwcm9wZXJ0eSB2YWx1ZSBhZ2FpbnN0IG91ciBpbnRlcm5hbCB2YWx1ZVxuICAgIGNvbnN0IGhvc3RSZWYgPSBnZXRIb3N0UmVmKHJlZik7XG4gICAgY29uc3QgZWxtID0gQlVJTEQubGF6eUxvYWQgPyBob3N0UmVmLiRob3N0RWxlbWVudCQgOiByZWY7XG4gICAgY29uc3Qgb2xkVmFsID0gaG9zdFJlZi4kaW5zdGFuY2VWYWx1ZXMkLmdldChwcm9wTmFtZSk7XG4gICAgY29uc3QgZmxhZ3MgPSBob3N0UmVmLiRmbGFncyQ7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBCVUlMRC5sYXp5TG9hZCA/IGhvc3RSZWYuJGxhenlJbnN0YW5jZSQgOiBlbG07XG4gICAgbmV3VmFsID0gcGFyc2VQcm9wZXJ0eVZhbHVlKG5ld1ZhbCwgY21wTWV0YS4kbWVtYmVycyRbcHJvcE5hbWVdWzBdKTtcbiAgICBpZiAoKCFCVUlMRC5sYXp5TG9hZCB8fCAhKGZsYWdzICYgOCAvKiBpc0NvbnN0cnVjdGluZ0luc3RhbmNlICovKSB8fCBvbGRWYWwgPT09IHVuZGVmaW5lZCkgJiYgbmV3VmFsICE9PSBvbGRWYWwpIHtcbiAgICAgICAgLy8gZ2Fkem9va3MhIHRoZSBwcm9wZXJ0eSdzIHZhbHVlIGhhcyBjaGFuZ2VkISFcbiAgICAgICAgLy8gc2V0IG91ciBuZXcgdmFsdWUhXG4gICAgICAgIGhvc3RSZWYuJGluc3RhbmNlVmFsdWVzJC5zZXQocHJvcE5hbWUsIG5ld1ZhbCk7XG4gICAgICAgIGlmIChCVUlMRC5pc0Rldikge1xuICAgICAgICAgICAgaWYgKGhvc3RSZWYuJGZsYWdzJCAmIDEwMjQgLyogZGV2T25SZW5kZXIgKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlRGV2V2FybihgVGhlIHN0YXRlL3Byb3AgXCIke3Byb3BOYW1lfVwiIGNoYW5nZWQgZHVyaW5nIHJlbmRlcmluZy4gVGhpcyBjYW4gcG90ZW50aWFsbHkgbGVhZCB0byBpbmZpbml0ZS1sb29wcyBhbmQgb3RoZXIgYnVncy5gLCAnXFxuRWxlbWVudCcsIGVsbSwgJ1xcbk5ldyB2YWx1ZScsIG5ld1ZhbCwgJ1xcbk9sZCB2YWx1ZScsIG9sZFZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChob3N0UmVmLiRmbGFncyQgJiAyMDQ4IC8qIGRldk9uRGlkTG9hZCAqLykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGVEZXZXYXJuKGBUaGUgc3RhdGUvcHJvcCBcIiR7cHJvcE5hbWV9XCIgY2hhbmdlZCBkdXJpbmcgXCJjb21wb25lbnREaWRMb2FkKClcIiwgdGhpcyB0cmlnZ2VycyBleHRyYSByZS1yZW5kZXJzLCB0cnkgdG8gc2V0dXAgb24gXCJjb21wb25lbnRXaWxsTG9hZCgpXCJgLCAnXFxuRWxlbWVudCcsIGVsbSwgJ1xcbk5ldyB2YWx1ZScsIG5ld1ZhbCwgJ1xcbk9sZCB2YWx1ZScsIG9sZFZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFCVUlMRC5sYXp5TG9hZCB8fCBpbnN0YW5jZSkge1xuICAgICAgICAgICAgLy8gZ2V0IGFuIGFycmF5IG9mIG1ldGhvZCBuYW1lcyBvZiB3YXRjaCBmdW5jdGlvbnMgdG8gY2FsbFxuICAgICAgICAgICAgaWYgKEJVSUxELndhdGNoQ2FsbGJhY2sgJiYgY21wTWV0YS4kd2F0Y2hlcnMkICYmIGZsYWdzICYgMTI4IC8qIGlzV2F0Y2hSZWFkeSAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhdGNoTWV0aG9kcyA9IGNtcE1ldGEuJHdhdGNoZXJzJFtwcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHdhdGNoTWV0aG9kcykge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGluc3RhbmNlIGlzIHdhdGNoaW5nIGZvciB3aGVuIHRoaXMgcHJvcGVydHkgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICB3YXRjaE1ldGhvZHMubWFwKHdhdGNoTWV0aG9kTmFtZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpcmUgb2ZmIGVhY2ggb2YgdGhlIHdhdGNoIG1ldGhvZHMgdGhhdCBhcmUgd2F0Y2hpbmcgdGhpcyBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlW3dhdGNoTWV0aG9kTmFtZV0obmV3VmFsLCBvbGRWYWwsIHByb3BOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZUVycm9yKGUsIGVsbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChCVUlMRC51cGRhdGFibGUgJiYgKGZsYWdzICYgKDIgLyogaGFzUmVuZGVyZWQgKi8gfCAxNiAvKiBpc1F1ZXVlZEZvclVwZGF0ZSAqLykpID09PSAyIC8qIGhhc1JlbmRlcmVkICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKEJVSUxELmNtcFNob3VsZFVwZGF0ZSAmJiBpbnN0YW5jZS5jb21wb25lbnRTaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmNvbXBvbmVudFNob3VsZFVwZGF0ZShuZXdWYWwsIG9sZFZhbCwgcHJvcE5hbWUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGxvb2tzIGxpa2UgdGhpcyB2YWx1ZSBhY3R1YWxseSBjaGFuZ2VkLCBzbyB3ZSd2ZSBnb3Qgd29yayB0byBkbyFcbiAgICAgICAgICAgICAgICAvLyBidXQgb25seSBpZiB3ZSd2ZSBhbHJlYWR5IHJlbmRlcmVkLCBvdGhlcndpc2UganVzdCBjaGlsbCBvdXRcbiAgICAgICAgICAgICAgICAvLyBxdWV1ZSB0aGF0IHdlIG5lZWQgdG8gZG8gYW4gdXBkYXRlLCBidXQgZG9uJ3Qgd29ycnkgYWJvdXQgcXVldWluZ1xuICAgICAgICAgICAgICAgIC8vIHVwIG1pbGxpb25zIGN1eiB0aGlzIGZ1bmN0aW9uIGVuc3VyZXMgaXQgb25seSBydW5zIG9uY2VcbiAgICAgICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZShob3N0UmVmLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgcHJveHlDb21wb25lbnQgPSAoQ3N0ciwgY21wTWV0YSwgZmxhZ3MpID0+IHtcbiAgICBpZiAoQlVJTEQubWVtYmVyICYmIGNtcE1ldGEuJG1lbWJlcnMkKSB7XG4gICAgICAgIGlmIChCVUlMRC53YXRjaENhbGxiYWNrICYmIENzdHIud2F0Y2hlcnMpIHtcbiAgICAgICAgICAgIGNtcE1ldGEuJHdhdGNoZXJzJCA9IENzdHIud2F0Y2hlcnM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSXQncyBiZXR0ZXIgdG8gaGF2ZSBhIGNvbnN0IHRoYW4gdHdvIE9iamVjdC5lbnRyaWVzKClcbiAgICAgICAgY29uc3QgbWVtYmVycyA9IE9iamVjdC5lbnRyaWVzKGNtcE1ldGEuJG1lbWJlcnMkKTtcbiAgICAgICAgY29uc3QgcHJvdG90eXBlID0gQ3N0ci5wcm90b3R5cGU7XG4gICAgICAgIG1lbWJlcnMubWFwKChbbWVtYmVyTmFtZSwgW21lbWJlckZsYWdzXV0pID0+IHtcbiAgICAgICAgICAgIGlmICgoQlVJTEQucHJvcCB8fCBCVUlMRC5zdGF0ZSkgJiYgKG1lbWJlckZsYWdzICYgMzEgLyogUHJvcCAqLyB8fCAoKCFCVUlMRC5sYXp5TG9hZCB8fCBmbGFncyAmIDIgLyogcHJveHlTdGF0ZSAqLykgJiYgbWVtYmVyRmxhZ3MgJiAzMiAvKiBTdGF0ZSAqLykpKSB7XG4gICAgICAgICAgICAgICAgLy8gcHJveHlDb21wb25lbnQgLSBwcm9wXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgbWVtYmVyTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm94eUNvbXBvbmVudCwgZ2V0IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VmFsdWUodGhpcywgbWVtYmVyTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBkdXJpbmcgZGV2IHRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChCVUlMRC5pc0Rldikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZiA9IGdldEhvc3RSZWYodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBwcm94eWluZyB0aGUgaW5zdGFuY2UgKG5vdCBlbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmbGFncyAmIDEgLyogaXNFbGVtZW50Q29uc3RydWN0b3IgKi8pID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IGlzIG5vdCBjb25zdHJ1Y3RpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlZi4kZmxhZ3MkICYgOCAvKiBpc0NvbnN0cnVjdGluZ0luc3RhbmNlICovKSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbWVtYmVyIGlzIGEgcHJvcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWVtYmVyRmxhZ3MgJiAzMSAvKiBQcm9wICovKSAhPT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbWVtYmVyIGlzIG5vdCBtdXRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtZW1iZXJGbGFncyAmIDEwMjQgLyogTXV0YWJsZSAqLykgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZURldldhcm4oYEBQcm9wKCkgXCIke21lbWJlck5hbWV9XCIgb24gPCR7Y21wTWV0YS4kdGFnTmFtZSR9PiBpcyBpbW11dGFibGUgYnV0IHdhcyBtb2RpZmllZCBmcm9tIHdpdGhpbiB0aGUgY29tcG9uZW50Llxcbk1vcmUgaW5mb3JtYXRpb246IGh0dHBzOi8vc3RlbmNpbGpzLmNvbS9kb2NzL3Byb3BlcnRpZXMjcHJvcC1tdXRhYmlsaXR5YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJveHlDb21wb25lbnQsIHNldCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUodGhpcywgbWVtYmVyTmFtZSwgbmV3VmFsdWUsIGNtcE1ldGEpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChCVUlMRC5sYXp5TG9hZCAmJiBCVUlMRC5tZXRob2QgJiYgZmxhZ3MgJiAxIC8qIGlzRWxlbWVudENvbnN0cnVjdG9yICovICYmIG1lbWJlckZsYWdzICYgNjQgLyogTWV0aG9kICovKSB7XG4gICAgICAgICAgICAgICAgLy8gcHJveHlDb21wb25lbnQgLSBtZXRob2RcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG90eXBlLCBtZW1iZXJOYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZiA9IGdldEhvc3RSZWYodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVmLiRvbkluc3RhbmNlUHJvbWlzZSQudGhlbigoKSA9PiByZWYuJGxhenlJbnN0YW5jZSRbbWVtYmVyTmFtZV0oLi4uYXJncykpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKEJVSUxELm9ic2VydmVBdHRyaWJ1dGUgJiYgKCFCVUlMRC5sYXp5TG9hZCB8fCBmbGFncyAmIDEgLyogaXNFbGVtZW50Q29uc3RydWN0b3IgKi8pKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyTmFtZVRvUHJvcE5hbWUgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBwcm90b3R5cGUuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrID0gZnVuY3Rpb24gKGF0dHJOYW1lLCBfb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcGx0LmptcCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BOYW1lID0gYXR0ck5hbWVUb1Byb3BOYW1lLmdldChhdHRyTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbcHJvcE5hbWVdID0gbmV3VmFsdWUgPT09IG51bGwgJiYgdHlwZW9mIHRoaXNbcHJvcE5hbWVdID09PSAnYm9vbGVhbicgPyBmYWxzZSA6IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBhbiBhcnJheSBvZiBhdHRyaWJ1dGVzIHRvIG9ic2VydmVcbiAgICAgICAgICAgIC8vIGFuZCBhbHNvIGNyZWF0ZSBhIG1hcCBvZiBodG1sIGF0dHJpYnV0ZSBuYW1lIHRvIGpzIHByb3BlcnR5IG5hbWVcbiAgICAgICAgICAgIENzdHIub2JzZXJ2ZWRBdHRyaWJ1dGVzID0gbWVtYmVyc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoKFtfLCBtXSkgPT4gbVswXSAmIDE1IC8qIEhhc0F0dHJpYnV0ZSAqLykgLy8gZmlsdGVyIHRvIG9ubHkga2VlcCBwcm9wcyB0aGF0IHNob3VsZCBtYXRjaCBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgLm1hcCgoW3Byb3BOYW1lLCBtXSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gbVsxXSB8fCBwcm9wTmFtZTtcbiAgICAgICAgICAgICAgICBhdHRyTmFtZVRvUHJvcE5hbWUuc2V0KGF0dHJOYW1lLCBwcm9wTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKEJVSUxELnJlZmxlY3QgJiYgbVswXSAmIDUxMiAvKiBSZWZsZWN0QXR0ciAqLykge1xuICAgICAgICAgICAgICAgICAgICBjbXBNZXRhLiRhdHRyc1RvUmVmbGVjdCQucHVzaChbcHJvcE5hbWUsIGF0dHJOYW1lXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhdHRyTmFtZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBDc3RyO1xufTtcbmNvbnN0IGluaXRpYWxpemVDb21wb25lbnQgPSBhc3luYyAoZWxtLCBob3N0UmVmLCBjbXBNZXRhLCBobXJWZXJzaW9uSWQsIENzdHIpID0+IHtcbiAgICAvLyBpbml0aWFsaXplQ29tcG9uZW50XG4gICAgaWYgKChCVUlMRC5sYXp5TG9hZCB8fCBCVUlMRC5oeWRyYXRlU2VydmVyU2lkZSB8fCBCVUlMRC5zdHlsZSkgJiYgKGhvc3RSZWYuJGZsYWdzJCAmIDMyIC8qIGhhc0luaXRpYWxpemVkQ29tcG9uZW50ICovKSA9PT0gMCkge1xuICAgICAgICBpZiAoQlVJTEQubGF6eUxvYWQgfHwgQlVJTEQuaHlkcmF0ZUNsaWVudFNpZGUpIHtcbiAgICAgICAgICAgIC8vIHdlIGhhdmVuJ3QgaW5pdGlhbGl6ZWQgdGhpcyBlbGVtZW50IHlldFxuICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDMyIC8qIGhhc0luaXRpYWxpemVkQ29tcG9uZW50ICovO1xuICAgICAgICAgICAgLy8gbGF6eSBsb2FkZWQgY29tcG9uZW50c1xuICAgICAgICAgICAgLy8gcmVxdWVzdCB0aGUgY29tcG9uZW50J3MgaW1wbGVtZW50YXRpb24gdG8gYmVcbiAgICAgICAgICAgIC8vIHdpcmVkIHVwIHdpdGggdGhlIGhvc3QgZWxlbWVudFxuICAgICAgICAgICAgQ3N0ciA9IGxvYWRNb2R1bGUoY21wTWV0YSwgaG9zdFJlZiwgaG1yVmVyc2lvbklkKTtcbiAgICAgICAgICAgIGlmIChDc3RyLnRoZW4pIHtcbiAgICAgICAgICAgICAgICAvLyBBd2FpdCBjcmVhdGVzIGEgbWljcm8tdGFzayBhdm9pZCBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZExvYWQgPSB1bmlxdWVUaW1lKGBzdDpsb2FkOiR7Y21wTWV0YS4kdGFnTmFtZSR9OiR7aG9zdFJlZi4kbW9kZU5hbWUkfWAsIGBbU3RlbmNpbF0gTG9hZCBtb2R1bGUgZm9yIDwke2NtcE1ldGEuJHRhZ05hbWUkfT5gKTtcbiAgICAgICAgICAgICAgICBDc3RyID0gYXdhaXQgQ3N0cjtcbiAgICAgICAgICAgICAgICBlbmRMb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKEJVSUxELmlzRGV2IHx8IEJVSUxELmlzRGVidWcpICYmICFDc3RyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb25zdHJ1Y3RvciBmb3IgXCIke2NtcE1ldGEuJHRhZ05hbWUkfSMke2hvc3RSZWYuJG1vZGVOYW1lJH1cIiB3YXMgbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQlVJTEQubWVtYmVyICYmICFDc3RyLmlzUHJveGllZCkge1xuICAgICAgICAgICAgICAgIC8vIHdlJ2V2ZSBuZXZlciBwcm94aWVkIHRoaXMgQ29uc3RydWN0b3IgYmVmb3JlXG4gICAgICAgICAgICAgICAgLy8gbGV0J3MgYWRkIHRoZSBnZXR0ZXJzL3NldHRlcnMgdG8gaXRzIHByb3RvdHlwZSBiZWZvcmVcbiAgICAgICAgICAgICAgICAvLyB0aGUgZmlyc3QgdGltZSB3ZSBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAgICAgICAgaWYgKEJVSUxELndhdGNoQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY21wTWV0YS4kd2F0Y2hlcnMkID0gQ3N0ci53YXRjaGVycztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJveHlDb21wb25lbnQoQ3N0ciwgY21wTWV0YSwgMiAvKiBwcm94eVN0YXRlICovKTtcbiAgICAgICAgICAgICAgICBDc3RyLmlzUHJveGllZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlbmROZXdJbnN0YW5jZSA9IGNyZWF0ZVRpbWUoJ2NyZWF0ZUluc3RhbmNlJywgY21wTWV0YS4kdGFnTmFtZSQpO1xuICAgICAgICAgICAgLy8gb2ssIHRpbWUgdG8gY29uc3RydWN0IHRoZSBpbnN0YW5jZVxuICAgICAgICAgICAgLy8gYnV0IGxldCdzIGtlZXAgdHJhY2sgb2Ygd2hlbiB3ZSBzdGFydCBhbmQgc3RvcFxuICAgICAgICAgICAgLy8gc28gdGhhdCB0aGUgZ2V0dGVycy9zZXR0ZXJzIGRvbid0IGluY29ycmVjdGx5IHN0ZXAgb24gZGF0YVxuICAgICAgICAgICAgaWYgKEJVSUxELm1lbWJlcikge1xuICAgICAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSA4IC8qIGlzQ29uc3RydWN0aW5nSW5zdGFuY2UgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb25zdHJ1Y3QgdGhlIGxhenktbG9hZGVkIGNvbXBvbmVudCBpbXBsZW1lbnRhdGlvblxuICAgICAgICAgICAgLy8gcGFzc2luZyB0aGUgaG9zdFJlZiBpcyB2ZXJ5IGltcG9ydGFudCBkdXJpbmdcbiAgICAgICAgICAgIC8vIGNvbnN0cnVjdGlvbiBpbiBvcmRlciB0byBkaXJlY3RseSB3aXJlIHRvZ2V0aGVyIHRoZVxuICAgICAgICAgICAgLy8gaG9zdCBlbGVtZW50IGFuZCB0aGUgbGF6eS1sb2FkZWQgaW5zdGFuY2VcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbmV3IENzdHIoaG9zdFJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGVFcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChCVUlMRC5tZW1iZXIpIHtcbiAgICAgICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgJj0gfjggLyogaXNDb25zdHJ1Y3RpbmdJbnN0YW5jZSAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChCVUlMRC53YXRjaENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDEyOCAvKiBpc1dhdGNoUmVhZHkgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmROZXdJbnN0YW5jZSgpO1xuICAgICAgICAgICAgZmlyZUNvbm5lY3RlZENhbGxiYWNrKGhvc3RSZWYuJGxhenlJbnN0YW5jZSQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3luYyBjb25zdHJ1Y3RvciBjb21wb25lbnRcbiAgICAgICAgICAgIENzdHIgPSBlbG0uY29uc3RydWN0b3I7XG4gICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gMTI4IC8qIGlzV2F0Y2hSZWFkeSAqLyB8IDMyIC8qIGhhc0luaXRpYWxpemVkQ29tcG9uZW50ICovO1xuICAgICAgICB9XG4gICAgICAgIGlmIChCVUlMRC5zdHlsZSAmJiBDc3RyLnN0eWxlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGNvbXBvbmVudCBoYXMgc3R5bGVzIGJ1dCB3ZSBoYXZlbid0IHJlZ2lzdGVyZWQgdGhlbSB5ZXRcbiAgICAgICAgICAgIGxldCBzdHlsZSA9IENzdHIuc3R5bGU7XG4gICAgICAgICAgICBpZiAoQlVJTEQubW9kZSAmJiB0eXBlb2Ygc3R5bGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUgPSBzdHlsZVsoaG9zdFJlZi4kbW9kZU5hbWUkID0gY29tcHV0ZU1vZGUoZWxtKSldO1xuICAgICAgICAgICAgICAgIGlmIChCVUlMRC5oeWRyYXRlU2VydmVyU2lkZSAmJiBob3N0UmVmLiRtb2RlTmFtZSQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZSgncy1tb2RlJywgaG9zdFJlZi4kbW9kZU5hbWUkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzY29wZUlkID0gZ2V0U2NvcGVJZChjbXBNZXRhLCBob3N0UmVmLiRtb2RlTmFtZSQpO1xuICAgICAgICAgICAgaWYgKCFzdHlsZXMuaGFzKHNjb3BlSWQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kUmVnaXN0ZXJTdHlsZXMgPSBjcmVhdGVUaW1lKCdyZWdpc3RlclN0eWxlcycsIGNtcE1ldGEuJHRhZ05hbWUkKTtcbiAgICAgICAgICAgICAgICBpZiAoIUJVSUxELmh5ZHJhdGVTZXJ2ZXJTaWRlICYmIEJVSUxELnNoYWRvd0RvbSAmJiBCVUlMRC5zaGFkb3dEb21TaGltICYmIGNtcE1ldGEuJGZsYWdzJCAmIDggLyogbmVlZHNTaGFkb3dEb21TaGltICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlID0gYXdhaXQgaW1wb3J0KCcuL3NoYWRvdy1jc3MuanMnKS50aGVuKG0gPT4gbS5zY29wZUNzcyhzdHlsZSwgc2NvcGVJZCwgZmFsc2UpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJTdHlsZShzY29wZUlkLCBzdHlsZSwgISEoY21wTWV0YS4kZmxhZ3MkICYgMSAvKiBzaGFkb3dEb21FbmNhcHN1bGF0aW9uICovKSk7XG4gICAgICAgICAgICAgICAgZW5kUmVnaXN0ZXJTdHlsZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyB3ZSd2ZSBzdWNjZXNzZnVsbHkgY3JlYXRlZCBhIGxhenkgaW5zdGFuY2VcbiAgICBjb25zdCBhbmNlc3RvckNvbXBvbmVudCA9IGhvc3RSZWYuJGFuY2VzdG9yQ29tcG9uZW50JDtcbiAgICBjb25zdCBzY2hlZHVsZSA9ICgpID0+IHNjaGVkdWxlVXBkYXRlKGhvc3RSZWYsIHRydWUpO1xuICAgIGlmIChCVUlMRC5hc3luY0xvYWRpbmcgJiYgYW5jZXN0b3JDb21wb25lbnQgJiYgYW5jZXN0b3JDb21wb25lbnRbJ3MtcmMnXSkge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBpbnRpYWwgbG9hZCBhbmQgdGhpcyBjb21wb25lbnQgaXQgaGFzIGFuIGFuY2VzdG9yIGNvbXBvbmVudFxuICAgICAgICAvLyBidXQgdGhlIGFuY2VzdG9yIGNvbXBvbmVudCBoYXMgTk9UIGZpcmVkIGl0cyB3aWxsIHVwZGF0ZSBsaWZlY3ljbGUgeWV0XG4gICAgICAgIC8vIHNvIGxldCdzIGp1c3QgY29vbCBvdXIgamV0cyBhbmQgd2FpdCBmb3IgdGhlIGFuY2VzdG9yIHRvIGNvbnRpbnVlIGZpcnN0XG4gICAgICAgIC8vIHRoaXMgd2lsbCBnZXQgZmlyZWQgb2ZmIHdoZW4gdGhlIGFuY2VzdG9yIGNvbXBvbmVudFxuICAgICAgICAvLyBmaW5hbGx5IGdldHMgYXJvdW5kIHRvIHJlbmRlcmluZyBpdHMgbGF6eSBzZWxmXG4gICAgICAgIC8vIGZpcmUgb2ZmIHRoZSBpbml0aWFsIHVwZGF0ZVxuICAgICAgICBhbmNlc3RvckNvbXBvbmVudFsncy1yYyddLnB1c2goc2NoZWR1bGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2NoZWR1bGUoKTtcbiAgICB9XG59O1xuY29uc3QgZmlyZUNvbm5lY3RlZENhbGxiYWNrID0gKGluc3RhbmNlKSA9PiB7XG4gICAgaWYgKEJVSUxELmxhenlMb2FkICYmIEJVSUxELmNvbm5lY3RlZENhbGxiYWNrKSB7XG4gICAgICAgIHNhZmVDYWxsKGluc3RhbmNlLCAnY29ubmVjdGVkQ2FsbGJhY2snKTtcbiAgICB9XG59O1xuY29uc3QgY29ubmVjdGVkQ2FsbGJhY2sgPSAoZWxtKSA9PiB7XG4gICAgaWYgKChwbHQuJGZsYWdzJCAmIDEgLyogaXNUbXBEaXNjb25uZWN0ZWQgKi8pID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGhvc3RSZWYgPSBnZXRIb3N0UmVmKGVsbSk7XG4gICAgICAgIGNvbnN0IGNtcE1ldGEgPSBob3N0UmVmLiRjbXBNZXRhJDtcbiAgICAgICAgY29uc3QgZW5kQ29ubmVjdGVkID0gY3JlYXRlVGltZSgnY29ubmVjdGVkQ2FsbGJhY2snLCBjbXBNZXRhLiR0YWdOYW1lJCk7XG4gICAgICAgIGlmIChCVUlMRC5ob3N0TGlzdGVuZXJUYXJnZXRQYXJlbnQpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgcnVuIGlmIHdlIGhhdmUgbGlzdGVuZXJzIGJlaW5nIGF0dGFjaGVkIHRvIGEgcGFyZW50XG4gICAgICAgICAgICBhZGRIb3N0RXZlbnRMaXN0ZW5lcnMoZWxtLCBob3N0UmVmLCBjbXBNZXRhLiRsaXN0ZW5lcnMkLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShob3N0UmVmLiRmbGFncyQgJiAxIC8qIGhhc0Nvbm5lY3RlZCAqLykpIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IHRpbWUgdGhpcyBjb21wb25lbnQgaGFzIGNvbm5lY3RlZFxuICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDEgLyogaGFzQ29ubmVjdGVkICovO1xuICAgICAgICAgICAgbGV0IGhvc3RJZDtcbiAgICAgICAgICAgIGlmIChCVUlMRC5oeWRyYXRlQ2xpZW50U2lkZSkge1xuICAgICAgICAgICAgICAgIGhvc3RJZCA9IGVsbS5nZXRBdHRyaWJ1dGUoSFlEUkFURV9JRCk7XG4gICAgICAgICAgICAgICAgaWYgKGhvc3RJZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQlVJTEQuc2hhZG93RG9tICYmIHN1cHBvcnRzU2hhZG93ICYmIGNtcE1ldGEuJGZsYWdzJCAmIDEgLyogc2hhZG93RG9tRW5jYXBzdWxhdGlvbiAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcGVJZCA9IEJVSUxELm1vZGUgPyBhZGRTdHlsZShlbG0uc2hhZG93Um9vdCwgY21wTWV0YSwgZWxtLmdldEF0dHJpYnV0ZSgncy1tb2RlJykpIDogYWRkU3R5bGUoZWxtLnNoYWRvd1Jvb3QsIGNtcE1ldGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxtLmNsYXNzTGlzdC5yZW1vdmUoc2NvcGVJZCArICctaCcsIHNjb3BlSWQgKyAnLXMnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplQ2xpZW50SHlkcmF0ZShlbG0sIGNtcE1ldGEuJHRhZ05hbWUkLCBob3N0SWQsIGhvc3RSZWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChCVUlMRC5zbG90UmVsb2NhdGlvbiAmJiAhaG9zdElkKSB7XG4gICAgICAgICAgICAgICAgLy8gaW5pdFVwZGF0ZVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzbG90IHBvbHlmaWxsIGlzIHJlcXVpcmVkIHdlJ2xsIG5lZWQgdG8gcHV0IHNvbWUgbm9kZXNcbiAgICAgICAgICAgICAgICAvLyBpbiBoZXJlIHRvIGFjdCBhcyBvcmlnaW5hbCBjb250ZW50IGFuY2hvcnMgYXMgd2UgbW92ZSBub2RlcyBhcm91bmRcbiAgICAgICAgICAgICAgICAvLyBob3N0IGVsZW1lbnQgaGFzIGJlZW4gY29ubmVjdGVkIHRvIHRoZSBET01cbiAgICAgICAgICAgICAgICBpZiAoQlVJTEQuaHlkcmF0ZVNlcnZlclNpZGUgfHwgKChCVUlMRC5zbG90IHx8IEJVSUxELnNoYWRvd0RvbSkgJiYgY21wTWV0YS4kZmxhZ3MkICYgKDQgLyogaGFzU2xvdFJlbG9jYXRpb24gKi8gfCA4IC8qIG5lZWRzU2hhZG93RG9tU2hpbSAqLykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldENvbnRlbnRSZWZlcmVuY2UoZWxtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoQlVJTEQuYXN5bmNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gZmluZCB0aGUgZmlyc3QgYW5jZXN0b3IgY29tcG9uZW50IChpZiB0aGVyZSBpcyBvbmUpIGFuZCByZWdpc3RlclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgY29tcG9uZW50IGFzIG9uZSBvZiB0aGUgYWN0aXZlbHkgbG9hZGluZyBjaGlsZCBjb21wb25lbnRzIGZvciBpdHMgYW5jZXN0b3JcbiAgICAgICAgICAgICAgICBsZXQgYW5jZXN0b3JDb21wb25lbnQgPSBlbG07XG4gICAgICAgICAgICAgICAgd2hpbGUgKChhbmNlc3RvckNvbXBvbmVudCA9IGFuY2VzdG9yQ29tcG9uZW50LnBhcmVudE5vZGUgfHwgYW5jZXN0b3JDb21wb25lbnQuaG9zdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xpbWIgdXAgdGhlIGFuY2VzdG9ycyBsb29raW5nIGZvciB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50IHRoYXQgaGFzbid0IGZpbmlzaGVkIGl0cyBsaWZlY3ljbGUgdXBkYXRlIHlldFxuICAgICAgICAgICAgICAgICAgICBpZiAoKEJVSUxELmh5ZHJhdGVDbGllbnRTaWRlICYmIGFuY2VzdG9yQ29tcG9uZW50Lm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovICYmIGFuY2VzdG9yQ29tcG9uZW50Lmhhc0F0dHJpYnV0ZSgncy1pZCcpICYmIGFuY2VzdG9yQ29tcG9uZW50WydzLXAnXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuY2VzdG9yQ29tcG9uZW50WydzLXAnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgZm91bmQgdGhpcyBjb21wb25lbnRzIGZpcnN0IGFuY2VzdG9yIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8ga2VlcCBhIHJlZmVyZW5jZSB0byB0aGlzIGNvbXBvbmVudCdzIGFuY2VzdG9yIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoVG9BbmNlc3Rvcihob3N0UmVmLCAoaG9zdFJlZi4kYW5jZXN0b3JDb21wb25lbnQkID0gYW5jZXN0b3JDb21wb25lbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTGF6eSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS93ZWIvZnVuZGFtZW50YWxzL3dlYi1jb21wb25lbnRzL2Jlc3QtcHJhY3RpY2VzI2xhenktcHJvcGVydGllc1xuICAgICAgICAgICAgaWYgKEJVSUxELnByb3AgJiYgQlVJTEQubGF6eUxvYWQgJiYgIUJVSUxELmh5ZHJhdGVTZXJ2ZXJTaWRlICYmIGNtcE1ldGEuJG1lbWJlcnMkKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoY21wTWV0YS4kbWVtYmVycyQpLm1hcCgoW21lbWJlck5hbWUsIFttZW1iZXJGbGFnc11dKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZW1iZXJGbGFncyAmIDMxIC8qIFByb3AgKi8gJiYgZWxtLmhhc093blByb3BlcnR5KG1lbWJlck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGVsbVttZW1iZXJOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlbG1bbWVtYmVyTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBlbG1bbWVtYmVyTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEJVSUxELmluaXRpYWxpemVOZXh0VGljaykge1xuICAgICAgICAgICAgICAgIC8vIGNvbm5lY3RlZENhbGxiYWNrLCB0YXNrUXVldWUsIGluaXRpYWxMb2FkXG4gICAgICAgICAgICAgICAgLy8gYW5ndWxhciBzZXRzIGF0dHJpYnV0ZSBBRlRFUiBjb25uZWN0Q2FsbGJhY2tcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xODkwOVxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzE5OTQwXG4gICAgICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4gaW5pdGlhbGl6ZUNvbXBvbmVudChlbG0sIGhvc3RSZWYsIGNtcE1ldGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVDb21wb25lbnQoZWxtLCBob3N0UmVmLCBjbXBNZXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vdCB0aGUgZmlyc3QgdGltZSB0aGlzIGhhcyBjb25uZWN0ZWRcbiAgICAgICAgICAgIC8vIHJlYXR0YWNoIGFueSBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIGhvc3RcbiAgICAgICAgICAgIC8vIHNpbmNlIHRoZXkgd291bGQgaGF2ZSBiZWVuIHJlbW92ZWQgd2hlbiBkaXNjb25uZWN0ZWRcbiAgICAgICAgICAgIGFkZEhvc3RFdmVudExpc3RlbmVycyhlbG0sIGhvc3RSZWYsIGNtcE1ldGEuJGxpc3RlbmVycyQsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vIGZpcmUgb2ZmIGNvbm5lY3RlZENhbGxiYWNrKCkgb24gY29tcG9uZW50IGluc3RhbmNlXG4gICAgICAgICAgICBmaXJlQ29ubmVjdGVkQ2FsbGJhY2soaG9zdFJlZi4kbGF6eUluc3RhbmNlJCk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kQ29ubmVjdGVkKCk7XG4gICAgfVxufTtcbmNvbnN0IHNldENvbnRlbnRSZWZlcmVuY2UgPSAoZWxtKSA9PiB7XG4gICAgLy8gb25seSByZXF1aXJlZCB3aGVuIHdlJ3JlIE5PVCB1c2luZyBuYXRpdmUgc2hhZG93IGRvbSAoc2xvdClcbiAgICAvLyBvciB0aGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IG5hdGl2ZSBzaGFkb3cgZG9tXG4gICAgLy8gYW5kIHRoaXMgaG9zdCBlbGVtZW50IHdhcyBOT1QgY3JlYXRlZCB3aXRoIFNTUlxuICAgIC8vIGxldCdzIHBpY2sgb3V0IHRoZSBpbm5lciBjb250ZW50IGZvciBzbG90IHByb2plY3Rpb25cbiAgICAvLyBjcmVhdGUgYSBub2RlIHRvIHJlcHJlc2VudCB3aGVyZSB0aGUgb3JpZ2luYWxcbiAgICAvLyBjb250ZW50IHdhcyBmaXJzdCBwbGFjZWQsIHdoaWNoIGlzIHVzZWZ1bCBsYXRlciBvblxuICAgIGNvbnN0IGNvbnRlbnRSZWZFbG0gPSAoZWxtWydzLWNyJ10gPSBkb2MuY3JlYXRlQ29tbWVudChCVUlMRC5pc0RlYnVnID8gYGNvbnRlbnQtcmVmIChob3N0PSR7ZWxtLmxvY2FsTmFtZX0pYCA6ICcnKSk7XG4gICAgY29udGVudFJlZkVsbVsncy1jbiddID0gdHJ1ZTtcbiAgICBlbG0uaW5zZXJ0QmVmb3JlKGNvbnRlbnRSZWZFbG0sIGVsbS5maXJzdENoaWxkKTtcbn07XG5jb25zdCBkaXNjb25uZWN0ZWRDYWxsYmFjayA9IChlbG0pID0+IHtcbiAgICBpZiAoKHBsdC4kZmxhZ3MkICYgMSAvKiBpc1RtcERpc2Nvbm5lY3RlZCAqLykgPT09IDApIHtcbiAgICAgICAgY29uc3QgaG9zdFJlZiA9IGdldEhvc3RSZWYoZWxtKTtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBCVUlMRC5sYXp5TG9hZCA/IGhvc3RSZWYuJGxhenlJbnN0YW5jZSQgOiBlbG07XG4gICAgICAgIGlmIChCVUlMRC5ob3N0TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGlmIChob3N0UmVmLiRybUxpc3RlbmVycyQpIHtcbiAgICAgICAgICAgICAgICBob3N0UmVmLiRybUxpc3RlbmVycyQubWFwKHJtTGlzdGVuZXIgPT4gcm1MaXN0ZW5lcigpKTtcbiAgICAgICAgICAgICAgICBob3N0UmVmLiRybUxpc3RlbmVycyQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2xlYXIgQ1NTIHZhci1zaGltIHRyYWNraW5nXG4gICAgICAgIGlmIChCVUlMRC5jc3NWYXJTaGltICYmIHBsdC4kY3NzU2hpbSQpIHtcbiAgICAgICAgICAgIHBsdC4kY3NzU2hpbSQucmVtb3ZlSG9zdChlbG0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChCVUlMRC5sYXp5TG9hZCAmJiBCVUlMRC5kaXNjb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgICAgICAgc2FmZUNhbGwoaW5zdGFuY2UsICdkaXNjb25uZWN0ZWRDYWxsYmFjaycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChCVUlMRC5jbXBEaWRVbmxvYWQpIHtcbiAgICAgICAgICAgIHNhZmVDYWxsKGluc3RhbmNlLCAnY29tcG9uZW50RGlkVW5sb2FkJyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgZGVmaW5lQ3VzdG9tRWxlbWVudCA9IChDc3RyLCBjb21wYWN0TWV0YSkgPT4ge1xuICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZShjb21wYWN0TWV0YVsxXSwgcHJveHlDdXN0b21FbGVtZW50KENzdHIsIGNvbXBhY3RNZXRhKSk7XG59O1xuY29uc3QgcHJveHlDdXN0b21FbGVtZW50ID0gKENzdHIsIGNvbXBhY3RNZXRhKSA9PiB7XG4gICAgY29uc3QgY21wTWV0YSA9IHtcbiAgICAgICAgJGZsYWdzJDogY29tcGFjdE1ldGFbMF0sXG4gICAgICAgICR0YWdOYW1lJDogY29tcGFjdE1ldGFbMV0sXG4gICAgfTtcbiAgICBpZiAoQlVJTEQubWVtYmVyKSB7XG4gICAgICAgIGNtcE1ldGEuJG1lbWJlcnMkID0gY29tcGFjdE1ldGFbMl07XG4gICAgfVxuICAgIGlmIChCVUlMRC5ob3N0TGlzdGVuZXIpIHtcbiAgICAgICAgY21wTWV0YS4kbGlzdGVuZXJzJCA9IGNvbXBhY3RNZXRhWzNdO1xuICAgIH1cbiAgICBpZiAoQlVJTEQud2F0Y2hDYWxsYmFjaykge1xuICAgICAgICBjbXBNZXRhLiR3YXRjaGVycyQgPSBDc3RyLiR3YXRjaGVycyQ7XG4gICAgfVxuICAgIGlmIChCVUlMRC5yZWZsZWN0KSB7XG4gICAgICAgIGNtcE1ldGEuJGF0dHJzVG9SZWZsZWN0JCA9IFtdO1xuICAgIH1cbiAgICBpZiAoQlVJTEQuc2hhZG93RG9tICYmICFzdXBwb3J0c1NoYWRvdyAmJiBjbXBNZXRhLiRmbGFncyQgJiAxIC8qIHNoYWRvd0RvbUVuY2Fwc3VsYXRpb24gKi8pIHtcbiAgICAgICAgY21wTWV0YS4kZmxhZ3MkIHw9IDggLyogbmVlZHNTaGFkb3dEb21TaGltICovO1xuICAgIH1cbiAgICBjb25zdCBvcmlnaW5hbENvbm5lY3RlZENhbGxiYWNrID0gQ3N0ci5wcm90b3R5cGUuY29ubmVjdGVkQ2FsbGJhY2s7XG4gICAgY29uc3Qgb3JpZ2luYWxEaXNjb25uZWN0ZWRDYWxsYmFjayA9IENzdHIucHJvdG90eXBlLmRpc2Nvbm5lY3RlZENhbGxiYWNrO1xuICAgIE9iamVjdC5hc3NpZ24oQ3N0ci5wcm90b3R5cGUsIHtcbiAgICAgICAgX19yZWdpc3Rlckhvc3QoKSB7XG4gICAgICAgICAgICByZWdpc3Rlckhvc3QodGhpcywgY21wTWV0YSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2sodGhpcyk7XG4gICAgICAgICAgICBpZiAoQlVJTEQuY29ubmVjdGVkQ2FsbGJhY2sgJiYgb3JpZ2luYWxDb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29ubmVjdGVkQ2FsbGJhY2suY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjayh0aGlzKTtcbiAgICAgICAgICAgIGlmIChCVUlMRC5kaXNjb25uZWN0ZWRDYWxsYmFjayAmJiBvcmlnaW5hbERpc2Nvbm5lY3RlZENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxEaXNjb25uZWN0ZWRDYWxsYmFjay5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIENzdHIuaXMgPSBjbXBNZXRhLiR0YWdOYW1lJDtcbiAgICByZXR1cm4gcHJveHlDb21wb25lbnQoQ3N0ciwgY21wTWV0YSwgMSAvKiBpc0VsZW1lbnRDb25zdHJ1Y3RvciAqLyB8IDIgLyogcHJveHlTdGF0ZSAqLyk7XG59O1xuY29uc3QgZm9yY2VNb2RlVXBkYXRlID0gKGVsbSkgPT4ge1xuICAgIGlmIChCVUlMRC5zdHlsZSAmJiBCVUlMRC5tb2RlICYmICFCVUlMRC5sYXp5TG9hZCkge1xuICAgICAgICBjb25zdCBtb2RlID0gY29tcHV0ZU1vZGUoZWxtKTtcbiAgICAgICAgY29uc3QgaG9zdFJlZiA9IGdldEhvc3RSZWYoZWxtKTtcbiAgICAgICAgaWYgKGhvc3RSZWYuJG1vZGVOYW1lJCAhPT0gbW9kZSkge1xuICAgICAgICAgICAgY29uc3QgY21wTWV0YSA9IGhvc3RSZWYuJGNtcE1ldGEkO1xuICAgICAgICAgICAgY29uc3Qgb2xkU2NvcGVJZCA9IGVsbVsncy1zYyddO1xuICAgICAgICAgICAgY29uc3Qgc2NvcGVJZCA9IGdldFNjb3BlSWQoY21wTWV0YSwgbW9kZSk7XG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IGVsbS5jb25zdHJ1Y3Rvci5zdHlsZVttb2RlXTtcbiAgICAgICAgICAgIGNvbnN0IGZsYWdzID0gY21wTWV0YS4kZmxhZ3MkO1xuICAgICAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdHlsZXMuaGFzKHNjb3BlSWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyU3R5bGUoc2NvcGVJZCwgc3R5bGUsICEhKGZsYWdzICYgMSAvKiBzaGFkb3dEb21FbmNhcHN1bGF0aW9uICovKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhvc3RSZWYuJG1vZGVOYW1lJCA9IG1vZGU7XG4gICAgICAgICAgICAgICAgZWxtLmNsYXNzTGlzdC5yZW1vdmUob2xkU2NvcGVJZCArICctaCcsIG9sZFNjb3BlSWQgKyAnLXMnKTtcbiAgICAgICAgICAgICAgICBhdHRhY2hTdHlsZXMoaG9zdFJlZik7XG4gICAgICAgICAgICAgICAgZm9yY2VVcGRhdGUoZWxtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBhdHRhY2hTaGFkb3cgPSAoZWwpID0+IHtcbiAgICBpZiAoc3VwcG9ydHNTaGFkb3cpIHtcbiAgICAgICAgZWwuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZWwuc2hhZG93Um9vdCA9IGVsO1xuICAgIH1cbn07XG5jb25zdCBobXJTdGFydCA9IChlbG0sIGNtcE1ldGEsIGhtclZlcnNpb25JZCkgPT4ge1xuICAgIC8vIMKvXFxfKOODhClfL8KvXG4gICAgY29uc3QgaG9zdFJlZiA9IGdldEhvc3RSZWYoZWxtKTtcbiAgICAvLyByZXNldCBzdGF0ZSBmbGFncyB0byBvbmx5IGhhdmUgYmVlbiBjb25uZWN0ZWRcbiAgICBob3N0UmVmLiRmbGFncyQgPSAxIC8qIGhhc0Nvbm5lY3RlZCAqLztcbiAgICAvLyBUT0RPXG4gICAgLy8gZGV0YXRjaCBhbnkgZXZlbnQgbGlzdGVuZXJzIHRoYXQgbWF5IGhhdmUgYmVlbiBhZGRlZFxuICAgIC8vIGJlY2F1c2Ugd2UncmUgbm90IHBhc3NpbmcgYW4gZXhhY3QgZXZlbnQgbmFtZSBpdCdsbFxuICAgIC8vIHJlbW92ZSBhbGwgb2YgdGhpcyBlbGVtZW50J3MgZXZlbnQsIHdoaWNoIGlzIGdvb2RcbiAgICAvLyBjcmVhdGUgYSBjYWxsYmFjayBmb3Igd2hlbiB0aGlzIGNvbXBvbmVudCBmaW5pc2hlcyBobXJcbiAgICBlbG1bJ3MtaG1yLWxvYWQnXSA9ICgpID0+IHtcbiAgICAgICAgLy8gZmluaXNoZWQgaG1yIGZvciB0aGlzIGVsZW1lbnRcbiAgICAgICAgZGVsZXRlIGVsbVsncy1obXItbG9hZCddO1xuICAgIH07XG4gICAgLy8gcmUtaW5pdGlhbGl6ZSB0aGUgY29tcG9uZW50XG4gICAgaW5pdGlhbGl6ZUNvbXBvbmVudChlbG0sIGhvc3RSZWYsIGNtcE1ldGEsIGhtclZlcnNpb25JZCk7XG59O1xuY29uc3QgcGF0Y2hDbG9uZU5vZGUgPSAoSG9zdEVsZW1lbnRQcm90b3R5cGUpID0+IHtcbiAgICBjb25zdCBvcmdDbG9uZU5vZGUgPSBIb3N0RWxlbWVudFByb3RvdHlwZS5jbG9uZU5vZGU7XG4gICAgSG9zdEVsZW1lbnRQcm90b3R5cGUuY2xvbmVOb2RlID0gZnVuY3Rpb24gKGRlZXApIHtcbiAgICAgICAgY29uc3Qgc3JjTm9kZSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGlzU2hhZG93RG9tID0gQlVJTEQuc2hhZG93RG9tID8gc3JjTm9kZS5zaGFkb3dSb290ICYmIHN1cHBvcnRzU2hhZG93IDogZmFsc2U7XG4gICAgICAgIGNvbnN0IGNsb25lZE5vZGUgPSBvcmdDbG9uZU5vZGUuY2FsbChzcmNOb2RlLCBpc1NoYWRvd0RvbSA/IGRlZXAgOiBmYWxzZSk7XG4gICAgICAgIGlmIChCVUlMRC5zbG90ICYmICFpc1NoYWRvd0RvbSAmJiBkZWVwKSB7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICBsZXQgc2xvdHRlZCwgbm9uU3RlbmNpbE5vZGU7XG4gICAgICAgICAgICBsZXQgc3RlbmNpbFByaXZhdGVzID0gWydzLWlkJywgJ3MtY3InLCAncy1scicsICdzLXJjJywgJ3Mtc2MnLCAncy1wJywgJ3MtY24nLCAncy1zcicsICdzLXNuJywgJ3MtaG4nLCAncy1vbCcsICdzLW5yJywgJ3Mtc2knXTtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgc3JjTm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc2xvdHRlZCA9IHNyY05vZGUuY2hpbGROb2Rlc1tpXVsncy1uciddO1xuICAgICAgICAgICAgICAgIG5vblN0ZW5jaWxOb2RlID0gc3RlbmNpbFByaXZhdGVzLmV2ZXJ5KChwcml2YXRlRmllbGQpID0+ICFzcmNOb2RlLmNoaWxkTm9kZXNbaV1bcHJpdmF0ZUZpZWxkXSk7XG4gICAgICAgICAgICAgICAgaWYgKHNsb3R0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEJVSUxELmFwcGVuZENoaWxkU2xvdEZpeCAmJiBjbG9uZWROb2RlLl9fYXBwZW5kQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZE5vZGUuX19hcHBlbmRDaGlsZChzbG90dGVkLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9uZWROb2RlLmFwcGVuZENoaWxkKHNsb3R0ZWQuY2xvbmVOb2RlKHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9uU3RlbmNpbE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkTm9kZS5hcHBlbmRDaGlsZChzcmNOb2RlLmNoaWxkTm9kZXNbaV0uY2xvbmVOb2RlKHRydWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsb25lZE5vZGU7XG4gICAgfTtcbn07XG5jb25zdCBwYXRjaFNsb3RBcHBlbmRDaGlsZCA9IChIb3N0RWxlbWVudFByb3RvdHlwZSkgPT4ge1xuICAgIEhvc3RFbGVtZW50UHJvdG90eXBlLl9fYXBwZW5kQ2hpbGQgPSBIb3N0RWxlbWVudFByb3RvdHlwZS5hcHBlbmRDaGlsZDtcbiAgICBIb3N0RWxlbWVudFByb3RvdHlwZS5hcHBlbmRDaGlsZCA9IGZ1bmN0aW9uIChuZXdDaGlsZCkge1xuICAgICAgICBjb25zdCBzbG90TmFtZSA9IChuZXdDaGlsZFsncy1zbiddID0gZ2V0U2xvdE5hbWUobmV3Q2hpbGQpKTtcbiAgICAgICAgY29uc3Qgc2xvdE5vZGUgPSBnZXRIb3N0U2xvdE5vZGUodGhpcy5jaGlsZE5vZGVzLCBzbG90TmFtZSk7XG4gICAgICAgIGlmIChzbG90Tm9kZSkge1xuICAgICAgICAgICAgY29uc3Qgc2xvdENoaWxkTm9kZXMgPSBnZXRIb3N0U2xvdENoaWxkTm9kZXMoc2xvdE5vZGUsIHNsb3ROYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IGFwcGVuZEFmdGVyID0gc2xvdENoaWxkTm9kZXNbc2xvdENoaWxkTm9kZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICByZXR1cm4gYXBwZW5kQWZ0ZXIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Q2hpbGQsIGFwcGVuZEFmdGVyLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fX2FwcGVuZENoaWxkKG5ld0NoaWxkKTtcbiAgICB9O1xufTtcbmNvbnN0IHBhdGNoQ2hpbGRTbG90Tm9kZXMgPSAoZWxtLCBjbXBNZXRhKSA9PiB7XG4gICAgY2xhc3MgRmFrZU5vZGVMaXN0IGV4dGVuZHMgQXJyYXkge1xuICAgICAgICBpdGVtKG4pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW25dO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjbXBNZXRhLiRmbGFncyQgJiA4IC8qIG5lZWRzU2hhZG93RG9tU2hpbSAqLykge1xuICAgICAgICBjb25zdCBjaGlsZE5vZGVzRm4gPSBlbG0uX19sb29rdXBHZXR0ZXJfXygnY2hpbGROb2RlcycpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxtLCAnY2hpbGRyZW4nLCB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGROb2Rlcy5tYXAoKG4pID0+IG4ubm9kZVR5cGUgPT09IDEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbG0sICdjaGlsZEVsZW1lbnRDb3VudCcsIHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxtLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxtLCAnY2hpbGROb2RlcycsIHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gY2hpbGROb2Rlc0ZuLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgaWYgKChwbHQuJGZsYWdzJCAmIDEgLyogaXNUbXBEaXNjb25uZWN0ZWQgKi8pID09PSAwICYmIGdldEhvc3RSZWYodGhpcykuJGZsYWdzJCAmIDIgLyogaGFzUmVuZGVyZWQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEZha2VOb2RlTGlzdCgpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNsb3QgPSBjaGlsZE5vZGVzW2ldWydzLW5yJ107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2xvdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHNsb3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBGYWtlTm9kZUxpc3QuZnJvbShjaGlsZE5vZGVzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5jb25zdCBnZXRTbG90TmFtZSA9IChub2RlKSA9PiBub2RlWydzLXNuJ10gfHwgKG5vZGUubm9kZVR5cGUgPT09IDEgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoJ3Nsb3QnKSkgfHwgJyc7XG5jb25zdCBnZXRIb3N0U2xvdE5vZGUgPSAoY2hpbGROb2Rlcywgc2xvdE5hbWUpID0+IHtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGNoaWxkTm9kZTtcbiAgICBmb3IgKDsgaSA8IGNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hpbGROb2RlID0gY2hpbGROb2Rlc1tpXTtcbiAgICAgICAgaWYgKGNoaWxkTm9kZVsncy1zciddICYmIGNoaWxkTm9kZVsncy1zbiddID09PSBzbG90TmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkTm9kZTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZE5vZGUgPSBnZXRIb3N0U2xvdE5vZGUoY2hpbGROb2RlLmNoaWxkTm9kZXMsIHNsb3ROYW1lKTtcbiAgICAgICAgaWYgKGNoaWxkTm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkTm9kZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG5jb25zdCBnZXRIb3N0U2xvdENoaWxkTm9kZXMgPSAobiwgc2xvdE5hbWUpID0+IHtcbiAgICBjb25zdCBjaGlsZE5vZGVzID0gW25dO1xuICAgIHdoaWxlICgobiA9IG4ubmV4dFNpYmxpbmcpICYmIG5bJ3Mtc24nXSA9PT0gc2xvdE5hbWUpIHtcbiAgICAgICAgY2hpbGROb2Rlcy5wdXNoKG4pO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGROb2Rlcztcbn07XG5jb25zdCBib290c3RyYXBMYXp5ID0gKGxhenlCdW5kbGVzLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBpZiAoQlVJTEQucHJvZmlsZSAmJiBwZXJmb3JtYW5jZS5tYXJrKSB7XG4gICAgICAgIHBlcmZvcm1hbmNlLm1hcmsoJ3N0OmFwcDpzdGFydCcpO1xuICAgIH1cbiAgICBpbnN0YWxsRGV2VG9vbHMoKTtcbiAgICBjb25zdCBlbmRCb290c3RyYXAgPSBjcmVhdGVUaW1lKCdib290c3RyYXBMYXp5Jyk7XG4gICAgY29uc3QgY21wVGFncyA9IFtdO1xuICAgIGNvbnN0IGV4Y2x1ZGUgPSBvcHRpb25zLmV4Y2x1ZGUgfHwgW107XG4gICAgY29uc3QgY3VzdG9tRWxlbWVudHMgPSB3aW4uY3VzdG9tRWxlbWVudHM7XG4gICAgY29uc3QgaGVhZCA9IGRvYy5oZWFkO1xuICAgIGNvbnN0IG1ldGFDaGFyc2V0ID0gLypAX19QVVJFX18qLyBoZWFkLnF1ZXJ5U2VsZWN0b3IoJ21ldGFbY2hhcnNldF0nKTtcbiAgICBjb25zdCB2aXNpYmlsaXR5U3R5bGUgPSAvKkBfX1BVUkVfXyovIGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIGNvbnN0IGRlZmVycmVkQ29ubmVjdGVkQ2FsbGJhY2tzID0gW107XG4gICAgY29uc3Qgc3R5bGVzID0gLypAX19QVVJFX18qLyBkb2MucXVlcnlTZWxlY3RvckFsbChgWyR7SFlEUkFURURfU1RZTEVfSUR9XWApO1xuICAgIGxldCBhcHBMb2FkRmFsbGJhY2s7XG4gICAgbGV0IGlzQm9vdHN0cmFwcGluZyA9IHRydWU7XG4gICAgbGV0IGkgPSAwO1xuICAgIE9iamVjdC5hc3NpZ24ocGx0LCBvcHRpb25zKTtcbiAgICBwbHQuJHJlc291cmNlc1VybCQgPSBuZXcgVVJMKG9wdGlvbnMucmVzb3VyY2VzVXJsIHx8ICcuLycsIGRvYy5iYXNlVVJJKS5ocmVmO1xuICAgIGlmIChCVUlMRC5hc3luY1F1ZXVlKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnN5bmNRdWV1ZSkge1xuICAgICAgICAgICAgcGx0LiRmbGFncyQgfD0gNCAvKiBxdWV1ZVN5bmMgKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKEJVSUxELmh5ZHJhdGVDbGllbnRTaWRlKSB7XG4gICAgICAgIC8vIElmIHRoZSBhcHAgaXMgYWxyZWFkeSBoeWRyYXRlZCB0aGVyZSBpcyBub3QgcG9pbnQgdG8gZGlzYWJsZSB0aGVcbiAgICAgICAgLy8gYXN5bmMgcXVldWUuIFRoaXMgd2lsbCBpbXByb3ZlIHRoZSBmaXJzdCBpbnB1dCBkZWxheVxuICAgICAgICBwbHQuJGZsYWdzJCB8PSAyIC8qIGFwcExvYWRlZCAqLztcbiAgICB9XG4gICAgaWYgKEJVSUxELmh5ZHJhdGVDbGllbnRTaWRlICYmIEJVSUxELnNoYWRvd0RvbSkge1xuICAgICAgICBmb3IgKDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVnaXN0ZXJTdHlsZShzdHlsZXNbaV0uZ2V0QXR0cmlidXRlKEhZRFJBVEVEX1NUWUxFX0lEKSwgY29udmVydFNjb3BlZFRvU2hhZG93KHN0eWxlc1tpXS5pbm5lckhUTUwpLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsYXp5QnVuZGxlcy5tYXAobGF6eUJ1bmRsZSA9PiBsYXp5QnVuZGxlWzFdLm1hcChjb21wYWN0TWV0YSA9PiB7XG4gICAgICAgIGNvbnN0IGNtcE1ldGEgPSB7XG4gICAgICAgICAgICAkZmxhZ3MkOiBjb21wYWN0TWV0YVswXSxcbiAgICAgICAgICAgICR0YWdOYW1lJDogY29tcGFjdE1ldGFbMV0sXG4gICAgICAgICAgICAkbWVtYmVycyQ6IGNvbXBhY3RNZXRhWzJdLFxuICAgICAgICAgICAgJGxpc3RlbmVycyQ6IGNvbXBhY3RNZXRhWzNdLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoQlVJTEQubWVtYmVyKSB7XG4gICAgICAgICAgICBjbXBNZXRhLiRtZW1iZXJzJCA9IGNvbXBhY3RNZXRhWzJdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChCVUlMRC5ob3N0TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGNtcE1ldGEuJGxpc3RlbmVycyQgPSBjb21wYWN0TWV0YVszXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQucmVmbGVjdCkge1xuICAgICAgICAgICAgY21wTWV0YS4kYXR0cnNUb1JlZmxlY3QkID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEJVSUxELndhdGNoQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNtcE1ldGEuJHdhdGNoZXJzJCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChCVUlMRC5zaGFkb3dEb20gJiYgIXN1cHBvcnRzU2hhZG93ICYmIGNtcE1ldGEuJGZsYWdzJCAmIDEgLyogc2hhZG93RG9tRW5jYXBzdWxhdGlvbiAqLykge1xuICAgICAgICAgICAgY21wTWV0YS4kZmxhZ3MkIHw9IDggLyogbmVlZHNTaGFkb3dEb21TaGltICovO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhZ05hbWUgPSBCVUlMRC50cmFuc2Zvcm1UYWdOYW1lICYmIG9wdGlvbnMudHJhbnNmb3JtVGFnTmFtZSA/IG9wdGlvbnMudHJhbnNmb3JtVGFnTmFtZShjbXBNZXRhLiR0YWdOYW1lJCkgOiBjbXBNZXRhLiR0YWdOYW1lJDtcbiAgICAgICAgY29uc3QgSG9zdEVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICAgICAgICAgIC8vIFN0ZW5jaWxMYXp5SG9zdFxuICAgICAgICAgICAgY29uc3RydWN0b3Ioc2VsZikge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBzdXBlcihzZWxmKTtcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICAgICByZWdpc3Rlckhvc3Qoc2VsZiwgY21wTWV0YSk7XG4gICAgICAgICAgICAgICAgaWYgKEJVSUxELnNoYWRvd0RvbSAmJiBjbXBNZXRhLiRmbGFncyQgJiAxIC8qIHNoYWRvd0RvbUVuY2Fwc3VsYXRpb24gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBjb21wb25lbnQgaXMgdXNpbmcgc2hhZG93IGRvbVxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgdGhpcyBicm93c2VyIHN1cHBvcnRzIHNoYWRvdyBkb21cbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSByZWFkLW9ubHkgcHJvcGVydHkgXCJzaGFkb3dSb290XCIgdG8gdGhlIGhvc3QgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAvLyBhZGRpbmcgdGhlIHNoYWRvdyByb290IGJ1aWxkIGNvbmRpdGlvbmFscyB0byBtaW5pbWl6ZSBydW50aW1lXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdXBwb3J0c1NoYWRvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEJVSUxELnNoYWRvd0RlbGVnYXRlc0ZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hdHRhY2hTaGFkb3coe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAnb3BlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGVnYXRlc0ZvY3VzOiAhIShjbXBNZXRhLiRmbGFncyQgJiAxNiAvKiBzaGFkb3dEZWxlZ2F0ZXNGb2N1cyAqLyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghQlVJTEQuaHlkcmF0ZVNlcnZlclNpZGUgJiYgISgnc2hhZG93Um9vdCcgaW4gc2VsZikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2hhZG93Um9vdCA9IHNlbGY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKEJVSUxELnNsb3RDaGlsZE5vZGVzRml4KSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoQ2hpbGRTbG90Tm9kZXMoc2VsZiwgY21wTWV0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFwcExvYWRGYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoYXBwTG9hZEZhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgYXBwTG9hZEZhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzQm9vdHN0cmFwcGluZykge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25uZWN0ZWRDYWxsYmFjayB3aWxsIGJlIHByb2Nlc3NlZCBvbmNlIGFsbCBjb21wb25lbnRzIGhhdmUgYmVlbiByZWdpc3RlcmVkXG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkQ29ubmVjdGVkQ2FsbGJhY2tzLnB1c2godGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwbHQuam1wKCgpID0+IGNvbm5lY3RlZENhbGxiYWNrKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgICAgICBwbHQuam1wKCgpID0+IGRpc2Nvbm5lY3RlZENhbGxiYWNrKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBvbmVudE9uUmVhZHkoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEhvc3RSZWYodGhpcykuJG9uUmVhZHlQcm9taXNlJDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKEJVSUxELmNsb25lTm9kZUZpeCkge1xuICAgICAgICAgICAgcGF0Y2hDbG9uZU5vZGUoSG9zdEVsZW1lbnQucHJvdG90eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQlVJTEQuYXBwZW5kQ2hpbGRTbG90Rml4KSB7XG4gICAgICAgICAgICBwYXRjaFNsb3RBcHBlbmRDaGlsZChIb3N0RWxlbWVudC5wcm90b3R5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChCVUlMRC5ob3RNb2R1bGVSZXBsYWNlbWVudCkge1xuICAgICAgICAgICAgSG9zdEVsZW1lbnQucHJvdG90eXBlWydzLWhtciddID0gZnVuY3Rpb24gKGhtclZlcnNpb25JZCkge1xuICAgICAgICAgICAgICAgIGhtclN0YXJ0KHRoaXMsIGNtcE1ldGEsIGhtclZlcnNpb25JZCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNtcE1ldGEuJGxhenlCdW5kbGVJZCQgPSBsYXp5QnVuZGxlWzBdO1xuICAgICAgICBpZiAoIWV4Y2x1ZGUuaW5jbHVkZXModGFnTmFtZSkgJiYgIWN1c3RvbUVsZW1lbnRzLmdldCh0YWdOYW1lKSkge1xuICAgICAgICAgICAgY21wVGFncy5wdXNoKHRhZ05hbWUpO1xuICAgICAgICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIHByb3h5Q29tcG9uZW50KEhvc3RFbGVtZW50LCBjbXBNZXRhLCAxIC8qIGlzRWxlbWVudENvbnN0cnVjdG9yICovKSk7XG4gICAgICAgIH1cbiAgICB9KSk7XG4gICAgaWYgKEJVSUxELmh5ZHJhdGVkQ2xhc3MgfHwgQlVJTEQuaHlkcmF0ZWRBdHRyaWJ1dGUpIHtcbiAgICAgICAgdmlzaWJpbGl0eVN0eWxlLmlubmVySFRNTCA9IGNtcFRhZ3MgKyBIWURSQVRFRF9DU1M7XG4gICAgICAgIHZpc2liaWxpdHlTdHlsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3R5bGVzJywgJycpO1xuICAgICAgICBoZWFkLmluc2VydEJlZm9yZSh2aXNpYmlsaXR5U3R5bGUsIG1ldGFDaGFyc2V0ID8gbWV0YUNoYXJzZXQubmV4dFNpYmxpbmcgOiBoZWFkLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICAvLyBQcm9jZXNzIGRlZmVycmVkIGNvbm5lY3RlZENhbGxiYWNrcyBub3cgYWxsIGNvbXBvbmVudHMgaGF2ZSBiZWVuIHJlZ2lzdGVyZWRcbiAgICBpc0Jvb3RzdHJhcHBpbmcgPSBmYWxzZTtcbiAgICBpZiAoZGVmZXJyZWRDb25uZWN0ZWRDYWxsYmFja3MubGVuZ3RoKSB7XG4gICAgICAgIGRlZmVycmVkQ29ubmVjdGVkQ2FsbGJhY2tzLm1hcChob3N0ID0+IGhvc3QuY29ubmVjdGVkQ2FsbGJhY2soKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoQlVJTEQucHJvZmlsZSkge1xuICAgICAgICAgICAgcGx0LmptcCgoKSA9PiAoYXBwTG9hZEZhbGxiYWNrID0gc2V0VGltZW91dChhcHBEaWRMb2FkLCAzMCwgJ3RpbWVvdXQnKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGx0LmptcCgoKSA9PiAoYXBwTG9hZEZhbGxiYWNrID0gc2V0VGltZW91dChhcHBEaWRMb2FkLCAzMCkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBGYWxsYmFjayBhcHBMb2FkIGV2ZW50XG4gICAgZW5kQm9vdHN0cmFwKCk7XG59O1xuY29uc3QgZ2V0QXNzZXRQYXRoID0gKHBhdGgpID0+IHtcbiAgICBjb25zdCBhc3NldFVybCA9IG5ldyBVUkwocGF0aCwgcGx0LiRyZXNvdXJjZXNVcmwkKTtcbiAgICByZXR1cm4gYXNzZXRVcmwub3JpZ2luICE9PSB3aW4ubG9jYXRpb24ub3JpZ2luID8gYXNzZXRVcmwuaHJlZiA6IGFzc2V0VXJsLnBhdGhuYW1lO1xufTtcbmNvbnN0IHNldEFzc2V0UGF0aCA9IChwYXRoKSA9PiAocGx0LiRyZXNvdXJjZXNVcmwkID0gcGF0aCk7XG5jb25zdCBnZXRDb25uZWN0ID0gKF9yZWYsIHRhZ05hbWUpID0+IHtcbiAgICBjb25zdCBjb21wb25lbnRPblJlYWR5ID0gKCkgPT4ge1xuICAgICAgICBsZXQgZWxtID0gZG9jLnF1ZXJ5U2VsZWN0b3IodGFnTmFtZSk7XG4gICAgICAgIGlmICghZWxtKSB7XG4gICAgICAgICAgICBlbG0gPSBkb2MuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgICAgICAgICAgIGRvYy5ib2R5LmFwcGVuZENoaWxkKGVsbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGVvZiBlbG0uY29tcG9uZW50T25SZWFkeSA9PT0gJ2Z1bmN0aW9uJyA/IGVsbS5jb21wb25lbnRPblJlYWR5KCkgOiBQcm9taXNlLnJlc29sdmUoZWxtKTtcbiAgICB9O1xuICAgIGNvbnN0IGNyZWF0ZSA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRPblJlYWR5KCkudGhlbihlbCA9PiBlbC5jcmVhdGUoLi4uYXJncykpO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlLFxuICAgICAgICBjb21wb25lbnRPblJlYWR5LFxuICAgIH07XG59O1xuY29uc3QgZ2V0Q29udGV4dCA9IChfZWxtLCBjb250ZXh0KSA9PiB7XG4gICAgaWYgKGNvbnRleHQgaW4gQ29udGV4dCkge1xuICAgICAgICByZXR1cm4gQ29udGV4dFtjb250ZXh0XTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29udGV4dCA9PT0gJ3dpbmRvdycpIHtcbiAgICAgICAgcmV0dXJuIHdpbjtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29udGV4dCA9PT0gJ2RvY3VtZW50Jykge1xuICAgICAgICByZXR1cm4gZG9jO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb250ZXh0ID09PSAnaXNTZXJ2ZXInIHx8IGNvbnRleHQgPT09ICdpc1ByZXJlbmRlcicpIHtcbiAgICAgICAgcmV0dXJuIEJVSUxELmh5ZHJhdGVTZXJ2ZXJTaWRlID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb250ZXh0ID09PSAnaXNDbGllbnQnKSB7XG4gICAgICAgIHJldHVybiBCVUlMRC5oeWRyYXRlU2VydmVyU2lkZSA/IGZhbHNlIDogdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29udGV4dCA9PT0gJ3Jlc291cmNlc1VybCcgfHwgY29udGV4dCA9PT0gJ3B1YmxpY1BhdGgnKSB7XG4gICAgICAgIHJldHVybiBnZXRBc3NldFBhdGgoJy4nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29udGV4dCA9PT0gJ3F1ZXVlJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd3JpdGU6IHdyaXRlVGFzayxcbiAgICAgICAgICAgIHJlYWQ6IHJlYWRUYXNrLFxuICAgICAgICAgICAgdGljazoge1xuICAgICAgICAgICAgICAgIHRoZW4oY2IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRUaWNrKGNiKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5jb25zdCBpbnNlcnRWZG9tQW5ub3RhdGlvbnMgPSAoZG9jLCBzdGF0aWNDb21wb25lbnRzKSA9PiB7XG4gICAgaWYgKGRvYyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGRvY0RhdGEgPSB7XG4gICAgICAgICAgICBob3N0SWRzOiAwLFxuICAgICAgICAgICAgcm9vdExldmVsSWRzOiAwLFxuICAgICAgICAgICAgc3RhdGljQ29tcG9uZW50czogbmV3IFNldChzdGF0aWNDb21wb25lbnRzKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb3JnTG9jYXRpb25Ob2RlcyA9IFtdO1xuICAgICAgICBwYXJzZVZOb2RlQW5ub3RhdGlvbnMoZG9jLCBkb2MuYm9keSwgZG9jRGF0YSwgb3JnTG9jYXRpb25Ob2Rlcyk7XG4gICAgICAgIG9yZ0xvY2F0aW9uTm9kZXMuZm9yRWFjaChvcmdMb2NhdGlvbk5vZGUgPT4ge1xuICAgICAgICAgICAgaWYgKG9yZ0xvY2F0aW9uTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZVJlZiA9IG9yZ0xvY2F0aW9uTm9kZVsncy1uciddO1xuICAgICAgICAgICAgICAgIGxldCBob3N0SWQgPSBub2RlUmVmWydzLWhvc3QtaWQnXTtcbiAgICAgICAgICAgICAgICBsZXQgbm9kZUlkID0gbm9kZVJlZlsncy1ub2RlLWlkJ107XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkSWQgPSBgJHtob3N0SWR9LiR7bm9kZUlkfWA7XG4gICAgICAgICAgICAgICAgaWYgKGhvc3RJZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RJZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGRvY0RhdGEucm9vdExldmVsSWRzKys7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVJZCA9IGRvY0RhdGEucm9vdExldmVsSWRzO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZElkID0gYCR7aG9zdElkfS4ke25vZGVJZH1gO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZVJlZi5ub2RlVHlwZSA9PT0gMSAvKiBFbGVtZW50Tm9kZSAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVJlZi5zZXRBdHRyaWJ1dGUoSFlEUkFURV9DSElMRF9JRCwgY2hpbGRJZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZVJlZi5ub2RlVHlwZSA9PT0gMyAvKiBUZXh0Tm9kZSAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvc3RJZCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gbm9kZVJlZi5ub2RlVmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0Q29udGVudCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlbGVzcyB3aGl0ZXNwYWNlIG5vZGUgYXQgdGhlIGRvY3VtZW50IHJvb3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JnTG9jYXRpb25Ob2RlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWVudEJlZm9yZVRleHROb2RlID0gZG9jLmNyZWF0ZUNvbW1lbnQoY2hpbGRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50QmVmb3JlVGV4dE5vZGUubm9kZVZhbHVlID0gYCR7VEVYVF9OT0RFX0lEfS4ke2NoaWxkSWR9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVSZWYucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY29tbWVudEJlZm9yZVRleHROb2RlLCBub2RlUmVmKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgb3JnTG9jYXRpb25Ob2RlSWQgPSBgJHtPUkdfTE9DQVRJT05fSUR9LiR7Y2hpbGRJZH1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yZ0xvY2F0aW9uUGFyZW50Tm9kZSA9IG9yZ0xvY2F0aW9uTm9kZS5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmIChvcmdMb2NhdGlvblBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yZ0xvY2F0aW9uUGFyZW50Tm9kZVsncy1lbiddID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5kaW5nIHdpdGggYSBcIi5cIiBtZWFucyB0aGF0IHRoZSBwYXJlbnQgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb2YgdGhpcyBub2RlJ3Mgb3JpZ2luYWwgbG9jYXRpb24gaXMgYSBTSEFET1cgZG9tIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCB0aGlzIG5vZGUgaXMgYXBhcnQgb2YgdGhlIHJvb3QgbGV2ZWwgbGlnaHQgZG9tXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmdMb2NhdGlvbk5vZGVJZCArPSBgLmA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob3JnTG9jYXRpb25QYXJlbnROb2RlWydzLWVuJ10gPT09ICdjJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5kaW5nIHdpdGggYSBcIi5jXCIgbWVhbnMgdGhhdCB0aGUgcGFyZW50IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHRoaXMgbm9kZSdzIG9yaWdpbmFsIGxvY2F0aW9uIGlzIGEgU0NPUEVEIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCB0aGlzIG5vZGUgaXMgYXBhcnQgb2YgdGhlIHJvb3QgbGV2ZWwgbGlnaHQgZG9tXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmdMb2NhdGlvbk5vZGVJZCArPSBgLmNgO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9yZ0xvY2F0aW9uTm9kZS5ub2RlVmFsdWUgPSBvcmdMb2NhdGlvbk5vZGVJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufTtcbmNvbnN0IHBhcnNlVk5vZGVBbm5vdGF0aW9ucyA9IChkb2MsIG5vZGUsIGRvY0RhdGEsIG9yZ0xvY2F0aW9uTm9kZXMpID0+IHtcbiAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5vZGVbJ3MtbnInXSAhPSBudWxsKSB7XG4gICAgICAgIG9yZ0xvY2F0aW9uTm9kZXMucHVzaChub2RlKTtcbiAgICB9XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEgLyogRWxlbWVudE5vZGUgKi8pIHtcbiAgICAgICAgbm9kZS5jaGlsZE5vZGVzLmZvckVhY2goY2hpbGROb2RlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhvc3RSZWYgPSBnZXRIb3N0UmVmKGNoaWxkTm9kZSk7XG4gICAgICAgICAgICBpZiAoaG9zdFJlZiAhPSBudWxsICYmICFkb2NEYXRhLnN0YXRpY0NvbXBvbmVudHMuaGFzKGNoaWxkTm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNtcERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVJZHM6IDAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbnNlcnRWTm9kZUFubm90YXRpb25zKGRvYywgY2hpbGROb2RlLCBob3N0UmVmLiR2bm9kZSQsIGRvY0RhdGEsIGNtcERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyc2VWTm9kZUFubm90YXRpb25zKGRvYywgY2hpbGROb2RlLCBkb2NEYXRhLCBvcmdMb2NhdGlvbk5vZGVzKTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcbmNvbnN0IGluc2VydFZOb2RlQW5ub3RhdGlvbnMgPSAoZG9jLCBob3N0RWxtLCB2bm9kZSwgZG9jRGF0YSwgY21wRGF0YSkgPT4ge1xuICAgIGlmICh2bm9kZSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGhvc3RJZCA9ICsrZG9jRGF0YS5ob3N0SWRzO1xuICAgICAgICBob3N0RWxtLnNldEF0dHJpYnV0ZShIWURSQVRFX0lELCBob3N0SWQpO1xuICAgICAgICBpZiAoaG9zdEVsbVsncy1jciddICE9IG51bGwpIHtcbiAgICAgICAgICAgIGhvc3RFbG1bJ3MtY3InXS5ub2RlVmFsdWUgPSBgJHtDT05URU5UX1JFRl9JRH0uJHtob3N0SWR9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodm5vZGUuJGNoaWxkcmVuJCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBkZXB0aCA9IDA7XG4gICAgICAgICAgICB2bm9kZS4kY2hpbGRyZW4kLmZvckVhY2goKHZub2RlQ2hpbGQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0Q2hpbGRWTm9kZUFubm90YXRpb25zKGRvYywgdm5vZGVDaGlsZCwgY21wRGF0YSwgaG9zdElkLCBkZXB0aCwgaW5kZXgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhvc3RFbG0gJiYgdm5vZGUgJiYgdm5vZGUuJGVsbSQgJiYgIWhvc3RFbG0uaGFzQXR0cmlidXRlKCdjLWlkJykpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGhvc3RFbG0ucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50LmNoaWxkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRDaGlsZE5vZGVzID0gQXJyYXkuZnJvbShwYXJlbnQuY2hpbGROb2Rlcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tbWVudCA9IHBhcmVudENoaWxkTm9kZXMuZmluZChub2RlID0+IG5vZGUubm9kZVR5cGUgPT09IDggLyogQ29tbWVudE5vZGUgKi8gJiYgbm9kZVsncy1zciddKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHBhcmVudENoaWxkTm9kZXMuaW5kZXhPZihob3N0RWxtKSAtIDE7XG4gICAgICAgICAgICAgICAgICAgIHZub2RlLiRlbG0kLnNldEF0dHJpYnV0ZShIWURSQVRFX0NISUxEX0lELCBgJHtjb21tZW50WydzLWhvc3QtaWQnXX0uJHtjb21tZW50WydzLW5vZGUtaWQnXX0uMC4ke2luZGV4fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBpbnNlcnRDaGlsZFZOb2RlQW5ub3RhdGlvbnMgPSAoZG9jLCB2bm9kZUNoaWxkLCBjbXBEYXRhLCBob3N0SWQsIGRlcHRoLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGNoaWxkRWxtID0gdm5vZGVDaGlsZC4kZWxtJDtcbiAgICBpZiAoY2hpbGRFbG0gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vZGVJZCA9IGNtcERhdGEubm9kZUlkcysrO1xuICAgIGNvbnN0IGNoaWxkSWQgPSBgJHtob3N0SWR9LiR7bm9kZUlkfS4ke2RlcHRofS4ke2luZGV4fWA7XG4gICAgY2hpbGRFbG1bJ3MtaG9zdC1pZCddID0gaG9zdElkO1xuICAgIGNoaWxkRWxtWydzLW5vZGUtaWQnXSA9IG5vZGVJZDtcbiAgICBpZiAoY2hpbGRFbG0ubm9kZVR5cGUgPT09IDEgLyogRWxlbWVudE5vZGUgKi8pIHtcbiAgICAgICAgY2hpbGRFbG0uc2V0QXR0cmlidXRlKEhZRFJBVEVfQ0hJTERfSUQsIGNoaWxkSWQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjaGlsZEVsbS5ub2RlVHlwZSA9PT0gMyAvKiBUZXh0Tm9kZSAqLykge1xuICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gY2hpbGRFbG0ucGFyZW50Tm9kZTtcbiAgICAgICAgY29uc3Qgbm9kZU5hbWUgPSBwYXJlbnROb2RlLm5vZGVOYW1lO1xuICAgICAgICBpZiAobm9kZU5hbWUgIT09ICdTVFlMRScgJiYgbm9kZU5hbWUgIT09ICdTQ1JJUFQnKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0Tm9kZUlkID0gYCR7VEVYVF9OT0RFX0lEfS4ke2NoaWxkSWR9YDtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnRCZWZvcmVUZXh0Tm9kZSA9IGRvYy5jcmVhdGVDb21tZW50KHRleHROb2RlSWQpO1xuICAgICAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoY29tbWVudEJlZm9yZVRleHROb2RlLCBjaGlsZEVsbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoY2hpbGRFbG0ubm9kZVR5cGUgPT09IDggLyogQ29tbWVudE5vZGUgKi8pIHtcbiAgICAgICAgaWYgKGNoaWxkRWxtWydzLXNyJ10pIHtcbiAgICAgICAgICAgIGNvbnN0IHNsb3ROYW1lID0gY2hpbGRFbG1bJ3Mtc24nXSB8fCAnJztcbiAgICAgICAgICAgIGNvbnN0IHNsb3ROb2RlSWQgPSBgJHtTTE9UX05PREVfSUR9LiR7Y2hpbGRJZH0uJHtzbG90TmFtZX1gO1xuICAgICAgICAgICAgY2hpbGRFbG0ubm9kZVZhbHVlID0gc2xvdE5vZGVJZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodm5vZGVDaGlsZC4kY2hpbGRyZW4kICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgY2hpbGREZXB0aCA9IGRlcHRoICsgMTtcbiAgICAgICAgdm5vZGVDaGlsZC4kY2hpbGRyZW4kLmZvckVhY2goKHZub2RlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaW5zZXJ0Q2hpbGRWTm9kZUFubm90YXRpb25zKGRvYywgdm5vZGUsIGNtcERhdGEsIGhvc3RJZCwgY2hpbGREZXB0aCwgaW5kZXgpO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuY29uc3Qgc2V0UGxhdGZvcm1PcHRpb25zID0gKG9wdHMpID0+IE9iamVjdC5hc3NpZ24ocGx0LCBvcHRzKTtcbmNvbnN0IEZyYWdtZW50ID0gKF8sIGNoaWxkcmVuKSA9PiBjaGlsZHJlbjtcbmNvbnN0IGhvc3RSZWZzID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IGdldEhvc3RSZWYgPSAocmVmKSA9PiBob3N0UmVmcy5nZXQocmVmKTtcbmNvbnN0IHJlZ2lzdGVySW5zdGFuY2UgPSAobGF6eUluc3RhbmNlLCBob3N0UmVmKSA9PiBob3N0UmVmcy5zZXQoKGhvc3RSZWYuJGxhenlJbnN0YW5jZSQgPSBsYXp5SW5zdGFuY2UpLCBob3N0UmVmKTtcbmNvbnN0IHJlZ2lzdGVySG9zdCA9IChlbG0sIGNtcE1ldGEpID0+IHtcbiAgICBjb25zdCBob3N0UmVmID0ge1xuICAgICAgICAkZmxhZ3MkOiAwLFxuICAgICAgICAkaG9zdEVsZW1lbnQkOiBlbG0sXG4gICAgICAgICRjbXBNZXRhJDogY21wTWV0YSxcbiAgICAgICAgJGluc3RhbmNlVmFsdWVzJDogbmV3IE1hcCgpLFxuICAgIH07XG4gICAgaWYgKEJVSUxELmlzRGV2KSB7XG4gICAgICAgIGhvc3RSZWYuJHJlbmRlckNvdW50JCA9IDA7XG4gICAgfVxuICAgIGlmIChCVUlMRC5tZXRob2QgJiYgQlVJTEQubGF6eUxvYWQpIHtcbiAgICAgICAgaG9zdFJlZi4kb25JbnN0YW5jZVByb21pc2UkID0gbmV3IFByb21pc2UociA9PiAoaG9zdFJlZi4kb25JbnN0YW5jZVJlc29sdmUkID0gcikpO1xuICAgIH1cbiAgICBpZiAoQlVJTEQuYXN5bmNMb2FkaW5nKSB7XG4gICAgICAgIGhvc3RSZWYuJG9uUmVhZHlQcm9taXNlJCA9IG5ldyBQcm9taXNlKHIgPT4gKGhvc3RSZWYuJG9uUmVhZHlSZXNvbHZlJCA9IHIpKTtcbiAgICAgICAgZWxtWydzLXAnXSA9IFtdO1xuICAgICAgICBlbG1bJ3MtcmMnXSA9IFtdO1xuICAgIH1cbiAgICBhZGRIb3N0RXZlbnRMaXN0ZW5lcnMoZWxtLCBob3N0UmVmLCBjbXBNZXRhLiRsaXN0ZW5lcnMkLCBmYWxzZSk7XG4gICAgcmV0dXJuIGhvc3RSZWZzLnNldChlbG0sIGhvc3RSZWYpO1xufTtcbmNvbnN0IGlzTWVtYmVySW5FbGVtZW50ID0gKGVsbSwgbWVtYmVyTmFtZSkgPT4gbWVtYmVyTmFtZSBpbiBlbG07XG5jb25zdCBjb25zb2xlRXJyb3IgPSAoZSwgZWwpID0+IChjdXN0b21FcnJvciB8fCBjb25zb2xlLmVycm9yKShlLCBlbCk7XG5jb25zdCBTVEVOQ0lMX0RFVl9NT0RFID0gQlVJTEQuaXNUZXN0aW5nXG4gICAgPyBbJ1NURU5DSUw6J10gLy8gRTJFIHRlc3RpbmdcbiAgICA6IFsnJWNzdGVuY2lsJywgJ2NvbG9yOiB3aGl0ZTtiYWNrZ3JvdW5kOiM0YzQ3ZmY7Zm9udC13ZWlnaHQ6IGJvbGQ7IGZvbnQtc2l6ZToxMHB4OyBwYWRkaW5nOjJweCA2cHg7IGJvcmRlci1yYWRpdXM6IDVweCddO1xuY29uc3QgY29uc29sZURldkVycm9yID0gKC4uLm0pID0+IGNvbnNvbGUuZXJyb3IoLi4uU1RFTkNJTF9ERVZfTU9ERSwgLi4ubSk7XG5jb25zdCBjb25zb2xlRGV2V2FybiA9ICguLi5tKSA9PiBjb25zb2xlLndhcm4oLi4uU1RFTkNJTF9ERVZfTU9ERSwgLi4ubSk7XG5jb25zdCBjb25zb2xlRGV2SW5mbyA9ICguLi5tKSA9PiBjb25zb2xlLmluZm8oLi4uU1RFTkNJTF9ERVZfTU9ERSwgLi4ubSk7XG5jb25zdCBzZXRFcnJvckhhbmRsZXIgPSAoaGFuZGxlcikgPT4gY3VzdG9tRXJyb3IgPSBoYW5kbGVyO1xuY29uc3QgY21wTW9kdWxlcyA9IC8qQF9fUFVSRV9fKi8gbmV3IE1hcCgpO1xuY29uc3QgbG9hZE1vZHVsZSA9IChjbXBNZXRhLCBob3N0UmVmLCBobXJWZXJzaW9uSWQpID0+IHtcbiAgICAvLyBsb2FkTW9kdWxlSW1wb3J0XG4gICAgY29uc3QgZXhwb3J0TmFtZSA9IGNtcE1ldGEuJHRhZ05hbWUkLnJlcGxhY2UoLy0vZywgJ18nKTtcbiAgICBjb25zdCBidW5kbGVJZCA9IGNtcE1ldGEuJGxhenlCdW5kbGVJZCQ7XG4gICAgaWYgKEJVSUxELmlzRGV2ICYmIHR5cGVvZiBidW5kbGVJZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc29sZURldkVycm9yKGBUcnlpbmcgdG8gbGF6aWx5IGxvYWQgY29tcG9uZW50IDwke2NtcE1ldGEuJHRhZ05hbWUkfT4gd2l0aCBzdHlsZSBtb2RlIFwiJHtob3N0UmVmLiRtb2RlTmFtZSR9XCIsIGJ1dCBpdCBkb2VzIG5vdCBleGlzdC5gKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgbW9kdWxlID0gIUJVSUxELmhvdE1vZHVsZVJlcGxhY2VtZW50ID8gY21wTW9kdWxlcy5nZXQoYnVuZGxlSWQpIDogZmFsc2U7XG4gICAgaWYgKG1vZHVsZSkge1xuICAgICAgICByZXR1cm4gbW9kdWxlW2V4cG9ydE5hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gaW1wb3J0KFxuICAgIC8qIHdlYnBhY2tJbmNsdWRlOiAvXFwuZW50cnlcXC5qcyQvICovXG4gICAgLyogd2VicGFja0V4Y2x1ZGU6IC9cXC5zeXN0ZW1cXC5lbnRyeVxcLmpzJC8gKi9cbiAgICAvKiB3ZWJwYWNrTW9kZTogXCJsYXp5XCIgKi9cbiAgICBgLi8ke2J1bmRsZUlkfS5lbnRyeS5qcyR7QlVJTEQuaG90TW9kdWxlUmVwbGFjZW1lbnQgJiYgaG1yVmVyc2lvbklkID8gJz9zLWhtcj0nICsgaG1yVmVyc2lvbklkIDogJyd9YCkudGhlbihpbXBvcnRlZE1vZHVsZSA9PiB7XG4gICAgICAgIGlmICghQlVJTEQuaG90TW9kdWxlUmVwbGFjZW1lbnQpIHtcbiAgICAgICAgICAgIGNtcE1vZHVsZXMuc2V0KGJ1bmRsZUlkLCBpbXBvcnRlZE1vZHVsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltcG9ydGVkTW9kdWxlW2V4cG9ydE5hbWVdO1xuICAgIH0sIGNvbnNvbGVFcnJvcik7XG59O1xuY29uc3Qgc3R5bGVzID0gbmV3IE1hcCgpO1xuY29uc3QgbW9kZVJlc29sdXRpb25DaGFpbiA9IFtdO1xuY29uc3QgcXVldWVEb21SZWFkcyA9IFtdO1xuY29uc3QgcXVldWVEb21Xcml0ZXMgPSBbXTtcbmNvbnN0IHF1ZXVlRG9tV3JpdGVzTG93ID0gW107XG5jb25zdCBxdWV1ZVRhc2sgPSAocXVldWUsIHdyaXRlKSA9PiAoY2IpID0+IHtcbiAgICBxdWV1ZS5wdXNoKGNiKTtcbiAgICBpZiAoIXF1ZXVlUGVuZGluZykge1xuICAgICAgICBxdWV1ZVBlbmRpbmcgPSB0cnVlO1xuICAgICAgICBpZiAod3JpdGUgJiYgcGx0LiRmbGFncyQgJiA0IC8qIHF1ZXVlU3luYyAqLykge1xuICAgICAgICAgICAgbmV4dFRpY2soZmx1c2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGx0LnJhZihmbHVzaCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgY29uc3VtZSA9IChxdWV1ZSkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHF1ZXVlW2ldKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZUVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG59O1xuY29uc3QgY29uc3VtZVRpbWVvdXQgPSAocXVldWUsIHRpbWVvdXQpID0+IHtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IHRzID0gMDtcbiAgICB3aGlsZSAoaSA8IHF1ZXVlLmxlbmd0aCAmJiAodHMgPSBwZXJmb3JtYW5jZS5ub3coKSkgPCB0aW1lb3V0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBxdWV1ZVtpKytdKHRzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZUVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpID09PSBxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUubGVuZ3RoID0gMDtcbiAgICB9XG4gICAgZWxzZSBpZiAoaSAhPT0gMCkge1xuICAgICAgICBxdWV1ZS5zcGxpY2UoMCwgaSk7XG4gICAgfVxufTtcbmNvbnN0IGZsdXNoID0gKCkgPT4ge1xuICAgIGlmIChCVUlMRC5hc3luY1F1ZXVlKSB7XG4gICAgICAgIHF1ZXVlQ29uZ2VzdGlvbisrO1xuICAgIH1cbiAgICAvLyBhbHdheXMgZm9yY2UgYSBidW5jaCBvZiBtZWRpdW0gY2FsbGJhY2tzIHRvIHJ1biwgYnV0IHN0aWxsIGhhdmVcbiAgICAvLyBhIHRocm90dGxlIG9uIGhvdyBtYW55IGNhbiBydW4gaW4gYSBjZXJ0YWluIHRpbWVcbiAgICAvLyBET00gUkVBRFMhISFcbiAgICBjb25zdW1lKHF1ZXVlRG9tUmVhZHMpO1xuICAgIC8vIERPTSBXUklURVMhISFcbiAgICBpZiAoQlVJTEQuYXN5bmNRdWV1ZSkge1xuICAgICAgICBjb25zdCB0aW1lb3V0ID0gKHBsdC4kZmxhZ3MkICYgNiAvKiBxdWV1ZU1hc2sgKi8pID09PSAyIC8qIGFwcExvYWRlZCAqLyA/IHBlcmZvcm1hbmNlLm5vdygpICsgMTQgKiBNYXRoLmNlaWwocXVldWVDb25nZXN0aW9uICogKDEuMCAvIDEwLjApKSA6IEluZmluaXR5O1xuICAgICAgICBjb25zdW1lVGltZW91dChxdWV1ZURvbVdyaXRlcywgdGltZW91dCk7XG4gICAgICAgIGNvbnN1bWVUaW1lb3V0KHF1ZXVlRG9tV3JpdGVzTG93LCB0aW1lb3V0KTtcbiAgICAgICAgaWYgKHF1ZXVlRG9tV3JpdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHF1ZXVlRG9tV3JpdGVzTG93LnB1c2goLi4ucXVldWVEb21Xcml0ZXMpO1xuICAgICAgICAgICAgcXVldWVEb21Xcml0ZXMubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHF1ZXVlUGVuZGluZyA9IHF1ZXVlRG9tUmVhZHMubGVuZ3RoICsgcXVldWVEb21Xcml0ZXMubGVuZ3RoICsgcXVldWVEb21Xcml0ZXNMb3cubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgIC8vIHN0aWxsIG1vcmUgdG8gZG8geWV0LCBidXQgd2UndmUgcnVuIG91dCBvZiB0aW1lXG4gICAgICAgICAgICAvLyBsZXQncyBsZXQgdGhpcyB0aGluZyBjb29sIG9mZiBhbmQgdHJ5IGFnYWluIGluIHRoZSBuZXh0IHRpY2tcbiAgICAgICAgICAgIHBsdC5yYWYoZmx1c2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcXVldWVDb25nZXN0aW9uID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3VtZShxdWV1ZURvbVdyaXRlcyk7XG4gICAgICAgIGlmICgocXVldWVQZW5kaW5nID0gcXVldWVEb21SZWFkcy5sZW5ndGggPiAwKSkge1xuICAgICAgICAgICAgLy8gc3RpbGwgbW9yZSB0byBkbyB5ZXQsIGJ1dCB3ZSd2ZSBydW4gb3V0IG9mIHRpbWVcbiAgICAgICAgICAgIC8vIGxldCdzIGxldCB0aGlzIHRoaW5nIGNvb2wgb2ZmIGFuZCB0cnkgYWdhaW4gaW4gdGhlIG5leHQgdGlja1xuICAgICAgICAgICAgcGx0LnJhZihmbHVzaCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgbmV4dFRpY2sgPSAvKkBfX1BVUkVfXyovIChjYikgPT4gcHJvbWlzZVJlc29sdmUoKS50aGVuKGNiKTtcbmNvbnN0IHJlYWRUYXNrID0gLypAX19QVVJFX18qLyBxdWV1ZVRhc2socXVldWVEb21SZWFkcywgZmFsc2UpO1xuY29uc3Qgd3JpdGVUYXNrID0gLypAX19QVVJFX18qLyBxdWV1ZVRhc2socXVldWVEb21Xcml0ZXMsIHRydWUpO1xuY29uc3QgQnVpbGQgPSB7XG4gICAgaXNEZXY6IEJVSUxELmlzRGV2ID8gdHJ1ZSA6IGZhbHNlLFxuICAgIGlzQnJvd3NlcjogdHJ1ZSxcbiAgICBpc1NlcnZlcjogZmFsc2UsXG4gICAgaXNUZXN0aW5nOiBCVUlMRC5pc1Rlc3RpbmcgPyB0cnVlIDogZmFsc2UsXG59O1xuZXhwb3J0IHsgQlVJTEQsIEVudiwgTkFNRVNQQUNFIH0gZnJvbSAnQHN0ZW5jaWwvY29yZS9pbnRlcm5hbC9hcHAtZGF0YSc7XG5leHBvcnQgeyBCdWlsZCwgQ1NTLCBDb250ZXh0LCBGcmFnbWVudCwgSCwgSCBhcyBIVE1MRWxlbWVudCwgSG9zdCwgU1RFTkNJTF9ERVZfTU9ERSwgYWRkSG9zdEV2ZW50TGlzdGVuZXJzLCBhdHRhY2hTaGFkb3csIGJvb3RzdHJhcExhenksIGNtcE1vZHVsZXMsIGNvbm5lY3RlZENhbGxiYWNrLCBjb25zb2xlRGV2RXJyb3IsIGNvbnNvbGVEZXZJbmZvLCBjb25zb2xlRGV2V2FybiwgY29uc29sZUVycm9yLCBjcmVhdGVFdmVudCwgZGVmaW5lQ3VzdG9tRWxlbWVudCwgZGlzY29ubmVjdGVkQ2FsbGJhY2ssIGRvYywgZm9yY2VNb2RlVXBkYXRlLCBmb3JjZVVwZGF0ZSwgZ2V0QXNzZXRQYXRoLCBnZXRDb25uZWN0LCBnZXRDb250ZXh0LCBnZXRFbGVtZW50LCBnZXRIb3N0UmVmLCBnZXRNb2RlLCBnZXRSZW5kZXJpbmdSZWYsIGdldFZhbHVlLCBoLCBpbnNlcnRWZG9tQW5ub3RhdGlvbnMsIGlzTWVtYmVySW5FbGVtZW50LCBsb2FkTW9kdWxlLCBtb2RlUmVzb2x1dGlvbkNoYWluLCBuZXh0VGljaywgcGFyc2VQcm9wZXJ0eVZhbHVlLCBwbHQsIHBvc3RVcGRhdGVDb21wb25lbnQsIHByb21pc2VSZXNvbHZlLCBwcm94eUNvbXBvbmVudCwgcHJveHlDdXN0b21FbGVtZW50LCByZWFkVGFzaywgcmVnaXN0ZXJIb3N0LCByZWdpc3Rlckluc3RhbmNlLCByZW5kZXJWZG9tLCBzZXRBc3NldFBhdGgsIHNldEVycm9ySGFuZGxlciwgc2V0TW9kZSwgc2V0UGxhdGZvcm1PcHRpb25zLCBzZXRWYWx1ZSwgc3R5bGVzLCBzdXBwb3J0c0NvbnN0cnVjdGlibGVTdHlsZXNoZWV0cywgc3VwcG9ydHNMaXN0ZW5lck9wdGlvbnMsIHN1cHBvcnRzU2hhZG93LCB3aW4sIHdyaXRlVGFzayB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@stencil/core/internal/client/index.js\n"));

/***/ }),

/***/ "./node_modules/@stencil/core/internal/client lazy recursive ^\\.\\/.*\\.entry\\.js.*$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/@stencil/core/internal/client/ lazy ^\.\/.*\.entry\.js.*$ include: \.entry\.js$ exclude: \.system\.entry\.js$ namespace object ***!
  \*****************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./node_modules/@stencil/core/internal/client lazy recursive ^\\.\\/.*\\.entry\\.js.*$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$";
module.exports = webpackEmptyAsyncContext;

/***/ }),

/***/ "./node_modules/@vime/core/dist/custom-elements/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@vime/core/dist/custom-elements/index.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"COMPONENT_NAME_KEY\": function() { return /* binding */ COMPONENT_NAME_KEY; },\n/* harmony export */   \"MediaType\": function() { return /* binding */ MediaType; },\n/* harmony export */   \"PLAYER_KEY\": function() { return /* binding */ PLAYER_KEY; },\n/* harmony export */   \"Provider\": function() { return /* binding */ Provider; },\n/* harmony export */   \"REGISTRATION_KEY\": function() { return /* binding */ REGISTRATION_KEY; },\n/* harmony export */   \"REGISTRY_KEY\": function() { return /* binding */ REGISTRY_KEY; },\n/* harmony export */   \"ViewType\": function() { return /* binding */ ViewType; },\n/* harmony export */   \"VmAudio\": function() { return /* binding */ VmAudio; },\n/* harmony export */   \"VmCaptionControl\": function() { return /* binding */ VmCaptionControl; },\n/* harmony export */   \"VmCaptions\": function() { return /* binding */ VmCaptions; },\n/* harmony export */   \"VmClickToPlay\": function() { return /* binding */ VmClickToPlay; },\n/* harmony export */   \"VmControl\": function() { return /* binding */ VmControl; },\n/* harmony export */   \"VmControlGroup\": function() { return /* binding */ VmControlGroup; },\n/* harmony export */   \"VmControlSpacer\": function() { return /* binding */ VmControlSpacer; },\n/* harmony export */   \"VmControls\": function() { return /* binding */ VmControls; },\n/* harmony export */   \"VmCurrentTime\": function() { return /* binding */ VmCurrentTime; },\n/* harmony export */   \"VmDailymotion\": function() { return /* binding */ VmDailymotion; },\n/* harmony export */   \"VmDash\": function() { return /* binding */ VmDash; },\n/* harmony export */   \"VmDblClickFullscreen\": function() { return /* binding */ VmDblClickFullscreen; },\n/* harmony export */   \"VmDefaultControls\": function() { return /* binding */ VmDefaultControls; },\n/* harmony export */   \"VmDefaultSettings\": function() { return /* binding */ VmDefaultSettings; },\n/* harmony export */   \"VmDefaultUi\": function() { return /* binding */ VmDefaultUi; },\n/* harmony export */   \"VmEmbed\": function() { return /* binding */ VmEmbed; },\n/* harmony export */   \"VmEndTime\": function() { return /* binding */ VmEndTime; },\n/* harmony export */   \"VmFile\": function() { return /* binding */ VmFile; },\n/* harmony export */   \"VmFullscreenControl\": function() { return /* binding */ VmFullscreenControl; },\n/* harmony export */   \"VmHls\": function() { return /* binding */ VmHls; },\n/* harmony export */   \"VmIcon\": function() { return /* binding */ VmIcon; },\n/* harmony export */   \"VmIconLibrary\": function() { return /* binding */ VmIconLibrary; },\n/* harmony export */   \"VmLiveIndicator\": function() { return /* binding */ VmLiveIndicator; },\n/* harmony export */   \"VmLoadingScreen\": function() { return /* binding */ VmLoadingScreen; },\n/* harmony export */   \"VmMenu\": function() { return /* binding */ VmMenu; },\n/* harmony export */   \"VmMenuItem\": function() { return /* binding */ VmMenuItem; },\n/* harmony export */   \"VmMenuRadio\": function() { return /* binding */ VmMenuRadio; },\n/* harmony export */   \"VmMenuRadioGroup\": function() { return /* binding */ VmMenuRadioGroup; },\n/* harmony export */   \"VmMuteControl\": function() { return /* binding */ VmMuteControl; },\n/* harmony export */   \"VmPipControl\": function() { return /* binding */ VmPipControl; },\n/* harmony export */   \"VmPlaybackControl\": function() { return /* binding */ VmPlaybackControl; },\n/* harmony export */   \"VmPlayer\": function() { return /* binding */ VmPlayer; },\n/* harmony export */   \"VmPoster\": function() { return /* binding */ VmPoster; },\n/* harmony export */   \"VmScrim\": function() { return /* binding */ VmScrim; },\n/* harmony export */   \"VmScrubberControl\": function() { return /* binding */ VmScrubberControl; },\n/* harmony export */   \"VmSettings\": function() { return /* binding */ VmSettings; },\n/* harmony export */   \"VmSettingsControl\": function() { return /* binding */ VmSettingsControl; },\n/* harmony export */   \"VmSkeleton\": function() { return /* binding */ VmSkeleton; },\n/* harmony export */   \"VmSlider\": function() { return /* binding */ VmSlider; },\n/* harmony export */   \"VmSpinner\": function() { return /* binding */ VmSpinner; },\n/* harmony export */   \"VmSubmenu\": function() { return /* binding */ VmSubmenu; },\n/* harmony export */   \"VmTime\": function() { return /* binding */ VmTime; },\n/* harmony export */   \"VmTimeProgress\": function() { return /* binding */ VmTimeProgress; },\n/* harmony export */   \"VmTooltip\": function() { return /* binding */ VmTooltip; },\n/* harmony export */   \"VmUi\": function() { return /* binding */ VmUi; },\n/* harmony export */   \"VmVideo\": function() { return /* binding */ VmVideo; },\n/* harmony export */   \"VmVimeo\": function() { return /* binding */ VmVimeo; },\n/* harmony export */   \"VmVolumeControl\": function() { return /* binding */ VmVolumeControl; },\n/* harmony export */   \"VmYoutube\": function() { return /* binding */ VmYoutube; },\n/* harmony export */   \"createDispatcher\": function() { return /* binding */ createDispatcher; },\n/* harmony export */   \"defineCustomElements\": function() { return /* binding */ defineCustomElements; },\n/* harmony export */   \"findPlayer\": function() { return /* binding */ findPlayer; },\n/* harmony export */   \"getComponentFromRegistry\": function() { return /* binding */ getComponentFromRegistry; },\n/* harmony export */   \"getPlayerFromRegistry\": function() { return /* binding */ getPlayerFromRegistry; },\n/* harmony export */   \"initialState\": function() { return /* binding */ initialState; },\n/* harmony export */   \"isComponentRegistered\": function() { return /* binding */ isComponentRegistered; },\n/* harmony export */   \"isWritableProp\": function() { return /* binding */ isWritableProp; },\n/* harmony export */   \"setAssetPath\": function() { return /* reexport safe */ _stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.setAssetPath; },\n/* harmony export */   \"setPlatformOptions\": function() { return /* reexport safe */ _stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.setPlatformOptions; },\n/* harmony export */   \"usePlayerContext\": function() { return /* binding */ usePlayerContext; },\n/* harmony export */   \"watchComponentRegistry\": function() { return /* binding */ watchComponentRegistry; },\n/* harmony export */   \"withComponentRegistry\": function() { return /* binding */ withComponentRegistry; },\n/* harmony export */   \"withPlayerContext\": function() { return /* binding */ withPlayerContext; }\n/* harmony export */ });\n/* harmony import */ var _stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stencil/core/internal/client */ \"./node_modules/@stencil/core/internal/client/index.js\");\n\n\n\n/**\n * Listen to an event on the given DOM node. Returns a callback to remove the event listener.\n */\nfunction listen(node, event, handler, options) {\n  node.addEventListener(event, handler, options);\n  return () => node.removeEventListener(event, handler, options);\n}\nfunction fireEventAndRetry(el, event, onFail, interval = 300, maxRetries = 10) {\n  let timeout;\n  let attempt = 0;\n  let found = false;\n  function retry() {\n    if (found)\n      return;\n    timeout = setTimeout(() => {\n      if (attempt === maxRetries) {\n        onFail === null || onFail === void 0 ? void 0 : onFail();\n        return;\n      }\n      el.dispatchEvent(event);\n      attempt += 1;\n      retry();\n    }, interval);\n  }\n  retry();\n  return () => {\n    window.clearTimeout(timeout);\n    found = true;\n  };\n}\nconst isColliding = (a, b, translateAx = 0, translateAy = 0, translateBx = 0, translateBy = 0) => {\n  const aRect = a.getBoundingClientRect();\n  const bRect = b.getBoundingClientRect();\n  return (aRect.left + translateAx < bRect.right + translateBx &&\n    aRect.right + translateAx > bRect.left + translateBx &&\n    aRect.top + translateAy < bRect.bottom + translateBy &&\n    aRect.bottom + translateAy > bRect.top + translateBy);\n};\n\n/**\n * No-operation (noop).\n */\n// eslint-disable-next-line @typescript-eslint/no-empty-function\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst noop = (..._) => {\n  // ...\n};\n/**\n * Checks if `value` is `null`.\n *\n * @param value - The value to check.\n */\nconst isNull = (value) => value === null;\n/**\n * Checks if `value` is `undefined`.\n *\n * @param value - The value to check.\n */\nconst isUndefined = (value) => typeof value === 'undefined';\n/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @param value - The value to check.\n */\nconst isNil = (value) => isNull(value) || isUndefined(value);\n/**\n * Returns the constructor of the given `value`.\n *\n * @param value - The value to return the constructor of.\n */\nconst getConstructor = (value) => \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n!isNil(value) ? value.constructor : undefined;\n/**\n * Checks if `value` is classified as a `Object` object.\n *\n * @param value - The value to check.\n */\nconst isObject = (value) => getConstructor(value) === Object;\n/**\n * Checks if `value` is classified as a `Number` object.\n *\n * @param value - The value to check.\n */\nconst isNumber = (value) => getConstructor(value) === Number && !Number.isNaN(value);\n/**\n * Checks if `value` is classified as a `String` object.\n *\n * @param value - The value to check.\n */\nconst isString = (value) => getConstructor(value) === String;\n/**\n * Checks if `value` is classified as a `Boolean` object.\n *\n * @param value - The value to check.\n */\nconst isBoolean = (value) => getConstructor(value) === Boolean;\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @param value - The value to check.\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst isFunction = (value) => getConstructor(value) === Function;\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @param value - The value to check.\n */\nconst isArray = (value) => Array.isArray(value);\n/**\n * Checks if `value` is an instanceof the given `constructor`.\n *\n * @param value - The value to check.\n * @param constructor - The constructor to check against.\n */\nconst isInstanceOf = (value, constructor) => Boolean(value && constructor && value instanceof constructor);\n\n/**\n * Creates an empty Promise and defers resolving/rejecting it.\n */\nconst deferredPromise = () => {\n  let resolve = noop;\n  let reject = noop;\n  const promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return { promise, resolve, reject };\n};\n\nfunction wrapStencilHook(component, lifecycle, hook) {\n  const prevHook = component[lifecycle];\n  component[lifecycle] = function () {\n    hook();\n    return prevHook ? prevHook.call(component) : undefined;\n  };\n}\nfunction createStencilHook(component, onConnect, onDisconnect) {\n  let hasLoaded = false;\n  if (!isUndefined(onConnect)) {\n    wrapStencilHook(component, 'componentWillLoad', () => {\n      onConnect();\n      hasLoaded = true;\n    });\n    wrapStencilHook(component, 'connectedCallback', () => {\n      if (hasLoaded)\n        onConnect();\n    });\n  }\n  if (!isUndefined(onDisconnect)) {\n    wrapStencilHook(component, 'disconnectedCallback', () => {\n      onDisconnect();\n    });\n  }\n}\n\nconst FIND_PLAYER_EVENT = 'vmFindPlayer';\nfunction withFindPlayer(player) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(player);\n  let off;\n  createStencilHook(player, () => {\n    off = listen(el, FIND_PLAYER_EVENT, (event) => {\n      event.stopPropagation();\n      event.detail(el);\n    });\n  }, () => {\n    off === null || off === void 0 ? void 0 : off();\n  });\n}\n/**\n * Finds the closest ancestor player element by firing the `vmFindPlayer` event, and waiting\n * for the player to catch it. This function retries finding the player (`maxRetries`) until it\n * gives up and fails.\n *\n * @param ref - A HTMLElement that is within the player's subtree.\n * @param interval - The length of the timeout before trying again in milliseconds.\n * @param maxRetries - The number of times to retry firing the event.\n */\nconst findPlayer = (ref, interval = 300, maxRetries = 10) => {\n  const el = (isInstanceOf(ref, HTMLElement)\n    ? ref\n    : (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(ref));\n  const search = deferredPromise();\n  // eslint-disable-next-line prefer-const\n  let stopFiring;\n  const event = new CustomEvent(FIND_PLAYER_EVENT, {\n    bubbles: true,\n    composed: true,\n    detail: player => {\n      search.resolve(player);\n      stopFiring();\n    },\n  });\n  stopFiring = fireEventAndRetry(el, event, () => {\n    search.reject(`Could not find player for ${el.nodeName}`);\n  }, interval, maxRetries);\n  return search.promise;\n};\n\nvar MediaType;\n(function (MediaType) {\n  MediaType[\"Audio\"] = \"audio\";\n  MediaType[\"Video\"] = \"video\";\n})(MediaType || (MediaType = {}));\n\nconst STATE_CHANGE_EVENT = 'vmStateChange';\n/**\n * Creates a dispatcher on the given `ref`, to send updates to the closest ancestor player via\n * the custom `vmStateChange` event.\n *\n * @param ref An element to dispatch the state change events from.\n */\nconst createDispatcher = (ref) => (prop, value) => {\n  const el = isInstanceOf(ref, HTMLElement) ? ref : (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(ref);\n  const event = new CustomEvent(STATE_CHANGE_EVENT, {\n    bubbles: true,\n    composed: true,\n    detail: { by: el, prop, value },\n  });\n  el.dispatchEvent(event);\n};\n\nconst en = {\n  play: 'Play',\n  pause: 'Pause',\n  playback: 'Playback',\n  scrubber: 'Scrubber',\n  scrubberLabel: '{currentTime} of {duration}',\n  played: 'Played',\n  duration: 'Duration',\n  buffered: 'Buffered',\n  close: 'Close',\n  currentTime: 'Current time',\n  live: 'LIVE',\n  volume: 'Volume',\n  mute: 'Mute',\n  unmute: 'Unmute',\n  audio: 'Audio',\n  default: 'Default',\n  captions: 'Captions',\n  subtitlesOrCc: 'Subtitles/CC',\n  enableCaptions: 'Enable subtitles/captions',\n  disableCaptions: 'Disable subtitles/captions',\n  auto: 'Auto',\n  fullscreen: 'Fullscreen',\n  enterFullscreen: 'Enter fullscreen',\n  exitFullscreen: 'Exit fullscreen',\n  settings: 'Settings',\n  seekForward: 'Seek forward',\n  seekBackward: 'Seek backward',\n  seekTotal: 'Seek total',\n  normal: 'Normal',\n  none: 'None',\n  playbackRate: 'Playback Rate',\n  playbackQuality: 'Playback Quality',\n  loop: 'Loop',\n  disabled: 'Disabled',\n  off: 'Off',\n  enabled: 'Enabled',\n  pip: 'Picture-in-Picture',\n  enterPiP: 'Miniplayer',\n  exitPiP: 'Expand',\n};\n\nconst initialState = {\n  theme: undefined,\n  paused: true,\n  playing: false,\n  duration: -1,\n  currentProvider: undefined,\n  mediaTitle: undefined,\n  currentSrc: undefined,\n  currentPoster: undefined,\n  textTracks: [],\n  currentTextTrack: -1,\n  audioTracks: [],\n  currentAudioTrack: -1,\n  isTextTrackVisible: true,\n  shouldRenderNativeTextTracks: true,\n  icons: 'vime',\n  currentTime: 0,\n  autoplay: false,\n  ready: false,\n  playbackReady: false,\n  loop: false,\n  muted: false,\n  buffered: 0,\n  playbackRate: 1,\n  playbackRates: [1],\n  playbackQuality: undefined,\n  playbackQualities: [],\n  seeking: false,\n  debug: false,\n  playbackStarted: false,\n  playbackEnded: false,\n  buffering: false,\n  controls: false,\n  isControlsActive: false,\n  volume: 50,\n  isFullscreenActive: false,\n  aspectRatio: '16:9',\n  viewType: undefined,\n  isAudioView: false,\n  isVideoView: false,\n  mediaType: undefined,\n  isAudio: false,\n  isVideo: false,\n  isMobile: false,\n  isTouch: false,\n  isSettingsActive: false,\n  isLive: false,\n  isPiPActive: false,\n  autopause: true,\n  playsinline: false,\n  language: 'en',\n  languages: ['en'],\n  translations: { en },\n  i18n: en,\n};\nconst writableProps = new Set([\n  'autoplay',\n  'autopause',\n  'aspectRatio',\n  'controls',\n  'theme',\n  'debug',\n  'paused',\n  'currentTime',\n  'language',\n  'loop',\n  'translations',\n  'playbackQuality',\n  'muted',\n  'playbackRate',\n  'playsinline',\n  'volume',\n  'isSettingsActive',\n  'isControlsActive',\n  'shouldRenderNativeTextTracks',\n]);\nconst isWritableProp = (prop) => writableProps.has(prop);\n/**\n * Player properties that should be reset when the media is changed.\n */\nconst resetableProps = new Set([\n  'paused',\n  'currentTime',\n  'duration',\n  'buffered',\n  'seeking',\n  'playing',\n  'buffering',\n  'playbackReady',\n  'textTracks',\n  'currentTextTrack',\n  'audioTracks',\n  'currentAudioTrack',\n  'mediaTitle',\n  'currentSrc',\n  'currentPoster',\n  'playbackRate',\n  'playbackRates',\n  'playbackStarted',\n  'playbackEnded',\n  'playbackQuality',\n  'playbackQualities',\n  'mediaType',\n]);\nconst shouldPropResetOnMediaChange = (prop) => resetableProps.has(prop);\n\nvar ViewType;\n(function (ViewType) {\n  ViewType[\"Audio\"] = \"audio\";\n  ViewType[\"Video\"] = \"video\";\n})(ViewType || (ViewType = {}));\n\nclass Disposal {\n  constructor(dispose = []) {\n    this.dispose = dispose;\n  }\n  add(callback) {\n    this.dispose.push(callback);\n  }\n  empty() {\n    this.dispose.forEach(fn => fn());\n    this.dispose = [];\n  }\n}\n\nvar __awaiter$y = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst PLAYER_KEY = Symbol('vmPlayerKey');\nconst COMPONENT_NAME_KEY = Symbol('vmNameKey');\nconst REGISTRY_KEY = Symbol('vmRegistryKey');\nconst REGISTRATION_KEY = Symbol('vmRegistrationKey');\nconst REGISTER_COMPONENT_EVENT = 'vmComponentRegister';\nconst COMPONENT_REGISTERED_EVENT = 'vmComponentRegistered';\nconst COMPONENT_DEREGISTERED_EVENT = 'vmComponentDeregistered';\nconst getRegistrant = (ref) => isInstanceOf(ref, HTMLElement)\n  ? ref\n  : (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(ref);\n/**\n * Handles registering/deregistering the given `component` in the player registry. All registries\n * are bound per player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n */\nfunction withComponentRegistry(ref, name) {\n  const registryId = Symbol('vmRegistryId');\n  const registrant = getRegistrant(ref);\n  registrant[COMPONENT_NAME_KEY] = name !== null && name !== void 0 ? name : registrant.nodeName.toLowerCase();\n  registrant[REGISTRATION_KEY] = registryId;\n  const buildEvent = (eventName) => new CustomEvent(eventName, {\n    bubbles: true,\n    composed: true,\n    detail: registrant,\n  });\n  const registerEvent = buildEvent(REGISTER_COMPONENT_EVENT);\n  createStencilHook(ref, () => {\n    registrant.dispatchEvent(registerEvent);\n  });\n}\nfunction withComponentRegistrar(player) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(player);\n  const registry = new Map();\n  const disposal = new Disposal();\n  // TODO properly type this later.\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  el[REGISTRY_KEY] = registry;\n  function onDeregister(registrant) {\n    delete registrant[PLAYER_KEY];\n    delete registrant[REGISTRY_KEY];\n    registry.delete(registrant[REGISTRATION_KEY]);\n    el.dispatchEvent(new CustomEvent(COMPONENT_DEREGISTERED_EVENT, { detail: registrant }));\n  }\n  function onRegister(e) {\n    const ref = e.detail;\n    const registrant = getRegistrant(ref);\n    registrant[PLAYER_KEY] = el;\n    registrant[REGISTRY_KEY] = registry;\n    registry.set(registrant[REGISTRATION_KEY], registrant);\n    el.dispatchEvent(new CustomEvent(COMPONENT_REGISTERED_EVENT, { detail: registrant }));\n    createStencilHook(ref, undefined, () => onDeregister(registrant));\n  }\n  createStencilHook(player, () => {\n    disposal.add(listen(el, REGISTER_COMPONENT_EVENT, onRegister));\n  }, () => {\n    registry.clear();\n    disposal.empty();\n    delete player[REGISTRY_KEY];\n  });\n}\n/**\n * Checks whether any component with the given `name` exists in the registry. All registries\n * are bound per player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n * @param name - The name of the component to search for.\n */\nfunction isComponentRegistered(ref, name) {\n  var _a;\n  const registrant = getRegistrant(ref);\n  const registry = registrant[REGISTRY_KEY];\n  return Array.from((_a = registry === null || registry === void 0 ? void 0 : registry.values()) !== null && _a !== void 0 ? _a : []).some(r => r[COMPONENT_NAME_KEY] === name);\n}\n/**\n * Returns the player for the given `ref`. This will only work after the component has been\n * registered, prefer using `findPlayer`.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n */\nfunction getPlayerFromRegistry(ref) {\n  const registrant = getRegistrant(ref);\n  return registrant[PLAYER_KEY];\n}\n/**\n * Returns a collection of components from the registry for the given `ref`. All registries\n * are bound per player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n * @param name - The name of the components to search for in the registry.\n */\nfunction getComponentFromRegistry(ref, name) {\n  var _a, _b;\n  const registrant = getRegistrant(ref);\n  return Array.from((_b = (_a = registrant[REGISTRY_KEY]) === null || _a === void 0 ? void 0 : _a.values()) !== null && _b !== void 0 ? _b : []).filter(r => r[COMPONENT_NAME_KEY] === name);\n}\n/**\n * Watches the current registry on the given `ref` for changes. All registries are bound per\n * player subtree.\n *\n * @param ref - A Stencil component instance or HTMLElement.\n * @param name - The name of the component to watch for.\n * @param onChange - A callback that is called when a component is registered/deregistered.\n */\nfunction watchComponentRegistry(ref, name, onChange) {\n  var _a;\n  return __awaiter$y(this, void 0, void 0, function* () {\n    const player = yield findPlayer(ref);\n    const disposal = new Disposal();\n    const registry = getRegistrant(ref)[REGISTRY_KEY];\n    function listener(e) {\n      if (e.detail[COMPONENT_NAME_KEY] === name)\n        onChange === null || onChange === void 0 ? void 0 : onChange(getComponentFromRegistry(player, name));\n    }\n    // Hydrate.\n    Array.from((_a = registry === null || registry === void 0 ? void 0 : registry.values()) !== null && _a !== void 0 ? _a : []).forEach(reg => listener(new CustomEvent('', { detail: reg })));\n    if (!isUndefined(player)) {\n      disposal.add(listen(player, COMPONENT_REGISTERED_EVENT, listener));\n      disposal.add(listen(player, COMPONENT_DEREGISTERED_EVENT, listener));\n    }\n    createStencilHook(ref, () => {\n      // no-op\n    }, () => {\n      disposal.empty();\n    });\n    return () => {\n      disposal.empty();\n    };\n  });\n}\n\nvar createDeferredPromise = function () {\n    var resolve;\n    var promise = new Promise(function (res) { resolve = res; });\n    return { promise: promise, resolve: resolve };\n};\n\nvar openWormhole = function (Component, props, isBlocking) {\n    if (isBlocking === void 0) { isBlocking = true; }\n    var isConstructor = (Component.constructor.name === 'Function');\n    var Proto = isConstructor ? Component.prototype : Component;\n    var componentWillLoad = Proto.componentWillLoad;\n    Proto.componentWillLoad = function () {\n        var _this = this;\n        var el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(this);\n        var onOpen = createDeferredPromise();\n        var event = new CustomEvent('openWormhole', {\n            bubbles: true,\n            composed: true,\n            detail: {\n                consumer: this,\n                fields: props,\n                updater: function (prop, value) {\n                    var target = (prop in el) ? el : _this;\n                    target[prop] = value;\n                },\n                onOpen: onOpen,\n            },\n        });\n        el.dispatchEvent(event);\n        var willLoad = function () {\n            if (componentWillLoad) {\n                return componentWillLoad.call(_this);\n            }\n        };\n        return isBlocking ? onOpen.promise.then(function () { return willLoad(); }) : (willLoad());\n    };\n};\n\nvar multiverse = new Map();\nvar updateConsumer = function (_a, state) {\n    var fields = _a.fields, updater = _a.updater;\n    fields.forEach(function (field) { updater(field, state[field]); });\n};\nvar Universe = {\n    create: function (creator, initialState) {\n        var el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(creator);\n        var wormholes = new Map();\n        var universe = { wormholes: wormholes, state: initialState };\n        multiverse.set(creator, universe);\n        var connectedCallback = creator.connectedCallback;\n        creator.connectedCallback = function () {\n            multiverse.set(creator, universe);\n            if (connectedCallback) {\n                connectedCallback.call(creator);\n            }\n        };\n        var disconnectedCallback = creator.disconnectedCallback;\n        creator.disconnectedCallback = function () {\n            multiverse.delete(creator);\n            if (disconnectedCallback) {\n                disconnectedCallback.call(creator);\n            }\n        };\n        el.addEventListener('openWormhole', function (event) {\n            event.stopPropagation();\n            var _a = event.detail, consumer = _a.consumer, onOpen = _a.onOpen;\n            if (wormholes.has(consumer))\n                return;\n            if (typeof consumer !== 'symbol') {\n                var connectedCallback_1 = consumer.connectedCallback, disconnectedCallback_1 = consumer.disconnectedCallback;\n                consumer.connectedCallback = function () {\n                    wormholes.set(consumer, event.detail);\n                    if (connectedCallback_1) {\n                        connectedCallback_1.call(consumer);\n                    }\n                };\n                consumer.disconnectedCallback = function () {\n                    wormholes.delete(consumer);\n                    if (disconnectedCallback_1) {\n                        disconnectedCallback_1.call(consumer);\n                    }\n                };\n            }\n            wormholes.set(consumer, event.detail);\n            updateConsumer(event.detail, universe.state);\n            onOpen === null || onOpen === void 0 ? void 0 : onOpen.resolve(function () { wormholes.delete(consumer); });\n        });\n        el.addEventListener('closeWormhole', function (event) {\n            var consumer = event.detail;\n            wormholes.delete(consumer);\n        });\n    },\n    Provider: function (_a, children) {\n        var state = _a.state;\n        var creator = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getRenderingRef)();\n        if (multiverse.has(creator)) {\n            var universe = multiverse.get(creator);\n            universe.state = state;\n            universe.wormholes.forEach(function (opening) { updateConsumer(opening, state); });\n        }\n        return children;\n    }\n};\n\nconst LOAD_START_EVENT = 'vmLoadStart';\n// Events that toggle state and the prop is named `is{PropName}...`.\nconst isToggleStateEvent = new Set([\n  'isFullscreenActive',\n  'isControlsActive',\n  'isTextTrackVisible',\n  'isPiPActive',\n  'isLive',\n  'isTouch',\n  'isAudio',\n  'isVideo',\n  'isAudioView',\n  'isVideoView',\n]);\n// Events that are emitted without the 'Change' postfix.\nconst hasShortenedEventName = new Set([\n  'ready',\n  'playbackStarted',\n  'playbackEnded',\n  'playbackReady',\n]);\nconst getEventName = (prop) => {\n  // Example: isFullscreenActive -> vmFullscreenChange\n  if (isToggleStateEvent.has(prop)) {\n    return `vm${prop.replace('is', '').replace('Active', '')}Change`;\n  }\n  // Example: playbackStarted -> vmPlaybackStarted\n  if (hasShortenedEventName.has(prop)) {\n    return `vm${prop.charAt(0).toUpperCase()}${prop.slice(1)}`;\n  }\n  // Example: currentTime -> vmCurrentTimeChange\n  return `vm${prop.charAt(0).toUpperCase()}${prop.slice(1)}Change`;\n};\nfunction firePlayerEvent(el, prop, newValue, oldValue) {\n  const events = [];\n  events.push(new CustomEvent(getEventName(prop), { detail: newValue }));\n  if (prop === 'paused' && !newValue)\n    events.push(new CustomEvent('vmPlay'));\n  if (prop === 'seeking' && oldValue && !newValue)\n    events.push(new CustomEvent('vmSeeked'));\n  events.forEach(event => {\n    el.dispatchEvent(event);\n  });\n}\n\nvar __awaiter$x = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n/**\n * Binds props between an instance of a given component class and it's closest ancestor player.\n *\n * @param component A Stencil component instance.\n * @param props A set of props to watch and update on the given component instance.\n */\nconst withPlayerContext = (component, props) => openWormhole(component, props);\n/**\n * Finds the closest ancestor player to the given `ref` and watches the given props for changes. On\n * a prop change the given `updater` fn is called.\n *\n * @param ref A element within any player's subtree.\n * @param props A set of props to watch and call the `updater` fn with.\n * @param updater This function is called with the prop/value of any watched properties.\n */\nconst usePlayerContext = (ref, props, updater, playerRef) => __awaiter$x(void 0, void 0, void 0, function* () {\n  const player = playerRef !== null && playerRef !== void 0 ? playerRef : (yield findPlayer(ref));\n  const listeners = !isUndefined(player)\n    ? props.map(prop => {\n      const event = getEventName(prop);\n      return listen(player, event, () => {\n        updater(prop, player[prop]);\n      });\n    })\n    : [];\n  return () => {\n    listeners.forEach(off => off());\n  };\n});\n\nvar Provider;\n(function (Provider) {\n  Provider[\"Audio\"] = \"audio\";\n  Provider[\"Video\"] = \"video\";\n  Provider[\"HLS\"] = \"hls\";\n  Provider[\"Dash\"] = \"dash\";\n  Provider[\"YouTube\"] = \"youtube\";\n  Provider[\"Vimeo\"] = \"vimeo\";\n  Provider[\"Dailymotion\"] = \"dailymotion\";\n})(Provider || (Provider = {}));\n\nconst audioRegex = /\\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\\?)/i;\nconst videoRegex = /\\.(mp4|og[gv]|webm|mov|m4v)($|\\?)/i;\nconst hlsRegex = /\\.(m3u8)($|\\?)/i;\nconst hlsTypeRegex = /^application\\/(x-mpegURL|vnd\\.apple\\.mpegURL)$/i;\nconst dashRegex = /\\.(mpd)($|\\?)/i;\n\nconst PROVIDER_CHANGE_EVENT = 'vmProviderChange';\n/**\n * Creates a dispatcher on the given `ref`, to send updates to the closest ancestor player via\n * the custom `vmProviderChange` event.\n *\n * @param ref A component reference to dispatch the state change events from.\n */\nconst createProviderDispatcher = (ref) => (prop, value) => {\n  const el = isInstanceOf(ref, HTMLElement) ? ref : (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(ref);\n  const event = new CustomEvent(PROVIDER_CHANGE_EVENT, {\n    bubbles: true,\n    composed: true,\n    detail: { by: el, prop, value },\n  });\n  el.dispatchEvent(event);\n};\n\nconst providerWritableProps = new Set([\n  'ready',\n  'playing',\n  'playbackReady',\n  'playbackStarted',\n  'playbackEnded',\n  'seeking',\n  'buffered',\n  'buffering',\n  'duration',\n  'viewType',\n  'mediaTitle',\n  'mediaType',\n  'currentSrc',\n  'currentPoster',\n  'playbackRates',\n  'playbackQualities',\n  'textTracks',\n  'currentTextTrack',\n  'isTextTrackVisible',\n  'audioTracks',\n  'currentAudioTrack',\n  'isPiPActive',\n  'isFullscreenActive',\n]);\nconst isProviderWritableProp = (prop) => isWritableProp(prop) || providerWritableProps.has(prop);\n\nvar __awaiter$w = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst PROVIDER_CACHE_KEY = Symbol('vmProviderCache');\nconst PROVIDER_CONNECT_EVENT = 'vmMediaProviderConnect';\nconst PROVIDER_DISCONNECT_EVENT = 'vmMediaProviderDisconnect';\nfunction buildProviderConnectEvent(name, host) {\n  return new CustomEvent(name, {\n    bubbles: true,\n    composed: true,\n    detail: host,\n  });\n}\nfunction withProviderHost(connector) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(connector);\n  const disposal = new Disposal();\n  const cache = new Map();\n  connector[PROVIDER_CACHE_KEY] = cache;\n  function initCache() {\n    Object.keys(connector).forEach(prop => {\n      cache.set(prop, connector[prop]);\n    });\n  }\n  function onDisconnect() {\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => __awaiter$w(this, void 0, void 0, function* () {\n      var _a;\n      connector.ready = false;\n      connector.provider = undefined;\n      cache.clear();\n      (_a = connector.onProviderDisconnect) === null || _a === void 0 ? void 0 : _a.call(connector);\n      el.dispatchEvent(buildProviderConnectEvent(PROVIDER_DISCONNECT_EVENT));\n    }));\n  }\n  function onConnect(event) {\n    event.stopImmediatePropagation();\n    initCache();\n    const hostRef = event.detail;\n    const host = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(event.detail);\n    if (connector.provider === host)\n      return;\n    const name = host === null || host === void 0 ? void 0 : host.nodeName.toLowerCase().replace('vm-', '');\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => __awaiter$w(this, void 0, void 0, function* () {\n      connector.provider = host;\n      connector.currentProvider = Object.values(Provider).find(provider => name === provider);\n      createStencilHook(hostRef, undefined, () => onDisconnect());\n    }));\n  }\n  function onChange(event) {\n    var _a;\n    event.stopImmediatePropagation();\n    const { by, prop, value } = event.detail;\n    if (!isProviderWritableProp(prop)) {\n      (_a = connector.logger) === null || _a === void 0 ? void 0 : _a.warn(`${by.nodeName} tried to change \\`${prop}\\` but it is readonly.`);\n      return;\n    }\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n      cache.set(prop, value);\n      connector[prop] = value;\n    });\n  }\n  createStencilHook(connector, () => {\n    disposal.add(listen(el, PROVIDER_CONNECT_EVENT, onConnect));\n    disposal.add(listen(el, PROVIDER_CHANGE_EVENT, onChange));\n  }, () => {\n    disposal.empty();\n    cache.clear();\n  });\n}\nfunction withProviderConnect(ref) {\n  const connectEvent = buildProviderConnectEvent(PROVIDER_CONNECT_EVENT, ref);\n  createStencilHook(ref, () => {\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(ref).dispatchEvent(connectEvent);\n  });\n}\n\nvar __awaiter$v = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst Audio = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    /**\n     * @internal Whether an external SDK will attach itself to the media player and control it.\n     */\n    this.willAttach = false;\n    /** @inheritdoc */\n    this.preload = 'metadata';\n    withComponentRegistry(this);\n    if (!this.willAttach)\n      withProviderConnect(this);\n  }\n  /** @internal */\n  getAdapter() {\n    var _a, _b;\n    return __awaiter$v(this, void 0, void 0, function* () {\n      const adapter = (_b = (yield ((_a = this.fileProvider) === null || _a === void 0 ? void 0 : _a.getAdapter()))) !== null && _b !== void 0 ? _b : {};\n      adapter.canPlay = (type) => __awaiter$v(this, void 0, void 0, function* () { return isString(type) && audioRegex.test(type); });\n      return adapter;\n    });\n  }\n  render() {\n    return (\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-file\", { noConnect: true, willAttach: this.willAttach, crossOrigin: this.crossOrigin, preload: this.preload, disableRemotePlayback: this.disableRemotePlayback, mediaTitle: this.mediaTitle, viewType: ViewType.Audio, ref: (el) => {\n        this.fileProvider = el;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n};\n\nconst captionControlCss = \":host([hidden]){display:none}\";\n\nvar __awaiter$u = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst CaptionControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.canToggleCaptionVisibility = false;\n    /**\n     * The URL to an SVG element or fragment to load.\n     */\n    this.showIcon = 'captions-on';\n    /**\n     * The URL to an SVG element or fragment to load.\n     */\n    this.hideIcon = 'captions-off';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n    this.hideTooltip = false;\n    /** @inheritdoc */\n    this.keys = 'c';\n    /** @internal */\n    this.i18n = {};\n    /** @internal */\n    this.playbackReady = false;\n    /** @internal */\n    this.textTracks = [];\n    /** @internal */\n    this.isTextTrackVisible = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'i18n',\n      'textTracks',\n      'isTextTrackVisible',\n      'playbackReady',\n    ]);\n  }\n  onTextTracksChange() {\n    var _a;\n    return __awaiter$u(this, void 0, void 0, function* () {\n      const player = getPlayerFromRegistry(this);\n      this.canToggleCaptionVisibility =\n        this.textTracks.length > 0 &&\n          ((_a = (yield (player === null || player === void 0 ? void 0 : player.canSetTextTrackVisibility()))) !== null && _a !== void 0 ? _a : false);\n    });\n  }\n  componentDidLoad() {\n    this.onTextTracksChange();\n  }\n  onClick() {\n    var _a;\n    const player = getPlayerFromRegistry(this);\n    (_a = player === null || player === void 0 ? void 0 : player.setTextTrackVisibility) === null || _a === void 0 ? void 0 : _a.call(player, !this.isTextTrackVisible);\n  }\n  render() {\n    const tooltip = this.isTextTrackVisible\n      ? this.i18n.disableCaptions\n      : this.i18n.enableCaptions;\n    const tooltipWithHint = !isUndefined(this.keys)\n      ? `${tooltip} (${this.keys})`\n      : tooltip;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.Host, { hidden: !this.canToggleCaptionVisibility }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control\", { label: this.i18n.captions, keys: this.keys, hidden: !this.canToggleCaptionVisibility, pressed: this.isTextTrackVisible, onClick: this.onClick.bind(this) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-icon\", { name: this.isTextTrackVisible ? this.showIcon : this.hideIcon, library: this.icons }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-tooltip\", { hidden: this.hideTooltip, position: this.tooltipPosition, direction: this.tooltipDirection }, tooltipWithHint))));\n  }\n  static get watchers() { return {\n    \"textTracks\": [\"onTextTracksChange\"],\n    \"playbackReady\": [\"onTextTracksChange\"]\n  }; }\n  static get style() { return captionControlCss; }\n};\n\n/* eslint-disable func-names */\nconst watch$1 = new Set();\nconst controls = new Set();\n// watchedEl -> (controlsEl -> controlsHeight) saved on collision. Basically keeps track of\n// every collision with all controls for each watched element.\nconst collisions = new Map();\nfunction update() {\n  (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n    controls.forEach(controlsEl => {\n      const controlsHeight = parseFloat(window.getComputedStyle(controlsEl).height);\n      watch$1.forEach(watchedEl => {\n        const watchedElCollisions = collisions.get(watchedEl);\n        const hasCollided = isColliding(watchedEl, controlsEl);\n        const willCollide = isColliding(watchedEl, controlsEl, 0, controlsHeight) ||\n          isColliding(watchedEl, controlsEl, 0, -controlsHeight);\n        watchedElCollisions.set(controlsEl, hasCollided || willCollide ? controlsHeight : 0);\n      });\n    });\n    // Update after assessing all collisions so there are no glitchy movements.\n    watch$1.forEach(watchedEl => {\n      const watchedElCollisions = collisions.get(watchedEl);\n      watchedEl.style.setProperty('--vm-controls-height', `${Math.max(0, Math.max(...watchedElCollisions.values()))}px`);\n    });\n  });\n}\nfunction registerControlsForCollisionDetection(component) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(component);\n  function getInnerEl() {\n    return el.shadowRoot.querySelector('.controls');\n  }\n  createStencilHook(component, () => {\n    const innerEl = getInnerEl();\n    if (!isNull(innerEl)) {\n      controls.add(innerEl);\n      update();\n    }\n  }, () => {\n    controls.delete(getInnerEl());\n    update();\n  });\n  wrapStencilHook(component, 'componentDidLoad', () => {\n    controls.add(getInnerEl());\n    update();\n  });\n  wrapStencilHook(component, 'componentDidRender', update);\n}\nfunction withControlsCollisionDetection(component) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(component);\n  createStencilHook(component, () => {\n    watch$1.add(el);\n    collisions.set(el, new Map());\n    update();\n  }, () => {\n    watch$1.delete(el);\n    collisions.delete(el);\n  });\n}\n\nconst captionsCss = \":host{position:absolute;left:0;bottom:0;width:100%;pointer-events:none;z-index:var(--vm-captions-z-index)}.captions{width:100%;text-align:center;color:var(--vm-captions-text-color);font-size:var(--vm-captions-font-size);padding:$control-spacing;display:none;pointer-events:none;transition:transform 0.4s ease-in-out, opacity 0.3s ease-in-out}.captions.enabled{display:inline-block}.captions.hidden{display:none !important}.captions.inactive{opacity:0;visibility:hidden}.captions.fontMd{font-size:var(--vm-captions-font-size-medium)}.captions.fontLg{font-size:var(--vm-captions-font-size-large)}.captions.fontXl{font-size:var(--vm-captions-font-size-xlarge)}.cue{display:inline-block;background:var(--vm-captions-cue-bg-color);border-radius:var(--vm-captions-cue-border-radius);box-decoration-break:clone;line-height:185%;padding:var(--vm-captions-cue-padding);white-space:pre-wrap;pointer-events:none}.cue>div{display:inline}.cue:empty{display:none}\";\n\nvar __awaiter$t = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst Captions = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.sizeDisposal = new Disposal();\n    this.textDisposal = new Disposal();\n    this.isEnabled = false;\n    this.fontSize = 'sm';\n    /**\n     * Whether the captions should be visible or not.\n     */\n    this.hidden = false;\n    /** @internal */\n    this.isControlsActive = false;\n    /** @internal */\n    this.isVideoView = false;\n    /** @internal */\n    this.playbackStarted = false;\n    /** @internal */\n    this.textTracks = [];\n    /** @internal */\n    this.currentTextTrack = -1;\n    /** @internal */\n    this.isTextTrackVisible = true;\n    withComponentRegistry(this);\n    withControlsCollisionDetection(this);\n    withPlayerContext(this, [\n      'isVideoView',\n      'playbackStarted',\n      'isControlsActive',\n      'textTracks',\n      'currentTextTrack',\n      'isTextTrackVisible',\n    ]);\n  }\n  onEnabledChange() {\n    this.isEnabled = this.playbackStarted && this.isVideoView;\n  }\n  onTextTracksChange() {\n    const textTrack = this.textTracks[this.currentTextTrack];\n    const renderCues = () => {\n      var _a;\n      const activeCues = Array.from((_a = textTrack.activeCues) !== null && _a !== void 0 ? _a : []);\n      this.renderCurrentCue(activeCues[0]);\n    };\n    this.textDisposal.empty();\n    if (!isNil(textTrack)) {\n      renderCues();\n      this.textDisposal.add(listen(textTrack, 'cuechange', renderCues));\n    }\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    this.dispatch('shouldRenderNativeTextTracks', false);\n    this.onTextTracksChange();\n    this.onPlayerResize();\n  }\n  disconnectedCallback() {\n    this.textDisposal.empty();\n    this.sizeDisposal.empty();\n    this.dispatch('shouldRenderNativeTextTracks', true);\n  }\n  onPlayerResize() {\n    return __awaiter$t(this, void 0, void 0, function* () {\n      const player = yield findPlayer(this);\n      if (isUndefined(player))\n        return;\n      const container = (yield player.getContainer());\n      const resizeObs = new ResizeObserver(entries => {\n        const entry = entries[0];\n        const { width } = entry.contentRect;\n        if (width >= 1360) {\n          this.fontSize = 'xl';\n        }\n        else if (width >= 1024) {\n          this.fontSize = 'lg';\n        }\n        else if (width >= 768) {\n          this.fontSize = 'md';\n        }\n        else {\n          this.fontSize = 'sm';\n        }\n      });\n      resizeObs.observe(container);\n    });\n  }\n  renderCurrentCue(cue) {\n    if (isNil(cue)) {\n      this.cue = '';\n      return;\n    }\n    const div = document.createElement('div');\n    div.append(cue.getCueAsHTML());\n    this.cue = div.innerHTML.trim();\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { style: {\n        transform: `translateY(calc(${this.isControlsActive ? 'var(--vm-controls-height)' : '24px'} * -1))`,\n      }, class: {\n        captions: true,\n        enabled: this.isEnabled,\n        hidden: this.hidden,\n        fontMd: this.fontSize === 'md',\n        fontLg: this.fontSize === 'lg',\n        fontXl: this.fontSize === 'xl',\n        inactive: !this.isTextTrackVisible,\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"cue\" }, this.cue)));\n  }\n  static get watchers() { return {\n    \"isVideoView\": [\"onEnabledChange\"],\n    \"playbackStarted\": [\"onEnabledChange\"],\n    \"textTracks\": [\"onTextTracksChange\"],\n    \"currentTextTrack\": [\"onTextTracksChange\"]\n  }; }\n  static get style() { return captionsCss; }\n};\n\nconst clickToPlayCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-click-to-play-z-index)}.clickToPlay{display:none;width:100%;height:100%;pointer-events:none}.clickToPlay.enabled{display:inline-block;pointer-events:auto}\";\n\nvar __awaiter$s = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst ClickToPlay = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * By default this is disabled on mobile to not interfere with playback, set this to `true` to\n     * enable it.\n     */\n    this.useOnMobile = false;\n    /** @internal */\n    this.paused = true;\n    /** @internal */\n    this.isVideoView = false;\n    /** @internal */\n    this.isMobile = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['paused', 'isVideoView', 'isMobile']);\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n  /** @internal */\n  forceClick() {\n    return __awaiter$s(this, void 0, void 0, function* () {\n      this.onClick();\n    });\n  }\n  onClick() {\n    this.dispatch('paused', !this.paused);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        clickToPlay: true,\n        enabled: this.isVideoView && (!this.isMobile || this.useOnMobile),\n      }, onClick: this.onClick.bind(this) }));\n  }\n  static get style() { return clickToPlayCss; }\n};\n\nconst controlCss = \"button{display:flex;align-items:center;flex-direction:row;border:var(--vm-control-border);cursor:pointer;flex-shrink:0;font-size:var(--vm-control-icon-size);color:var(--vm-control-color);background:var(--vm-control-bg, transparent);border-radius:var(--vm-control-border-radius);padding:var(--vm-control-padding);position:relative;pointer-events:auto;transition:all 0.3s ease;transform:scale(var(--vm-control-scale, 1));touch-action:manipulation;box-sizing:border-box}button.hidden{display:none}button:focus{outline:0}button.tapHighlight{background:var(--vm-control-tap-highlight)}button.notTouch:focus,button.notTouch:hover,button.notTouch[aria-expanded='true']{background:var(--vm-control-focus-bg);color:var(--vm-control-focus-color);transform:scale(calc(var(--vm-control-scale, 1) + 0.06))}\";\n\nvar __awaiter$r = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst Control = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmInteractionChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmInteractionChange\", 7);\n    this.vmFocus = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmBlur\", 7);\n    this.keyboardDisposal = new Disposal();\n    this.showTapHighlight = false;\n    /**\n     * Whether the control should be displayed or not.\n     */\n    this.hidden = false;\n    /** @internal */\n    this.isTouch = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isTouch']);\n  }\n  onKeysChange() {\n    return __awaiter$r(this, void 0, void 0, function* () {\n      this.keyboardDisposal.empty();\n      if (isUndefined(this.keys))\n        return;\n      const player = yield findPlayer(this);\n      const codes = this.keys.split('/');\n      if (isUndefined(player))\n        return;\n      this.keyboardDisposal.add(listen(player, 'keydown', (event) => {\n        if (codes.includes(event.key)) {\n          this.button.click();\n        }\n      }));\n    });\n  }\n  connectedCallback() {\n    this.findTooltip();\n    this.onKeysChange();\n  }\n  componentWillLoad() {\n    this.findTooltip();\n  }\n  disconnectedCallback() {\n    this.keyboardDisposal.empty();\n  }\n  /**\n   * Focuses the control.\n   */\n  focusControl() {\n    var _a;\n    return __awaiter$r(this, void 0, void 0, function* () {\n      (_a = this.button) === null || _a === void 0 ? void 0 : _a.focus();\n    });\n  }\n  /**\n   * Removes focus from the control.\n   */\n  blurControl() {\n    var _a;\n    return __awaiter$r(this, void 0, void 0, function* () {\n      (_a = this.button) === null || _a === void 0 ? void 0 : _a.blur();\n    });\n  }\n  onTouchStart() {\n    this.showTapHighlight = true;\n  }\n  onTouchEnd() {\n    setTimeout(() => {\n      this.showTapHighlight = false;\n    }, 100);\n  }\n  findTooltip() {\n    const tooltip = this.host.querySelector('vm-tooltip');\n    if (!isNull(tooltip))\n      this.describedBy = tooltip.id;\n    return tooltip;\n  }\n  onShowTooltip() {\n    const tooltip = this.findTooltip();\n    if (!isNull(tooltip))\n      tooltip.active = true;\n    this.vmInteractionChange.emit(true);\n  }\n  onHideTooltip() {\n    const tooltip = this.findTooltip();\n    if (!isNull(tooltip))\n      tooltip.active = false;\n    this.button.blur();\n    this.vmInteractionChange.emit(false);\n  }\n  onFocus() {\n    this.vmFocus.emit();\n    this.onShowTooltip();\n  }\n  onBlur() {\n    this.vmBlur.emit();\n    this.onHideTooltip();\n  }\n  onMouseEnter() {\n    this.onShowTooltip();\n  }\n  onMouseLeave() {\n    this.onHideTooltip();\n  }\n  render() {\n    const isMenuExpanded = this.expanded ? 'true' : 'false';\n    const isPressed = this.pressed ? 'true' : 'false';\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"button\", { class: {\n        hidden: this.hidden,\n        notTouch: !this.isTouch,\n        tapHighlight: this.showTapHighlight,\n      }, id: this.identifier, type: \"button\", \"aria-label\": this.label, \"aria-haspopup\": !isUndefined(this.menu) ? 'true' : undefined, \"aria-controls\": this.menu, \"aria-expanded\": !isUndefined(this.menu) ? isMenuExpanded : undefined, \"aria-pressed\": !isUndefined(this.pressed) ? isPressed : undefined, \"aria-hidden\": this.hidden ? 'true' : 'false', \"aria-describedby\": this.describedBy, onTouchStart: this.onTouchStart.bind(this), onTouchEnd: this.onTouchEnd.bind(this), onFocus: this.onFocus.bind(this), onBlur: this.onBlur.bind(this), onMouseEnter: this.onMouseEnter.bind(this), onMouseLeave: this.onMouseLeave.bind(this), ref: (el) => {\n        this.button = el;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"keys\": [\"onKeysChange\"]\n  }; }\n  static get style() { return controlCss; }\n};\n\nconst controlGroupCss = \":host{width:100%}.controlGroup{position:relative;width:100%;display:flex;flex-wrap:wrap;flex-direction:inherit;align-items:inherit;justify-content:inherit;box-sizing:border-box}.controlGroup.spaceTop{margin-top:var(--vm-control-group-spacing)}.controlGroup.spaceBottom{margin-bottom:var(--vm-control-group-spacing)}::slotted(*){margin-left:var(--vm-controls-spacing)}::slotted(*:first-child){margin-left:0}\";\n\nconst ControlNewLine = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * Determines where to add spacing/margin. The amount of spacing is determined by the CSS variable\n     * `--control-group-spacing`.\n     */\n    this.space = 'none';\n    withComponentRegistry(this);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        controlGroup: true,\n        spaceTop: this.space !== 'none' && this.space !== 'bottom',\n        spaceBottom: this.space !== 'none' && this.space !== 'top',\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n  get host() { return this; }\n  static get style() { return controlGroupCss; }\n};\n\nconst controlSpacerCss = \":host{flex:1}\";\n\nconst ControlSpacer = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    withComponentRegistry(this);\n  }\n  static get style() { return controlSpacerCss; }\n};\n\nconst debounce = (func, wait = 1000, immediate = false) => {\n  let timeout;\n  return function executedFunction(...args) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const context = this;\n    const later = function delayedFunctionCall() {\n      timeout = undefined;\n      if (!immediate)\n        func.apply(context, args);\n    };\n    const callNow = immediate && isUndefined(timeout);\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow)\n      func.apply(context, args);\n  };\n};\n\nconst controlsCss = \":host{position:relative;width:100%;z-index:var(--vm-controls-z-index)}:host([video]){position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.controls{display:flex;width:100%;position:absolute;flex-wrap:wrap;pointer-events:auto;box-sizing:border-box;background:var(--vm-controls-bg);padding:var(--vm-controls-padding);border-radius:var(--vm-controls-border-radius);opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.controls.audio{position:relative}.controls.hidden{display:none}.controls.active{opacity:1;visibility:visible}.controls.fullWidth{width:100%}.controls.fullHeight{height:100%}::slotted(*:not(vm-control-group)){margin-left:var(--vm-controls-spacing)}::slotted(*:not(vm-control-group):first-child){margin-left:0}\";\n\nvar __awaiter$q = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n/**\n * We want to keep the controls active state in-sync per player.\n */\nconst playerRef = {};\nconst hideControlsTimeout = {};\nconst Controls = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.disposal = new Disposal();\n    this.isInteracting = false;\n    /**\n     * Whether the controls are visible or not.\n     */\n    this.hidden = false;\n    /**\n     * Whether the controls container should be 100% width. This has no effect if the view is of\n     * type `audio`.\n     */\n    this.fullWidth = false;\n    /**\n     * Whether the controls container should be 100% height. This has no effect if the view is of\n     * type `audio`.\n     */\n    this.fullHeight = false;\n    /**\n     * Sets the `flex-direction` property that manages the direction in which the controls are layed\n     * out.\n     */\n    this.direction = 'row';\n    /**\n     * Sets the `align-items` flex property that aligns the individual controls on the cross-axis.\n     */\n    this.align = 'center';\n    /**\n     * Sets the `justify-content` flex property that aligns the individual controls on the main-axis.\n     */\n    this.justify = 'start';\n    /**\n     * Pins the controls to the defined position inside the video player. This has no effect when\n     * the view is of type `audio`.\n     */\n    this.pin = 'bottomLeft';\n    /**\n     * The length in milliseconds that the controls are active for before fading out. Audio players\n     * are not effected by this prop.\n     */\n    this.activeDuration = 2750;\n    /**\n     * Whether the controls should wait for playback to start before being shown. Audio players\n     * are not effected by this prop.\n     */\n    this.waitForPlaybackStart = false;\n    /**\n     * Whether the controls should show/hide when paused. Audio players are not effected by this prop.\n     */\n    this.hideWhenPaused = false;\n    /**\n     * Whether the controls should hide when the mouse leaves the player. Audio players are not\n     * effected by this prop.\n     */\n    this.hideOnMouseLeave = false;\n    /** @internal */\n    this.isAudioView = false;\n    /** @internal */\n    this.isSettingsActive = false;\n    /** @internal */\n    this.playbackReady = false;\n    /** @internal */\n    this.isControlsActive = false;\n    /** @internal */\n    this.paused = true;\n    /** @internal */\n    this.playbackStarted = false;\n    withComponentRegistry(this);\n    registerControlsForCollisionDetection(this);\n    withPlayerContext(this, [\n      'playbackReady',\n      'isAudioView',\n      'isControlsActive',\n      'isSettingsActive',\n      'paused',\n      'playbackStarted',\n    ]);\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    this.onControlsChange();\n    this.setupPlayerListeners();\n  }\n  componentWillLoad() {\n    this.onControlsChange();\n  }\n  disconnectedCallback() {\n    this.disposal.empty();\n    delete hideControlsTimeout[playerRef[this]];\n    delete playerRef[this];\n  }\n  setupPlayerListeners() {\n    return __awaiter$q(this, void 0, void 0, function* () {\n      const player = yield findPlayer(this);\n      if (isUndefined(player))\n        return;\n      const events = ['focus', 'keydown', 'click', 'touchstart', 'mouseleave'];\n      events.forEach(event => {\n        this.disposal.add(listen(player, event, this.onControlsChange.bind(this)));\n      });\n      this.disposal.add(listen(player, 'mousemove', debounce(this.onControlsChange, 50, true).bind(this)));\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      playerRef[this] = player;\n    });\n  }\n  show() {\n    this.dispatch('isControlsActive', true);\n  }\n  hide() {\n    this.dispatch('isControlsActive', false);\n  }\n  hideWithDelay() {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    clearTimeout(hideControlsTimeout[playerRef[this]]);\n    hideControlsTimeout[playerRef[this]] = setTimeout(() => {\n      this.hide();\n    }, this.activeDuration);\n  }\n  onControlsChange(event) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    clearTimeout(hideControlsTimeout[playerRef[this]]);\n    if (this.hidden || !this.playbackReady) {\n      this.hide();\n      return;\n    }\n    if (this.isAudioView) {\n      this.show();\n      return;\n    }\n    if (this.waitForPlaybackStart && !this.playbackStarted) {\n      this.hide();\n      return;\n    }\n    if (this.isInteracting || this.isSettingsActive) {\n      this.show();\n      return;\n    }\n    if (this.hideWhenPaused && this.paused) {\n      this.hideWithDelay();\n      return;\n    }\n    if (this.hideOnMouseLeave && !this.paused && (event === null || event === void 0 ? void 0 : event.type) === 'mouseleave') {\n      this.hide();\n      return;\n    }\n    if (!this.paused) {\n      this.show();\n      this.hideWithDelay();\n      return;\n    }\n    this.show();\n  }\n  getPosition() {\n    if (this.isAudioView)\n      return {};\n    if (this.pin === 'center') {\n      return {\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n      };\n    }\n    // topLeft => { top: 0, left: 0 }\n    const pos = this.pin.split(/(?=[L|R])/).map(s => s.toLowerCase());\n    return { [pos[0]]: 0, [pos[1]]: 0 };\n  }\n  onStartInteraction() {\n    this.isInteracting = true;\n  }\n  onEndInteraction() {\n    this.isInteracting = false;\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.Host, { video: !this.isAudioView }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { style: Object.assign(Object.assign({}, this.getPosition()), { flexDirection: this.direction, alignItems: this.align === 'center' ? 'center' : `flex-${this.align}`, justifyContent: this.justify }), class: {\n        controls: true,\n        audio: this.isAudioView,\n        hidden: this.hidden,\n        active: this.playbackReady && this.isControlsActive,\n        fullWidth: this.isAudioView || this.fullWidth,\n        fullHeight: !this.isAudioView && this.fullHeight,\n      }, onMouseEnter: this.onStartInteraction.bind(this), onMouseLeave: this.onEndInteraction.bind(this), onTouchStart: this.onStartInteraction.bind(this), onTouchEnd: this.onEndInteraction.bind(this) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null))));\n  }\n  static get watchers() { return {\n    \"paused\": [\"onControlsChange\"],\n    \"hidden\": [\"onControlsChange\"],\n    \"isAudioView\": [\"onControlsChange\"],\n    \"isInteracting\": [\"onControlsChange\"],\n    \"isSettingsActive\": [\"onControlsChange\"],\n    \"hideWhenPaused\": [\"onControlsChange\"],\n    \"hideOnMouseLeave\": [\"onControlsChange\"],\n    \"playbackStarted\": [\"onControlsChange\"],\n    \"waitForPlaybackStart\": [\"onControlsChange\"],\n    \"playbackReady\": [\"onControlsChange\"]\n  }; }\n  static get style() { return controlsCss; }\n};\n\nconst currentTimeCss = \":host{display:flex;align-items:center;justify-content:center}\";\n\nconst CurrentTime = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /** @internal */\n    this.currentTime = 0;\n    /** @internal */\n    this.i18n = {};\n    /**\n     * Whether the time should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['currentTime', 'i18n']);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-time\", { label: this.i18n.currentTime, seconds: this.currentTime, alwaysShowHours: this.alwaysShowHours }));\n  }\n  static get style() { return currentTimeCss; }\n};\n\nvar _a, _b;\nconst IS_CLIENT = typeof window !== 'undefined';\nconst UA = IS_CLIENT ? (_a = window.navigator) === null || _a === void 0 ? void 0 : _a.userAgent.toLowerCase() : '';\nconst IS_IOS = /iphone|ipad|ipod|ios|CriOS|FxiOS/.test(UA);\nconst IS_ANDROID = /android/.test(UA);\nconst IS_MOBILE = IS_CLIENT && (IS_IOS || IS_ANDROID);\nconst IS_IPHONE = IS_CLIENT && /(iPhone|iPod)/gi.test((_b = window.navigator) === null || _b === void 0 ? void 0 : _b.platform);\n/firefox/.test(UA);\nconst IS_CHROME = IS_CLIENT && window.chrome;\nIS_CLIENT &&\n  !IS_CHROME &&\n  (window.safari || IS_IOS || /(apple|safari)/.test(UA));\nconst onMobileChange = (callback) => {\n  if (!IS_CLIENT || isUndefined(window.ResizeObserver)) {\n    callback(IS_MOBILE);\n    return noop;\n  }\n  function onResize() {\n    callback(window.innerWidth <= 480 || IS_MOBILE);\n  }\n  callback(window.innerWidth <= 480 || IS_MOBILE);\n  return listen(window, 'resize', onResize);\n};\nconst onTouchInputChange = (callback) => {\n  if (!IS_CLIENT)\n    return noop;\n  let lastTouchTime = 0;\n  const offTouchListener = listen(document, 'touchstart', () => {\n    lastTouchTime = new Date().getTime();\n    callback(true);\n  }, true);\n  const offMouseListener = listen(document, 'mousemove', () => {\n    // Filter emulated events coming from touch events\n    if (new Date().getTime() - lastTouchTime < 500)\n      return;\n    callback(false);\n  }, true);\n  return () => {\n    offTouchListener();\n    offMouseListener();\n  };\n};\n/**\n * Checks if the screen orientation can be changed.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Screen/orientation\n */\nconst canRotateScreen = () => IS_CLIENT && window.screen.orientation && !!window.screen.orientation.lock;\n/**\n * Checks if the native HTML5 video player can enter picture-in-picture (PIP) mode when using\n * the Chrome browser.\n *\n * @see  https://developers.google.com/web/updates/2018/10/watch-video-using-picture-in-picture\n */\nconst canUsePiPInChrome = () => {\n  if (!IS_CLIENT)\n    return false;\n  const video = document.createElement('video');\n  return !!document.pictureInPictureEnabled && !video.disablePictureInPicture;\n};\n/**\n * Checks if the native HTML5 video player can enter picture-in-picture (PIP) mode when using\n * the desktop Safari browser, iOS Safari appears to \"support\" PiP through the check, however PiP\n * does not function.\n *\n * @see https://developer.apple.com/documentation/webkitjs/adding_picture_in_picture_to_your_safari_media_controls\n */\nconst canUsePiPInSafari = () => {\n  if (!IS_CLIENT)\n    return false;\n  const video = document.createElement('video');\n  return (isFunction(video.webkitSupportsPresentationMode) &&\n    isFunction(video.webkitSetPresentationMode) &&\n    !IS_IPHONE);\n};\n// Checks if the native HTML5 video player can enter PIP.\nconst canUsePiP = () => canUsePiPInChrome() || canUsePiPInSafari();\n/**\n * To detect autoplay, we create a video element and call play on it, if it is `paused` after\n * a `play()` call, autoplay is supported. Although this unintuitive, it works across browsers\n * and is currently the lightest way to detect autoplay without using a data source.\n *\n * @see https://github.com/ampproject/amphtml/blob/9bc8756536956780e249d895f3e1001acdee0bc0/src/utils/video.js#L25\n */\nconst canAutoplay = (muted = true, playsinline = true) => {\n  if (!IS_CLIENT)\n    return Promise.resolve(false);\n  const video = document.createElement('video');\n  if (muted) {\n    video.setAttribute('muted', '');\n    video.muted = true;\n  }\n  if (playsinline) {\n    video.setAttribute('playsinline', '');\n    video.setAttribute('webkit-playsinline', '');\n  }\n  video.setAttribute('height', '0');\n  video.setAttribute('width', '0');\n  video.style.position = 'fixed';\n  video.style.top = '0';\n  video.style.width = '0';\n  video.style.height = '0';\n  video.style.opacity = '0';\n  // Promise wrapped this way to catch both sync throws and async rejections.\n  // More info: https://github.com/tc39/proposal-promise-try\n  new Promise(resolve => resolve(video.play())).catch(noop);\n  return Promise.resolve(!video.paused);\n};\n\n/**\n * Attempt to parse json into a POJO.\n */\nfunction tryParseJSON(json) {\n  if (!isString(json))\n    return undefined;\n  try {\n    return JSON.parse(json);\n  }\n  catch (e) {\n    return undefined;\n  }\n}\n/**\n * Check if the given input is json or a plain object.\n */\nconst isObjOrJSON = (input) => !isNil(input) &&\n  (isObject(input) || (isString(input) && input.startsWith('{')));\n/**\n * If an object return otherwise try to parse it as json.\n */\nconst objOrParseJSON = (input) => isObject(input) ? input : tryParseJSON(input);\n/**\n * Load image avoiding xhr/fetch CORS issues. Server status can't be obtained this way\n * unfortunately, so this uses \"naturalWidth\" to determine if the image has been loaded. By\n * default it checks if it is at least 1px.\n */\nconst loadImage = (src, minWidth = 1) => new Promise((resolve, reject) => {\n  const image = new Image();\n  const handler = () => {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    delete image.onload;\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    delete image.onerror;\n    image.naturalWidth >= minWidth ? resolve(image) : reject(image);\n  };\n  Object.assign(image, { onload: handler, onerror: handler, src });\n});\nconst loadScript = (src, onLoad, onError = noop) => {\n  var _a;\n  const script = document.createElement('script');\n  script.src = src;\n  script.onload = onLoad;\n  script.onerror = onError;\n  const firstScriptTag = document.getElementsByTagName('script')[0];\n  (_a = firstScriptTag.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(script, firstScriptTag);\n};\n/**\n * Tries to parse json and return a object.\n */\nconst decodeJSON = (data) => {\n  if (!isObjOrJSON(data))\n    return undefined;\n  return objOrParseJSON(data);\n};\n/**\n * Attempts to safely decode a URI component, on failure it returns the given fallback.\n */\nconst tryDecodeURIComponent = (component, fallback = '') => {\n  if (!IS_CLIENT)\n    return fallback;\n  try {\n    return window.decodeURIComponent(component);\n  }\n  catch (e) {\n    return fallback;\n  }\n};\n/**\n * Returns a simple key/value map and duplicate keys are merged into an array.\n *\n * @see https://github.com/ampproject/amphtml/blob/c7c46cec71bac92f5c5da31dcc6366c18577f566/src/url-parse-query-string.js#L31\n */\nconst QUERY_STRING_REGEX = /(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;\nconst parseQueryString = (qs) => {\n  const params = Object.create(null);\n  if (isUndefined(qs))\n    return params;\n  let match;\n  // eslint-disable-next-line no-cond-assign\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  while ((match = QUERY_STRING_REGEX.exec(qs))) {\n    const name = tryDecodeURIComponent(match[1], match[1]).replace('[]', '');\n    const value = isString(match[2])\n      ? tryDecodeURIComponent(match[2].replace(/\\+/g, ' '), match[2])\n      : '';\n    const currValue = params[name];\n    if (currValue && !isArray(currValue))\n      params[name] = [currValue];\n    currValue ? params[name].push(value) : (params[name] = value);\n  }\n  return params;\n};\n/**\n * Serializes the given params into a query string.\n */\nconst serializeQueryString = (params) => {\n  const qs = [];\n  const appendQueryParam = (param, v) => {\n    qs.push(`${encodeURIComponent(param)}=${encodeURIComponent(v)}`);\n  };\n  Object.keys(params).forEach(param => {\n    const value = params[param];\n    if (isNil(value))\n      return;\n    if (isArray(value)) {\n      value.forEach((v) => appendQueryParam(param, v));\n    }\n    else {\n      appendQueryParam(param, value);\n    }\n  });\n  return qs.join('&');\n};\n/**\n * Notifies the browser to start establishing a connection with the given URL.\n */\nconst preconnect = (url, rel = 'preconnect', as) => {\n  if (!IS_CLIENT)\n    return false;\n  const link = document.createElement('link');\n  link.rel = rel;\n  link.href = url;\n  if (!isUndefined(as))\n    link.as = as;\n  link.crossOrigin = 'true';\n  document.head.append(link);\n  return true;\n};\n/**\n * Safely appends the given query string to the given URL.\n */\nconst appendQueryStringToURL = (url, qs) => {\n  if (isUndefined(qs) || qs.length === 0)\n    return url;\n  const mainAndQuery = url.split('?', 2);\n  return (mainAndQuery[0] +\n    (!isUndefined(mainAndQuery[1]) ? `?${mainAndQuery[1]}&${qs}` : `?${qs}`));\n};\n/**\n * Serializes the given params into a query string and appends them to the given URL.\n */\nconst appendParamsToURL = (url, params) => appendQueryStringToURL(url, isObject(params)\n  ? serializeQueryString(params)\n  : params);\n/**\n * Tries to convert a query string into a object.\n */\nconst decodeQueryString = (qs) => {\n  if (!isString(qs))\n    return undefined;\n  return parseQueryString(qs);\n};\nconst pendingSDKRequests = {};\n/**\n * Loads an SDK into the global window namespace.\n *\n * @see https://github.com/CookPete/react-player/blob/master/src/utils.js#L77\n */\nconst loadSDK = (url, sdkGlobalVar, sdkReadyVar, isLoaded = () => true, loadScriptFn = loadScript) => {\n  const getGlobal = (key) => {\n    if (!isUndefined(window[key]))\n      return window[key];\n    if (window.exports && window.exports[key])\n      return window.exports[key];\n    if (window.module && window.module.exports && window.module.exports[key]) {\n      return window.module.exports[key];\n    }\n    return undefined;\n  };\n  const existingGlobal = getGlobal(sdkGlobalVar);\n  if (existingGlobal && isLoaded(existingGlobal)) {\n    return Promise.resolve(existingGlobal);\n  }\n  return new Promise((resolve, reject) => {\n    if (!isUndefined(pendingSDKRequests[url])) {\n      pendingSDKRequests[url].push({ resolve, reject });\n      return;\n    }\n    pendingSDKRequests[url] = [{ resolve, reject }];\n    const onLoaded = (sdk) => {\n      pendingSDKRequests[url].forEach(request => request.resolve(sdk));\n    };\n    if (!isUndefined(sdkReadyVar)) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const previousOnReady = window[sdkReadyVar];\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      window[sdkReadyVar] = function () {\n        if (!isUndefined(previousOnReady))\n          previousOnReady();\n        onLoaded(getGlobal(sdkGlobalVar));\n      };\n    }\n    loadScriptFn(url, () => {\n      if (isUndefined(sdkReadyVar))\n        onLoaded(getGlobal(sdkGlobalVar));\n    }, e => {\n      pendingSDKRequests[url].forEach(request => {\n        request.reject(e);\n      });\n      delete pendingSDKRequests[url];\n    });\n  });\n};\n\nconst withProviderContext = (provider, additionalProps = []) => withPlayerContext(provider, [\n  'autoplay',\n  'controls',\n  'language',\n  'muted',\n  'logger',\n  'loop',\n  'aspectRatio',\n  'playsinline',\n  ...additionalProps,\n]);\n\nconst dailymotionCss = \":host{z-index:var(--vm-media-z-index)}\";\n\nvar __awaiter$p = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst videoInfoCache$1 = new Map();\nconst Dailymotion = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmLoadStart = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmError\", 7);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.defaultInternalState = {};\n    this.internalState = {\n      currentTime: 0,\n      volume: 0,\n      muted: false,\n      isAdsPlaying: false,\n      playbackReady: false,\n    };\n    this.embedSrc = '';\n    this.mediaTitle = '';\n    /**\n     * Whether to automatically play the next video in the queue.\n     */\n    this.shouldAutoplayQueue = false;\n    /**\n     * Whether to show the 'Up Next' queue.\n     */\n    this.showUpNextQueue = false;\n    /**\n     * Whether to show buttons for sharing the video.\n     */\n    this.showShareButtons = false;\n    /**\n     * Whether to display the Dailymotion logo.\n     */\n    this.showDailymotionLogo = false;\n    /**\n     * Whether to show video information (title and owner) on the start screen.\n     */\n    this.showVideoInfo = true;\n    /** @internal */\n    this.language = 'en';\n    /** @internal */\n    this.autoplay = false;\n    /** @internal */\n    this.controls = false;\n    /** @internal */\n    this.loop = false;\n    /** @internal */\n    this.muted = false;\n    /** @internal */\n    this.playsinline = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this);\n  }\n  onVideoIdChange() {\n    this.internalState = Object.assign({}, this.defaultInternalState);\n    if (!this.videoId) {\n      this.embedSrc = '';\n      return;\n    }\n    this.embedSrc = `${this.getOrigin()}/embed/video/${this.videoId}?api=1`;\n    this.fetchVideoInfo = this.getVideoInfo();\n    this.pendingMediaTitleCall = deferredPromise();\n  }\n  onControlsChange() {\n    if (this.internalState.playbackReady) {\n      this.remoteControl(\"controls\" /* Controls */, this.controls);\n    }\n  }\n  onCustomPosterChange() {\n    this.dispatch('currentPoster', this.poster);\n  }\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    this.dispatch('viewType', ViewType.Video);\n    this.onVideoIdChange();\n    this.internalState.muted = this.muted;\n    this.defaultInternalState = Object.assign({}, this.internalState);\n  }\n  componentDidLoad() {\n    this.initialMuted = this.muted;\n  }\n  getOrigin() {\n    return 'https://www.dailymotion.com';\n  }\n  getPreconnections() {\n    return [this.getOrigin(), 'https://static1.dmcdn.net'];\n  }\n  remoteControl(command, arg) {\n    return this.embed.postMessage({\n      command,\n      parameters: arg ? [arg] : [],\n    });\n  }\n  buildParams() {\n    return {\n      autoplay: this.autoplay,\n      mute: this.initialMuted,\n      controls: this.controls,\n      'queue-autoplay-next': this.shouldAutoplayQueue,\n      'queue-enable': this.showUpNextQueue,\n      'sharing-enable': this.showShareButtons,\n      syndication: this.syndication,\n      'ui-highlight': this.color,\n      'ui-logo': this.showDailymotionLogo,\n      'ui-start-screen-info': this.showVideoInfo,\n    };\n  }\n  getVideoInfo() {\n    return __awaiter$p(this, void 0, void 0, function* () {\n      if (videoInfoCache$1.has(this.videoId))\n        return videoInfoCache$1.get(this.videoId);\n      const apiEndpoint = 'https://api.dailymotion.com';\n      return window\n        .fetch(`${apiEndpoint}/video/${this.videoId}?fields=duration,thumbnail_1080_url`)\n        .then(response => response.json())\n        .then(data => {\n        const poster = data.thumbnail_1080_url;\n        const duration = parseFloat(data.duration);\n        videoInfoCache$1.set(this.videoId, { poster, duration });\n        return { poster, duration };\n      });\n    });\n  }\n  onEmbedSrcChange() {\n    this.vmLoadStart.emit();\n    this.dispatch('viewType', ViewType.Video);\n  }\n  onEmbedMessage(event) {\n    var _a, _b;\n    const msg = event.detail;\n    switch (msg.event) {\n      case \"playback_ready\" /* PlaybackReady */:\n        this.onControlsChange();\n        this.dispatch('currentSrc', this.embedSrc);\n        this.dispatch('mediaType', MediaType.Video);\n        Promise.all([\n          this.fetchVideoInfo,\n          (_a = this.pendingMediaTitleCall) === null || _a === void 0 ? void 0 : _a.promise,\n        ]).then(([info, mediaTitle]) => {\n          var _a, _b;\n          this.dispatch('duration', (_a = info === null || info === void 0 ? void 0 : info.duration) !== null && _a !== void 0 ? _a : -1);\n          this.dispatch('currentPoster', (_b = this.poster) !== null && _b !== void 0 ? _b : info === null || info === void 0 ? void 0 : info.poster);\n          this.dispatch('mediaTitle', mediaTitle);\n          this.dispatch('playbackReady', true);\n        });\n        break;\n      case \"videochange\" /* VideoChange */:\n        (_b = this.pendingMediaTitleCall) === null || _b === void 0 ? void 0 : _b.resolve(msg.title);\n        break;\n      case \"start\" /* Start */:\n        this.dispatch('paused', false);\n        this.dispatch('playbackStarted', true);\n        this.dispatch('buffering', true);\n        break;\n      case \"video_start\" /* VideoStart */:\n        // Commands don't go through until ads have finished, so we store them and then replay them\n        // once the video starts.\n        this.remoteControl(\"muted\" /* Muted */, this.internalState.muted);\n        this.remoteControl(\"volume\" /* Volume */, this.internalState.volume);\n        if (this.internalState.currentTime > 0) {\n          this.remoteControl(\"seek\" /* Seek */, this.internalState.currentTime);\n        }\n        break;\n      case \"play\" /* Play */:\n        this.dispatch('paused', false);\n        break;\n      case \"pause\" /* Pause */:\n        this.dispatch('paused', true);\n        this.dispatch('playing', false);\n        this.dispatch('buffering', false);\n        break;\n      case \"playing\" /* Playing */:\n        this.dispatch('playing', true);\n        this.dispatch('buffering', false);\n        break;\n      case \"video_end\" /* VideoEnd */:\n        if (this.loop) {\n          setTimeout(() => {\n            this.remoteControl(\"play\" /* Play */);\n          }, 300);\n        }\n        else {\n          this.dispatch('playbackEnded', true);\n        }\n        break;\n      case \"timeupdate\" /* TimeUpdate */:\n        this.dispatch('currentTime', parseFloat(msg.time));\n        break;\n      case \"volumechange\" /* VolumeChange */:\n        this.dispatch('muted', msg.muted === 'true');\n        this.dispatch('volume', Math.floor(parseFloat(msg.volume) * 100));\n        break;\n      case \"seeking\" /* Seeking */:\n        this.dispatch('currentTime', parseFloat(msg.time));\n        this.dispatch('seeking', true);\n        break;\n      case \"seeked\" /* Seeked */:\n        this.dispatch('currentTime', parseFloat(msg.time));\n        this.dispatch('seeking', false);\n        break;\n      case \"waiting\" /* Waiting */:\n        this.dispatch('buffering', true);\n        break;\n      case \"progress\" /* Progress */:\n        this.dispatch('buffered', parseFloat(msg.time));\n        break;\n      case \"durationchange\" /* DurationChange */:\n        this.dispatch('duration', parseFloat(msg.duration));\n        break;\n      case \"qualitiesavailable\" /* QualitiesAvailable */:\n        this.dispatch('playbackQualities', msg.qualities.map((q) => `${q}p`));\n        break;\n      case \"qualitychange\" /* QualityChange */:\n        this.dispatch('playbackQuality', `${msg.quality}p`);\n        break;\n      case \"fullscreenchange\" /* FullscreenChange */:\n        this.dispatch('isFullscreenActive', msg.fullscreen === 'true');\n        break;\n      case \"error\" /* Error */:\n        this.vmError.emit(msg.error);\n        break;\n    }\n  }\n  /** @internal */\n  getAdapter() {\n    return __awaiter$p(this, void 0, void 0, function* () {\n      const canPlayRegex = /(?:dai\\.ly|dailymotion|dailymotion\\.com)\\/(?:video\\/|embed\\/|)(?:video\\/|)((?:\\w)+)/;\n      return {\n        getInternalPlayer: () => __awaiter$p(this, void 0, void 0, function* () { return this.embed; }),\n        play: () => __awaiter$p(this, void 0, void 0, function* () {\n          this.remoteControl(\"play\" /* Play */);\n        }),\n        pause: () => __awaiter$p(this, void 0, void 0, function* () {\n          this.remoteControl(\"pause\" /* Pause */);\n        }),\n        canPlay: (type) => __awaiter$p(this, void 0, void 0, function* () { return isString(type) && canPlayRegex.test(type); }),\n        setCurrentTime: (time) => __awaiter$p(this, void 0, void 0, function* () {\n          if (time !== this.internalState.currentTime) {\n            this.internalState.currentTime = time;\n            this.remoteControl(\"seek\" /* Seek */, time);\n          }\n        }),\n        setMuted: (muted) => __awaiter$p(this, void 0, void 0, function* () {\n          this.internalState.muted = muted;\n          this.remoteControl(\"muted\" /* Muted */, muted);\n        }),\n        setVolume: (volume) => __awaiter$p(this, void 0, void 0, function* () {\n          this.internalState.volume = volume / 100;\n          this.dispatch('volume', volume);\n          this.remoteControl(\"volume\" /* Volume */, volume / 100);\n        }),\n        canSetPlaybackQuality: () => __awaiter$p(this, void 0, void 0, function* () { return true; }),\n        setPlaybackQuality: (quality) => __awaiter$p(this, void 0, void 0, function* () {\n          this.remoteControl(\"quality\" /* Quality */, quality.slice(0, -1));\n        }),\n        canSetFullscreen: () => __awaiter$p(this, void 0, void 0, function* () { return true; }),\n        enterFullscreen: () => __awaiter$p(this, void 0, void 0, function* () {\n          this.remoteControl(\"fullscreen\" /* Fullscreen */, true);\n        }),\n        exitFullscreen: () => __awaiter$p(this, void 0, void 0, function* () {\n          this.remoteControl(\"fullscreen\" /* Fullscreen */, false);\n        }),\n      };\n    });\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-embed\", { embedSrc: this.embedSrc, mediaTitle: this.mediaTitle, origin: this.getOrigin(), params: this.buildParams(), decoder: decodeQueryString, preconnections: this.getPreconnections(), onVmEmbedMessage: this.onEmbedMessage.bind(this), onVmEmbedSrcChange: this.onEmbedSrcChange.bind(this), ref: (el) => {\n        this.embed = el;\n      } }));\n  }\n  static get watchers() { return {\n    \"videoId\": [\"onVideoIdChange\"],\n    \"controls\": [\"onControlsChange\"],\n    \"poster\": [\"onCustomPosterChange\"]\n  }; }\n  static get style() { return dailymotionCss; }\n};\n\nconst dashCss = \":host{z-index:var(--vm-media-z-index)}\";\n\nvar __awaiter$o = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst Dash = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmLoadStart = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmError\", 7);\n    this.textTracksDisposal = new Disposal();\n    this.hasAttached = false;\n    /**\n     * The NPM package version of the `dashjs` library to download and use.\n     */\n    this.version = 'latest';\n    /**\n     * The `dashjs` configuration.\n     */\n    this.config = {};\n    /** @internal */\n    this.autoplay = false;\n    /** @inheritdoc */\n    this.preload = 'metadata';\n    /**\n     * Are text tracks enabled by default.\n     */\n    this.enableTextTracksByDefault = true;\n    /** @internal */\n    this.shouldRenderNativeTextTracks = true;\n    /** @internal */\n    this.isTextTrackVisible = true;\n    /** @internal */\n    this.currentTextTrack = -1;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withPlayerContext(this, [\n      'autoplay',\n      'shouldRenderNativeTextTracks',\n      'isTextTrackVisible',\n      'currentTextTrack',\n    ]);\n  }\n  onSrcChange() {\n    var _a;\n    if (!this.hasAttached)\n      return;\n    this.vmLoadStart.emit();\n    (_a = this.dash) === null || _a === void 0 ? void 0 : _a.attachSource(this.src);\n  }\n  onShouldRenderNativeTextTracks() {\n    var _a;\n    if (this.shouldRenderNativeTextTracks) {\n      this.textTracksDisposal.empty();\n    }\n    else {\n      this.hideCurrentTextTrack();\n    }\n    (_a = this.dash) === null || _a === void 0 ? void 0 : _a.enableForcedTextStreaming(!this.shouldRenderNativeTextTracks);\n  }\n  onTextTrackChange() {\n    var _a, _b;\n    if (!this.shouldRenderNativeTextTracks || isUndefined(this.dash))\n      return;\n    this.dash.setTextTrack(!this.isTextTrackVisible ? -1 : this.currentTextTrack);\n    if (!this.isTextTrackVisible) {\n      const track = Array.from((_b = (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.textTracks) !== null && _b !== void 0 ? _b : [])[this.currentTextTrack];\n      if ((track === null || track === void 0 ? void 0 : track.mode) === 'hidden')\n        this.dispatch('currentTextTrack', -1);\n    }\n  }\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    if (this.mediaEl)\n      this.setupDash();\n  }\n  disconnectedCallback() {\n    this.textTracksDisposal.empty();\n    this.destroyDash();\n  }\n  setupDash() {\n    return __awaiter$o(this, void 0, void 0, function* () {\n      try {\n        const url = this.libSrc ||\n          `https://cdn.jsdelivr.net/npm/dashjs@${this.version}/dist/dash.all.min.js`;\n        const DashSDK = (yield loadSDK(url, 'dashjs'));\n        this.dash = DashSDK.MediaPlayer(this.config).create();\n        this.dash.initialize(this.mediaEl, null, this.autoplay);\n        this.dash.setTextDefaultEnabled(this.enableTextTracksByDefault);\n        this.dash.enableForcedTextStreaming(!this.shouldRenderNativeTextTracks);\n        this.dash.on(DashSDK.MediaPlayer.events.PLAYBACK_METADATA_LOADED, () => {\n          this.dispatch('mediaType', MediaType.Video);\n          this.dispatch('currentSrc', this.src);\n          this.dispatchLevels();\n          this.listenToTextTracksForChanges();\n          this.dispatch('playbackReady', true);\n        });\n        this.dash.on(DashSDK.MediaPlayer.events.TRACK_CHANGE_RENDERED, () => {\n          if (!this.shouldRenderNativeTextTracks)\n            this.hideCurrentTextTrack();\n        });\n        this.dash.on(DashSDK.MediaPlayer.events.ERROR, (e) => {\n          this.vmError.emit(e);\n        });\n        this.hasAttached = true;\n      }\n      catch (e) {\n        this.vmError.emit(e);\n      }\n    });\n  }\n  destroyDash() {\n    var _a;\n    return __awaiter$o(this, void 0, void 0, function* () {\n      (_a = this.dash) === null || _a === void 0 ? void 0 : _a.reset();\n      this.hasAttached = false;\n    });\n  }\n  onMediaElChange(event) {\n    return __awaiter$o(this, void 0, void 0, function* () {\n      this.destroyDash();\n      if (isUndefined(event.detail))\n        return;\n      this.mediaEl = event.detail;\n      yield this.setupDash();\n    });\n  }\n  levelToPlaybackQuality(level) {\n    return level === -1 ? 'Auto' : `${level.height}p`;\n  }\n  findLevelIndexFromQuality(quality) {\n    return this.dash\n      .getBitrateInfoListFor('video')\n      .findIndex((level) => this.levelToPlaybackQuality(level) === quality);\n  }\n  dispatchLevels() {\n    try {\n      const levels = this.dash.getBitrateInfoListFor('video');\n      if ((levels === null || levels === void 0 ? void 0 : levels.length) > 0) {\n        this.dispatch('playbackQualities', [\n          'Auto',\n          ...levels.map(this.levelToPlaybackQuality),\n        ]);\n        this.dispatch('playbackQuality', 'Auto');\n      }\n    }\n    catch (e) {\n      this.vmError.emit(e);\n    }\n  }\n  listenToTextTracksForChanges() {\n    var _a, _b, _c;\n    this.textTracksDisposal.empty();\n    if (isUndefined(this.mediaEl) || this.shouldRenderNativeTextTracks)\n      return;\n    // Init current track.\n    const currentTrack = (_c = ((_b = (_a = this.dash) === null || _a === void 0 ? void 0 : _a.getCurrentTrackFor('text')) === null || _b === void 0 ? void 0 : _b.index) - 1) !== null && _c !== void 0 ? _c : -1;\n    this.currentTextTrack = currentTrack;\n    this.dispatch('currentTextTrack', currentTrack);\n    this.textTracksDisposal.add(listen(this.mediaEl.textTracks, 'change', this.onTextTracksChange.bind(this)));\n  }\n  getTextTracks() {\n    var _a, _b;\n    return Array.from((_b = (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.textTracks) !== null && _b !== void 0 ? _b : []);\n  }\n  hideCurrentTextTrack() {\n    const textTracks = this.getTextTracks();\n    if (textTracks[this.currentTextTrack] && this.isTextTrackVisible) {\n      textTracks[this.currentTextTrack].mode = 'hidden';\n    }\n  }\n  onTextTracksChange() {\n    this.hideCurrentTextTrack();\n    this.dispatch('textTracks', this.getTextTracks());\n    this.dispatch('isTextTrackVisible', this.isTextTrackVisible);\n    this.dispatch('currentTextTrack', this.currentTextTrack);\n  }\n  /** @internal */\n  getAdapter() {\n    var _a, _b;\n    return __awaiter$o(this, void 0, void 0, function* () {\n      const adapter = (_b = (yield ((_a = this.videoProvider) === null || _a === void 0 ? void 0 : _a.getAdapter()))) !== null && _b !== void 0 ? _b : {};\n      const canVideoProviderPlay = adapter.canPlay;\n      return Object.assign(Object.assign({}, adapter), { getInternalPlayer: () => __awaiter$o(this, void 0, void 0, function* () { return this.dash; }), canPlay: (type) => __awaiter$o(this, void 0, void 0, function* () {\n          var _c;\n          return (isString(type) && dashRegex.test(type)) ||\n            ((_c = canVideoProviderPlay === null || canVideoProviderPlay === void 0 ? void 0 : canVideoProviderPlay(type)) !== null && _c !== void 0 ? _c : false);\n        }), canSetPlaybackQuality: () => __awaiter$o(this, void 0, void 0, function* () {\n          var _d, _e;\n          try {\n            return ((_e = (_d = this.dash) === null || _d === void 0 ? void 0 : _d.getBitrateInfoListFor('video')) === null || _e === void 0 ? void 0 : _e.length) > 0;\n          }\n          catch (e) {\n            this.vmError.emit(e);\n            return false;\n          }\n        }), setPlaybackQuality: (quality) => __awaiter$o(this, void 0, void 0, function* () {\n          if (!isUndefined(this.dash)) {\n            const index = this.findLevelIndexFromQuality(quality);\n            this.dash.updateSettings({\n              streaming: {\n                abr: {\n                  autoSwitchBitrate: {\n                    video: index === -1,\n                  },\n                },\n              },\n            });\n            if (index >= 0)\n              this.dash.setQualityFor('video', index);\n            // Update the provider cache.\n            this.dispatch('playbackQuality', quality);\n          }\n        }), setCurrentTextTrack: (trackId) => __awaiter$o(this, void 0, void 0, function* () {\n          var _f;\n          if (this.shouldRenderNativeTextTracks) {\n            adapter.setCurrentTextTrack(trackId);\n          }\n          else {\n            this.currentTextTrack = trackId;\n            (_f = this.dash) === null || _f === void 0 ? void 0 : _f.setTextTrack(trackId);\n            this.onTextTracksChange();\n          }\n        }), setTextTrackVisibility: (isVisible) => __awaiter$o(this, void 0, void 0, function* () {\n          var _g;\n          if (this.shouldRenderNativeTextTracks) {\n            adapter.setTextTrackVisibility(isVisible);\n          }\n          else {\n            this.isTextTrackVisible = isVisible;\n            (_g = this.dash) === null || _g === void 0 ? void 0 : _g.enableText(isVisible);\n            this.onTextTracksChange();\n          }\n        }) });\n    });\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-video\", { willAttach: true, crossOrigin: this.crossOrigin, preload: this.preload, poster: this.poster, controlsList: this.controlsList, autoPiP: this.autoPiP, disablePiP: this.disablePiP, hasCustomTextManager: !this.shouldRenderNativeTextTracks, disableRemotePlayback: this.disableRemotePlayback, mediaTitle: this.mediaTitle, ref: (el) => {\n        this.videoProvider = el;\n      } }));\n  }\n  static get watchers() { return {\n    \"src\": [\"onSrcChange\"],\n    \"hasAttached\": [\"onSrcChange\"],\n    \"shouldRenderNativeTextTracks\": [\"onShouldRenderNativeTextTracks\"],\n    \"isTextTrackVisible\": [\"onTextTrackChange\"],\n    \"currentTextTrack\": [\"onTextTrackChange\"]\n  }; }\n  static get style() { return dashCss; }\n};\n\nconst dblClickFullscreenCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-dbl-click-fullscreen-z-index)}.dblClickFullscreen{display:none;width:100%;height:100%;pointer-events:none}.dblClickFullscreen.enabled{display:inline-block;pointer-events:auto}\";\n\nvar __awaiter$n = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst DblClickFullscreen = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.canSetFullscreen = false;\n    /**\n     * By default this is disabled on mobile to not interfere with playback, set this to `true` to\n     * enable it.\n     */\n    this.useOnMobile = false;\n    /** @internal */\n    this.isFullscreenActive = true;\n    /** @internal */\n    this.isVideoView = false;\n    /** @internal */\n    this.playbackReady = false;\n    /** @internal */\n    this.isMobile = false;\n    this.clicks = 0;\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'playbackReady',\n      'isFullscreenActive',\n      'isVideoView',\n      'isMobile',\n    ]);\n  }\n  onPlaybackReadyChange() {\n    return __awaiter$n(this, void 0, void 0, function* () {\n      const player = yield findPlayer(this);\n      if (isUndefined(player))\n        return;\n      this.canSetFullscreen = yield player.canSetFullscreen();\n    });\n  }\n  onTriggerClickToPlay() {\n    return __awaiter$n(this, void 0, void 0, function* () {\n      const [clickToPlay] = getComponentFromRegistry(this, 'vm-click-to-play');\n      yield (clickToPlay === null || clickToPlay === void 0 ? void 0 : clickToPlay.forceClick());\n    });\n  }\n  onToggleFullscreen() {\n    return __awaiter$n(this, void 0, void 0, function* () {\n      const player = yield findPlayer(this);\n      if (isUndefined(player))\n        return;\n      this.isFullscreenActive\n        ? player.exitFullscreen()\n        : player.enterFullscreen();\n    });\n  }\n  onClick() {\n    this.clicks += 1;\n    if (this.clicks === 1) {\n      setTimeout(() => {\n        if (this.clicks === 1) {\n          this.onTriggerClickToPlay();\n        }\n        else {\n          this.onToggleFullscreen();\n        }\n        this.clicks = 0;\n      }, 300);\n    }\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        dblClickFullscreen: true,\n        enabled: this.playbackReady &&\n          this.canSetFullscreen &&\n          this.isVideoView &&\n          (!this.isMobile || this.useOnMobile),\n      }, onClick: this.onClick.bind(this) }));\n  }\n  static get watchers() { return {\n    \"playbackReady\": [\"onPlaybackReadyChange\"]\n  }; }\n  static get style() { return dblClickFullscreenCss; }\n};\n\nconst defaultControlsCss = \":host{display:contents;pointer-events:none;z-index:var(--vm-controls-z-index)}\";\n\nconst DefaultControls = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * The length in milliseconds that the controls are active for before fading out. Audio players\n     * are not effected by this prop.\n     */\n    this.activeDuration = 2750;\n    /**\n     * Whether the controls should wait for playback to start before being shown. Audio players\n     * are not effected by this prop.\n     */\n    this.waitForPlaybackStart = false;\n    /**\n     * Whether the controls should show/hide when paused. Audio players are not effected by this prop.\n     */\n    this.hideWhenPaused = false;\n    /**\n     * Whether the controls should hide when the mouse leaves the player. Audio players are not\n     * effected by this prop.\n     */\n    this.hideOnMouseLeave = false;\n    /** @internal */\n    this.isMobile = false;\n    /** @internal */\n    this.isLive = false;\n    /** @internal */\n    this.isAudioView = false;\n    /** @internal */\n    this.isVideoView = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'theme',\n      'isMobile',\n      'isAudioView',\n      'isVideoView',\n      'isLive',\n    ]);\n  }\n  buildAudioControls() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-controls\", { fullWidth: true }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-playback-control\", { tooltipDirection: \"right\" }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-volume-control\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-current-time\", null), this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-spacer\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-scrubber-control\", null), this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-live-indicator\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-end-time\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-settings-control\", { tooltipDirection: \"left\" }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { style: { marginLeft: '0', paddingRight: '2px' } })));\n  }\n  buildMobileVideoControls() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-scrim\", { gradient: \"up\" }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-controls\", { pin: \"topLeft\", fullWidth: true, activeDuration: this.activeDuration, waitForPlaybackStart: this.waitForPlaybackStart, hideWhenPaused: this.hideWhenPaused }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-spacer\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-volume-control\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-caption-control\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-settings-control\", null), this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-fullscreen-control\", null)), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-controls\", { pin: \"center\", justify: \"center\", activeDuration: this.activeDuration, waitForPlaybackStart: this.waitForPlaybackStart, hideWhenPaused: this.hideWhenPaused }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-playback-control\", { style: { '--vm-control-scale': '1.3' } })), !this.isLive && ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-controls\", { pin: \"bottomLeft\", fullWidth: true, activeDuration: this.activeDuration, waitForPlaybackStart: this.waitForPlaybackStart, hideWhenPaused: this.hideWhenPaused }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-group\", null, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-current-time\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-spacer\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-end-time\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-fullscreen-control\", null)), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-group\", { space: \"top\" }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-scrubber-control\", null))))));\n  }\n  buildDesktopVideoControls() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, this.theme !== 'light' && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-scrim\", { gradient: \"up\" }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-controls\", { fullWidth: true, pin: \"bottomRight\", activeDuration: this.activeDuration, waitForPlaybackStart: this.waitForPlaybackStart, hideWhenPaused: this.hideWhenPaused, hideOnMouseLeave: this.hideOnMouseLeave }, !this.isLive && ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-group\", null, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-scrubber-control\", null))), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-group\", { space: this.isLive ? 'none' : 'top' }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-playback-control\", { tooltipDirection: \"right\" }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-volume-control\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-time-progress\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control-spacer\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-caption-control\", null), this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-live-indicator\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-pip-control\", null), !this.isLive && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-settings-control\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-fullscreen-control\", { tooltipDirection: \"left\" })))));\n  }\n  render() {\n    if (this.isAudioView)\n      return this.buildAudioControls();\n    if (this.isVideoView && this.isMobile)\n      return this.buildMobileVideoControls();\n    if (this.isVideoView)\n      return this.buildDesktopVideoControls();\n    return null;\n  }\n  static get style() { return defaultControlsCss; }\n};\n\nconst defaultSettingsCss = \":host{z-index:var(--vm-menu-z-index)}\";\n\nvar __awaiter$m = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst DefaultSettings = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.textTracksDisposal = new Disposal();\n    this.canSetPlaybackRate = false;\n    this.canSetPlaybackQuality = false;\n    this.canSetTextTrack = false;\n    this.canSetAudioTrack = false;\n    /**\n     * Pins the settings to the defined position inside the video player. This has no effect when\n     * the view is of type `audio`, it will always be `bottomRight`.\n     */\n    this.pin = 'bottomRight';\n    /** @internal */\n    this.i18n = {};\n    /** @internal */\n    this.playbackReady = false;\n    /** @internal */\n    this.playbackRate = 1;\n    /** @internal */\n    this.playbackRates = [1];\n    /** @internal */\n    this.isVideoView = false;\n    /** @internal */\n    this.playbackQualities = [];\n    /** @internal */\n    this.textTracks = [];\n    /** @internal */\n    this.currentTextTrack = -1;\n    /** @internal */\n    this.audioTracks = [];\n    /** @internal */\n    this.currentAudioTrack = -1;\n    /** @internal */\n    this.isTextTrackVisible = true;\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'i18n',\n      'playbackReady',\n      'playbackRate',\n      'playbackRates',\n      'playbackQuality',\n      'playbackQualities',\n      'isVideoView',\n      'textTracks',\n      'currentTextTrack',\n      'isTextTrackVisible',\n      'audioTracks',\n      'currentAudioTrack',\n    ]);\n  }\n  onPlaybackReady() {\n    return __awaiter$m(this, void 0, void 0, function* () {\n      const player = yield findPlayer(this);\n      if (isUndefined(player))\n        return;\n      this.canSetPlaybackQuality = yield player.canSetPlaybackQuality();\n      this.canSetPlaybackRate = yield player.canSetPlaybackRate();\n    });\n  }\n  onAudioTracksChange() {\n    var _a;\n    return __awaiter$m(this, void 0, void 0, function* () {\n      const player = getPlayerFromRegistry(this);\n      this.canSetAudioTrack = (_a = (yield (player === null || player === void 0 ? void 0 : player.canSetAudioTrack()))) !== null && _a !== void 0 ? _a : false;\n    });\n  }\n  onTextTracksChange() {\n    var _a;\n    return __awaiter$m(this, void 0, void 0, function* () {\n      const player = getPlayerFromRegistry(this);\n      this.canSetTextTrack = (_a = (yield (player === null || player === void 0 ? void 0 : player.canSetTextTrack()))) !== null && _a !== void 0 ? _a : false;\n    });\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n  componentDidLoad() {\n    this.onTextTracksChange();\n  }\n  disconnectedCallback() {\n    this.textTracksDisposal.empty();\n  }\n  onPlaybackRateSelect(event) {\n    const radio = event.target;\n    this.dispatch('playbackRate', parseFloat(radio.value));\n  }\n  buildPlaybackRateSubmenu() {\n    if (this.playbackRates.length <= 1 || !this.canSetPlaybackRate) {\n      return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-item\", { label: this.i18n.playbackRate, hint: this.i18n.normal }));\n    }\n    const formatRate = (rate) => rate === 1 ? this.i18n.normal : `${rate}`;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-submenu\", { label: this.i18n.playbackRate, hint: formatRate(this.playbackRate) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio-group\", { value: `${this.playbackRate}`, onVmCheck: this.onPlaybackRateSelect.bind(this) }, this.playbackRates.map(rate => ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio\", { label: formatRate(rate), value: `${rate}` }))))));\n  }\n  onPlaybackQualitySelect(event) {\n    const radio = event.target;\n    this.dispatch('playbackQuality', radio.value);\n  }\n  buildPlaybackQualitySubmenu() {\n    var _a;\n    if (this.playbackQualities.length <= 1 || !this.canSetPlaybackQuality) {\n      return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-item\", { label: this.i18n.playbackQuality, hint: (_a = this.playbackQuality) !== null && _a !== void 0 ? _a : this.i18n.auto }));\n    }\n    // @TODO this doesn't account for audio qualities yet.\n    const getBadge = (quality) => {\n      const verticalPixels = parseInt(quality.slice(0, -1), 10);\n      if (verticalPixels >= 2160)\n        return 'UHD';\n      if (verticalPixels >= 1080)\n        return 'HD';\n      return undefined;\n    };\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-submenu\", { label: this.i18n.playbackQuality, hint: this.playbackQuality }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio-group\", { value: this.playbackQuality, onVmCheck: this.onPlaybackQualitySelect.bind(this) }, this.playbackQualities.map(quality => ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio\", { label: quality, value: quality, badge: getBadge(quality) }))))));\n  }\n  onTextTrackSelect(event) {\n    const radio = event.target;\n    const trackId = parseInt(radio.value, 10);\n    const player = getPlayerFromRegistry(this);\n    if (trackId === -1) {\n      player === null || player === void 0 ? void 0 : player.setTextTrackVisibility(false);\n      return;\n    }\n    player === null || player === void 0 ? void 0 : player.setTextTrackVisibility(true);\n    player === null || player === void 0 ? void 0 : player.setCurrentTextTrack(trackId);\n  }\n  buildTextTracksSubmenu() {\n    var _a, _b, _c;\n    if (this.textTracks.length <= 1 || !this.canSetTextTrack) {\n      return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-item\", { label: this.i18n.subtitlesOrCc, hint: (_b = (_a = this.textTracks[this.currentTextTrack]) === null || _a === void 0 ? void 0 : _a.label) !== null && _b !== void 0 ? _b : this.i18n.none }));\n    }\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-submenu\", { label: this.i18n.subtitlesOrCc, hint: this.isTextTrackVisible\n        ? (_c = this.textTracks[this.currentTextTrack]) === null || _c === void 0 ? void 0 : _c.label\n        : this.i18n.off }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio-group\", { value: `${!this.isTextTrackVisible ? -1 : this.currentTextTrack}`, onVmCheck: this.onTextTrackSelect.bind(this) }, [(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio\", { label: this.i18n.off, value: \"-1\" })].concat(this.textTracks.map((track, i) => ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio\", { label: track.label, value: `${i}` })))))));\n  }\n  onAudioTrackSelect(event) {\n    const radio = event.target;\n    const trackId = parseInt(radio.value, 10);\n    const player = getPlayerFromRegistry(this);\n    player === null || player === void 0 ? void 0 : player.setCurrentAudioTrack(trackId);\n  }\n  buildAudioTracksMenu() {\n    var _a, _b, _c;\n    if (this.audioTracks.length <= 1 || !this.canSetAudioTrack) {\n      return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-item\", { label: this.i18n.audio, hint: (_b = (_a = this.audioTracks[this.currentAudioTrack]) === null || _a === void 0 ? void 0 : _a.label) !== null && _b !== void 0 ? _b : this.i18n.default }));\n    }\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-submenu\", { label: this.i18n.audio, hint: (_c = this.audioTracks[this.currentAudioTrack]) === null || _c === void 0 ? void 0 : _c.label }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio-group\", { value: `${this.currentAudioTrack}`, onVmCheck: this.onAudioTrackSelect.bind(this) }, this.audioTracks.map((track, i) => ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-radio\", { label: track.label, value: `${i}` }))))));\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-settings\", { pin: this.pin }, this.buildAudioTracksMenu(), this.buildPlaybackRateSubmenu(), this.buildPlaybackQualitySubmenu(), this.isVideoView && this.buildTextTracksSubmenu(), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n  static get watchers() { return {\n    \"playbackReady\": [\"onPlaybackReady\", \"onAudioTracksChange\", \"onTextTracksChange\"],\n    \"audioTracks\": [\"onAudioTracksChange\"],\n    \"textTracks\": [\"onTextTracksChange\"]\n  }; }\n  static get style() { return defaultSettingsCss; }\n};\n\nconst defaultUiCss = \":host{display:contents;pointer-events:none}\";\n\nconst DefaultUI = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * Whether clicking the player should not toggle playback.\n     */\n    this.noClickToPlay = false;\n    /**\n     * Whether double clicking the player should not toggle fullscreen mode.\n     */\n    this.noDblClickFullscreen = false;\n    /**\n     * Whether the custom captions UI should not be loaded.\n     */\n    this.noCaptions = false;\n    /**\n     * Whether the custom poster UI should not be loaded.\n     */\n    this.noPoster = false;\n    /**\n     * Whether the custom spinner UI should not be loaded.\n     */\n    this.noSpinner = false;\n    /**\n     * Whether the custom default controls should not be loaded.\n     */\n    this.noControls = false;\n    /**\n     * Whether the custom default settings menu should not be loaded.\n     */\n    this.noSettings = false;\n    /**\n     * Whether the default loading screen should not be loaded.\n     */\n    this.noLoadingScreen = false;\n    withComponentRegistry(this);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-ui\", null, !this.noClickToPlay && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-click-to-play\", null), !this.noDblClickFullscreen && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-dbl-click-fullscreen\", null), !this.noCaptions && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-captions\", null), !this.noPoster && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-poster\", null), !this.noSpinner && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-spinner\", null), !this.noLoadingScreen && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-loading-screen\", null), !this.noControls && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-default-controls\", null), !this.noSettings && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-default-settings\", null), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n  static get style() { return defaultUiCss; }\n};\n\nclass LazyLoader {\n  constructor(el, attributes, onLoad) {\n    var _a;\n    this.el = el;\n    this.attributes = attributes;\n    this.onLoad = onLoad;\n    this.hasLoaded = false;\n    if (isNil(this.el))\n      return;\n    this.intersectionObs = this.canObserveIntersection()\n      ? new IntersectionObserver(this.onIntersection.bind(this))\n      : undefined;\n    this.mutationObs = this.canObserveMutations()\n      ? new MutationObserver(this.onMutation.bind(this))\n      : undefined;\n    (_a = this.mutationObs) === null || _a === void 0 ? void 0 : _a.observe(this.el, {\n      childList: true,\n      subtree: true,\n      attributeFilter: this.attributes,\n    });\n    this.lazyLoad();\n  }\n  didLoad() {\n    return this.hasLoaded;\n  }\n  destroy() {\n    var _a, _b;\n    (_a = this.intersectionObs) === null || _a === void 0 ? void 0 : _a.disconnect();\n    (_b = this.mutationObs) === null || _b === void 0 ? void 0 : _b.disconnect();\n  }\n  canObserveIntersection() {\n    return IS_CLIENT && window.IntersectionObserver;\n  }\n  canObserveMutations() {\n    return IS_CLIENT && window.MutationObserver;\n  }\n  lazyLoad() {\n    var _a;\n    if (this.canObserveIntersection()) {\n      (_a = this.intersectionObs) === null || _a === void 0 ? void 0 : _a.observe(this.el);\n    }\n    else {\n      this.load();\n    }\n  }\n  onIntersection(entries) {\n    entries.forEach(entry => {\n      if (entry.intersectionRatio > 0 || entry.isIntersecting) {\n        this.load();\n        this.intersectionObs.unobserve(entry.target);\n      }\n    });\n  }\n  onMutation() {\n    if (this.hasLoaded)\n      this.load();\n  }\n  getLazyElements() {\n    const root = !isNil(this.el.shadowRoot) ? this.el.shadowRoot : this.el;\n    return root.querySelectorAll('.lazy');\n  }\n  load() {\n    window.requestAnimationFrame(() => {\n      this.getLazyElements().forEach(this.loadEl.bind(this));\n    });\n  }\n  loadEl(el) {\n    var _a, _b;\n    (_a = this.intersectionObs) === null || _a === void 0 ? void 0 : _a.unobserve(el);\n    this.hasLoaded = true;\n    (_b = this.onLoad) === null || _b === void 0 ? void 0 : _b.call(this, el);\n  }\n}\n\nconst embedCss = \":host{z-index:var(--vm-media-z-index)}iframe{position:absolute;top:0;left:0;border:0;width:100%;height:100%;user-select:none}\";\n\nvar __awaiter$l = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nlet idCount$4 = 0;\nconst connected = new Set();\nconst Embed = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmEmbedSrcChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmEmbedSrcChange\", 3);\n    this.vmEmbedMessage = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmEmbedMessage\", 3);\n    this.vmEmbedLoaded = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmEmbedLoaded\", 3);\n    this.srcWithParams = '';\n    this.hasEnteredViewport = false;\n    /**\n     * A URL that will load the external player and media (Eg: https://www.youtube.com/embed/DyTCOwB0DVw).\n     */\n    this.embedSrc = '';\n    /**\n     * The title of the current media so it can be set on the inner `iframe` for screen readers.\n     */\n    this.mediaTitle = '';\n    /**\n     * The parameters to pass to the embedded player which are appended to the `embedSrc` prop. These\n     * can be passed in as a query string or object.\n     */\n    this.params = '';\n    /**\n     * A collection of URLs to that the browser should immediately start establishing a connection\n     * with.\n     */\n    this.preconnections = [];\n    withComponentRegistry(this);\n  }\n  onEmbedSrcChange() {\n    this.srcWithParams =\n      isString(this.embedSrc) && this.embedSrc.length > 0\n        ? appendParamsToURL(this.embedSrc, this.params)\n        : undefined;\n  }\n  srcWithParamsChange() {\n    if (isUndefined(this.srcWithParams)) {\n      this.vmEmbedSrcChange.emit(this.srcWithParams);\n      return;\n    }\n    if (!this.hasEnteredViewport && !connected.has(this.embedSrc)) {\n      if (preconnect(this.srcWithParams))\n        connected.add(this.embedSrc);\n    }\n    this.vmEmbedSrcChange.emit(this.srcWithParams);\n  }\n  preconnectionsChange() {\n    if (this.hasEnteredViewport) {\n      return;\n    }\n    this.preconnections\n      .filter(connection => !connected.has(connection))\n      .forEach(connection => {\n      if (preconnect(connection))\n        connected.add(connection);\n    });\n  }\n  connectedCallback() {\n    this.lazyLoader = new LazyLoader(this.host, ['data-src'], el => {\n      const src = el.getAttribute('data-src');\n      el.removeAttribute('src');\n      if (!isNull(src))\n        el.setAttribute('src', src);\n    });\n    this.onEmbedSrcChange();\n    this.genIframeId();\n  }\n  disconnectedCallback() {\n    this.lazyLoader.destroy();\n  }\n  onWindowMessage(e) {\n    var _a, _b, _c;\n    const originMatches = e.source === ((_a = this.iframe) === null || _a === void 0 ? void 0 : _a.contentWindow) &&\n      (!isString(this.origin) || this.origin === e.origin);\n    if (!originMatches)\n      return;\n    const message = (_c = (_b = this.decoder) === null || _b === void 0 ? void 0 : _b.call(this, e.data)) !== null && _c !== void 0 ? _c : e.data;\n    if (message)\n      this.vmEmbedMessage.emit(message);\n  }\n  /**\n   * Posts a message to the embedded media player.\n   */\n  postMessage(message, target) {\n    var _a, _b;\n    return __awaiter$l(this, void 0, void 0, function* () {\n      (_b = (_a = this.iframe) === null || _a === void 0 ? void 0 : _a.contentWindow) === null || _b === void 0 ? void 0 : _b.postMessage(JSON.stringify(message), target !== null && target !== void 0 ? target : '*');\n    });\n  }\n  onLoad() {\n    this.vmEmbedLoaded.emit();\n  }\n  genIframeId() {\n    idCount$4 += 1;\n    this.id = `vm-iframe-${idCount$4}`;\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"iframe\", { id: this.id, class: \"lazy\", title: this.mediaTitle, \"data-src\": this.srcWithParams, allowFullScreen: true, allow: \"autoplay; encrypted-media; picture-in-picture;\", onLoad: this.onLoad.bind(this), ref: (el) => {\n        this.iframe = el;\n      } }));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"embedSrc\": [\"onEmbedSrcChange\"],\n    \"params\": [\"onEmbedSrcChange\"],\n    \"srcWithParams\": [\"srcWithParamsChange\"],\n    \"preconnections\": [\"preconnectionsChange\"]\n  }; }\n  static get style() { return embedCss; }\n};\n\nconst endTimeCss = \":host{display:flex;align-items:center;justify-content:center}\";\n\nconst EndTime = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /** @internal */\n    this.duration = -1;\n    /** @internal */\n    this.i18n = {};\n    /**\n     * Whether the time should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['duration', 'i18n']);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-time\", { label: this.i18n.duration, seconds: Math.max(0, this.duration), alwaysShowHours: this.alwaysShowHours }));\n  }\n  static get style() { return endTimeCss; }\n};\n\nvar key = {\r\n    fullscreenEnabled: 0,\r\n    fullscreenElement: 1,\r\n    requestFullscreen: 2,\r\n    exitFullscreen: 3,\r\n    fullscreenchange: 4,\r\n    fullscreenerror: 5,\r\n    fullscreen: 6\r\n};\r\nvar webkit = [\r\n    'webkitFullscreenEnabled',\r\n    'webkitFullscreenElement',\r\n    'webkitRequestFullscreen',\r\n    'webkitExitFullscreen',\r\n    'webkitfullscreenchange',\r\n    'webkitfullscreenerror',\r\n    '-webkit-full-screen',\r\n];\r\nvar moz = [\r\n    'mozFullScreenEnabled',\r\n    'mozFullScreenElement',\r\n    'mozRequestFullScreen',\r\n    'mozCancelFullScreen',\r\n    'mozfullscreenchange',\r\n    'mozfullscreenerror',\r\n    '-moz-full-screen',\r\n];\r\nvar ms = [\r\n    'msFullscreenEnabled',\r\n    'msFullscreenElement',\r\n    'msRequestFullscreen',\r\n    'msExitFullscreen',\r\n    'MSFullscreenChange',\r\n    'MSFullscreenError',\r\n    '-ms-fullscreen',\r\n];\r\n// so it doesn't throw if no window or document\r\nvar document$1 = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\r\nvar vendor = (('fullscreenEnabled' in document$1 && Object.keys(key)) ||\r\n    (webkit[0] in document$1 && webkit) ||\r\n    (moz[0] in document$1 && moz) ||\r\n    (ms[0] in document$1 && ms) ||\r\n    []);\r\nvar fscreen = {\r\n    requestFullscreen: function (element) { return element[vendor[key.requestFullscreen]](); },\r\n    requestFullscreenFunction: function (element) { return element[vendor[key.requestFullscreen]]; },\r\n    get exitFullscreen() { return document$1[vendor[key.exitFullscreen]].bind(document$1); },\r\n    get fullscreenPseudoClass() { return \":\" + vendor[key.fullscreen]; },\r\n    addEventListener: function (type, handler, options) { return document$1.addEventListener(vendor[key[type]], handler, options); },\r\n    removeEventListener: function (type, handler, options) { return document$1.removeEventListener(vendor[key[type]], handler, options); },\r\n    get fullscreenEnabled() { return Boolean(document$1[vendor[key.fullscreenEnabled]]); },\r\n    set fullscreenEnabled(val) { },\r\n    get fullscreenElement() { return document$1[vendor[key.fullscreenElement]]; },\r\n    set fullscreenElement(val) { },\r\n    get onfullscreenchange() { return document$1[(\"on\" + vendor[key.fullscreenchange]).toLowerCase()]; },\r\n    set onfullscreenchange(handler) { return document$1[(\"on\" + vendor[key.fullscreenchange]).toLowerCase()] = handler; },\r\n    get onfullscreenerror() { return document$1[(\"on\" + vendor[key.fullscreenerror]).toLowerCase()]; },\r\n    set onfullscreenerror(handler) { return document$1[(\"on\" + vendor[key.fullscreenerror]).toLowerCase()] = handler; },\r\n};\n\nfunction mitt(n){return {all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e]);},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]));},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e);}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e);});}}}\n\nvar __awaiter$k = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n/**\n * Unfortunately fullscreen isn't straight forward due to cross-browser inconsistencies. This\n * class abstract the logic for handling fullscreen across browsers.\n */\nclass FullscreenController {\n  constructor(host) {\n    this.host = host;\n    this.disposal = new Disposal();\n    this.emitter = mitt();\n  }\n  /**\n   * Whether fullscreen mode can be requested, generally is an API available to do so.\n   */\n  get isSupported() {\n    return this.isSupportedNatively;\n  }\n  /**\n   * Whether the native Fullscreen API is enabled/available.\n   */\n  get isSupportedNatively() {\n    return fscreen.fullscreenEnabled;\n  }\n  /**\n   * Whether the host element is in fullscreen mode.\n   */\n  get isFullscreen() {\n    return this.isNativeFullscreen;\n  }\n  /**\n   * Whether the host element is in fullscreen mode via the native Fullscreen API.\n   */\n  get isNativeFullscreen() {\n    if (fscreen.fullscreenElement === this.host)\n      return true;\n    try {\n      // Throws in iOS Safari...\n      return this.host.matches(\n      // Property `fullscreenPseudoClass` is missing from `@types/fscreen`.\n      fscreen\n        .fullscreenPseudoClass);\n    }\n    catch (error) {\n      return false;\n    }\n  }\n  on(type, handler) {\n    // @ts-expect-error - not typed yet.\n    this.emitter.on(type, handler);\n  }\n  off(type, handler) {\n    // @ts-expect-error - not typed yet.\n    this.emitter.off(type, handler);\n  }\n  /**\n   * Dispose of any event listeners and exit fullscreen (if active).\n   */\n  destroy() {\n    return __awaiter$k(this, void 0, void 0, function* () {\n      if (this.isFullscreen)\n        yield this.exitFullscreen();\n      this.disposal.empty();\n      this.emitter.all.clear();\n    });\n  }\n  addFullscreenChangeEventListener(handler) {\n    if (!this.isSupported)\n      return noop;\n    return listen(fscreen, 'fullscreenchange', handler);\n  }\n  addFullscreenErrorEventListener(handler) {\n    if (!this.isSupported)\n      return noop;\n    return listen(fscreen, 'fullscreenerror', handler);\n  }\n  requestFullscreen() {\n    return __awaiter$k(this, void 0, void 0, function* () {\n      if (this.isFullscreen)\n        return;\n      this.throwIfNoFullscreenSupport();\n      // TODO: Check if PiP is active, if so make sure to exit - need PipController.\n      this.disposal.add(this.addFullscreenChangeEventListener(this.handleFullscreenChange.bind(this)));\n      this.disposal.add(this.addFullscreenErrorEventListener(this.handleFullscreenError.bind(this)));\n      return this.makeEnterFullscreenRequest();\n    });\n  }\n  makeEnterFullscreenRequest() {\n    return __awaiter$k(this, void 0, void 0, function* () {\n      return fscreen.requestFullscreen(this.host);\n    });\n  }\n  handleFullscreenChange() {\n    if (!this.isFullscreen)\n      this.disposal.empty();\n    this.emitter.emit('change', this.isFullscreen);\n  }\n  handleFullscreenError(event) {\n    this.emitter.emit('error', event);\n  }\n  exitFullscreen() {\n    return __awaiter$k(this, void 0, void 0, function* () {\n      if (!this.isFullscreen)\n        return;\n      this.throwIfNoFullscreenSupport();\n      return this.makeExitFullscreenRequest();\n    });\n  }\n  makeExitFullscreenRequest() {\n    return __awaiter$k(this, void 0, void 0, function* () {\n      return fscreen.exitFullscreen();\n    });\n  }\n  throwIfNoFullscreenSupport() {\n    if (this.isSupported)\n      return;\n    throw Error('Fullscreen API is not enabled or supported in this environment.');\n  }\n}\n\nvar __awaiter$j = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n/**\n * Extends the base `FullscreenController` with additional logic for handling fullscreen\n * on iOS Safari where the native Fullscreen API is not available (in this case it fallsback to\n * using the `VideoPresentationController`).\n */\nclass VideoFullscreenController extends FullscreenController {\n  constructor(host, presentationController) {\n    super(host);\n    this.host = host;\n    this.presentationController = presentationController;\n  }\n  get isFullscreen() {\n    return this.presentationController.isFullscreenMode;\n  }\n  /**\n   * Whether a fallback fullscreen API is available on Safari using presentation modes. This\n   * is only used on iOS where the native fullscreen API is not available.\n   *\n   * @link https://developer.apple.com/documentation/webkitjs/htmlvideoelement/1631913-webkitpresentationmode\n   */\n  get isSupported() {\n    return this.presentationController.isSupported;\n  }\n  makeEnterFullscreenRequest() {\n    return __awaiter$j(this, void 0, void 0, function* () {\n      return this.presentationController.setPresentationMode('fullscreen');\n    });\n  }\n  makeExitFullscreenRequest() {\n    return __awaiter$j(this, void 0, void 0, function* () {\n      return this.presentationController.setPresentationMode('inline');\n    });\n  }\n  addFullscreenChangeEventListener() {\n    if (!this.isSupported)\n      return noop;\n    this.presentationController.on('change', this.handlePresentationModeChange.bind(this));\n    return () => {\n      this.presentationController.off('change', this.handlePresentationModeChange.bind(this));\n    };\n  }\n  handlePresentationModeChange() {\n    this.handleFullscreenChange();\n  }\n  addFullscreenErrorEventListener() {\n    return noop;\n  }\n}\n\nvar __awaiter$i = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n/**\n * Contains the logic for handling presentation modes on Safari. This class is used by\n * the `VideoFullscreenController` as a fallback when the native Fullscreen API is not\n * available (ie: iOS Safari).\n */\nclass VideoPresentationController {\n  constructor(host) {\n    this.host = host;\n    this.disposal = new Disposal();\n    this.emitter = mitt();\n    const disconnectedCallback = host.disconnectedCallback;\n    host.disconnectedCallback = () => __awaiter$i(this, void 0, void 0, function* () {\n      yield this.destroy();\n      disconnectedCallback === null || disconnectedCallback === void 0 ? void 0 : disconnectedCallback.call(host);\n    });\n  }\n  get videoElement() {\n    var _a;\n    if (((_a = this.host.mediaEl) === null || _a === void 0 ? void 0 : _a.tagName.toLowerCase()) === 'video') {\n      return this.host.mediaEl;\n    }\n    return undefined;\n  }\n  /**\n   * The current presentation mode, possible values include `inline`, `picture-in-picture` and\n   * `fullscreen`. Only available in Safari.\n   *\n   * @default undefined\n   * @link https://developer.apple.com/documentation/webkitjs/htmlvideoelement/1631913-webkitpresentationmode\n   */\n  get presentationMode() {\n    var _a;\n    return (_a = this.videoElement) === null || _a === void 0 ? void 0 : _a.webkitPresentationMode;\n  }\n  /**\n   * Whether the current `presentationMode` is `inline`.\n   */\n  get isInlineMode() {\n    return this.presentationMode === 'inline';\n  }\n  /**\n   * Whether the current `presentationMode` is `picture-in-picture`.\n   */\n  get isPictureInPictureMode() {\n    return this.presentationMode === 'inline';\n  }\n  /**\n   * Whether the current `presentationMode` is `fullscreen`.\n   */\n  get isFullscreenMode() {\n    return this.presentationMode === 'fullscreen';\n  }\n  /**\n   * Whether the presentation mode API is available.\n   *\n   * @link https://developer.apple.com/documentation/webkitjs/htmlvideoelement/1628805-webkitsupportsfullscreen\n   */\n  get isSupported() {\n    var _a, _b, _c;\n    return (IS_IOS &&\n      isFunction((_a = this.videoElement) === null || _a === void 0 ? void 0 : _a.webkitSetPresentationMode) &&\n      ((_c = (_b = this.videoElement) === null || _b === void 0 ? void 0 : _b.webkitSupportsFullscreen) !== null && _c !== void 0 ? _c : false));\n  }\n  setPresentationMode(mode) {\n    var _a, _b;\n    (_b = (_a = this.videoElement) === null || _a === void 0 ? void 0 : _a.webkitSetPresentationMode) === null || _b === void 0 ? void 0 : _b.call(_a, mode);\n  }\n  on(type, handler) {\n    // @ts-expect-error - not typed yet.\n    this.emitter.on(type, handler);\n  }\n  off(type, handler) {\n    // @ts-expect-error - not typed yet.\n    this.emitter.off(type, handler);\n  }\n  destroy() {\n    this.setPresentationMode('inline');\n    this.disposal.empty();\n  }\n  addPresentationModeChangeEventListener() {\n    if (!this.isSupported || isNil(this.videoElement))\n      return noop;\n    return listen(this.videoElement, 'webkitpresentationmodechanged', this.handlePresentationModeChange.bind(this));\n  }\n  handlePresentationModeChange() {\n    this.emitter.emit('change', this.presentationMode);\n  }\n}\n\nconst fileCss = \"audio.sc-vm-file,video.sc-vm-file{border-radius:inherit;vertical-align:middle;width:100%;outline:0}video.sc-vm-file{position:absolute;top:0;left:0;border:0;height:100%;user-select:none}\";\n\nvar __awaiter$h = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst File = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.vmLoadStart = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmError\", 7);\n    this.vmMediaElChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmMediaElChange\", 7);\n    this.vmSrcSetChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmSrcSetChange\", 7);\n    this.textTracksDisposal = new Disposal();\n    this.wasPausedBeforeSeeking = true;\n    this.currentSrcSet = [];\n    this.mediaQueryDisposal = new Disposal();\n    /** @internal Whether an external SDK will attach itself to the media player and control it. */\n    this.willAttach = false;\n    /** @inheritdoc */\n    this.preload = 'metadata';\n    /**\n     * The playback rates that are available for this media.\n     */\n    this.playbackRates = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 2];\n    /** @internal */\n    this.language = 'en';\n    /** @internal */\n    this.autoplay = false;\n    /** @internal */\n    this.controls = false;\n    /** @internal */\n    this.loop = false;\n    /** @internal */\n    this.muted = false;\n    /** @internal */\n    this.playsinline = false;\n    /** @internal */\n    this.noConnect = false;\n    /** @internal */\n    this.paused = true;\n    /** @internal */\n    this.currentTime = 0;\n    /** @internal */\n    this.volume = 0;\n    /** @internal */\n    this.playbackReady = false;\n    /** @internal */\n    this.playbackStarted = false;\n    this.presentationController = new VideoPresentationController(this);\n    this.fullscreenController = new VideoFullscreenController(this, this.presentationController);\n    /** @internal */\n    this.currentTextTrack = -1;\n    /** @internal */\n    this.hasCustomTextManager = false;\n    /** @internal */\n    this.isTextTrackVisible = true;\n    /** @internal */\n    this.shouldRenderNativeTextTracks = true;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this, [\n      'playbackReady',\n      'playbackStarted',\n      'currentTime',\n      'volume',\n      'paused',\n      'currentTextTrack',\n      'isTextTrackVisible',\n      'shouldRenderNativeTextTracks',\n    ]);\n    watchComponentRegistry(this, 'vm-poster', regs => {\n      [this.vmPoster] = regs;\n    });\n  }\n  onMediaTitleChange() {\n    this.dispatch('mediaTitle', this.mediaTitle);\n  }\n  onPosterChange() {\n    var _a;\n    if (!this.playbackStarted)\n      (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.load();\n  }\n  onViewTypeChange() {\n    this.dispatch('viewType', this.viewType);\n  }\n  connectedCallback() {\n    this.initLazyLoader();\n    this.dispatch = createProviderDispatcher(this);\n    this.onViewTypeChange();\n    this.onPosterChange();\n    this.onMediaTitleChange();\n    this.addPresentationControllerListeners();\n  }\n  componentDidRender() {\n    if (this.prevMediaEl !== this.mediaEl) {\n      this.prevMediaEl = this.mediaEl;\n      this.vmMediaElChange.emit(this.mediaEl);\n      this.presentationController.addPresentationModeChangeEventListener();\n    }\n  }\n  componentDidLoad() {\n    this.onViewTypeChange();\n  }\n  disconnectedCallback() {\n    var _a;\n    this.mediaQueryDisposal.empty();\n    this.textTracksDisposal.empty();\n    this.cancelTimeUpdates();\n    (_a = this.lazyLoader) === null || _a === void 0 ? void 0 : _a.destroy();\n    this.wasPausedBeforeSeeking = true;\n  }\n  initLazyLoader() {\n    this.lazyLoader = new LazyLoader(this.host, ['data-src', 'data-poster'], () => {\n      if (isNil(this.mediaEl))\n        return;\n      const poster = this.mediaEl.getAttribute('data-poster');\n      if (!isNull(poster))\n        this.mediaEl.setAttribute('poster', poster);\n      this.refresh();\n      this.didSrcSetChange();\n    });\n  }\n  refresh() {\n    if (isNil(this.mediaEl))\n      return;\n    const { children } = this.mediaEl;\n    for (let i = 0; i <= children.length - 1; i += 1) {\n      const child = children[i];\n      const src = child.getAttribute('data-src') ||\n        child.getAttribute('src') ||\n        child.getAttribute('data-vs');\n      child.removeAttribute('src');\n      if (isNull(src))\n        continue;\n      child.setAttribute('data-vs', src);\n      child.setAttribute('src', src);\n    }\n  }\n  didSrcSetChange() {\n    if (isNil(this.mediaEl))\n      return;\n    const sources = Array.from(this.mediaEl.querySelectorAll('source'));\n    const srcSet = sources.map(source => {\n      var _a;\n      return ({\n        src: source.getAttribute('data-vs'),\n        media: (_a = source.getAttribute('data-media')) !== null && _a !== void 0 ? _a : undefined,\n        ref: source,\n      });\n    });\n    const didChange = this.currentSrcSet.length !== srcSet.length ||\n      srcSet.some((resource, i) => this.currentSrcSet[i].src !== resource.src);\n    if (didChange) {\n      this.currentSrcSet = srcSet;\n      this.onSrcSetChange();\n    }\n  }\n  onSrcSetChange() {\n    var _a;\n    this.textTracksDisposal.empty();\n    this.mediaQueryDisposal.empty();\n    this.vmLoadStart.emit();\n    this.vmSrcSetChange.emit(this.currentSrcSet);\n    if (!this.willAttach)\n      (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.load();\n  }\n  hasCustomPoster() {\n    return !IS_IOS && !isUndefined(this.vmPoster);\n  }\n  cancelTimeUpdates() {\n    if (isNumber(this.timeRAF))\n      window.cancelAnimationFrame(this.timeRAF);\n    this.timeRAF = undefined;\n  }\n  requestTimeUpdates() {\n    var _a, _b;\n    this.dispatch('currentTime', (_b = (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.currentTime) !== null && _b !== void 0 ? _b : 0);\n    this.timeRAF = window.requestAnimationFrame(() => {\n      this.requestTimeUpdates();\n    });\n  }\n  getMediaType() {\n    const { currentSrc } = this.mediaEl;\n    if (audioRegex.test(currentSrc))\n      return MediaType.Audio;\n    if (videoRegex.test(currentSrc) || hlsRegex.test(currentSrc))\n      return MediaType.Video;\n    return undefined;\n  }\n  onLoadedMetadata() {\n    this.mediaEl.volume = this.volume / 100;\n    this.listenToTextTracksForChanges();\n    this.onTextTracksChange();\n    this.onProgress();\n    this.dispatch('currentPoster', this.poster);\n    this.dispatch('duration', this.mediaEl.duration);\n    this.dispatch('playbackRates', this.playbackRates);\n    if (!this.willAttach) {\n      this.dispatch('currentSrc', this.mediaEl.currentSrc);\n      this.dispatch('mediaType', this.getMediaType());\n      this.dispatch('playbackReady', true);\n    }\n  }\n  onProgress() {\n    const { buffered, duration } = this.mediaEl;\n    const end = buffered.length === 0 ? 0 : buffered.end(buffered.length - 1);\n    this.dispatch('buffered', end > duration ? duration : end);\n  }\n  onPlay() {\n    this.requestTimeUpdates();\n    this.dispatch('paused', false);\n    if (!this.playbackStarted)\n      this.dispatch('playbackStarted', true);\n  }\n  onPause() {\n    this.cancelTimeUpdates();\n    this.dispatch('paused', true);\n    this.dispatch('buffering', false);\n  }\n  onPlaying() {\n    this.dispatch('playing', true);\n    this.dispatch('buffering', false);\n  }\n  onSeeking() {\n    if (!this.wasPausedBeforeSeeking)\n      this.wasPausedBeforeSeeking = this.mediaEl.paused;\n    this.dispatch('currentTime', this.mediaEl.currentTime);\n    this.dispatch('seeking', true);\n  }\n  onSeeked() {\n    // Avoid calling `attemptToPlay` if seeking to 0 on 0.\n    if (this.currentTime === 0 && !this.playbackStarted)\n      return;\n    this.dispatch('seeking', false);\n    if (!this.playbackStarted || !this.wasPausedBeforeSeeking)\n      this.attemptToPlay();\n    this.wasPausedBeforeSeeking = true;\n  }\n  onRateChange() {\n    this.dispatch('playbackRate', this.mediaEl.playbackRate);\n  }\n  onVolumeChange() {\n    this.dispatch('muted', this.mediaEl.muted);\n    this.dispatch('volume', this.mediaEl.volume * 100);\n  }\n  onDurationChange() {\n    this.dispatch('duration', this.mediaEl.duration);\n  }\n  onWaiting() {\n    this.dispatch('buffering', true);\n  }\n  onSuspend() {\n    this.dispatch('buffering', false);\n  }\n  onEnded() {\n    if (!this.loop)\n      this.dispatch('playbackEnded', true);\n  }\n  onError() {\n    this.vmError.emit(this.mediaEl.error);\n  }\n  attemptToPlay() {\n    var _a;\n    try {\n      (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.play();\n    }\n    catch (e) {\n      this.vmError.emit(e);\n    }\n  }\n  togglePiPInChrome(toggle) {\n    var _a;\n    return toggle\n      ? (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.requestPictureInPicture()\n      : document.exitPictureInPicture();\n  }\n  togglePiPInSafari(toggle) {\n    var _a, _b;\n    const mode = toggle\n      ? \"picture-in-picture\" /* PiP */\n      : \"inline\" /* Inline */;\n    if (!((_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.webkitSupportsPresentationMode(mode))) {\n      throw new Error('PiP API is not available.');\n    }\n    return (_b = this.mediaEl) === null || _b === void 0 ? void 0 : _b.webkitSetPresentationMode(mode);\n  }\n  togglePiP(toggle) {\n    return __awaiter$h(this, void 0, void 0, function* () {\n      if (canUsePiPInChrome())\n        return this.togglePiPInChrome(toggle);\n      if (canUsePiPInSafari())\n        return this.togglePiPInSafari(toggle);\n      throw new Error('PiP API is not available.');\n    });\n  }\n  onEnterPiP() {\n    this.dispatch('isPiPActive', true);\n  }\n  onLeavePiP() {\n    this.dispatch('isPiPActive', false);\n  }\n  addPresentationControllerListeners() {\n    this.presentationController.on('change', mode => {\n      this.dispatch('isPiPActive', mode === \"picture-in-picture\" /* PiP */);\n      this.dispatch('isFullscreenActive', mode === \"fullscreen\" /* Fullscreen */);\n    });\n  }\n  /** @internal */\n  getAdapter() {\n    return __awaiter$h(this, void 0, void 0, function* () {\n      return {\n        getInternalPlayer: () => __awaiter$h(this, void 0, void 0, function* () { return this.mediaEl; }),\n        play: () => __awaiter$h(this, void 0, void 0, function* () { var _a; return (_a = this.mediaEl) === null || _a === void 0 ? void 0 : _a.play(); }),\n        pause: () => __awaiter$h(this, void 0, void 0, function* () { var _b; return (_b = this.mediaEl) === null || _b === void 0 ? void 0 : _b.pause(); }),\n        canPlay: (type) => __awaiter$h(this, void 0, void 0, function* () { return isString(type) && (audioRegex.test(type) || videoRegex.test(type)); }),\n        setCurrentTime: (time) => __awaiter$h(this, void 0, void 0, function* () {\n          if (this.mediaEl)\n            this.mediaEl.currentTime = time;\n        }),\n        setMuted: (muted) => __awaiter$h(this, void 0, void 0, function* () {\n          if (this.mediaEl)\n            this.mediaEl.muted = muted;\n        }),\n        setVolume: (volume) => __awaiter$h(this, void 0, void 0, function* () {\n          if (this.mediaEl)\n            this.mediaEl.volume = volume / 100;\n        }),\n        canSetPlaybackRate: () => __awaiter$h(this, void 0, void 0, function* () { return true; }),\n        setPlaybackRate: (rate) => __awaiter$h(this, void 0, void 0, function* () {\n          if (this.mediaEl)\n            this.mediaEl.playbackRate = rate;\n        }),\n        canSetPiP: () => __awaiter$h(this, void 0, void 0, function* () { return canUsePiP(); }),\n        enterPiP: () => this.togglePiP(true),\n        exitPiP: () => this.togglePiP(false),\n        canSetFullscreen: () => __awaiter$h(this, void 0, void 0, function* () { return this.fullscreenController.isSupported; }),\n        enterFullscreen: () => this.fullscreenController.requestFullscreen(),\n        exitFullscreen: () => this.fullscreenController.exitFullscreen(),\n        setCurrentTextTrack: (trackId) => __awaiter$h(this, void 0, void 0, function* () {\n          if (trackId !== this.currentTextTrack)\n            this.toggleTextTrackModes(trackId);\n        }),\n        setTextTrackVisibility: (isVisible) => __awaiter$h(this, void 0, void 0, function* () {\n          this.isTextTrackVisible = isVisible;\n          this.toggleTextTrackModes(this.currentTextTrack);\n        }),\n      };\n    });\n  }\n  onHasCustomTextManagerChange() {\n    if (this.hasCustomTextManager) {\n      this.textTracksDisposal.empty();\n    }\n    else if (this.playbackReady) {\n      this.listenToTextTracksForChanges();\n    }\n  }\n  onShouldRenderNativeTextTracksChange() {\n    if (this.hasCustomTextManager)\n      return;\n    this.toggleTextTrackModes(this.currentTextTrack);\n  }\n  onProviderConnect(event) {\n    if (this.noConnect)\n      event.stopImmediatePropagation();\n  }\n  onProviderDisconnect(event) {\n    if (this.noConnect)\n      event.stopImmediatePropagation();\n  }\n  getFilteredTextTracks() {\n    const tracks = [];\n    const textTrackList = Array.from(this.mediaEl.textTracks);\n    for (let i = 0; i < textTrackList.length; i += 1) {\n      const track = textTrackList[i];\n      // Edge adds a track without a label; we don't want to use it.\n      if ((track.kind === 'subtitles' || track.kind === 'captions') &&\n        track.label) {\n        tracks.push(textTrackList[i]);\n      }\n    }\n    return tracks;\n  }\n  listenToTextTracksForChanges() {\n    if (this.hasCustomTextManager)\n      return;\n    this.textTracksDisposal.empty();\n    if (isUndefined(this.mediaEl))\n      return;\n    this.textTracksDisposal.add(listen(this.mediaEl.textTracks, 'change', this.onTextTracksChange.bind(this)));\n  }\n  onTextTracksChange() {\n    var _a;\n    const tracks = this.getFilteredTextTracks();\n    let trackId = -1;\n    for (let id = 0; id < tracks.length; id += 1) {\n      if (tracks[id].mode === 'hidden') {\n        // Do not break in case there is a following track with showing.\n        trackId = id;\n      }\n      else if (tracks[id].mode === 'showing') {\n        trackId = id;\n        break;\n      }\n    }\n    if (!this.shouldRenderNativeTextTracks &&\n      ((_a = tracks[trackId]) === null || _a === void 0 ? void 0 : _a.mode) === 'showing') {\n      tracks[trackId].mode = 'hidden';\n      return;\n    }\n    if (this.shouldRenderNativeTextTracks) {\n      this.isTextTrackVisible =\n        trackId !== -1 && tracks[trackId].mode === 'showing';\n      this.dispatch('isTextTrackVisible', this.isTextTrackVisible);\n    }\n    this.dispatch('textTracks', tracks);\n    this.dispatch('currentTextTrack', this.shouldRenderNativeTextTracks && !this.isTextTrackVisible\n      ? -1\n      : trackId);\n  }\n  toggleTextTrackModes(newTrackId) {\n    if (isNil(this.mediaEl))\n      return;\n    const { textTracks } = this.mediaEl;\n    if (newTrackId === -1) {\n      Array.from(textTracks).forEach(track => {\n        track.mode = 'disabled';\n      });\n    }\n    else {\n      const oldTrack = textTracks[this.currentTextTrack];\n      if (oldTrack)\n        oldTrack.mode = 'disabled';\n    }\n    const nextTrack = textTracks[newTrackId];\n    if (nextTrack) {\n      nextTrack.mode =\n        this.isTextTrackVisible && this.shouldRenderNativeTextTracks\n          ? 'showing'\n          : 'hidden';\n    }\n    this.dispatch('currentTextTrack', this.shouldRenderNativeTextTracks && !this.isTextTrackVisible\n      ? -1\n      : newTrackId);\n    this.dispatch('isTextTrackVisible', this.isTextTrackVisible);\n  }\n  render() {\n    const mediaProps = {\n      autoplay: this.autoplay,\n      muted: this.muted,\n      playsinline: this.playsinline,\n      playsInline: this.playsinline,\n      'x5-playsinline': this.playsinline,\n      'webkit-playsinline': this.playsinline,\n      controls: this.controls,\n      crossorigin: this.crossOrigin === '' ? 'anonymous' : this.crossOrigin,\n      controlslist: this.controlsList,\n      'data-poster': !this.hasCustomPoster() ? this.poster : undefined,\n      loop: this.loop,\n      preload: this.preload,\n      disablePictureInPicture: this.disablePiP,\n      autoPictureInPicture: this.autoPiP,\n      disableRemotePlayback: this.disableRemotePlayback,\n      'x-webkit-airplay': this.disableRemotePlayback ? 'deny' : 'allow',\n      ref: (el) => {\n        this.mediaEl = el;\n      },\n      onLoadedMetadata: this.onLoadedMetadata.bind(this),\n      onProgress: this.onProgress.bind(this),\n      onPlay: this.onPlay.bind(this),\n      onPause: this.onPause.bind(this),\n      onPlaying: this.onPlaying.bind(this),\n      onSeeking: this.onSeeking.bind(this),\n      onSeeked: this.onSeeked.bind(this),\n      onRateChange: this.onRateChange.bind(this),\n      onVolumeChange: this.onVolumeChange.bind(this),\n      onDurationChange: this.onDurationChange.bind(this),\n      onWaiting: this.onWaiting.bind(this),\n      onSuspend: this.onSuspend.bind(this),\n      onEnded: this.onEnded.bind(this),\n      onError: this.onError.bind(this),\n    };\n    const audio = ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"audio\", Object.assign({ class: \"lazy\" }, mediaProps), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null), \"Your browser does not support the\", (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"code\", null, \"audio\"), \"element.\"));\n    const video = ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"video\", Object.assign({ class: \"lazy\" }, mediaProps, {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      onenterpictureinpicture: this.onEnterPiP.bind(this), onleavepictureinpicture: this.onLeavePiP.bind(this)\n    }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null), \"Your browser does not support the\", (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"code\", null, \"video\"), \"element.\"));\n    return this.viewType === ViewType.Audio ? audio : video;\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"mediaTitle\": [\"onMediaTitleChange\"],\n    \"poster\": [\"onPosterChange\"],\n    \"viewType\": [\"onViewTypeChange\"],\n    \"hasCustomTextManager\": [\"onHasCustomTextManagerChange\"],\n    \"shouldRenderNativeTextTracks\": [\"onShouldRenderNativeTextTracksChange\"]\n  }; }\n  static get style() { return fileCss; }\n};\n\nconst fullscreenControlCss = \":host([hidden]){display:none}\";\n\nvar __awaiter$g = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst FullscreenControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.canSetFullscreen = false;\n    /**\n     * The name of the enter fullscreen icon to resolve from the icon library.\n     */\n    this.enterIcon = 'fullscreen-enter';\n    /**\n     * The name of the exit fullscreen icon to resolve from the icon library.\n     */\n    this.exitIcon = 'fullscreen-exit';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n    this.hideTooltip = false;\n    /** @inheritdoc */\n    this.keys = 'f';\n    /** @internal */\n    this.isFullscreenActive = false;\n    /** @internal */\n    this.i18n = {};\n    /** @internal */\n    this.playbackReady = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isFullscreenActive', 'playbackReady', 'i18n']);\n  }\n  onPlaybackReadyChange() {\n    var _a;\n    return __awaiter$g(this, void 0, void 0, function* () {\n      const player = getPlayerFromRegistry(this);\n      this.canSetFullscreen = (_a = (yield (player === null || player === void 0 ? void 0 : player.canSetFullscreen()))) !== null && _a !== void 0 ? _a : false;\n    });\n  }\n  componentDidLoad() {\n    this.onPlaybackReadyChange();\n  }\n  onClick() {\n    const player = getPlayerFromRegistry(this);\n    !this.isFullscreenActive\n      ? player === null || player === void 0 ? void 0 : player.enterFullscreen()\n      : player === null || player === void 0 ? void 0 : player.exitFullscreen();\n  }\n  render() {\n    const tooltip = this.isFullscreenActive\n      ? this.i18n.exitFullscreen\n      : this.i18n.enterFullscreen;\n    const tooltipWithHint = !isUndefined(this.keys)\n      ? `${tooltip} (${this.keys})`\n      : tooltip;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.Host, { hidden: !this.canSetFullscreen }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control\", { label: this.i18n.fullscreen, keys: this.keys, pressed: this.isFullscreenActive, hidden: !this.canSetFullscreen, onClick: this.onClick.bind(this) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-icon\", { name: this.isFullscreenActive ? this.exitIcon : this.enterIcon, library: this.icons }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-tooltip\", { hidden: this.hideTooltip, position: this.tooltipPosition, direction: this.tooltipDirection }, tooltipWithHint))));\n  }\n  static get watchers() { return {\n    \"playbackReady\": [\"onPlaybackReadyChange\"]\n  }; }\n  static get style() { return fullscreenControlCss; }\n};\n\nvar __awaiter$f = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst HLS = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    this.vmLoadStart = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmError\", 7);\n    this.hasAttached = false;\n    /**\n     * The NPM package version of the `hls.js` library to download and use if HLS is not natively\n     * supported.\n     */\n    this.version = 'latest';\n    /** @inheritdoc */\n    this.preload = 'metadata';\n    /** @internal */\n    this.playbackReady = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withPlayerContext(this, ['playbackReady']);\n  }\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    if (this.mediaEl)\n      this.setupHls();\n  }\n  disconnectedCallback() {\n    this.destroyHls();\n  }\n  get src() {\n    if (isNil(this.videoProvider))\n      return undefined;\n    const sources = this.videoProvider.querySelectorAll('source');\n    const currSource = Array.from(sources).find(source => hlsRegex.test(source.src) || hlsTypeRegex.test(source.type));\n    return currSource === null || currSource === void 0 ? void 0 : currSource.src;\n  }\n  setupHls() {\n    return __awaiter$f(this, void 0, void 0, function* () {\n      if (!isUndefined(this.hls))\n        return;\n      try {\n        const url = this.libSrc ||\n          `https://cdn.jsdelivr.net/npm/hls.js@${this.version}/dist/hls.min.js`;\n        const Hls = (yield loadSDK(url, 'Hls'));\n        if (!Hls.isSupported()) {\n          this.vmError.emit('hls.js is not supported');\n          return;\n        }\n        this.hls = new Hls(this.config);\n        this.hls.on(Hls.Events.MEDIA_ATTACHED, () => {\n          this.hasAttached = true;\n          this.onSrcChange();\n        });\n        this.hls.on(Hls.Events.AUDIO_TRACKS_UPDATED, () => {\n          this.dispatch('audioTracks', this.hls.audioTracks);\n          this.dispatch('currentAudioTrack', this.hls.audioTrack);\n        });\n        this.hls.on(Hls.Events.AUDIO_TRACK_SWITCHED, () => {\n          this.dispatch('currentAudioTrack', this.hls.audioTrack);\n        });\n        this.hls.on(Hls.Events.ERROR, (event, data) => {\n          if (data.fatal) {\n            switch (data.type) {\n              case Hls.ErrorTypes.NETWORK_ERROR:\n                this.hls.startLoad();\n                break;\n              case Hls.ErrorTypes.MEDIA_ERROR:\n                this.hls.recoverMediaError();\n                break;\n              default:\n                this.destroyHls();\n                break;\n            }\n          }\n          this.vmError.emit({ event, data });\n        });\n        this.hls.on(Hls.Events.MANIFEST_PARSED, () => {\n          this.dispatch('mediaType', MediaType.Video);\n          this.dispatch('currentSrc', this.src);\n          this.dispatchLevels();\n        });\n        this.hls.on(Hls.Events.LEVEL_LOADED, (_, data) => {\n          if (!this.playbackReady) {\n            this.dispatch('duration', data.details.totalduration);\n            this.dispatch('playbackReady', true);\n          }\n        });\n        this.hls.attachMedia(this.mediaEl);\n      }\n      catch (e) {\n        this.vmError.emit(e);\n      }\n    });\n  }\n  dispatchLevels() {\n    if (!this.hls.levels || this.hls.levels.length === 0)\n      return;\n    this.dispatch('playbackQualities', [\n      'Auto',\n      ...this.hls.levels.map(this.levelToPlaybackQuality),\n    ]);\n    this.dispatch('playbackQuality', 'Auto');\n  }\n  levelToPlaybackQuality(level) {\n    return level === -1 ? 'Auto' : `${level.height}p`;\n  }\n  findLevelIndexFromQuality(quality) {\n    return this.hls.levels.findIndex((level) => this.levelToPlaybackQuality(level) === quality);\n  }\n  destroyHls() {\n    var _a;\n    (_a = this.hls) === null || _a === void 0 ? void 0 : _a.destroy();\n    this.hasAttached = false;\n  }\n  onMediaElChange(event) {\n    return __awaiter$f(this, void 0, void 0, function* () {\n      this.destroyHls();\n      if (isUndefined(event.detail))\n        return;\n      this.mediaEl = event.detail;\n      // Need a small delay incase the media element changes rapidly and Hls.js can't reattach.\n      setTimeout(() => __awaiter$f(this, void 0, void 0, function* () {\n        yield this.setupHls();\n      }), 50);\n    });\n  }\n  onSrcChange() {\n    var _a;\n    return __awaiter$f(this, void 0, void 0, function* () {\n      if (this.hasAttached && this.hls.url !== this.src) {\n        this.vmLoadStart.emit();\n        (_a = this.hls) === null || _a === void 0 ? void 0 : _a.loadSource(this.src);\n      }\n    });\n  }\n  /** @internal */\n  getAdapter() {\n    var _a, _b;\n    return __awaiter$f(this, void 0, void 0, function* () {\n      const adapter = (_b = (yield ((_a = this.videoProvider) === null || _a === void 0 ? void 0 : _a.getAdapter()))) !== null && _b !== void 0 ? _b : {};\n      const canVideoProviderPlay = adapter.canPlay;\n      return Object.assign(Object.assign({}, adapter), { getInternalPlayer: () => __awaiter$f(this, void 0, void 0, function* () { return this.hls; }), canPlay: (type) => __awaiter$f(this, void 0, void 0, function* () {\n          var _c;\n          return (isString(type) && hlsRegex.test(type)) ||\n            ((_c = canVideoProviderPlay === null || canVideoProviderPlay === void 0 ? void 0 : canVideoProviderPlay(type)) !== null && _c !== void 0 ? _c : false);\n        }), canSetPlaybackQuality: () => __awaiter$f(this, void 0, void 0, function* () { var _d, _e; return ((_e = (_d = this.hls) === null || _d === void 0 ? void 0 : _d.levels) === null || _e === void 0 ? void 0 : _e.length) > 0; }), setPlaybackQuality: (quality) => __awaiter$f(this, void 0, void 0, function* () {\n          if (!isUndefined(this.hls)) {\n            this.hls.currentLevel = this.findLevelIndexFromQuality(quality);\n            // Update the provider cache.\n            this.dispatch('playbackQuality', quality);\n          }\n        }), setCurrentAudioTrack: (trackId) => __awaiter$f(this, void 0, void 0, function* () {\n          if (!isUndefined(this.hls)) {\n            this.hls.audioTrack = trackId;\n          }\n        }) });\n    });\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-video\", { willAttach: true, crossOrigin: this.crossOrigin, preload: this.preload, poster: this.poster, controlsList: this.controlsList, autoPiP: this.autoPiP, disablePiP: this.disablePiP, disableRemotePlayback: this.disableRemotePlayback, mediaTitle: this.mediaTitle, ref: (el) => {\n        this.videoProvider = el;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n};\n\n/**\n * INSPIRED BY: https://github.com/shoelace-style/shoelace/blob/next/src/components/icon-library/icon-library-registry.ts\n */\nconst ICONS_BASE_CDN_URL = 'https://cdn.jsdelivr.net/npm/@vime/core@latest/icons';\nconst registry = new Map(Object.entries({\n  vime: iconName => `${ICONS_BASE_CDN_URL}/vime/vm-${iconName}.svg`,\n  material: iconName => `${ICONS_BASE_CDN_URL}/material/md-${iconName}.svg`,\n}));\nconst watch = new Set();\nfunction withIconRegistry(component) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(component);\n  createStencilHook(component, () => {\n    watch.add(el);\n  }, () => {\n    watch.delete(el);\n  });\n}\nconst getIconLibraryResolver = (name) => registry.get(name);\nfunction registerIconLibrary(name, resolver) {\n  if (!isUndefined(resolver)) {\n    registry.set(name, resolver);\n  }\n  // Redraw watched icons.\n  watch.forEach(iconEl => {\n    if (iconEl.library === name)\n      iconEl.redraw();\n  });\n}\nfunction deregisterIconLibrary(name) {\n  registry.delete(name);\n}\n\n/**\n * INSPIRED BY: https://github.com/shoelace-style/shoelace/blob/next/src/components/icon/request.ts\n */\nvar __awaiter$e = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst iconFiles = new Map();\nconst requestIcon = (url) => {\n  if (iconFiles.has(url))\n    return iconFiles.get(url);\n  const request = fetch(url).then((response) => __awaiter$e(void 0, void 0, void 0, function* () {\n    if (response.ok) {\n      const div = document.createElement('div');\n      div.innerHTML = yield response.text();\n      const svg = div.firstElementChild;\n      return {\n        ok: response.ok,\n        status: response.status,\n        svg: svg && svg.tagName.toLowerCase() === 'svg' ? svg.outerHTML : '',\n      };\n    }\n    return {\n      ok: response.ok,\n      status: response.status,\n    };\n  }));\n  iconFiles.set(url, request);\n  return request;\n};\n\nconst iconCss = \":host{display:inline-block;width:1em;height:1em;contain:strict;box-sizing:content-box !important}.icon,svg{display:block;height:100%;width:100%;transition:var(--vm-icon-transition);transform:var(--vm-icon-transform);fill:var(--vm-icon-fill, currentColor);stroke:var(--vm-icon-stroke)}\";\n\n/**\n * INSPIRED BY: https://github.com/shoelace-style/shoelace/blob/next/src/components/icon/icon.tsx\n */\nvar __awaiter$d = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst parser = new DOMParser();\nconst Icon = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmLoad = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoad\", 7);\n    this.vmError = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmError\", 7);\n    /** @internal */\n    this.icons = 'material';\n    withComponentRegistry(this);\n    withIconRegistry(this);\n  }\n  handleChange() {\n    this.setIcon();\n  }\n  connectedCallback() {\n    withPlayerContext(this, ['icons']);\n  }\n  componentDidLoad() {\n    this.setIcon();\n  }\n  /**\n   * @internal Fetches the icon and redraws it. Used to handle library registrations.\n   */\n  redraw() {\n    return __awaiter$d(this, void 0, void 0, function* () {\n      this.setIcon();\n    });\n  }\n  getLabel() {\n    let label = '';\n    if (this.label) {\n      label = this.label;\n    }\n    else if (this.name) {\n      label = this.name.replace(/-/g, ' ');\n    }\n    else if (this.src) {\n      label = this.src\n        .replace(/.*\\//, '')\n        .replace(/-/g, ' ')\n        .replace(/\\.svg/i, '');\n    }\n    return label;\n  }\n  setIcon() {\n    var _a;\n    return __awaiter$d(this, void 0, void 0, function* () {\n      const resolver = getIconLibraryResolver((_a = this.library) !== null && _a !== void 0 ? _a : this.icons);\n      let url = this.src;\n      if (this.name && resolver) {\n        url = resolver(this.name);\n      }\n      if (url) {\n        try {\n          const file = yield requestIcon(url);\n          if (file.ok) {\n            const doc = parser.parseFromString(file.svg, 'text/html');\n            const svg = doc.body.querySelector('svg');\n            if (svg) {\n              this.svg = svg.outerHTML;\n              this.vmLoad.emit();\n            }\n            else {\n              this.svg = '';\n              this.vmError.emit({ status: file.status });\n            }\n          }\n        }\n        catch (_b) {\n          this.vmError.emit();\n        }\n      }\n    });\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"icon\", role: \"img\", \"aria-label\": this.getLabel(), innerHTML: this.svg }));\n  }\n  static get watchers() { return {\n    \"name\": [\"handleChange\"],\n    \"src\": [\"handleChange\"],\n    \"library\": [\"handleChange\"],\n    \"icons\": [\"handleChange\"]\n  }; }\n  static get style() { return iconCss; }\n};\n\nconst IconLibrary = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /** @internal */\n    this.icons = 'material';\n    withComponentRegistry(this);\n    withPlayerContext(this, ['icons']);\n  }\n  handleUpdate() {\n    this.register();\n  }\n  connectedCallback() {\n    this.register();\n  }\n  disconnectedCallback() {\n    if (!isUndefined(this.name))\n      deregisterIconLibrary(this.name);\n  }\n  register() {\n    var _a;\n    registerIconLibrary((_a = this.name) !== null && _a !== void 0 ? _a : this.icons, this.name ? this.resolver : undefined);\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"name\": [\"handleUpdate\"],\n    \"resolver\": [\"handleUpdate\"],\n    \"icons\": [\"handleUpdate\"]\n  }; }\n};\n\nconst liveIndicatorCss = \".liveIndicator{display:flex;align-items:center;font-size:13px;font-weight:bold;letter-spacing:0.6px;color:var(--vm-control-color)}.liveIndicator.hidden{display:none}.indicator{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:4px;background-color:var(--vm-live-indicator-color, red)}\";\n\nconst LiveIndicator = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /** @internal */\n    this.isLive = false;\n    /** @internal */\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isLive', 'i18n']);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        liveIndicator: true,\n        hidden: !this.isLive,\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"indicator\" }), this.i18n.live));\n  }\n  static get style() { return liveIndicatorCss; }\n};\n\nconst loadingScreenCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-loading-screen-z-index);display:flex;align-items:center;justify-content:center}.loadingScreen{opacity:100;transition:var(--vm-fade-transition)}.loadingScreen.inactive{opacity:0}.dotPulse{position:relative;left:-9999px;width:var(--vm-loading-screen-dot-size);height:var(--vm-loading-screen-dot-size);border-radius:calc(var(--vm-loading-screen-dot-size) / 2);background-color:var(--vm-loading-screen-dot-color);color:var(--vm-loading-screen-dot-color);box-shadow:9999px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n    var(--vm-loading-screen-dot-color);animation:dotPulse var(--vm-loading-screen-pulse-duration) infinite linear;animation-delay:calc(var(--vm-loading-screen-pulse-duration) / 6)}.dotPulse::before,.dotPulse::after{content:'';display:inline-block;position:absolute;top:0;width:var(--vm-loading-screen-dot-size);height:var(--vm-loading-screen-dot-size);border-radius:calc(var(--vm-loading-screen-dot-size) / 2);background-color:var(--vm-loading-screen-dot-color);color:var(--vm-loading-screen-dot-color)}.dotPulse::before{box-shadow:9984px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n    var(--vm-loading-screen-dot-color);animation:dotPulseBefore var(--vm-loading-screen-pulse-duration) infinite\\n    linear;animation-delay:0s}.dotPulse::after{box-shadow:10014px 0 0 calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n    var(--vm-loading-screen-dot-color);animation:dotPulseAfter var(--vm-loading-screen-pulse-duration) infinite\\n    linear;animation-delay:calc(var(--vm-loading-screen-pulse-duration) / 3)}@keyframes dotPulseBefore{0%{box-shadow:9984px 0 0\\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n      var(--vm-loading-screen-dot-color)}30%{box-shadow:9984px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:9984px 0 0\\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n      var(--vm-loading-screen-dot-color)}}@keyframes dotPulse{0%{box-shadow:9999px 0 0\\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n      var(--vm-loading-screen-dot-color)}30%{box-shadow:9999px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:9999px 0 0\\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n      var(--vm-loading-screen-dot-color)}}@keyframes dotPulseAfter{0%{box-shadow:10014px 0 0\\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n      var(--vm-loading-screen-dot-color)}30%{box-shadow:10014px 0 0 2px var(--vm-loading-screen-dot-color)}60%,100%{box-shadow:10014px 0 0\\n      calc(calc(var(--vm-loading-screen-dot-size) / 2) * -1)\\n      var(--vm-loading-screen-dot-color)}}\";\n\nconst LoadingScreen = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /** @internal */\n    this.playbackReady = false;\n    /**\n     * Whether the loading dots are hidden or not.\n     */\n    this.hideDots = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['playbackReady']);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        loadingScreen: true,\n        inactive: this.playbackReady,\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null), !this.hideDots && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"dotPulse\" })));\n  }\n  static get style() { return loadingScreenCss; }\n};\n\nfunction unwrapSubmenu(el) {\n  if (el.tagName.toLowerCase() !== 'vm-submenu')\n    return el;\n  const submenu = el;\n  return submenu.shadowRoot.querySelector('vm-menu-item');\n}\nfunction unwrapRadioGroup(el) {\n  var _a;\n  if (el.tagName.toLowerCase() !== 'vm-menu-radio-group')\n    return el;\n  const radioGroup = el;\n  const slot = radioGroup.shadowRoot.querySelector('slot');\n  const assignedElements = Array.from((_a = slot === null || slot === void 0 ? void 0 : slot.assignedElements()) !== null && _a !== void 0 ? _a : []);\n  return assignedElements\n    .filter(radio => radio.tagName.toLowerCase() === 'vm-menu-radio')\n    .map(radio => radio.shadowRoot.querySelector('vm-menu-item'));\n}\nfunction menuItemHunter(assignedElements) {\n  if (isUndefined(assignedElements))\n    return [];\n  const allowed = ['vm-menu-item', 'vm-menu-radio-group', 'vm-submenu'];\n  return Array.from(assignedElements !== null && assignedElements !== void 0 ? assignedElements : [])\n    .filter(el => allowed.includes(el.tagName.toLowerCase()))\n    .map(el => unwrapSubmenu(el))\n    .map(el => unwrapRadioGroup(el))\n    .reduce((acc, val) => acc.concat(val), []);\n}\n\nconst menuCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none;z-index:var(--vm-menu-z-index)}:host([active]){pointer-events:auto;z-index:calc(var(--vm-menu-z-index) + 1)}.menu{position:absolute;top:0;left:0;width:100%;height:100%;box-sizing:border-box;transition:var(--vm-menu-transition)}.menu.slideIn{transform:translateX(0)}.menu[aria-hidden='true'].slideInFromLeft{transform:translateX(-100%)}.menu[aria-hidden='true'].slideInFromRight{transform:translateX(100%)}.container{display:flex;flex-direction:column;position:relative;text-align:left;width:100%;height:100%;color:var(--vm-menu-color);background:var(--vm-menu-bg);font-size:var(--vm-menu-font-size);font-weight:var(--vm-menu-font-weight)}.menu:focus{outline:0}\";\n\nvar __awaiter$c = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst Menu = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmOpen = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmOpen\", 7);\n    this.vmClose = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmClose\", 7);\n    this.vmFocus = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmBlur\", 7);\n    this.vmActiveSubmenuChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmActiveSubmenuChange\", 7);\n    this.vmActiveMenuItemChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmActiveMenuItemChange\", 7);\n    this.vmMenuHeightChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmMenuHeightChange\", 3);\n    this.hasDisconnected = false;\n    /**\n     * Whether the menu is open/visible.\n     */\n    this.active = false;\n    withComponentRegistry(this);\n  }\n  onActiveMenuitemChange() {\n    this.vmActiveMenuItemChange.emit(this.activeMenuItem);\n  }\n  onActiveSubmenuChange() {\n    this.vmActiveSubmenuChange.emit(this.activeSubmenu);\n  }\n  onActiveChange() {\n    var _a;\n    if (this.hasDisconnected)\n      return;\n    this.active ? this.vmOpen.emit(this.host) : this.vmClose.emit(this.host);\n    if (((_a = this.controller) === null || _a === void 0 ? void 0 : _a.tagName.toLowerCase()) === 'vm-menu-item') {\n      this.controller.expanded = true;\n    }\n  }\n  connectedCallback() {\n    this.hasDisconnected = false;\n  }\n  componentDidRender() {\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n      if (!this.hasDisconnected)\n        this.calculateHeight();\n    });\n  }\n  disconnectedCallback() {\n    this.controller = undefined;\n    this.hasDisconnected = true;\n  }\n  /**\n   * Focuses the menu.\n   */\n  focusMenu() {\n    var _a;\n    return __awaiter$c(this, void 0, void 0, function* () {\n      (_a = this.menu) === null || _a === void 0 ? void 0 : _a.focus();\n    });\n  }\n  /**\n   * Removes focus from the menu.\n   */\n  blurMenu() {\n    var _a;\n    return __awaiter$c(this, void 0, void 0, function* () {\n      (_a = this.menu) === null || _a === void 0 ? void 0 : _a.blur();\n    });\n  }\n  /**\n   * Returns the currently focused menu item.\n   */\n  getActiveMenuItem() {\n    return __awaiter$c(this, void 0, void 0, function* () {\n      return this.activeMenuItem;\n    });\n  }\n  /**\n   * Sets the currently focused menu item.\n   */\n  setActiveMenuItem(item) {\n    return __awaiter$c(this, void 0, void 0, function* () {\n      item === null || item === void 0 ? void 0 : item.focusItem();\n      this.activeMenuItem = item;\n    });\n  }\n  /**\n   * Calculates the height of the settings menu based on its children.\n   */\n  calculateHeight() {\n    var _a, _b;\n    return __awaiter$c(this, void 0, void 0, function* () {\n      let height = 0;\n      if (this.activeSubmenu) {\n        const submenu = yield this.activeSubmenu.getMenu();\n        height = (_a = (yield (submenu === null || submenu === void 0 ? void 0 : submenu.calculateHeight()))) !== null && _a !== void 0 ? _a : 0;\n        height += yield this.activeSubmenu.getControllerHeight();\n      }\n      else {\n        const children = ((_b = this.container) === null || _b === void 0 ? void 0 : _b.firstChild).assignedElements({ flatten: true });\n        children === null || children === void 0 ? void 0 : children.forEach(child => {\n          height += parseFloat(window.getComputedStyle(child).height);\n        });\n      }\n      this.vmMenuHeightChange.emit(height);\n      return height;\n    });\n  }\n  onOpenSubmenu(event) {\n    event.stopPropagation();\n    if (!isUndefined(this.activeSubmenu))\n      this.activeSubmenu.active = false;\n    this.activeSubmenu = event.detail;\n    this.getChildren().forEach(child => {\n      if (child !== this.activeSubmenu) {\n        child.style.opacity = '0';\n        child.style.visibility = 'hidden';\n      }\n    });\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n      this.activeSubmenu.active = true;\n    });\n  }\n  onCloseSubmenu(event) {\n    event === null || event === void 0 ? void 0 : event.stopPropagation();\n    if (!isUndefined(this.activeSubmenu))\n      this.activeSubmenu.active = false;\n    this.getChildren().forEach(child => {\n      if (child !== this.activeSubmenu) {\n        child.style.opacity = '';\n        child.style.visibility = '';\n      }\n    });\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n      this.activeSubmenu = undefined;\n    });\n  }\n  onWindowClick() {\n    this.onCloseSubmenu();\n    this.onClose();\n  }\n  onWindowKeyDown(event) {\n    if (this.active && event.key === 'Escape') {\n      this.onCloseSubmenu();\n      this.onClose();\n      this.focusController();\n    }\n  }\n  getChildren() {\n    var _a;\n    const assignedElements = (_a = this.host\n      .shadowRoot.querySelector('slot')) === null || _a === void 0 ? void 0 : _a.assignedElements({ flatten: true });\n    return (assignedElements !== null && assignedElements !== void 0 ? assignedElements : []);\n  }\n  getMenuItems() {\n    var _a;\n    const assignedElements = (_a = this.host\n      .shadowRoot.querySelector('slot')) === null || _a === void 0 ? void 0 : _a.assignedElements({ flatten: true });\n    return menuItemHunter(assignedElements);\n  }\n  focusController() {\n    var _a, _b, _c, _d, _e;\n    if (!isUndefined((_a = this.controller) === null || _a === void 0 ? void 0 : _a.focusItem)) {\n      (_b = this.controller) === null || _b === void 0 ? void 0 : _b.focusItem();\n    }\n    else if (!isUndefined((_c = this.controller) === null || _c === void 0 ? void 0 : _c.focusControl)) {\n      (_d = this.controller) === null || _d === void 0 ? void 0 : _d.focusControl();\n    }\n    else {\n      (_e = this.controller) === null || _e === void 0 ? void 0 : _e.focus();\n    }\n  }\n  triggerMenuItem() {\n    var _a;\n    if (isUndefined(this.activeMenuItem))\n      return;\n    this.activeMenuItem.click();\n    // If it controls a menu then focus it essentially opening it.\n    (_a = this.activeMenuItem.menu) === null || _a === void 0 ? void 0 : _a.focusMenu();\n  }\n  onClose() {\n    this.activeMenuItem = undefined;\n    this.active = false;\n  }\n  onClick(event) {\n    // Stop the event from propagating while playing with menu so that when it is clicked outside\n    // the menu we can close it in the `onWindowClick` handler above.\n    event.stopPropagation();\n  }\n  onFocus() {\n    var _a;\n    this.active = true;\n    [this.activeMenuItem] = this.getMenuItems();\n    (_a = this.activeMenuItem) === null || _a === void 0 ? void 0 : _a.focusItem();\n    this.vmFocus.emit();\n  }\n  onBlur() {\n    this.vmBlur.emit();\n  }\n  foucsMenuItem(items, index) {\n    if (index < 0)\n      index = items.length - 1;\n    if (index > items.length - 1)\n      index = 0;\n    this.activeMenuItem = items[index];\n    this.activeMenuItem.focusItem();\n  }\n  onKeyDown(event) {\n    if (!this.active)\n      return;\n    event.preventDefault();\n    event.stopPropagation();\n    const items = this.getMenuItems();\n    let index = items.findIndex(item => item === this.activeMenuItem);\n    switch (event.key) {\n      case 'Escape':\n        this.onClose();\n        this.focusController();\n        break;\n      case 'ArrowDown':\n      case 'Tab':\n        this.foucsMenuItem(items, (index += 1));\n        break;\n      case 'ArrowUp':\n        this.foucsMenuItem(items, (index -= 1));\n        break;\n      case 'ArrowLeft':\n        this.onClose();\n        this.focusController();\n        break;\n      case 'ArrowRight':\n      case 'Enter':\n      case ' ':\n        this.triggerMenuItem();\n        break;\n      case 'Home':\n      case 'PageUp':\n        this.foucsMenuItem(items, 0);\n        break;\n      case 'End':\n      case 'PageDown':\n        this.foucsMenuItem(items, items.length - 1);\n        break;\n    }\n  }\n  render() {\n    var _a, _b, _c;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { id: this.identifier, class: {\n        menu: true,\n        slideIn: !isUndefined(this.slideInDirection),\n        slideInFromLeft: this.slideInDirection === 'left',\n        slideInFromRight: this.slideInDirection === 'right',\n      }, role: \"menu\", tabindex: \"-1\", \"aria-labelledby\": (_b = (_a = this.controller) === null || _a === void 0 ? void 0 : _a.identifier) !== null && _b !== void 0 ? _b : (_c = this.controller) === null || _c === void 0 ? void 0 : _c.id, \"aria-hidden\": !this.active ? 'true' : 'false', onFocus: this.onFocus.bind(this), onBlur: this.onBlur.bind(this), onClick: this.onClick.bind(this), onKeyDown: this.onKeyDown.bind(this), ref: el => {\n        this.menu = el;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"container\", ref: el => {\n        this.container = el;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null))));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"activeMenuItem\": [\"onActiveMenuitemChange\"],\n    \"activeSubmenu\": [\"onActiveSubmenuChange\"],\n    \"active\": [\"onActiveChange\"]\n  }; }\n  static get style() { return menuCss; }\n};\n\nconst menuItemCss = \":host{display:block}.menuItem{display:flex;position:relative;align-items:center;flex-direction:row;cursor:pointer;color:var(--vm-menu-color);background:var(--vm-menu-bg);font-size:var(--vm-menu-font-size);font-weight:var(--vm-menu-font-weight);padding:var(--vm-menu-item-padding);touch-action:manipulation;box-sizing:border-box}.menuItem:focus{outline:0}.menuItem.hidden{display:none}.menuItem.tapHighlight{background:var(--vm-menu-item-tap-highlight)}.menuItem.showDivider{border-bottom:0.5px solid var(--vm-menu-item-divider-color)}.menuItem.notTouch:hover,.menuItem.notTouch:focus{outline:0;color:var(--vm-menu-item-focus-color);background-color:var(--vm-menu-item-focus-bg)}.menuItem[aria-expanded='true']{position:absolute;z-index:2;top:0;width:100%}.menuItem[aria-hidden='true']{display:none}.menuItem[aria-checked='true'] vm-icon{opacity:1;visibility:visible}vm-icon{display:inline-block}vm-icon{fill:currentColor;pointer-events:none;font-size:var(--vm-menu-item-check-icon-size);margin-right:10px;opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.hint{display:inline-block;margin-left:auto;overflow:hidden;pointer-events:none;margin-right:6px;font-size:var(--vm-menu-item-hint-font-size);opacity:var(--vm-menu-item-hint-opacity);color:var(--vm-menu-item-hint-color)}.badge{display:inline-block;line-height:1;overflow:hidden;pointer-events:none;margin-left:6px;color:var(--vm-menu-item-badge-color);background:var(--vm-menu-item-badge-bg);font-size:var(--vm-menu-item-badge-font-size)}.spacer{flex:1}.arrow{color:var(--vm-menu-item-arrow-color);border:2px solid;padding:2px;display:inline-block;border-width:0 2px 2px 0}.arrow.left{margin-right:6px;transform:rotate(135deg)}.arrow.right{transform:rotate(-45deg);opacity:0.38}\";\n\nvar __awaiter$b = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst MenuItem = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmFocus = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmBlur\", 7);\n    this.showTapHighlight = false;\n    /**\n     * Whether the item is displayed or not.\n     */\n    this.hidden = false;\n    /**\n     * The name of the checkmark icon to resolve from the icon library.\n     */\n    this.checkIcon = 'check';\n    /** @internal */\n    this.isTouch = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isTouch']);\n  }\n  /**\n   * Focuses the menu item.\n   */\n  focusItem() {\n    var _a;\n    return __awaiter$b(this, void 0, void 0, function* () {\n      (_a = this.menuItem) === null || _a === void 0 ? void 0 : _a.focus();\n    });\n  }\n  /**\n   * Removes focus from the menu item.\n   */\n  blurItem() {\n    var _a;\n    return __awaiter$b(this, void 0, void 0, function* () {\n      (_a = this.menuItem) === null || _a === void 0 ? void 0 : _a.blur();\n    });\n  }\n  /**\n   * Returns the height of the menu item.\n   */\n  getHeight() {\n    return __awaiter$b(this, void 0, void 0, function* () {\n      return parseFloat(this.menuItem ? window.getComputedStyle(this.menuItem).height : '0');\n    });\n  }\n  onClick() {\n    if (!isNil(this.menu))\n      this.menu.active = !this.expanded;\n  }\n  onFocus() {\n    this.vmFocus.emit();\n  }\n  onBlur() {\n    this.vmBlur.emit();\n  }\n  onTouchStart() {\n    this.showTapHighlight = true;\n  }\n  onTouchEnd() {\n    setTimeout(() => {\n      this.showTapHighlight = false;\n    }, 100);\n  }\n  onMouseLeave() {\n    var _a;\n    (_a = this.menuItem) === null || _a === void 0 ? void 0 : _a.blur();\n  }\n  render() {\n    var _a, _b, _c, _d;\n    const isCheckedDefined = !isUndefined(this.checked);\n    const isMenuDefined = !isUndefined(this.menu);\n    const hasExpanded = this.expanded ? 'true' : 'false';\n    const isChecked = this.checked ? 'true' : 'false';\n    const showCheckedIcon = isCheckedDefined && !isUndefined(this.checkIcon);\n    const showLeftNavArrow = isMenuDefined && this.expanded;\n    const showRightNavArrow = isMenuDefined && !this.expanded;\n    const showHint = !isUndefined(this.hint) &&\n      !isCheckedDefined &&\n      (!isMenuDefined || !this.expanded);\n    const showBadge = !isUndefined(this.badge) && !showHint && !showRightNavArrow;\n    const hasSpacer = showHint || showRightNavArrow;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        menuItem: true,\n        notTouch: !this.isTouch,\n        tapHighlight: this.showTapHighlight,\n        showDivider: isMenuDefined && ((_a = this.expanded) !== null && _a !== void 0 ? _a : false),\n      }, id: this.identifier, role: isCheckedDefined ? 'menuitemradio' : 'menuitem', tabindex: \"0\", \"aria-label\": this.label, \"aria-hidden\": this.hidden ? 'true' : 'false', \"aria-haspopup\": isMenuDefined ? 'true' : undefined, \"aria-controls\": (_c = (_b = this.menu) === null || _b === void 0 ? void 0 : _b.identifier) !== null && _c !== void 0 ? _c : (_d = this.menu) === null || _d === void 0 ? void 0 : _d.id, \"aria-expanded\": isMenuDefined ? hasExpanded : undefined, \"aria-checked\": isCheckedDefined ? isChecked : undefined, onClick: this.onClick.bind(this), onFocus: this.onFocus.bind(this), onBlur: this.onBlur.bind(this), onTouchStart: this.onTouchStart.bind(this), onTouchEnd: this.onTouchEnd.bind(this), onMouseLeave: this.onMouseLeave.bind(this), ref: el => {\n        this.menuItem = el;\n      } }, showCheckedIcon && ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-icon\", { name: this.checkIcon, library: this.icons })), showLeftNavArrow && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"arrow left\" }), this.label, hasSpacer && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"spacer\" }), showHint && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"hint\" }, this.hint), showBadge && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"badge\" }, this.badge), showRightNavArrow && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"arrow right\" })));\n  }\n  get host() { return this; }\n  static get style() { return menuItemCss; }\n};\n\nconst MenuRadio = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmCheck = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCheck\", 7);\n    /**\n     * Whether the radio item is selected or not.\n     */\n    this.checked = false;\n    /**\n     * The URL to an SVG element or fragment to load.\n     */\n    this.checkIcon = 'check';\n    withComponentRegistry(this);\n  }\n  onClick() {\n    this.checked = true;\n    this.vmCheck.emit();\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-item\", { label: this.label, checked: this.checked, badge: this.badge, checkIcon: this.checkIcon, icons: this.icons, onClick: this.onClick.bind(this) }));\n  }\n};\n\nconst MenuRadioGroup = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmCheck = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCheck\", 7);\n    withComponentRegistry(this);\n  }\n  onValueChange() {\n    var _a;\n    (_a = this.findRadios()) === null || _a === void 0 ? void 0 : _a.forEach(radio => {\n      radio.checked = radio.value === this.value;\n    });\n  }\n  connectedCallback() {\n    this.onValueChange();\n  }\n  componentDidLoad() {\n    this.onValueChange();\n  }\n  onSelectionChange(event) {\n    const radio = event.target;\n    this.value = radio.value;\n  }\n  findRadios() {\n    var _a;\n    return (_a = this.host\n      .shadowRoot.querySelector('slot')) === null || _a === void 0 ? void 0 : _a.assignedElements();\n  }\n  render() {\n    return (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null);\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"value\": [\"onValueChange\"]\n  }; }\n};\n\nconst MuteControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmFocus = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmBlur\", 7);\n    /**\n     * The name of the low volume icon to resolve from the icon library.\n     */\n    this.lowVolumeIcon = 'volume-low';\n    /**\n     * The name of the high volume icon to resolve from the icon library.\n     */\n    this.highVolumeIcon = 'volume-high';\n    /**\n     * The name of the muted volume icon to resolve from the icon library.\n     */\n    this.mutedIcon = 'volume-mute';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n    this.hideTooltip = false;\n    /** @inheritdoc */\n    this.keys = 'm';\n    /** @internal */\n    this.volume = 50;\n    /** @internal */\n    this.muted = false;\n    /** @internal */\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['muted', 'volume', 'i18n']);\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n  getIcon() {\n    const volumeIcon = this.volume < 50 ? this.lowVolumeIcon : this.highVolumeIcon;\n    return this.muted || this.volume === 0 ? this.mutedIcon : volumeIcon;\n  }\n  onClick() {\n    this.dispatch('muted', !this.muted);\n  }\n  render() {\n    const tooltip = this.muted ? this.i18n.unmute : this.i18n.mute;\n    const tooltipWithHint = !isUndefined(this.keys)\n      ? `${tooltip} (${this.keys})`\n      : tooltip;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control\", { label: this.i18n.mute, pressed: this.muted, keys: this.keys, onClick: this.onClick.bind(this) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-icon\", { name: this.getIcon(), library: this.icons }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-tooltip\", { hidden: this.hideTooltip, position: this.tooltipPosition, direction: this.tooltipDirection }, tooltipWithHint)));\n  }\n};\n\nconst pipControlCss = \":host([hidden]){display:none}\";\n\nvar __awaiter$a = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst PiPControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.canSetPiP = false;\n    /**\n     * The name of the enter pip icon to resolve from the icon library.\n     */\n    this.enterIcon = 'pip-enter';\n    /**\n     * The name of the exit pip icon to resolve from the icon library.\n     */\n    this.exitIcon = 'pip-exit';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n    this.hideTooltip = false;\n    /** @inheritdoc */\n    this.keys = 'p';\n    /** @internal */\n    this.isPiPActive = false;\n    /** @internal */\n    this.i18n = {};\n    /** @internal */\n    this.playbackReady = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isPiPActive', 'playbackReady', 'i18n']);\n  }\n  onPlaybackReadyChange() {\n    var _a;\n    return __awaiter$a(this, void 0, void 0, function* () {\n      const player = getPlayerFromRegistry(this);\n      this.canSetPiP = (_a = (yield (player === null || player === void 0 ? void 0 : player.canSetPiP()))) !== null && _a !== void 0 ? _a : false;\n    });\n  }\n  componentDidLoad() {\n    this.onPlaybackReadyChange();\n  }\n  onClick() {\n    const player = getPlayerFromRegistry(this);\n    !this.isPiPActive ? player === null || player === void 0 ? void 0 : player.enterPiP() : player === null || player === void 0 ? void 0 : player.exitPiP();\n  }\n  render() {\n    const tooltip = this.isPiPActive ? this.i18n.exitPiP : this.i18n.enterPiP;\n    const tooltipWithHint = !isUndefined(this.keys)\n      ? `${tooltip} (${this.keys})`\n      : tooltip;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.Host, { hidden: !this.canSetPiP }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control\", { label: this.i18n.pip, keys: this.keys, pressed: this.isPiPActive, hidden: !this.canSetPiP, onClick: this.onClick.bind(this) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-icon\", { name: this.isPiPActive ? this.exitIcon : this.enterIcon, library: this.icons }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-tooltip\", { hidden: this.hideTooltip, position: this.tooltipPosition, direction: this.tooltipDirection }, tooltipWithHint))));\n  }\n  static get watchers() { return {\n    \"playbackReady\": [\"onPlaybackReadyChange\"]\n  }; }\n  static get style() { return pipControlCss; }\n};\n\nconst PlaybackControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * The name of the play icon to resolve from the icon library.\n     */\n    this.playIcon = 'play';\n    /**\n     * The name of the pause icon to resolve from the icon library.\n     */\n    this.pauseIcon = 'pause';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n    this.hideTooltip = false;\n    /** @inheritdoc */\n    this.keys = 'k';\n    /** @internal */\n    this.paused = true;\n    /** @internal */\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['paused', 'i18n']);\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n  }\n  onClick() {\n    this.dispatch('paused', !this.paused);\n  }\n  render() {\n    const tooltip = this.paused ? this.i18n.play : this.i18n.pause;\n    const tooltipWithHint = !isUndefined(this.keys)\n      ? `${tooltip} (${this.keys})`\n      : tooltip;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control\", { label: this.i18n.playback, keys: this.keys, pressed: !this.paused, onClick: this.onClick.bind(this) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-icon\", { name: this.paused ? this.playIcon : this.pauseIcon, library: this.icons }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-tooltip\", { hidden: this.hideTooltip, position: this.tooltipPosition, direction: this.tooltipDirection }, tooltipWithHint)));\n  }\n};\n\nclass Logger {\n  constructor() {\n    this.silent = false;\n  }\n  log(...args) {\n    if (!this.silent && !isUndefined(console))\n      console.log('[Vime tip]:', ...args);\n  }\n  warn(...args) {\n    if (!this.silent && !isUndefined(console))\n      console.error('[Vime warn]:', ...args);\n  }\n}\n\nconst players = new Set();\nfunction withAutopause(player) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(player);\n  createStencilHook(player, () => {\n    players.add(el);\n  }, () => {\n    players.delete(el);\n  });\n}\nfunction autopause(player) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(player);\n  players.forEach(p => {\n    if (p !== el && p.autopause)\n      p.paused = true;\n  });\n}\n\n/* eslint-disable func-names */\nfunction withPlayerEvents(player) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(player);\n  const cache = new Map();\n  function initCache() {\n    Object.keys(initialState).forEach(prop => {\n      cache.set(prop, player[prop]);\n    });\n  }\n  createStencilHook(player, () => {\n    initCache();\n  }, () => {\n    cache.clear();\n  });\n  const { componentDidRender } = player;\n  player.componentDidRender = function () {\n    componentDidRender === null || componentDidRender === void 0 ? void 0 : componentDidRender();\n    const props = Array.from(cache.keys());\n    for (let i = 0; i < props.length; i += 1) {\n      const prop = props[i];\n      const oldValue = cache.get(prop);\n      const newValue = player[prop];\n      if (oldValue !== newValue) {\n        firePlayerEvent(el, prop, newValue, oldValue);\n        cache.set(prop, newValue);\n      }\n    }\n  };\n}\n\nvar __awaiter$9 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n// These changes need to be called immediately to avoid the browser blocking the request.\nconst immediateAdapterCall = new Set(['currentTime', 'paused']);\nfunction withPlayerScheduler(player) {\n  const el = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.getElement)(player);\n  const disposal = new Disposal();\n  const cache = new Map();\n  function initCache() {\n    Object.keys(initialState).forEach(prop => {\n      cache.set(prop, player[prop]);\n    });\n  }\n  // Queue of adapter calls to be run when the media is ready for playback.\n  let adapterCalls = [];\n  function flushAdapterCalls() {\n    return __awaiter$9(this, void 0, void 0, function* () {\n      const adapter = yield player.adapter;\n      if (isUndefined(adapter))\n        return;\n      for (let i = 0; i < adapterCalls.length; i += 1) {\n        // eslint-disable-next-line no-await-in-loop\n        yield adapterCalls[i](adapter);\n      }\n      adapterCalls = [];\n    });\n  }\n  let hasMediaChanged = false;\n  function onMediaChange(e) {\n    e === null || e === void 0 ? void 0 : e.stopImmediatePropagation();\n    // Don't reset first time otherwise props intialized by the user will be reset.\n    if (!hasMediaChanged) {\n      hasMediaChanged = true;\n      return;\n    }\n    adapterCalls = [];\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n      Object.keys(initialState)\n        .filter(shouldPropResetOnMediaChange)\n        .forEach(prop => {\n        player[prop] = initialState[prop];\n      });\n    });\n  }\n  function onStateChange(event) {\n    var _a;\n    return __awaiter$9(this, void 0, void 0, function* () {\n      event.stopImmediatePropagation();\n      const { by, prop, value } = event.detail;\n      if (!isWritableProp(prop)) {\n        (_a = player.logger) === null || _a === void 0 ? void 0 : _a.warn(`${by.nodeName} tried to change \\`${prop}\\` but it is readonly.`);\n        return;\n      }\n      if (!player.playbackStarted && immediateAdapterCall.has(prop)) {\n        const adapter = yield player.adapter;\n        if (prop === 'paused' && !value) {\n          adapter === null || adapter === void 0 ? void 0 : adapter.play();\n        }\n        if (prop === 'currentTime') {\n          adapter === null || adapter === void 0 ? void 0 : adapter.play();\n          adapter === null || adapter === void 0 ? void 0 : adapter.setCurrentTime(value);\n        }\n      }\n      (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n        player[prop] = value;\n      });\n    });\n  }\n  // Called by ProviderConnect.\n  const { onProviderDisconnect } = player;\n  player.onProviderDisconnect = function () {\n    onMediaChange();\n    if (onProviderDisconnect)\n      onProviderDisconnect.call(player);\n  };\n  createStencilHook(player, () => {\n    initCache();\n    disposal.add(listen(el, LOAD_START_EVENT, onMediaChange));\n    disposal.add(listen(el, STATE_CHANGE_EVENT, onStateChange));\n  }, () => {\n    cache.clear();\n    disposal.empty();\n  });\n  wrapStencilHook(player, 'componentWillRender', () => __awaiter$9(this, void 0, void 0, function* () {\n    if (player.playbackReady && adapterCalls.length > 0)\n      yield flushAdapterCalls();\n  }));\n  function isAdapterCallRequired(prop, value) {\n    var _a;\n    return value !== ((_a = player[PROVIDER_CACHE_KEY]) === null || _a === void 0 ? void 0 : _a.get(prop));\n  }\n  return function safeAdapterCall(prop, method) {\n    return __awaiter$9(this, void 0, void 0, function* () {\n      if (!isAdapterCallRequired(prop, player[prop]))\n        return;\n      const value = player[prop];\n      const safeCall = (adapter) => __awaiter$9(this, void 0, void 0, function* () {\n        var _a;\n        try {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore\n          yield ((_a = adapter === null || adapter === void 0 ? void 0 : adapter[method]) === null || _a === void 0 ? void 0 : _a.call(adapter, value));\n        }\n        catch (e) {\n          el.dispatchEvent(new CustomEvent('vmError', { detail: e }));\n        }\n      });\n      if (player.playbackReady) {\n        yield safeCall(yield player.adapter);\n      }\n      else {\n        adapterCalls.push(safeCall);\n      }\n    });\n  };\n}\n\nconst playerCss = \".player{box-sizing:border-box;direction:ltr;font-family:var(--vm-player-font-family);-moz-osx-font-smoothing:auto;-webkit-font-smoothing:subpixel-antialiased;-webkit-tap-highlight-color:transparent;font-variant-numeric:tabular-nums;font-weight:500;line-height:1.7;width:100%;display:block;max-width:100%;min-width:275px;min-height:40px;position:relative;text-shadow:none;outline:0;transition:box-shadow 0.3s ease;box-shadow:var(--vm-player-box-shadow);border-radius:var(--vm-player-border-radius)}.player.idle{cursor:none}.player.audio{background-color:transparent !important}.player.video{height:0;overflow:hidden;background-color:var(--vm-player-bg, #000)}.player.fullscreen{margin:0;border-radius:0;width:100%;height:100%;padding-bottom:0 !important}.blocker{position:absolute;top:0;left:0;width:100%;height:100%;display:inline-block;z-index:var(--vm-blocker-z-index)}\";\n\nvar __awaiter$8 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nlet idCount$3 = 0;\nconst Player = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmThemeChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmThemeChange\", 7);\n    this.vmPausedChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPausedChange\", 7);\n    this.vmPlay = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlay\", 7);\n    this.vmPlayingChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlayingChange\", 7);\n    this.vmSeekingChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmSeekingChange\", 7);\n    this.vmSeeked = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmSeeked\", 7);\n    this.vmBufferingChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmBufferingChange\", 7);\n    this.vmDurationChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmDurationChange\", 7);\n    this.vmCurrentTimeChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCurrentTimeChange\", 7);\n    this.vmReady = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmReady\", 7);\n    this.vmPlaybackReady = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlaybackReady\", 7);\n    this.vmPlaybackStarted = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlaybackStarted\", 7);\n    this.vmPlaybackEnded = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlaybackEnded\", 7);\n    this.vmBufferedChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmBufferedChange\", 7);\n    this.vmError = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmError\", 7);\n    this.vmLoadStart = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmCurrentProviderChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCurrentProviderChange\", 7);\n    this.vmCurrentSrcChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCurrentSrcChange\", 7);\n    this.vmCurrentPosterChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCurrentPosterChange\", 7);\n    this.vmMediaTitleChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmMediaTitleChange\", 7);\n    this.vmControlsChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmControlsChange\", 7);\n    this.vmPlaybackRateChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlaybackRateChange\", 7);\n    this.vmPlaybackRatesChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlaybackRatesChange\", 7);\n    this.vmPlaybackQualityChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlaybackQualityChange\", 7);\n    this.vmPlaybackQualitiesChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPlaybackQualitiesChange\", 7);\n    this.vmMutedChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmMutedChange\", 7);\n    this.vmVolumeChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmVolumeChange\", 7);\n    this.vmViewTypeChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmViewTypeChange\", 7);\n    this.vmMediaTypeChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmMediaTypeChange\", 7);\n    this.vmLiveChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLiveChange\", 7);\n    this.vmTouchChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmTouchChange\", 7);\n    this.vmLanguageChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLanguageChange\", 7);\n    this.vmI18nChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmI18nChange\", 7);\n    this.vmTranslationsChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmTranslationsChange\", 7);\n    this.vmLanguagesChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLanguagesChange\", 7);\n    this.vmFullscreenChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmFullscreenChange\", 7);\n    this.vmPiPChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmPiPChange\", 7);\n    this.vmTextTracksChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmTextTracksChange\", 7);\n    this.vmCurrentTextTrackChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCurrentTextTrackChange\", 7);\n    this.vmTextTrackVisibleChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmTextTrackVisibleChange\", 7);\n    this.vmAudioTracksChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmAudioTracksChange\", 7);\n    this.vmCurrentAudioTrackChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCurrentAudioTrackChange\", 7);\n    this.disposal = new Disposal();\n    /**\n     * ------------------------------------------------------\n     * Props\n     * ------------------------------------------------------\n     */\n    /** @internal @readonly */\n    this.logger = new Logger();\n    /** @inheritDoc */\n    this.icons = 'vime';\n    /** @inheritDoc */\n    this.paused = true;\n    /** @inheritDoc @readonly */\n    this.playing = false;\n    /** @inheritDoc @readonly */\n    this.duration = -1;\n    /** @inheritDoc */\n    this.currentTime = 0;\n    /** @inheritDoc */\n    this.autoplay = false;\n    /** @inheritDoc @readonly */\n    this.ready = false;\n    /** @inheritDoc @readonly */\n    this.playbackReady = false;\n    /** @inheritDoc */\n    this.loop = false;\n    /** @inheritDoc */\n    this.muted = false;\n    /** @inheritDoc @readonly */\n    this.buffered = 0;\n    /** @inheritDoc */\n    this.playbackRate = 1;\n    this.lastRateCheck = 1;\n    /** @inheritDoc @readonly */\n    this.playbackRates = [1];\n    /** @inheritDoc @readonly */\n    this.playbackQualities = [];\n    /** @inheritDoc @readonly */\n    this.seeking = false;\n    /** @inheritDoc */\n    this.debug = false;\n    /** @inheritDoc @readonly */\n    this.playbackStarted = false;\n    /** @inheritDoc @readonly */\n    this.playbackEnded = false;\n    /** @inheritDoc @readonly */\n    this.buffering = false;\n    /** @inheritDoc */\n    this.controls = false;\n    /** @inheritDoc */\n    this.isControlsActive = false;\n    /** @inheritDoc @readonly */\n    this.isSettingsActive = false;\n    /** @inheritDoc */\n    this.volume = 50;\n    /** @inheritDoc @readonly */\n    this.isFullscreenActive = false;\n    /** @inheritDoc */\n    this.aspectRatio = '16:9';\n    /** @inheritDoc @readonly */\n    this.isAudioView = false;\n    /** @inheritDoc @readonly */\n    this.isVideoView = false;\n    /** @inheritDoc @readonly */\n    this.isAudio = false;\n    /** @inheritDoc @readonly */\n    this.isVideo = false;\n    /** @inheritDoc @readonly */\n    this.isLive = false;\n    /** @inheritDoc @readonly */\n    this.isMobile = false;\n    /** @inheritDoc @readonly */\n    this.isTouch = false;\n    /** @inheritDoc @readonly */\n    this.isPiPActive = false;\n    /** @inheritDoc @readonly */\n    this.textTracks = [];\n    /** @inheritDoc @readonly */\n    this.currentTextTrack = -1;\n    /** @inheritDoc @readonly */\n    this.isTextTrackVisible = true;\n    /** @inheritDoc */\n    this.shouldRenderNativeTextTracks = true;\n    /** @inheritDoc @readonly */\n    this.audioTracks = [];\n    /** @inheritDoc @readonly */\n    this.currentAudioTrack = -1;\n    /** @inheritDoc */\n    this.autopause = true;\n    /** @inheritDoc */\n    this.playsinline = false;\n    /** @inheritDoc */\n    this.language = 'en';\n    /** @inheritDoc */\n    this.translations = { en };\n    /** @inheritDoc @readonly */\n    this.languages = ['en'];\n    /** @inheritDoc @readonly */\n    this.i18n = en;\n    withFindPlayer(this);\n    withComponentRegistrar(this);\n    withAutopause(this);\n    withProviderHost(this);\n    withPlayerEvents(this);\n    this.safeAdapterCall = withPlayerScheduler(this);\n  }\n  get adapter() {\n    var _a;\n    return (_a = this.provider) === null || _a === void 0 ? void 0 : _a.getAdapter();\n  }\n  onContainerChange() {\n    var _a;\n    (_a = this.fullscreenController) === null || _a === void 0 ? void 0 : _a.destroy();\n    if (isUndefined(this.container))\n      return;\n    this.fullscreenController = new FullscreenController(this.container);\n    this.fullscreenController.on('change', isActive => {\n      this.isFullscreenActive = isActive;\n      if (isActive)\n        this.rotateDevice();\n    });\n    this.fullscreenController.on('error', error => {\n      this.vmError.emit(error);\n    });\n  }\n  onPausedChange() {\n    if (this.paused) {\n      this.playing = false;\n    }\n    else {\n      autopause(this);\n    }\n    this.safeAdapterCall('paused', !this.paused ? 'play' : 'pause');\n  }\n  onDurationChange() {\n    this.isLive = this.duration === Infinity;\n  }\n  onCurrentTimeChange() {\n    const duration = this.playbackReady ? this.duration : Infinity;\n    this.currentTime = Math.max(0, Math.min(this.currentTime, duration));\n    this.safeAdapterCall('currentTime', 'setCurrentTime');\n  }\n  onPlaybackReadyChange() {\n    if (!this.ready)\n      this.ready = true;\n  }\n  onMutedChange() {\n    this.safeAdapterCall('muted', 'setMuted');\n  }\n  onPlaybackRateChange(newRate, prevRate) {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      if (newRate === this.lastRateCheck)\n        return;\n      if (!(yield ((_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.canSetPlaybackRate) === null || _b === void 0 ? void 0 : _b.call(_a)))) {\n        this.logger.log('provider cannot change `playbackRate`.');\n        this.lastRateCheck = prevRate;\n        this.playbackRate = prevRate;\n        return;\n      }\n      if (!this.playbackRates.includes(newRate)) {\n        this.logger.log(`invalid \\`playbackRate\\` of ${newRate}, ` +\n          `valid values are [${this.playbackRates.join(', ')}]`);\n        this.lastRateCheck = prevRate;\n        this.playbackRate = prevRate;\n        return;\n      }\n      this.lastRateCheck = newRate;\n      this.safeAdapterCall('playbackRate', 'setPlaybackRate');\n    });\n  }\n  onPlaybackQualityChange(newQuality, prevQuality) {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      if (isUndefined(newQuality) || newQuality === this.lastQualityCheck)\n        return;\n      if (!(yield ((_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.canSetPlaybackQuality) === null || _b === void 0 ? void 0 : _b.call(_a)))) {\n        this.logger.log('provider cannot change `playbackQuality`.');\n        this.lastQualityCheck = prevQuality;\n        this.playbackQuality = prevQuality;\n        return;\n      }\n      if (!this.playbackQualities.includes(newQuality)) {\n        this.logger.log(`invalid \\`playbackQuality\\` of ${newQuality}, ` +\n          `valid values are [${this.playbackQualities.join(', ')}]`);\n        this.lastQualityCheck = prevQuality;\n        this.playbackQuality = prevQuality;\n        return;\n      }\n      this.lastQualityCheck = newQuality;\n      this.safeAdapterCall('playbackQuality', 'setPlaybackQuality');\n    });\n  }\n  onDebugChange() {\n    this.logger.silent = !this.debug;\n  }\n  onVolumeChange() {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      this.volume = Math.max(0, Math.min(this.volume, 100));\n      this.safeAdapterCall('volume', 'setVolume');\n    });\n  }\n  onViewTypeChange() {\n    this.isAudioView = this.viewType === ViewType.Audio;\n    this.isVideoView = this.viewType === ViewType.Video;\n  }\n  onMediaTypeChange() {\n    this.isAudio = this.mediaType === MediaType.Audio;\n    this.isVideo = this.mediaType === MediaType.Video;\n  }\n  onLanguageChange(_, prevLanguage) {\n    if (!this.languages.includes(this.language)) {\n      this.logger.log(`invalid \\`language\\` of ${this.language}, ` +\n        `valid values are [${this.languages.join(', ')}]`);\n      this.language = prevLanguage;\n      return;\n    }\n    this.i18n = this.translations[this.language];\n  }\n  onTranslationsChange() {\n    Object.assign(this.translations, { en });\n    this.languages = Object.keys(this.translations);\n    this.i18n = this.translations[this.language];\n  }\n  onError(event) {\n    this.logger.warn(event.detail);\n  }\n  /**\n   * ------------------------------------------------------\n   * Methods\n   * ------------------------------------------------------\n   */\n  /** @inheritDoc */\n  getProvider() {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return this.provider;\n    });\n  }\n  /** @internal */\n  getAdapter() {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return this.adapter;\n    });\n  }\n  /** @inheritDoc */\n  play() {\n    var _a;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.play();\n    });\n  }\n  /** @inheritDoc */\n  pause() {\n    var _a;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.pause();\n    });\n  }\n  /** @inheritDoc */\n  canPlay(type) {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.canPlay(type)) !== null && _b !== void 0 ? _b : false;\n    });\n  }\n  /** @inheritDoc */\n  canAutoplay() {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return canAutoplay();\n    });\n  }\n  /** @inheritDoc */\n  canMutedAutoplay() {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return canAutoplay(true);\n    });\n  }\n  /** @inheritDoc */\n  canSetPlaybackRate() {\n    var _a, _b, _c;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (_c = (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.canSetPlaybackRate) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null && _c !== void 0 ? _c : false;\n    });\n  }\n  /** @inheritDoc */\n  canSetPlaybackQuality() {\n    var _a, _b, _c;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (_c = (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.canSetPlaybackQuality) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null && _c !== void 0 ? _c : false;\n    });\n  }\n  /** @inheritDoc */\n  canSetFullscreen() {\n    var _a, _b, _c;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (this.fullscreenController.isSupported ||\n        ((_c = (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.canSetFullscreen) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null && _c !== void 0 ? _c : false));\n    });\n  }\n  /** @inheritDoc */\n  enterFullscreen(options) {\n    var _a, _b, _c;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      if (!this.isVideoView) {\n        throw Error('Cannot enter fullscreen on an audio player view.');\n      }\n      if (this.fullscreenController.isSupported) {\n        return this.fullscreenController.requestFullscreen();\n      }\n      const adapter = yield this.adapter;\n      const canProviderSetFullscreen = (_b = (yield ((_a = adapter === null || adapter === void 0 ? void 0 : adapter.canSetFullscreen) === null || _a === void 0 ? void 0 : _a.call(adapter)))) !== null && _b !== void 0 ? _b : false;\n      if (canProviderSetFullscreen) {\n        return (_c = adapter === null || adapter === void 0 ? void 0 : adapter.enterFullscreen) === null || _c === void 0 ? void 0 : _c.call(adapter, options);\n      }\n      throw Error('Fullscreen API is not available.');\n    });\n  }\n  /** @inheritDoc */\n  exitFullscreen() {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      if (this.fullscreenController.isSupported) {\n        return this.fullscreenController.exitFullscreen();\n      }\n      return (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.exitFullscreen) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n  }\n  /** @inheritDoc */\n  canSetPiP() {\n    var _a, _b, _c;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (_c = (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.canSetPiP) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null && _c !== void 0 ? _c : false;\n    });\n  }\n  /** @inheritDoc */\n  enterPiP() {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      if (!this.isVideoView)\n        throw Error('Cannot enter PiP mode on an audio player view.');\n      if (!(yield this.canSetPiP()))\n        throw Error('Picture-in-Picture API is not available.');\n      return (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.enterPiP) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n  }\n  /** @inheritDoc */\n  exitPiP() {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.exitPiP) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n  }\n  /** @inheritDoc */\n  canSetAudioTrack() {\n    var _a;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return !isUndefined((_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.setCurrentAudioTrack);\n    });\n  }\n  /** @inheritDoc */\n  setCurrentAudioTrack(trackId) {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.setCurrentAudioTrack) === null || _b === void 0 ? void 0 : _b.call(_a, trackId);\n    });\n  }\n  /** @inheritDoc */\n  canSetTextTrack() {\n    var _a;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return !isUndefined((_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.setCurrentTextTrack);\n    });\n  }\n  /** @inheritDoc */\n  setCurrentTextTrack(trackId) {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.setCurrentTextTrack) === null || _b === void 0 ? void 0 : _b.call(_a, trackId);\n    });\n  }\n  /** @inheritDoc */\n  canSetTextTrackVisibility() {\n    var _a;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return !isUndefined((_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.setTextTrackVisibility);\n    });\n  }\n  /** @inheritDoc */\n  setTextTrackVisibility(isVisible) {\n    var _a, _b;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      (_b = (_a = (yield this.adapter)) === null || _a === void 0 ? void 0 : _a.setTextTrackVisibility) === null || _b === void 0 ? void 0 : _b.call(_a, isVisible);\n    });\n  }\n  /** @inheritDoc */\n  extendLanguage(language, translation) {\n    var _a;\n    return __awaiter$8(this, void 0, void 0, function* () {\n      const translations = Object.assign(Object.assign({}, this.translations), { [language]: Object.assign(Object.assign({}, ((_a = this.translations[language]) !== null && _a !== void 0 ? _a : {})), translation) });\n      this.translations = translations;\n    });\n  }\n  connectedCallback() {\n    this.onPausedChange();\n    this.onCurrentTimeChange();\n    this.onVolumeChange();\n    this.onMutedChange();\n    this.onDebugChange();\n    this.onContainerChange();\n    this.onTranslationsChange();\n    this.onLanguageChange(this.language, initialState.language);\n    this.disposal.add(onMobileChange(isMobile => {\n      this.isMobile = isMobile;\n    }));\n    this.disposal.add(onTouchInputChange(isTouch => {\n      this.isTouch = isTouch;\n    }));\n  }\n  componentWillLoad() {\n    Universe.create(this, this.getPlayerState());\n  }\n  disconnectedCallback() {\n    var _a;\n    (_a = this.fullscreenController) === null || _a === void 0 ? void 0 : _a.destroy();\n    this.disposal.empty();\n  }\n  rotateDevice() {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      if (!this.isMobile || !canRotateScreen())\n        return;\n      try {\n        if (this.isFullscreenActive) {\n          yield window.screen.orientation.lock('landscape');\n        }\n        else {\n          yield window.screen.orientation.unlock();\n        }\n      }\n      catch (err) {\n        this.vmError.emit(err);\n      }\n    });\n  }\n  getPlayerState() {\n    const state = {};\n    const props = Object.keys(initialState);\n    for (let i = 0; i < props.length; i += 1) {\n      state[props[i]] = this[props[i]];\n    }\n    return state;\n  }\n  calcAspectRatio() {\n    const [width, height] = /\\d{1,2}:\\d{1,2}/.test(this.aspectRatio)\n      ? this.aspectRatio.split(':')\n      : [16, 9];\n    return (100 / Number(width)) * Number(height);\n  }\n  /**\n   * Returns the inner container.\n   */\n  getContainer() {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return this.container;\n    });\n  }\n  /** @internal Exposed for E2E testing. */\n  callAdapter(method, value) {\n    return __awaiter$8(this, void 0, void 0, function* () {\n      return (yield this.adapter)[method](value);\n    });\n  }\n  hasCustomControls() {\n    return isComponentRegistered(this, 'vm-controls');\n  }\n  genId() {\n    var _a;\n    const id = (_a = this.host) === null || _a === void 0 ? void 0 : _a.id;\n    if (isString(id) && id.length > 0)\n      return id;\n    idCount$3 += 1;\n    return `vm-player-${idCount$3}`;\n  }\n  render() {\n    const label = `${this.isAudioView ? 'Audio Player' : 'Video Player'}` +\n      `${!isUndefined(this.mediaTitle) ? ` - ${this.mediaTitle}` : ''}`;\n    const canShowCustomUI = !IS_IOS ||\n      !this.isVideoView ||\n      (this.playsinline && !this.isFullscreenActive);\n    if (!canShowCustomUI) {\n      this.controls = true;\n    }\n    const isIdle = canShowCustomUI &&\n      this.hasCustomControls() &&\n      this.isVideoView &&\n      !this.paused &&\n      !this.isControlsActive;\n    const isBlockerVisible = !this.controls && canShowCustomUI && this.isVideoView;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.Host, { id: this.genId(), idle: isIdle, mobile: this.isMobile, touch: this.isTouch, live: this.isLive, audio: this.isAudioView, video: this.isVideoView, pip: this.isPiPActive, fullscreen: this.isFullscreenActive }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { \"aria-label\": label, \"aria-hidden\": !this.ready ? 'true' : 'false', \"aria-busy\": !this.playbackReady ? 'true' : 'false', class: {\n        player: true,\n        idle: isIdle,\n        audio: this.isAudioView,\n        video: this.isVideoView,\n        fullscreen: this.isFullscreenActive,\n      }, style: {\n        paddingBottom: this.isVideoView\n          ? `${this.calcAspectRatio()}%`\n          : undefined,\n      }, ref: el => {\n        (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n          this.container = el;\n        });\n      } }, isBlockerVisible && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"blocker\" }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(Universe.Provider, { state: this.getPlayerState() }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)))));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"container\": [\"onContainerChange\"],\n    \"paused\": [\"onPausedChange\"],\n    \"duration\": [\"onDurationChange\"],\n    \"currentTime\": [\"onCurrentTimeChange\"],\n    \"playbackReady\": [\"onPlaybackReadyChange\"],\n    \"muted\": [\"onMutedChange\"],\n    \"playbackRate\": [\"onPlaybackRateChange\"],\n    \"playbackQuality\": [\"onPlaybackQualityChange\"],\n    \"debug\": [\"onDebugChange\"],\n    \"volume\": [\"onVolumeChange\"],\n    \"viewType\": [\"onViewTypeChange\"],\n    \"isAudioView\": [\"onViewTypeChange\"],\n    \"isVideoView\": [\"onViewTypeChange\"],\n    \"mediaType\": [\"onMediaTypeChange\"],\n    \"language\": [\"onLanguageChange\"],\n    \"translations\": [\"onTranslationsChange\"]\n  }; }\n  static get style() { return playerCss; }\n};\n\nconst posterCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-poster-z-index)}.poster{width:100%;height:100%;background:#000;opacity:0;visibility:hidden;pointer-events:none;transition:var(--vm-fade-transition)}.poster.hidden{display:none}.poster.active{opacity:1;visibility:visible}img{width:100%;height:100%;pointer-events:none}\";\n\nconst Poster = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmLoaded = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoaded\", 3);\n    this.vmWillShow = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmWillShow\", 3);\n    this.vmWillHide = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmWillHide\", 3);\n    this.isHidden = true;\n    this.isActive = false;\n    this.hasLoaded = false;\n    /**\n     * How the poster image should be resized to fit the container (sets the `object-fit` property).\n     */\n    this.fit = 'cover';\n    /** @internal */\n    this.isVideoView = false;\n    /** @internal */\n    this.playbackStarted = false;\n    /** @internal */\n    this.currentTime = 0;\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'mediaTitle',\n      'currentPoster',\n      'playbackStarted',\n      'currentTime',\n      'isVideoView',\n    ]);\n  }\n  onCurrentPosterChange() {\n    var _a;\n    this.hasLoaded = false;\n    (_a = this.lazyLoader) === null || _a === void 0 ? void 0 : _a.onMutation();\n  }\n  connectedCallback() {\n    this.lazyLoader = new LazyLoader(this.host, ['data-src', 'src'], el => {\n      const src = el.getAttribute('data-src');\n      el.removeAttribute('src');\n      if (!isNull(src)) {\n        el.setAttribute('src', src);\n      }\n    });\n    this.onEnabledChange();\n    this.onActiveChange();\n  }\n  disconnectedCallback() {\n    this.lazyLoader.destroy();\n  }\n  onVisibilityChange() {\n    !this.isHidden && this.isActive\n      ? this.vmWillShow.emit()\n      : this.vmWillHide.emit();\n  }\n  onEnabledChange() {\n    this.isHidden = !this.isVideoView;\n    this.onVisibilityChange();\n  }\n  onActiveChange() {\n    this.isActive = !this.playbackStarted || this.currentTime <= 0.1;\n    this.onVisibilityChange();\n  }\n  onPosterLoad() {\n    this.vmLoaded.emit();\n    this.hasLoaded = true;\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        poster: true,\n        hidden: this.isHidden,\n        active: this.isActive && this.hasLoaded,\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"img\", { class: \"lazy\", \"data-src\": this.currentPoster, alt: !isUndefined(this.mediaTitle)\n        ? `${this.mediaTitle} Poster`\n        : 'Media Poster', style: { objectFit: this.fit }, onLoad: this.onPosterLoad.bind(this) })));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"currentPoster\": [\"onCurrentPosterChange\"],\n    \"isVideoView\": [\"onEnabledChange\"],\n    \"currentTime\": [\"onActiveChange\"],\n    \"playbackStarted\": [\"onActiveChange\"]\n  }; }\n  static get style() { return posterCss; }\n};\n\nconst scrimCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-scrim-z-index)}.scrim{position:absolute;width:100%;background:var(--vm-scrim-bg);display:inline-block;opacity:0;visibility:hidden;transition:var(--vm-fade-transition)}.scrim.gradient{height:258px;background:none;background-position:bottom;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAECCAYAAAA/9r2TAAABKklEQVQ4T2XI50cFABiF8dvee++67b33uM17b1MkkSSSSBJJJIkkkkQSSSKJ9Efmeb8cr86HH88JBP4thkfEkiKOFPGkSCCNRE8SKZJJkUIaqZ40UqSTIoMUmaSR5ckmRQ4pckkjz5NPigJSFJKiiDSKPSWkKCVFGWmUeypIUUmKKlJUk0aNJ0iKWlLUkUa9p4EUjaRoIkUzabR4WknRRop20ujwdJKiixTdpOghjV5PHyn6STFAGoOeIVIMk2KEFKOkMeYZJ8UEKUKkMemZIsU0KWZIMUsac54wKSKkiJLGvGeBFIukWCLFMrkCq7AG67ABm7AF27ADu7AH+3AAh3AEx3ACp3AG53ABl3AF13ADt3AH9/AAj/AEz/ACr/AG7/ABn/AF3/ADv39LujSyJPVJ0QAAAABJRU5ErkJggg==')}.scrim.gradientUp{top:unset;bottom:0}.scrim.gradientDown{transform:rotate(180deg)}.scrim.hidden{display:none}.scrim.active{opacity:1;visibility:visible}\";\n\nconst Scrim = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /** @internal */\n    this.isVideoView = false;\n    /** @internal */\n    this.isControlsActive = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isVideoView', 'isControlsActive']);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        scrim: true,\n        gradient: !isUndefined(this.gradient),\n        gradientUp: this.gradient === 'up',\n        gradientDown: this.gradient === 'down',\n        hidden: !this.isVideoView,\n        active: this.isControlsActive,\n      } }));\n  }\n  static get style() { return scrimCss; }\n};\n\nconst getHours = (value) => Math.trunc((value / 60 / 60) % 60);\nconst getMinutes = (value) => Math.trunc((value / 60) % 60);\nconst getSeconds = (value) => Math.trunc(value % 60);\nconst formatTime = (seconds = 0, alwaysShowHours = false) => {\n  // Format time component to add leading zero.\n  const format = (value) => `0${value}`.slice(-2);\n  const hours = getHours(seconds);\n  const mins = getMinutes(seconds);\n  const secs = getSeconds(seconds);\n  return `${alwaysShowHours || hours > 0 ? `${hours}:` : ''}${format(mins)}:${format(secs)}`;\n};\n\nconst scrubberControlCss = \":host{--vm-tooltip-spacing:var(--vm-scrubber-tooltip-spacing);flex:1;position:relative;cursor:pointer;pointer-events:auto;box-sizing:border-box;left:calc(var(--vm-slider-thumb-width) / 2);margin-right:var(--vm-slider-thumb-width);margin-bottom:var(--vm-slider-track-height)}@keyframes progress{to{background-position:var(--vm-scrubber-loading-stripe-size) 0}}.scrubber{position:relative;width:100%}vm-slider,progress{margin-left:calc(calc(var(--vm-slider-thumb-width) / 2) * -1);margin-right:calc(calc(var(--vm-slider-thumb-width) / 2) * -1);width:calc(100% + var(--vm-slider-thumb-width));height:var(--vm-slider-track-height)}vm-slider:hover,progress:hover{cursor:pointer}vm-slider{position:absolute;top:0;left:0;z-index:3}progress{-webkit-appearance:none;background:transparent;border:0;border-radius:100px;position:absolute;left:0;top:50%;padding:0;color:var(--vm-scrubber-buffered-bg);height:var(--vm-slider-track-height)}progress::-webkit-progress-bar{background:transparent}progress::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:var(--vm-slider-track-height);transition:width 0.2s ease}progress::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:var(--vm-slider-track-height);transition:width 0.2s ease}progress::-ms-fill{border-radius:100px;transition:width 0.2s ease}progress.loading{animation:progress 1s linear infinite;background-image:linear-gradient(\\n    -45deg,\\n    var(--vm-scrubber-loading-stripe-color) 25%,\\n    transparent 25%,\\n    transparent 50%,\\n    var(--vm-scrubber-loading-stripe-color) 50%,\\n    var(--vm-scrubber-loading-stripe-color) 75%,\\n    transparent 75%,\\n    transparent\\n  );background-repeat:repeat-x;background-size:var(--vm-scrubber-loading-stripe-size)\\n    var(--vm-scrubber-loading-stripe-size);color:transparent;background-color:transparent}\";\n\nvar __awaiter$7 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst ScrubberControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.keyboardDisposal = new Disposal();\n    this.timestamp = '';\n    this.endTime = 0;\n    /**\n     * Whether the timestamp in the tooltip should show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n    this.alwaysShowHours = false;\n    /**\n     * Whether the tooltip should not be displayed.\n     */\n    this.hideTooltip = false;\n    /** @internal */\n    this.currentTime = 0;\n    /** @internal */\n    this.duration = -1;\n    /**\n     * Prevents seeking forward/backward by using the Left/Right arrow keys.\n     */\n    this.noKeyboard = false;\n    /** @internal */\n    this.buffering = false;\n    /** @internal */\n    this.buffered = 0;\n    /** @internal */\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'i18n',\n      'currentTime',\n      'duration',\n      'buffering',\n      'buffered',\n    ]);\n  }\n  onNoKeyboardChange() {\n    return __awaiter$7(this, void 0, void 0, function* () {\n      this.keyboardDisposal.empty();\n      if (this.noKeyboard)\n        return;\n      const player = yield findPlayer(this);\n      if (isUndefined(player))\n        return;\n      const onKeyDown = (event) => {\n        if (event.key !== 'ArrowLeft' && event.key !== 'ArrowRight')\n          return;\n        event.preventDefault();\n        const isLeftArrow = event.key === 'ArrowLeft';\n        const seekTo = isLeftArrow\n          ? Math.max(0, this.currentTime - 5)\n          : Math.min(this.duration, this.currentTime + 5);\n        this.dispatch('currentTime', seekTo);\n      };\n      this.keyboardDisposal.add(listen(player, 'keydown', onKeyDown));\n    });\n  }\n  onDurationChange() {\n    // Avoid -1.\n    this.endTime = Math.max(0, this.duration);\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    this.timestamp = formatTime(this.currentTime, this.alwaysShowHours);\n    this.onNoKeyboardChange();\n  }\n  disconnectedCallback() {\n    this.keyboardDisposal.empty();\n  }\n  setTooltipPosition(value) {\n    var _a, _b;\n    const tooltipRect = (_b = (_a = this.tooltip.shadowRoot) === null || _a === void 0 ? void 0 : _a.querySelector('.tooltip')) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect();\n    const bounds = this.slider.getBoundingClientRect();\n    const thumbWidth = parseFloat(window\n      .getComputedStyle(this.slider)\n      .getPropertyValue('--vm-slider-thumb-width'));\n    const leftLimit = tooltipRect.width / 2 - thumbWidth / 2;\n    const rightLimit = bounds.width - tooltipRect.width / 2 - thumbWidth / 2;\n    const xPos = Math.max(leftLimit, Math.min(value, rightLimit));\n    this.tooltip.style = `--vm-tooltip-left: ${xPos}px`;\n  }\n  onSeek(event) {\n    this.dispatch('currentTime', event.detail);\n  }\n  onSeeking(event) {\n    if (this.duration < 0 || this.tooltip.hidden)\n      return;\n    if (event.type === 'mouseleave') {\n      this.getSliderInput().blur();\n      this.tooltip.active = false;\n      return;\n    }\n    const rect = this.host.getBoundingClientRect();\n    const percent = Math.max(0, Math.min(100, (100 / rect.width) * (event.pageX - rect.left)));\n    this.timestamp = formatTime((this.duration / 100) * percent, this.alwaysShowHours);\n    this.setTooltipPosition((percent / 100) * rect.width);\n    if (!this.tooltip.active) {\n      this.getSliderInput().focus();\n      this.tooltip.active = true;\n    }\n  }\n  getSliderInput() {\n    var _a;\n    return (_a = this.slider.shadowRoot) === null || _a === void 0 ? void 0 : _a.querySelector('input');\n  }\n  render() {\n    const sliderValueText = this.i18n.scrubberLabel\n      .replace(/{currentTime}/, formatTime(this.currentTime))\n      .replace(/{duration}/, formatTime(this.endTime));\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"scrubber\", onMouseEnter: this.onSeeking.bind(this), onMouseLeave: this.onSeeking.bind(this), onMouseMove: this.onSeeking.bind(this), onTouchMove: () => {\n        this.getSliderInput().focus();\n      }, onTouchEnd: () => {\n        this.getSliderInput().blur();\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-slider\", { step: 0.01, max: this.endTime, value: this.currentTime, label: this.i18n.scrubber, valueText: sliderValueText, onVmValueChange: this.onSeek.bind(this), ref: (el) => {\n        this.slider = el;\n      } }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"progress\", { class: {\n        loading: this.buffering,\n      },\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      min: 0, max: this.endTime, value: this.buffered, \"aria-label\": this.i18n.buffered, \"aria-valuemin\": \"0\", \"aria-valuemax\": this.endTime, \"aria-valuenow\": this.buffered, \"aria-valuetext\": `${(this.endTime > 0\n        ? this.buffered / this.endTime\n        : 0).toFixed(0)}%` }, \"% buffered\"), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-tooltip\", { hidden: this.hideTooltip, ref: (el) => {\n        this.tooltip = el;\n      } }, this.timestamp)));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"noKeyboard\": [\"onNoKeyboardChange\"],\n    \"duration\": [\"onDurationChange\"]\n  }; }\n  static get style() { return scrubberControlCss; }\n};\n\nconst settingsCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-menu-z-index)}.settings{position:absolute;opacity:0;pointer-events:none;overflow-x:hidden;overflow-y:auto;background-color:var(--vm-menu-bg);max-height:var(--vm-settings-max-height);border-radius:var(--vm-settings-border-radius);padding:var(--vm-settings-padding);box-shadow:var(--vm-settings-shadow);box-sizing:border-box;scrollbar-width:thin;scroll-behavior:smooth;scrollbar-color:var(--vm-settings-scroll-thumb-color)\\n    var(--vm-settings-scroll-track-color);transform:translateY(8px);transition:var(--vm-settings-transition)}.container{display:block;width:var(--vm-settings-width);height:100%;position:relative;transition:width 0.25s ease-in, height 0.25s ease-in}.settings.hydrated{visibility:hidden !important}.settings::-webkit-scrollbar{width:var(--vm-settings-scroll-width)}.settings::-webkit-scrollbar-track{background:var(--vm-settings-scroll-track-color)}.settings::-webkit-scrollbar-thumb{border-radius:var(--vm-settings-scroll-width);background-color:var(--vm-settings-scroll-thumb-color);border:2px solid var(--vm-menu-bg)}.settings.active{transform:translateY(0);opacity:1;pointer-events:auto;visibility:visible !important}.settings.mobile{position:fixed;top:auto !important;left:0 !important;right:0 !important;bottom:0 !important;width:100%;min-height:56px;max-height:50%;border-radius:0;z-index:2147483647;transform:translateY(100%)}.settings.mobile.active{transform:translateY(0)}.settings.mobile>vm-menu{height:100% !important;overflow:auto !important}\";\n\nvar __awaiter$6 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nlet idCount$2 = 0;\nconst Settings = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.disposal = new Disposal();\n    this.menuHeight = 0;\n    /**\n     * Pins the settings to the defined position inside the video player. This has no effect when\n     * the view is of type `audio` (always `bottomRight`) and on mobile devices (always bottom sheet).\n     */\n    this.pin = 'bottomRight';\n    /**\n     * Whether the settings menu is opened/closed.\n     */\n    this.active = false;\n    /** @internal */\n    this.isMobile = false;\n    /** @internal */\n    this.isAudioView = false;\n    withComponentRegistry(this);\n    withControlsCollisionDetection(this);\n    withPlayerContext(this, ['isMobile', 'isAudioView']);\n  }\n  onActiveChange() {\n    this.dispatch('isSettingsActive', this.active);\n    if (isUndefined(this.controller))\n      return;\n    this.controller.expanded = this.active;\n  }\n  connectedCallback() {\n    this.dispatch = createDispatcher(this);\n    idCount$2 += 1;\n    this.id = `vm-settings-${idCount$2}`;\n  }\n  disconnectedCallback() {\n    this.disposal.empty();\n  }\n  /**\n   * Sets the controller responsible for opening/closing this settings menu.\n   */\n  setController(controller) {\n    return __awaiter$6(this, void 0, void 0, function* () {\n      this.controller = controller;\n      this.controller.menu = this.id;\n      this.disposal.empty();\n      this.disposal.add(listen(this.controller, 'click', () => {\n        this.active = !this.active;\n      }));\n      this.disposal.add(listen(this.controller, 'keydown', (event) => {\n        if (event.key !== 'Enter')\n          return;\n        // We're looking for !active because the `click` event above will toggle it to active.\n        if (!this.active)\n          this.menu.focusMenu();\n      }));\n    });\n  }\n  getPosition() {\n    if (this.isAudioView) {\n      return {\n        right: '0',\n        bottom: 'calc(var(--vm-controls-height, 0) + 4px)',\n      };\n    }\n    // topLeft => { top: 0, left: 0 }\n    const pos = this.pin.split(/(?=[L|R])/).map(s => s.toLowerCase());\n    return {\n      [pos.includes('top') ? 'top' : 'bottom']: 'var(--vm-controls-height, 0)',\n      [pos.includes('left') ? 'left' : 'right']: '8px',\n    };\n  }\n  onOpen(event) {\n    var _a;\n    if (((_a = event.detail) === null || _a === void 0 ? void 0 : _a.identifier) !== this.id)\n      return;\n    this.active = true;\n  }\n  onClose(event) {\n    var _a;\n    if (((_a = event.detail) === null || _a === void 0 ? void 0 : _a.identifier) !== this.id)\n      return;\n    this.active = false;\n  }\n  onHeightChange(event) {\n    this.menuHeight = event.detail;\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { style: Object.assign({}, this.getPosition()), class: {\n        settings: true,\n        active: this.active,\n        mobile: this.isMobile,\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"container\", style: { height: `${this.menuHeight}px` } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu\", { identifier: this.id, active: this.active, controller: this.controller, onVmOpen: this.onOpen.bind(this), onVmClose: this.onClose.bind(this), onVmMenuHeightChange: this.onHeightChange.bind(this), ref: (el) => {\n        this.menu = el;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)))));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"active\": [\"onActiveChange\"]\n  }; }\n  static get style() { return settingsCss; }\n};\n\nconst settingsControlCss = \".settingsControl.hidden{display:none}.settingsControl{--vm-icon-transition:transform 0.3s ease}.settingsControl.active{--vm-icon-transform:rotate(90deg)}\";\n\nvar __awaiter$5 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nlet idCount$1 = 0;\nconst SettingsControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * The name of the settings icon to resolve from the icon library.\n     */\n    this.icon = 'settings';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the settings menu this control manages is open.\n     */\n    this.expanded = false;\n    /** @internal */\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['i18n']);\n  }\n  onComponentsChange() {\n    if (!isUndefined(this.vmSettings)) {\n      this.vmSettings.setController(this.host);\n    }\n  }\n  connectedCallback() {\n    idCount$1 += 1;\n    this.id = `vm-settings-control-${idCount$1}`;\n    watchComponentRegistry(this, 'vm-settings', regs => {\n      [this.vmSettings] = regs;\n    });\n  }\n  /**\n   * Focuses the control.\n   */\n  focusControl() {\n    var _a;\n    return __awaiter$5(this, void 0, void 0, function* () {\n      (_a = this.control) === null || _a === void 0 ? void 0 : _a.focusControl();\n    });\n  }\n  /**\n   * Removes focus from the control.\n   */\n  blurControl() {\n    var _a;\n    return __awaiter$5(this, void 0, void 0, function* () {\n      (_a = this.control) === null || _a === void 0 ? void 0 : _a.blurControl();\n    });\n  }\n  render() {\n    const hasSettings = !isUndefined(this.menu);\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        settingsControl: true,\n        hidden: !hasSettings,\n        active: hasSettings && this.expanded,\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-control\", { identifier: this.id, menu: this.menu, hidden: !hasSettings, expanded: this.expanded, label: this.i18n.settings, ref: control => {\n        this.control = control;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-icon\", { name: this.icon, library: this.icons }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-tooltip\", { hidden: this.expanded, position: this.tooltipPosition, direction: this.tooltipDirection }, this.i18n.settings))));\n  }\n  get host() { return this; }\n  static get watchers() { return {\n    \"vmSettings\": [\"onComponentsChange\"]\n  }; }\n  static get style() { return settingsControlCss; }\n};\n\nconst skeletonCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-skeleton-z-index)}@keyframes sheen{0%{background-position:200% 0}to{background-position:-200% 0}}.skeleton{width:100%;height:100%;display:flex;min-height:1rem;pointer-events:auto}.sheen.hidden{opacity:0;visibility:hidden;transition:var(--vm-fade-transition);pointer-events:none}.indicator{flex:1 1 auto;background:var(--vm-skeleton-color)}.skeleton.sheen .indicator{background:linear-gradient(\\n    270deg,\\n    var(--vm-skeleton-sheen-color),\\n    var(--vm-skeleton-color),\\n    var(--vm-skeleton-color),\\n    var(--vm-skeleton-sheen-color)\\n  );background-size:400% 100%;background-size:400% 100%;animation:sheen 8s ease-in-out infinite}\";\n\nconst Skeleton = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.hidden = false;\n    /**\n     * Determines which animation effect the skeleton will use.\n     * */\n    this.effect = 'sheen';\n    /** @internal */\n    this.ready = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['ready']);\n  }\n  onReadyChange() {\n    if (!this.ready) {\n      this.hidden = false;\n    }\n    else {\n      setTimeout(() => {\n        this.hidden = true;\n      }, 500);\n    }\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        skeleton: true,\n        hidden: this.hidden,\n        sheen: this.effect === 'sheen',\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"indicator\" })));\n  }\n  static get watchers() { return {\n    \"ready\": [\"onReadyChange\"]\n  }; }\n  static get style() { return skeletonCss; }\n};\n\nconst sliderCss = \":host{width:100%}.slider{width:100%}input{width:100%;-webkit-appearance:none;background:transparent;border:0;outline:0;cursor:pointer;box-sizing:border-box;border-radius:calc(var(--vm-slider-thumb-height) * 2);user-select:none;-webkit-user-select:none;touch-action:manipulation;color:var(--vm-slider-value-color);display:block;height:var(--vm-slider-track-height);margin:0;padding:0;transition:box-shadow 0.3s ease}input::-webkit-slider-runnable-track{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background-image:linear-gradient(\\n    to right,\\n    currentColor var(--vm-value, 0%),\\n    transparent var(--vm-value, 0%)\\n  );background-color:var(--vm-slider-track-color)}input::-webkit-slider-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow);-webkit-appearance:none;margin-top:calc(\\n    0px -\\n      calc(\\n        calc(var(--vm-slider-thumb-height) - var(--vm-slider-track-height)) / 2\\n      )\\n  )}input::-moz-range-track{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background-color:var(--vm-slider-track-color)}input::-moz-range-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow)}input::-moz-range-progress{background:currentColor;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height)}input::-ms-track{border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;color:transparent;background-color:var(--vm-slider-track-color)}input::-ms-fill-upper{background:transparent;border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none}input::-ms-fill-lower{border:0;border-radius:calc(var(--vm-slider-track-height) / 2);height:var(--vm-slider-track-height);transition:box-shadow 0.3s ease;user-select:none;background:currentColor}input::-ms-thumb{opacity:0;background:var(--vm-slider-thumb-bg);border:0;border-radius:100%;position:relative;transition:all 0.2s ease;width:var(--vm-slider-thumb-width);height:var(--vm-slider-thumb-height);box-shadow:var(--vm-slider-thumb-shadow);margin-top:0}input::-ms-tooltip{display:none}input:hover::-webkit-slider-runnable-track{height:var(--vm-slider-track-focused-height)}input:hover::-moz-range-track{height:var(--vm-slider-track-focused-height)}input:hover::-ms-track{height:var(--vm-slider-track-focused-height)}input:hover::-ms-fill-upper{height:var(--vm-slider-track-focused-height)}input:hover::-ms-fill-lower{height:var(--vm-slider-track-focused-height)}input:hover::-webkit-slider-thumb{opacity:1}input:hover::-moz-range-thumb{opacity:1}input:hover::-ms-thumb{opacity:1}input:focus{outline:0}input:focus::-webkit-slider-runnable-track{outline:0;height:var(--vm-slider-track-focused-height)}input:focus::-moz-range-track{outline:0;height:var(--vm-slider-track-focused-height)}input:focus::-ms-track{outline:0;height:var(--vm-slider-track-focused-height)}input::-moz-focus-outer{border:0}\";\n\nconst Slider = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmValueChange = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmValueChange\", 7);\n    this.vmFocus = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmFocus\", 7);\n    this.vmBlur = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmBlur\", 7);\n    /**\n     * A number that specifies the granularity that the value must adhere to.\n     */\n    this.step = 1;\n    /**\n     * The lowest value in the range of permitted values.\n     */\n    this.min = 0;\n    /**\n     * The greatest permitted value.\n     */\n    this.max = 10;\n    /**\n     * The current value.\n     */\n    this.value = 5;\n    withComponentRegistry(this);\n  }\n  getPercentage() {\n    return `${(this.value / this.max) * 100}%`;\n  }\n  onValueChange(event) {\n    var _a;\n    const value = parseFloat((_a = event.target) === null || _a === void 0 ? void 0 : _a.value);\n    this.vmValueChange.emit(value);\n  }\n  calcTouchedValue(event) {\n    const input = event.target;\n    const touch = event.changedTouches[0];\n    const min = parseFloat(input.getAttribute('min'));\n    const max = parseFloat(input.getAttribute('max'));\n    const step = parseFloat(input.getAttribute('step'));\n    const delta = max - min;\n    // Calculate percentage.\n    let percent;\n    const clientRect = input.getBoundingClientRect();\n    const sliderThumbWidth = parseFloat(window\n      .getComputedStyle(this.host)\n      .getPropertyValue('--vm-slider-thumb-width'));\n    const thumbWidth = ((100 / clientRect.width) * (sliderThumbWidth / 2)) / 100;\n    percent = (100 / clientRect.width) * (touch.clientX - clientRect.left);\n    // Don't allow outside bounds.\n    percent = Math.max(0, Math.min(percent, 100));\n    // Factor in the thumb offset.\n    if (percent < 50) {\n      percent -= (100 - percent * 2) * thumbWidth;\n    }\n    else if (percent > 50) {\n      percent += (percent - 50) * 2 * thumbWidth;\n    }\n    const position = delta * (percent / 100);\n    if (step >= 1) {\n      return min + Math.round(position / step) * step;\n    }\n    /**\n     * This part differs from original implementation to save space. Only supports 2 decimal\n     * places (0.01) as the step.\n     */\n    return min + parseFloat(position.toFixed(2));\n  }\n  /**\n   * Basically input[range=\"type\"] on touch devices sucks (particularly iOS), so this helps make it\n   * better.\n   *\n   * @see https://github.com/sampotts/rangetouch\n   */\n  onTouch(event) {\n    const input = event.target;\n    if (input.disabled)\n      return;\n    event.preventDefault();\n    this.value = this.calcTouchedValue(event);\n    this.vmValueChange.emit(this.value);\n    input.dispatchEvent(new window.Event(event.type === 'touchend' ? 'change' : 'input', {\n      bubbles: true,\n    }));\n  }\n  render() {\n    var _a;\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"slider\", style: {\n        '--vm-value': this.getPercentage(),\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"input\", { type: \"range\", step: this.step, min: this.min, max: this.max, value: this.value, autocomplete: \"off\", \"aria-label\": this.label, \"aria-valuemin\": this.min, \"aria-valuemax\": this.max, \"aria-valuenow\": this.value, \"aria-valuetext\": (_a = this.valueText) !== null && _a !== void 0 ? _a : this.getPercentage(), \"aria-orientation\": \"horizontal\", onInput: this.onValueChange.bind(this), onFocus: () => {\n        this.vmFocus.emit();\n      }, onBlur: () => {\n        this.vmBlur.emit();\n      }, onTouchStart: this.onTouch.bind(this), onTouchMove: this.onTouch.bind(this), onTouchEnd: this.onTouch.bind(this) })));\n  }\n  get host() { return this; }\n  static get style() { return sliderCss; }\n};\n\nconst spinnerCss = \":host{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:var(--vm-spinner-z-index)}.spinner{width:100%;height:100%;display:flex;justify-content:center;align-items:center;opacity:0;visibility:hidden;pointer-events:none;transition:var(--vm-fade-transition)}.spinner.hidden{display:none}.spinner.active{opacity:1;visibility:visible}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.spin{background:transparent;margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;pointer-events:none;border-top:var(--vm-spinner-thickness) solid var(--vm-spinner-fill-color);border-left:var(--vm-spinner-thickness) solid var(--vm-spinner-fill-color);border-right:var(--vm-spinner-thickness) solid var(--vm-spinner-track-color);border-bottom:var(--vm-spinner-thickness) solid var(--vm-spinner-track-color);transform:translateZ(0)}.spin.active{animation:spin var(--vm-spinner-spin-duration) infinite\\n    var(--vm-spinner-spin-timing-func)}.spin,.spin::after{border-radius:50%;width:var(--vm-spinner-width);height:var(--vm-spinner-height)}\";\n\nconst Spinner = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmWillShow = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmWillShow\", 3);\n    this.vmWillHide = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmWillHide\", 3);\n    this.blacklist = [Provider.YouTube];\n    this.isHidden = true;\n    this.isActive = false;\n    /** @internal */\n    this.isVideoView = false;\n    /**\n     * Whether the spinner should be active when the player is booting or media is loading.\n     */\n    this.showWhenMediaLoading = false;\n    /** @internal */\n    this.playbackReady = false;\n    /** @internal */\n    this.buffering = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'isVideoView',\n      'buffering',\n      'playbackReady',\n      'currentProvider',\n    ]);\n  }\n  onVideoViewChange() {\n    this.isHidden = !this.isVideoView;\n    this.onVisiblityChange();\n  }\n  onActiveChange() {\n    this.isActive =\n      this.buffering || (this.showWhenMediaLoading && !this.playbackReady);\n    this.onVisiblityChange();\n  }\n  onVisiblityChange() {\n    !this.isHidden && this.isActive\n      ? this.vmWillShow.emit()\n      : this.vmWillHide.emit();\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        spinner: true,\n        hidden: this.isHidden || this.blacklist.includes(this.currentProvider),\n        active: this.isActive,\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        spin: true,\n        active: this.isActive,\n      } }, \"Loading...\")));\n  }\n  static get watchers() { return {\n    \"isVideoView\": [\"onVideoViewChange\"],\n    \"buffering\": [\"onActiveChange\"],\n    \"playbackReady\": [\"onActiveChange\"]\n  }; }\n  static get style() { return spinnerCss; }\n};\n\nvar __awaiter$4 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nlet idCount = 0;\nconst Submenu = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmOpenSubmenu = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmOpenSubmenu\", 7);\n    this.vmCloseSubmenu = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmCloseSubmenu\", 7);\n    /**\n     * The direction the submenu should slide in from.\n     */\n    this.slideInDirection = 'right';\n    /**\n     * Whether the submenu is open/closed.\n     */\n    this.active = false;\n    withComponentRegistry(this);\n  }\n  connectedCallback() {\n    this.genId();\n  }\n  /**\n   * Returns the controller (`vm-menu-item`) for this submenu.\n   */\n  getController() {\n    return __awaiter$4(this, void 0, void 0, function* () {\n      return this.controller;\n    });\n  }\n  /**\n   * Returns the menu (`vm-menu`) for this submenu.\n   */\n  getMenu() {\n    return __awaiter$4(this, void 0, void 0, function* () {\n      return this.menu;\n    });\n  }\n  /**\n   * Returns the height of the submenu controller.\n   */\n  getControllerHeight() {\n    var _a, _b;\n    return __awaiter$4(this, void 0, void 0, function* () {\n      return (_b = (_a = this.controller) === null || _a === void 0 ? void 0 : _a.getHeight()) !== null && _b !== void 0 ? _b : 0;\n    });\n  }\n  getControllerHeightSync() {\n    var _a;\n    const el = (_a = this.controller) === null || _a === void 0 ? void 0 : _a.shadowRoot.querySelector(\"[role='menuitem']\");\n    return el ? parseFloat(window.getComputedStyle(el).height) : 0;\n  }\n  onMenuOpen() {\n    this.active = true;\n    this.vmOpenSubmenu.emit(this.host);\n  }\n  onMenuClose() {\n    this.active = false;\n    this.vmCloseSubmenu.emit(this.host);\n  }\n  genId() {\n    idCount += 1;\n    this.id = `vm-submenu-${idCount}`;\n  }\n  getControllerId() {\n    return `${this.id}-controller`;\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu-item\", { identifier: this.getControllerId(), menu: this.menu, label: this.label, hint: this.hint, expanded: this.active, ref: el => {\n        (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n          this.controller = el;\n        });\n      } }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-menu\", { identifier: this.id, controller: this.controller, active: this.active, slideInDirection: this.slideInDirection, onVmOpen: this.onMenuOpen.bind(this), onVmClose: this.onMenuClose.bind(this), ref: el => {\n        (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.writeTask)(() => {\n          this.menu = el;\n        });\n      }, style: { top: `${this.getControllerHeightSync() + 1}px` } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null))));\n  }\n  get host() { return this; }\n};\n\nconst timeCss = \".time{display:flex;align-items:center;color:var(--vm-time-color);font-size:var(--vm-time-font-size);font-weight:var(--vm-time-font-weight)}\";\n\nconst Time = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * The length of time in seconds.\n     */\n    this.seconds = 0;\n    /**\n     * Whether the time should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"time\", \"aria-label\": this.label }, formatTime(Math.max(0, this.seconds), this.alwaysShowHours)));\n  }\n  static get style() { return timeCss; }\n};\n\nconst timeProgressCss = \".timeProgress{display:flex;width:100%;height:100%;align-items:center;color:var(--vm-time-color)}.separator{margin:0 4px}\";\n\nconst TimeProgress = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /**\n     * The string used to separate the current time and end time.\n     */\n    this.separator = '/';\n    /**\n     * Whether the times should always show the hours unit, even if the time is less than\n     * 1 hour (eg: `20:35` -> `00:20:35`).\n     */\n    this.alwaysShowHours = false;\n    withComponentRegistry(this);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"timeProgress\" }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-current-time\", { alwaysShowHours: this.alwaysShowHours }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"separator\" }, this.separator), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-end-time\", { alwaysShowHours: this.alwaysShowHours })));\n  }\n  static get style() { return timeProgressCss; }\n};\n\nconst tooltipCss = \":host{display:contents;z-index:var(--vm-tooltip-z-index)}.tooltip{left:var(--vm-tooltip-left, 50%);transform:translateX(-50%);line-height:1.3;pointer-events:none;position:absolute;opacity:0;white-space:nowrap;visibility:hidden;background:var(--vm-tooltip-bg);border-radius:var(--vm-tooltip-border-radius);box-sizing:border-box;box-shadow:var(--vm-tooltip-box-shadow);color:var(--vm-tooltip-color);font-size:var(--vm-tooltip-font-size);padding:var(--vm-tooltip-padding);transition:opacity var(--vm-tooltip-fade-duration)\\n    var(--vm-tooltip-fade-timing-func)}.tooltip[aria-hidden='false']{opacity:1;visibility:visible}.tooltip.hidden{display:none}.tooltip.onTop{bottom:100%;margin-bottom:var(--vm-tooltip-spacing)}.tooltip.onBottom{top:100%;margin-top:var(--vm-tooltip-spacing)}.tooltip.growLeft{left:auto;right:0;transform:none}.tooltip.growRight{left:0;transform:none}\";\n\nlet tooltipIdCount = 0;\nconst Tooltip = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    // Avoid tooltips flashing when player initializing.\n    this.hasLoaded = false;\n    /**\n     * Whether the tooltip is displayed or not.\n     */\n    this.hidden = false;\n    /**\n     * Whether the tooltip is visible or not.\n     */\n    this.active = false;\n    /**\n     * Determines if the tooltip appears on top/bottom of it's parent.\n     */\n    this.position = 'top';\n    /** @internal */\n    this.isTouch = false;\n    /** @internal */\n    this.isMobile = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, ['isTouch', 'isMobile']);\n  }\n  componentDidLoad() {\n    this.hasLoaded = true;\n  }\n  getId() {\n    // eslint-disable-next-line prefer-destructuring\n    const id = this.host.id;\n    if (isString(id) && id.length > 0)\n      return id;\n    tooltipIdCount += 1;\n    return `vm-tooltip-${tooltipIdCount}`;\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { id: this.getId(), role: \"tooltip\", \"aria-hidden\": !this.active || this.isTouch || this.isMobile ? 'true' : 'false', class: {\n        tooltip: true,\n        hidden: !this.hasLoaded || this.hidden,\n        onTop: this.position === 'top',\n        onBottom: this.position === 'bottom',\n        growLeft: this.direction === 'left',\n        growRight: this.direction === 'right',\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n  get host() { return this; }\n  static get style() { return tooltipCss; }\n};\n\nconst uiCss = \":host{z-index:var(--vm-ui-z-index)}.ui{width:100%;pointer-events:none}.ui.hidden{display:none}.ui.video{position:absolute;top:0;left:0;height:100%}\";\n\nconst UI = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    /** @internal */\n    this.isVideoView = false;\n    /** @internal */\n    this.playsinline = false;\n    /** @internal */\n    this.isFullscreenActive = false;\n    withComponentRegistry(this);\n    withPlayerContext(this, [\n      'isVideoView',\n      'playsinline',\n      'isFullscreenActive',\n    ]);\n  }\n  render() {\n    const canShowCustomUI = !IS_IOS ||\n      !this.isVideoView ||\n      (this.playsinline && !this.isFullscreenActive);\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: {\n        ui: true,\n        hidden: !canShowCustomUI,\n        video: this.isVideoView,\n      } }, canShowCustomUI && (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n  static get style() { return uiCss; }\n};\n\nvar __awaiter$3 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst Video = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    /**\n     * @internal Whether an external SDK will attach itself to the media player and control it.\n     */\n    this.willAttach = false;\n    /**\n     * @internal Whether an external SDK will manage the text tracks.\n     */\n    this.hasCustomTextManager = false;\n    /** @inheritdoc */\n    this.preload = 'metadata';\n    withComponentRegistry(this);\n    withProviderConnect(this);\n  }\n  onProviderConnect(event) {\n    if (this.willAttach)\n      event.stopImmediatePropagation();\n  }\n  onProviderDisconnect(event) {\n    if (this.willAttach)\n      event.stopImmediatePropagation();\n  }\n  /** @internal */\n  getAdapter() {\n    var _a;\n    return __awaiter$3(this, void 0, void 0, function* () {\n      return (_a = this.fileProvider) === null || _a === void 0 ? void 0 : _a.getAdapter();\n    });\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-file\", { noConnect: true, willAttach: this.willAttach, crossOrigin: this.crossOrigin, poster: this.poster, preload: this.preload, controlsList: this.controlsList, autoPiP: this.autoPiP, disablePiP: this.disablePiP, disableRemotePlayback: this.disableRemotePlayback, hasCustomTextManager: this.hasCustomTextManager, mediaTitle: this.mediaTitle, viewType: ViewType.Video, ref: (el) => {\n        this.fileProvider = el;\n      } }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"slot\", null)));\n  }\n};\n\n/**\n * @see https://developer.vimeo.com/player/sdk/reference#events-for-playback-controls\n */\nvar VimeoEvent;\n(function (VimeoEvent) {\n  VimeoEvent[\"Play\"] = \"play\";\n  VimeoEvent[\"Pause\"] = \"pause\";\n  VimeoEvent[\"Seeking\"] = \"seeking\";\n  VimeoEvent[\"Seeked\"] = \"seeked\";\n  VimeoEvent[\"TimeUpdate\"] = \"timeupdate\";\n  VimeoEvent[\"VolumeChange\"] = \"volumechange\";\n  VimeoEvent[\"DurationChange\"] = \"durationchange\";\n  VimeoEvent[\"FullscreenChange\"] = \"fullscreenchange\";\n  VimeoEvent[\"CueChange\"] = \"cuechange\";\n  VimeoEvent[\"Progress\"] = \"progress\";\n  VimeoEvent[\"Error\"] = \"error\";\n  VimeoEvent[\"PlaybackRateChange\"] = \"playbackratechange\";\n  VimeoEvent[\"Loaded\"] = \"loaded\";\n  VimeoEvent[\"BufferStart\"] = \"bufferstart\";\n  VimeoEvent[\"BufferEnd\"] = \"bufferend\";\n  VimeoEvent[\"TextTrackChange\"] = \"texttrackchange\";\n  VimeoEvent[\"Waiting\"] = \"waiting\";\n  VimeoEvent[\"Ended\"] = \"ended\";\n})(VimeoEvent || (VimeoEvent = {}));\n\nconst vimeoCss = \":host{z-index:var(--vm-media-z-index)}vm-embed{position:absolute;top:0;left:0;width:100%;height:100%}vm-embed.hideControls{display:block;width:100%;height:auto;position:relative}\";\n\nvar __awaiter$2 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst videoInfoCache = new Map();\nconst Vimeo = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmLoadStart = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoadStart\", 7);\n    this.vmError = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmError\", 7);\n    this.defaultInternalState = {};\n    this.volume = 50;\n    this.hasLoaded = false;\n    this.internalState = {\n      paused: true,\n      playing: false,\n      seeking: false,\n      currentTime: 0,\n      buffered: 0,\n      playbackStarted: false,\n      playRequest: false,\n    };\n    this.embedSrc = '';\n    this.mediaTitle = '';\n    /**\n     * Whether to display the video owner's name.\n     */\n    this.byline = true;\n    /**\n     * Whether to display the video owner's portrait.\n     */\n    this.portrait = true;\n    /**\n     * Turns off automatically determining the aspect ratio of the current video.\n     */\n    this.noAutoAspectRatio = false;\n    /**\n     * Whether cookies should be enabled on the embed.\n     */\n    this.cookies = true;\n    /** @internal */\n    this.language = 'en';\n    /** @internal */\n    this.aspectRatio = '16:9';\n    /** @internal */\n    this.autoplay = false;\n    /** @internal */\n    this.controls = false;\n    /** @internal */\n    this.loop = false;\n    /** @internal */\n    this.muted = false;\n    /** @internal */\n    this.playsinline = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this);\n  }\n  onVideoIdChange() {\n    this.cancelTimeUpdates();\n    if (!this.videoId) {\n      this.embedSrc = '';\n      return;\n    }\n    this.embedSrc = `${this.getOrigin()}/video/${this.videoId}`;\n    this.pendingDurationCall = deferredPromise();\n    this.pendingMediaTitleCall = deferredPromise();\n    this.fetchVideoInfo = this.getVideoInfo();\n  }\n  onCustomPosterChange() {\n    this.dispatch('currentPoster', this.poster);\n  }\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    this.dispatch('viewType', ViewType.Video);\n    this.onVideoIdChange();\n    this.defaultInternalState = Object.assign({}, this.internalState);\n  }\n  componentDidLoad() {\n    this.initialMuted = this.muted;\n  }\n  disconnectedCallback() {\n    this.cancelTimeUpdates();\n    this.pendingPlayRequest = undefined;\n  }\n  getOrigin() {\n    return 'https://player.vimeo.com';\n  }\n  getPreconnections() {\n    return [\n      this.getOrigin(),\n      'https://i.vimeocdn.com',\n      'https://f.vimeocdn.com',\n      'https://fresnel.vimeocdn.com',\n    ];\n  }\n  remoteControl(command, arg) {\n    return this.embed.postMessage({\n      method: command,\n      value: arg,\n    });\n  }\n  buildParams() {\n    return {\n      byline: this.byline,\n      color: this.color,\n      portrait: this.portrait,\n      autopause: false,\n      transparent: false,\n      autoplay: this.autoplay,\n      muted: this.initialMuted,\n      playsinline: this.playsinline,\n      dnt: !this.cookies,\n    };\n  }\n  getVideoInfo() {\n    return __awaiter$2(this, void 0, void 0, function* () {\n      if (videoInfoCache.has(this.videoId))\n        return videoInfoCache.get(this.videoId);\n      return window\n        .fetch(`https://vimeo.com/api/oembed.json?url=${this.embedSrc}`)\n        .then(response => response.json())\n        .then(data => {\n        var _a;\n        const thumnailRegex = /vimeocdn.com\\/video\\/(.*)?_/;\n        const thumbnailId = (_a = data === null || data === void 0 ? void 0 : data.thumbnail_url) === null || _a === void 0 ? void 0 : _a.match(thumnailRegex)[1];\n        const poster = `https://i.vimeocdn.com/video/${thumbnailId}_1920x1080.jpg`;\n        const info = { poster, width: data === null || data === void 0 ? void 0 : data.width, height: data === null || data === void 0 ? void 0 : data.height };\n        videoInfoCache.set(this.videoId, info);\n        return info;\n      });\n    });\n  }\n  onTimeChange(time) {\n    if (this.internalState.currentTime === time)\n      return;\n    this.dispatch('currentTime', time);\n    // This is how we detect `seeking` early.\n    if (Math.abs(this.internalState.currentTime - time) > 1.5) {\n      this.internalState.seeking = true;\n      this.dispatch('seeking', true);\n      if (this.internalState.playing && this.internalState.buffered < time) {\n        this.dispatch('buffering', true);\n      }\n      // Player doesn't resume playback once seeked.\n      window.clearTimeout(this.pendingPlayRequest);\n      if (!this.internalState.paused) {\n        this.internalState.playRequest = true;\n      }\n      this.remoteControl(this.internalState.playbackStarted\n        ? \"pause\" /* Pause */\n        : \"play\" /* Play */);\n    }\n    this.internalState.currentTime = time;\n  }\n  cancelTimeUpdates() {\n    if (isNumber(this.timeRAF))\n      window.cancelAnimationFrame(this.timeRAF);\n  }\n  requestTimeUpdates() {\n    this.remoteControl(\"getCurrentTime\" /* GetCurrentTime */);\n    this.timeRAF = window.requestAnimationFrame(() => {\n      this.requestTimeUpdates();\n    });\n  }\n  onSeeked() {\n    if (!this.internalState.seeking)\n      return;\n    this.dispatch('seeking', false);\n    this.internalState.seeking = false;\n    if (this.internalState.playRequest) {\n      window.setTimeout(() => {\n        this.remoteControl(\"play\" /* Play */);\n      }, 150);\n    }\n  }\n  onVimeoMethod(method, arg) {\n    var _a, _b;\n    switch (method) {\n      case \"getCurrentTime\" /* GetCurrentTime */:\n        if (!this.internalState.seeking)\n          this.onTimeChange(arg);\n        break;\n      case \"getDuration\" /* GetDuration */:\n        (_a = this.pendingDurationCall) === null || _a === void 0 ? void 0 : _a.resolve(arg);\n        break;\n      case \"getVideoTitle\" /* GetVideoTitle */:\n        (_b = this.pendingMediaTitleCall) === null || _b === void 0 ? void 0 : _b.resolve(arg);\n        break;\n    }\n  }\n  onLoaded() {\n    var _a, _b;\n    if (this.hasLoaded)\n      return;\n    this.pendingPlayRequest = undefined;\n    this.internalState = Object.assign({}, this.defaultInternalState);\n    this.dispatch('currentSrc', this.embedSrc);\n    this.dispatch('mediaType', MediaType.Video);\n    this.remoteControl(\"getDuration\" /* GetDuration */);\n    this.remoteControl(\"getVideoTitle\" /* GetVideoTitle */);\n    Promise.all([\n      this.fetchVideoInfo,\n      (_a = this.pendingDurationCall) === null || _a === void 0 ? void 0 : _a.promise,\n      (_b = this.pendingMediaTitleCall) === null || _b === void 0 ? void 0 : _b.promise,\n    ]).then(([info, duration, mediaTitle]) => {\n      var _a, _b, _c;\n      this.requestTimeUpdates();\n      this.dispatch('aspectRatio', `${(_a = info === null || info === void 0 ? void 0 : info.width) !== null && _a !== void 0 ? _a : 16}:${(_b = info === null || info === void 0 ? void 0 : info.height) !== null && _b !== void 0 ? _b : 9}`);\n      this.dispatch('currentPoster', (_c = this.poster) !== null && _c !== void 0 ? _c : info === null || info === void 0 ? void 0 : info.poster);\n      this.dispatch('duration', duration !== null && duration !== void 0 ? duration : -1);\n      this.dispatch('mediaTitle', mediaTitle);\n      this.dispatch('playbackReady', true);\n    });\n    this.hasLoaded = true;\n  }\n  onVimeoEvent(event, payload) {\n    switch (event) {\n      case \"ready\" /* Ready */:\n        Object.values(VimeoEvent).forEach(e => {\n          this.remoteControl(\"addEventListener\" /* AddEventListener */, e);\n        });\n        break;\n      case \"loaded\" /* Loaded */:\n        this.onLoaded();\n        break;\n      case \"play\" /* Play */:\n        // Incase of autoplay which might skip `Loaded` event.\n        this.onLoaded();\n        this.internalState.paused = false;\n        this.dispatch('paused', false);\n        break;\n      case \"playProgress\" /* PlayProgress */:\n        if (!this.internalState.playing) {\n          this.dispatch('playing', true);\n          this.internalState.playing = true;\n          this.internalState.playbackStarted = true;\n          this.pendingPlayRequest = window.setTimeout(() => {\n            this.internalState.playRequest = false;\n            this.pendingPlayRequest = undefined;\n          }, 1000);\n        }\n        this.dispatch('buffering', false);\n        this.onSeeked();\n        break;\n      case \"pause\" /* Pause */:\n        this.internalState.paused = true;\n        this.internalState.playing = false;\n        this.dispatch('paused', true);\n        this.dispatch('buffering', false);\n        break;\n      case \"loadProgress\" /* LoadProgress */:\n        this.internalState.buffered = payload.seconds;\n        this.dispatch('buffered', payload.seconds);\n        break;\n      case \"bufferstart\" /* BufferStart */:\n        this.dispatch('buffering', true);\n        // Attempt to detect `play` events early.\n        if (this.internalState.paused) {\n          this.internalState.paused = false;\n          this.dispatch('paused', false);\n          this.dispatch('playbackStarted', true);\n        }\n        break;\n      case \"bufferend\" /* BufferEnd */:\n        this.dispatch('buffering', false);\n        if (this.internalState.paused)\n          this.onSeeked();\n        break;\n      case \"volumechange\" /* VolumeChange */:\n        if (payload.volume > 0) {\n          const newVolume = Math.floor(payload.volume * 100);\n          this.dispatch('muted', false);\n          if (this.volume !== newVolume) {\n            this.volume = newVolume;\n            this.dispatch('volume', this.volume);\n          }\n        }\n        else {\n          this.dispatch('muted', true);\n        }\n        break;\n      case \"durationchange\" /* DurationChange */:\n        this.dispatch('duration', payload.duration);\n        break;\n      case \"playbackratechange\" /* PlaybackRateChange */:\n        this.dispatch('playbackRate', payload.playbackRate);\n        break;\n      case \"fullscreenchange\" /* FullscreenChange */:\n        this.dispatch('isFullscreenActive', payload.fullscreen);\n        break;\n      case \"finish\" /* Finish */:\n        if (this.loop) {\n          this.remoteControl(\"setCurrentTime\" /* SetCurrentTime */, 0);\n          setTimeout(() => {\n            this.remoteControl(\"play\" /* Play */);\n          }, 200);\n        }\n        else {\n          this.dispatch('playbackEnded', true);\n        }\n        break;\n      case \"error\" /* Error */:\n        this.vmError.emit(payload);\n        break;\n    }\n  }\n  onEmbedSrcChange() {\n    this.hasLoaded = false;\n    this.vmLoadStart.emit();\n    this.dispatch('viewType', ViewType.Video);\n  }\n  onEmbedMessage(event) {\n    const message = event.detail;\n    if (!isUndefined(message.event))\n      this.onVimeoEvent(message.event, message.data);\n    if (!isUndefined(message.method))\n      this.onVimeoMethod(message.method, message.value);\n  }\n  adjustPosition() {\n    if (this.controls) {\n      return {};\n    }\n    const [aw, ah] = this.aspectRatio.split(':').map(r => parseInt(r, 10));\n    const height = 240;\n    const padding = (100 / aw) * ah;\n    const offset = (height - padding) / (height / 50);\n    return {\n      paddingBottom: `${height}%`,\n      transform: `translateY(-${offset + 0.02}%)`,\n    };\n  }\n  /** @internal */\n  getAdapter() {\n    return __awaiter$2(this, void 0, void 0, function* () {\n      const canPlayRegex = /vimeo(?:\\.com|)\\/([0-9]{9,})/;\n      const fileRegex = /vimeo\\.com\\/external\\/[0-9]+\\..+/;\n      return {\n        getInternalPlayer: () => __awaiter$2(this, void 0, void 0, function* () { return this.embed; }),\n        play: () => __awaiter$2(this, void 0, void 0, function* () {\n          this.remoteControl(\"play\" /* Play */);\n        }),\n        pause: () => __awaiter$2(this, void 0, void 0, function* () {\n          this.remoteControl(\"pause\" /* Pause */);\n        }),\n        canPlay: (type) => __awaiter$2(this, void 0, void 0, function* () { return isString(type) && !fileRegex.test(type) && canPlayRegex.test(type); }),\n        setCurrentTime: (time) => __awaiter$2(this, void 0, void 0, function* () {\n          if (time !== this.internalState.currentTime) {\n            this.remoteControl(\"setCurrentTime\" /* SetCurrentTime */, time);\n          }\n        }),\n        setMuted: (muted) => __awaiter$2(this, void 0, void 0, function* () {\n          if (!muted)\n            this.volume = this.volume > 0 ? this.volume : 30;\n          this.remoteControl(\"setVolume\" /* SetVolume */, muted ? 0 : this.volume / 100);\n        }),\n        setVolume: (volume) => __awaiter$2(this, void 0, void 0, function* () {\n          if (!this.muted) {\n            this.remoteControl(\"setVolume\" /* SetVolume */, volume / 100);\n          }\n          else {\n            // Confirm volume was set.\n            this.dispatch('volume', volume);\n          }\n        }),\n        // @TODO how to check if Vimeo pro?\n        canSetPlaybackRate: () => __awaiter$2(this, void 0, void 0, function* () { return false; }),\n        setPlaybackRate: (rate) => __awaiter$2(this, void 0, void 0, function* () {\n          this.remoteControl(\"setPlaybackRate\" /* SetPlaybackRate */, rate);\n        }),\n      };\n    });\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-embed\", { class: { hideControls: !this.controls }, style: this.adjustPosition(), embedSrc: this.embedSrc, mediaTitle: this.mediaTitle, origin: this.getOrigin(), params: this.buildParams(), decoder: decodeJSON, preconnections: this.getPreconnections(), onVmEmbedMessage: this.onEmbedMessage.bind(this), onVmEmbedSrcChange: this.onEmbedSrcChange.bind(this), ref: (el) => {\n        this.embed = el;\n      } }));\n  }\n  static get watchers() { return {\n    \"videoId\": [\"onVideoIdChange\"],\n    \"poster\": [\"onCustomPosterChange\"]\n  }; }\n  static get style() { return vimeoCss; }\n};\n\nconst volumeControlCss = \".volumeControl{align-items:center;display:flex;position:relative;pointer-events:auto;box-sizing:border-box}vm-slider{width:75px;height:100%;margin:0;max-width:0;position:relative;z-index:3;transition:margin 0.2s cubic-bezier(0.4, 0, 1, 1),\\n    max-width 0.2s cubic-bezier(0.4, 0, 1, 1);margin-left:calc(var(--vm-control-spacing) / 2) !important;visibility:hidden}vm-slider:hover{cursor:pointer}vm-slider.hidden{display:none}vm-slider.active{max-width:75px;visibility:visible;margin:0 calc(var(--vm-control-spacing) / 2)}\";\n\nvar __awaiter$1 = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst VolumeControl = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.keyboardDisposal = new Disposal();\n    this.prevMuted = false;\n    this.currentVolume = 50;\n    this.isSliderActive = false;\n    /**\n     * The name of the low volume icon to resolve from the icon library.\n     */\n    this.lowVolumeIcon = 'volume-low';\n    /**\n     * The name of the high volume icon to resolve from the icon library.\n     */\n    this.highVolumeIcon = 'volume-high';\n    /**\n     * The name of the muted volume icon to resolve from the icon library.\n     */\n    this.mutedIcon = 'volume-mute';\n    /**\n     * Whether the tooltip is positioned above/below the control.\n     */\n    this.tooltipPosition = 'top';\n    /**\n     * Whether the tooltip should be hidden.\n     */\n    this.hideTooltip = false;\n    /**\n     * A pipe (`/`) separated string of JS keyboard keys, that when caught in a `keydown` event, will\n     * toggle the muted state of the player.\n     */\n    this.muteKeys = 'm';\n    /**\n     * Prevents the volume being changed using the Up/Down arrow keys.\n     */\n    this.noKeyboard = false;\n    /** @internal */\n    this.muted = false;\n    /** @internal */\n    this.volume = 50;\n    /** @internal */\n    this.isMobile = false;\n    /** @internal */\n    this.i18n = {};\n    withComponentRegistry(this);\n    withPlayerContext(this, ['volume', 'muted', 'isMobile', 'i18n']);\n  }\n  onNoKeyboardChange() {\n    return __awaiter$1(this, void 0, void 0, function* () {\n      this.keyboardDisposal.empty();\n      if (this.noKeyboard)\n        return;\n      const player = yield findPlayer(this);\n      if (isUndefined(player))\n        return;\n      this.keyboardDisposal.add(listen(player, 'keydown', (event) => {\n        if (event.key !== 'ArrowUp' && event.key !== 'ArrowDown')\n          return;\n        const isUpArrow = event.key === 'ArrowUp';\n        const newVolume = isUpArrow\n          ? Math.min(100, this.volume + 5)\n          : Math.max(0, this.volume - 5);\n        this.dispatch('volume', parseInt(`${newVolume}`, 10));\n      }));\n    });\n  }\n  onPlayerVolumeChange() {\n    this.currentVolume = this.muted ? 0 : this.volume;\n    if (!this.muted && this.prevMuted && this.volume === 0) {\n      this.dispatch('volume', 30);\n    }\n    this.prevMuted = this.muted;\n  }\n  connectedCallback() {\n    this.prevMuted = this.muted;\n    this.dispatch = createDispatcher(this);\n    this.onNoKeyboardChange();\n  }\n  disconnectedCallback() {\n    this.keyboardDisposal.empty();\n  }\n  onShowSlider() {\n    clearTimeout(this.hideSliderTimeout);\n    this.isSliderActive = true;\n  }\n  onHideSlider() {\n    this.hideSliderTimeout = setTimeout(() => {\n      this.isSliderActive = false;\n    }, 100);\n  }\n  onVolumeChange(event) {\n    const newVolume = event.detail;\n    this.currentVolume = newVolume;\n    this.dispatch('volume', newVolume);\n    this.dispatch('muted', newVolume === 0);\n  }\n  onKeyDown(event) {\n    if (event.key !== 'ArrowLeft' && event.key !== 'ArrowRight')\n      return;\n    event.stopPropagation();\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"volumeControl\", onMouseEnter: this.onShowSlider.bind(this), onMouseLeave: this.onHideSlider.bind(this) }, (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-mute-control\", { keys: this.muteKeys, lowVolumeIcon: this.lowVolumeIcon, highVolumeIcon: this.highVolumeIcon, mutedIcon: this.mutedIcon, icons: this.icons, tooltipPosition: this.tooltipPosition, tooltipDirection: this.tooltipDirection, hideTooltip: this.hideTooltip, onVmFocus: this.onShowSlider.bind(this), onVmBlur: this.onHideSlider.bind(this) }), (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-slider\", { class: {\n        hidden: this.isMobile,\n        active: this.isSliderActive,\n      }, step: 5, max: 100, value: this.currentVolume, label: this.i18n.volume, onKeyDown: this.onKeyDown.bind(this), onVmFocus: this.onShowSlider.bind(this), onVmBlur: this.onHideSlider.bind(this), onVmValueChange: this.onVolumeChange.bind(this) })));\n  }\n  static get watchers() { return {\n    \"noKeyboard\": [\"onNoKeyboardChange\"],\n    \"muted\": [\"onPlayerVolumeChange\"],\n    \"volume\": [\"onPlayerVolumeChange\"]\n  }; }\n  static get style() { return volumeControlCss; }\n};\n\nconst mapYouTubePlaybackQuality = (quality) => {\n  switch (quality) {\n    case \"unknown\" /* Unknown */:\n      return undefined;\n    case \"tiny\" /* Tiny */:\n      return '144p';\n    case \"small\" /* Small */:\n      return '240p';\n    case \"medium\" /* Medium */:\n      return '360p';\n    case \"large\" /* Large */:\n      return '480p';\n    case \"hd720\" /* Hd720 */:\n      return '720p';\n    case \"hd1080\" /* Hd1080 */:\n      return '1080p';\n    case \"highres\" /* Highres */:\n      return '1440p';\n    case \"max\" /* Max */:\n      return '2160p';\n    default:\n      return undefined;\n  }\n};\n\nconst youtubeCss = \":host{z-index:var(--vm-media-z-index)}\";\n\nvar __awaiter = ( false) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try {\n      step(generator.next(value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function rejected(value) { try {\n      step(generator[\"throw\"](value));\n    }\n    catch (e) {\n      reject(e);\n    } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst posterCache = new Map();\nconst YouTube = class extends HTMLElement {\n  constructor() {\n    super();\n    this.__registerHost();\n    (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.attachShadow)(this);\n    this.vmLoadStart = (0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.createEvent)(this, \"vmLoadStart\", 7);\n    this.defaultInternalState = {};\n    this.internalState = {\n      paused: true,\n      duration: 0,\n      seeking: false,\n      playbackReady: false,\n      playbackStarted: false,\n      currentTime: 0,\n      lastTimeUpdate: 0,\n      playbackRate: 1,\n      state: -1,\n    };\n    this.embedSrc = '';\n    this.mediaTitle = '';\n    /**\n     * Whether cookies should be enabled on the embed.\n     */\n    this.cookies = false;\n    /**\n     * Whether the fullscreen control should be shown.\n     */\n    this.showFullscreenControl = true;\n    /** @internal */\n    this.language = 'en';\n    /** @internal */\n    this.autoplay = false;\n    /** @internal */\n    this.controls = false;\n    /** @internal */\n    this.loop = false;\n    /** @internal */\n    this.muted = false;\n    /** @internal */\n    this.playsinline = false;\n    withComponentRegistry(this);\n    withProviderConnect(this);\n    withProviderContext(this);\n  }\n  onVideoIdChange() {\n    if (!this.videoId) {\n      this.embedSrc = '';\n      return;\n    }\n    this.embedSrc = `${this.getOrigin()}/embed/${this.videoId}`;\n    this.fetchPosterURL = this.findPosterURL();\n  }\n  onCustomPosterChange() {\n    this.dispatch('currentPoster', this.poster);\n  }\n  connectedCallback() {\n    this.dispatch = createProviderDispatcher(this);\n    this.dispatch('viewType', ViewType.Video);\n    this.onVideoIdChange();\n    this.defaultInternalState = Object.assign({}, this.internalState);\n  }\n  componentDidLoad() {\n    this.initialMuted = this.muted;\n  }\n  /** @internal */\n  getAdapter() {\n    return __awaiter(this, void 0, void 0, function* () {\n      const canPlayRegex = /(?:youtu\\.be|youtube|youtube\\.com|youtube-nocookie\\.com)\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=|)((?:\\w|-){11})/;\n      return {\n        getInternalPlayer: () => __awaiter(this, void 0, void 0, function* () { return this.embed; }),\n        play: () => __awaiter(this, void 0, void 0, function* () {\n          this.remoteControl(\"playVideo\" /* Play */);\n        }),\n        pause: () => __awaiter(this, void 0, void 0, function* () {\n          this.remoteControl(\"pauseVideo\" /* Pause */);\n        }),\n        canPlay: (type) => __awaiter(this, void 0, void 0, function* () { return isString(type) && canPlayRegex.test(type); }),\n        setCurrentTime: (time) => __awaiter(this, void 0, void 0, function* () {\n          if (time !== this.internalState.currentTime) {\n            this.remoteControl(\"seekTo\" /* Seek */, time);\n          }\n        }),\n        setMuted: (muted) => __awaiter(this, void 0, void 0, function* () {\n          muted\n            ? this.remoteControl(\"mute\" /* Mute */)\n            : this.remoteControl(\"unMute\" /* Unmute */);\n        }),\n        setVolume: (volume) => __awaiter(this, void 0, void 0, function* () {\n          this.remoteControl(\"setVolume\" /* SetVolume */, volume);\n        }),\n        canSetPlaybackRate: () => __awaiter(this, void 0, void 0, function* () { return true; }),\n        setPlaybackRate: (rate) => __awaiter(this, void 0, void 0, function* () {\n          this.remoteControl(\"setPlaybackRate\" /* SetPlaybackRate */, rate);\n        }),\n      };\n    });\n  }\n  getOrigin() {\n    return !this.cookies\n      ? 'https://www.youtube-nocookie.com'\n      : 'https://www.youtube.com';\n  }\n  getPreconnections() {\n    return [\n      this.getOrigin(),\n      'https://www.google.com',\n      'https://googleads.g.doubleclick.net',\n      'https://static.doubleclick.net',\n      'https://s.ytimg.com',\n      'https://i.ytimg.com',\n    ];\n  }\n  remoteControl(command, arg) {\n    return this.embed.postMessage({\n      event: 'command',\n      func: command,\n      args: arg ? [arg] : undefined,\n    });\n  }\n  buildParams() {\n    return {\n      enablejsapi: 1,\n      cc_lang_pref: this.language,\n      hl: this.language,\n      fs: this.showFullscreenControl ? 1 : 0,\n      controls: this.controls ? 1 : 0,\n      disablekb: !this.controls ? 1 : 0,\n      iv_load_policy: this.controls ? 1 : 3,\n      mute: this.initialMuted ? 1 : 0,\n      playsinline: this.playsinline ? 1 : 0,\n      autoplay: this.autoplay ? 1 : 0,\n    };\n  }\n  onEmbedSrcChange() {\n    this.vmLoadStart.emit();\n    this.dispatch('viewType', ViewType.Video);\n  }\n  onEmbedLoaded() {\n    // Seems like we have to wait a random small delay or else YT player isn't ready.\n    window.setTimeout(() => this.embed.postMessage({ event: 'listening' }), 100);\n  }\n  findPosterURL() {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (posterCache.has(this.videoId))\n        return posterCache.get(this.videoId);\n      const posterURL = (quality) => `https://i.ytimg.com/vi/${this.videoId}/${quality}.jpg`;\n      /**\n       * We are testing a that the image has a min-width of 121px because if the thumbnail does not\n       * exist YouTube returns a blank/error image that is 120px wide.\n       */\n      return loadImage(posterURL('maxresdefault'), 121) // 1080p (no padding)\n        .catch(() => loadImage(posterURL('sddefault'), 121)) // 640p (padded 4:3)\n        .catch(() => loadImage(posterURL('hqdefault'), 121)) // 480p (padded 4:3)\n        .then(img => {\n        const poster = img.src;\n        posterCache.set(this.videoId, poster);\n        return poster;\n      });\n    });\n  }\n  onCued() {\n    if (this.internalState.playbackReady)\n      return;\n    this.internalState = Object.assign({}, this.defaultInternalState);\n    this.dispatch('currentSrc', this.embedSrc);\n    this.dispatch('mediaType', MediaType.Video);\n    this.fetchPosterURL.then(poster => {\n      var _a;\n      this.dispatch('currentPoster', (_a = this.poster) !== null && _a !== void 0 ? _a : poster);\n      this.dispatch('playbackReady', true);\n    });\n    this.internalState.playbackReady = true;\n  }\n  onPlayerStateChange(state) {\n    // Sometimes the embed falls back to an unstarted state for some unknown reason, this will\n    // make sure the player is configured to the right starting state.\n    if (this.internalState.playbackReady &&\n      state === -1 /* Unstarted */) {\n      this.internalState.paused = true;\n      this.internalState.playbackStarted = false;\n      this.dispatch('buffering', false);\n      this.dispatch('paused', true);\n      this.dispatch('playbackStarted', false);\n      return;\n    }\n    const isPlaying = state === 1 /* Playing */;\n    const isBuffering = state === 3 /* Buffering */;\n    this.dispatch('buffering', isBuffering);\n    // Attempt to detect `play` events early.\n    if (this.internalState.paused && (isBuffering || isPlaying)) {\n      this.internalState.paused = false;\n      this.dispatch('paused', false);\n      if (!this.internalState.playbackStarted) {\n        this.dispatch('playbackStarted', true);\n        this.internalState.playbackStarted = true;\n      }\n    }\n    switch (state) {\n      case 5 /* Cued */:\n        this.onCued();\n        break;\n      case 1 /* Playing */:\n        // Incase of autoplay which might skip `Cued` event.\n        this.onCued();\n        this.dispatch('playing', true);\n        break;\n      case 2 /* Paused */:\n        this.internalState.paused = true;\n        this.dispatch('paused', true);\n        break;\n      case 0 /* Ended */:\n        if (this.loop) {\n          window.setTimeout(() => {\n            this.remoteControl(\"playVideo\" /* Play */);\n          }, 150);\n        }\n        else {\n          this.dispatch('playbackEnded', true);\n          this.internalState.paused = true;\n          this.dispatch('paused', true);\n        }\n        break;\n    }\n    this.internalState.state = state;\n  }\n  calcCurrentTime(time) {\n    let currentTime = time;\n    if (this.internalState.state === 0 /* Ended */) {\n      return this.internalState.duration;\n    }\n    if (this.internalState.state === 1 /* Playing */) {\n      const elapsedTime = (Date.now() / 1e3 - this.defaultInternalState.lastTimeUpdate) *\n        this.internalState.playbackRate;\n      if (elapsedTime > 0)\n        currentTime += Math.min(elapsedTime, 1);\n    }\n    return currentTime;\n  }\n  onTimeChange(time) {\n    const currentTime = this.calcCurrentTime(time);\n    this.dispatch('currentTime', currentTime);\n    // This is the only way to detect `seeking`.\n    if (Math.abs(this.internalState.currentTime - currentTime) > 1.5) {\n      this.internalState.seeking = true;\n      this.dispatch('seeking', true);\n    }\n    this.internalState.currentTime = currentTime;\n  }\n  onBufferedChange(buffered) {\n    this.dispatch('buffered', buffered);\n    /**\n     * This is the only way to detect `seeked`. Unfortunately while the player is `paused` `seeking`\n     * and `seeked` will fire at the same time, there are no updates inbetween -_-. We need an\n     * artifical delay between the two events.\n     */\n    if (this.internalState.seeking &&\n      buffered > this.internalState.currentTime) {\n      window.setTimeout(() => {\n        this.internalState.seeking = false;\n        this.dispatch('seeking', false);\n      }, this.internalState.paused ? 100 : 0);\n    }\n  }\n  onEmbedMessage(event) {\n    const message = event.detail;\n    const { info } = message;\n    if (!info)\n      return;\n    if (isObject(info.videoData))\n      this.dispatch('mediaTitle', info.videoData.title);\n    if (isNumber(info.duration)) {\n      this.internalState.duration = info.duration;\n      this.dispatch('duration', info.duration);\n    }\n    if (isArray(info.availablePlaybackRates)) {\n      this.dispatch('playbackRates', info.availablePlaybackRates);\n    }\n    if (isNumber(info.playbackRate)) {\n      this.internalState.playbackRate = info.playbackRate;\n      this.dispatch('playbackRate', info.playbackRate);\n    }\n    if (isNumber(info.currentTime))\n      this.onTimeChange(info.currentTime);\n    if (isNumber(info.currentTimeLastUpdated)) {\n      this.internalState.lastTimeUpdate = info.currentTimeLastUpdated;\n    }\n    if (isNumber(info.videoLoadedFraction)) {\n      this.onBufferedChange(info.videoLoadedFraction * this.internalState.duration);\n    }\n    if (isNumber(info.volume))\n      this.dispatch('volume', info.volume);\n    if (isBoolean(info.muted))\n      this.dispatch('muted', info.muted);\n    if (isArray(info.availableQualityLevels)) {\n      this.dispatch('playbackQualities', info.availableQualityLevels.map(q => mapYouTubePlaybackQuality(q)));\n    }\n    if (isString(info.playbackQuality)) {\n      this.dispatch('playbackQuality', mapYouTubePlaybackQuality(info.playbackQuality));\n    }\n    if (isNumber(info.playerState))\n      this.onPlayerStateChange(info.playerState);\n  }\n  render() {\n    return ((0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.h)(\"vm-embed\", { embedSrc: this.embedSrc, mediaTitle: this.mediaTitle, origin: this.getOrigin(), params: this.buildParams(), decoder: decodeJSON, preconnections: this.getPreconnections(), onVmEmbedLoaded: this.onEmbedLoaded.bind(this), onVmEmbedMessage: this.onEmbedMessage.bind(this), onVmEmbedSrcChange: this.onEmbedSrcChange.bind(this), ref: (el) => {\n        this.embed = el;\n      } }));\n  }\n  static get watchers() { return {\n    \"cookies\": [\"onVideoIdChange\"],\n    \"videoId\": [\"onVideoIdChange\"],\n    \"poster\": [\"onCustomPosterChange\"]\n  }; }\n  static get style() { return youtubeCss; }\n};\n\nconst VmAudio = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Audio, [4,\"vm-audio\",{\"willAttach\":[4,\"will-attach\"],\"crossOrigin\":[1,\"cross-origin\"],\"preload\":[1],\"disableRemotePlayback\":[4,\"disable-remote-playback\"],\"mediaTitle\":[1,\"media-title\"]}]);\nconst VmCaptionControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(CaptionControl, [1,\"vm-caption-control\",{\"showIcon\":[1,\"show-icon\"],\"hideIcon\":[1,\"hide-icon\"],\"tooltipPosition\":[1,\"tooltip-position\"],\"tooltipDirection\":[1,\"tooltip-direction\"],\"hideTooltip\":[4,\"hide-tooltip\"],\"icons\":[1],\"keys\":[1],\"i18n\":[16],\"playbackReady\":[4,\"playback-ready\"],\"textTracks\":[16],\"isTextTrackVisible\":[4,\"is-text-track-visible\"],\"canToggleCaptionVisibility\":[32]}]);\nconst VmCaptions = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Captions, [1,\"vm-captions\",{\"hidden\":[4],\"isControlsActive\":[4,\"is-controls-active\"],\"isVideoView\":[4,\"is-video-view\"],\"playbackStarted\":[4,\"playback-started\"],\"textTracks\":[16],\"currentTextTrack\":[2,\"current-text-track\"],\"isTextTrackVisible\":[4,\"is-text-track-visible\"],\"isEnabled\":[32],\"cue\":[32],\"fontSize\":[32]}]);\nconst VmClickToPlay = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(ClickToPlay, [1,\"vm-click-to-play\",{\"useOnMobile\":[4,\"use-on-mobile\"],\"paused\":[4],\"isVideoView\":[4,\"is-video-view\"],\"isMobile\":[4,\"is-mobile\"]}]);\nconst VmControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Control, [1,\"vm-control\",{\"keys\":[1],\"identifier\":[1],\"hidden\":[4],\"label\":[1],\"menu\":[1],\"expanded\":[4],\"pressed\":[4],\"isTouch\":[4,\"is-touch\"],\"describedBy\":[32],\"showTapHighlight\":[32]}]);\nconst VmControlGroup = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(ControlNewLine, [1,\"vm-control-group\",{\"space\":[1]}]);\nconst VmControlSpacer = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(ControlSpacer, [1,\"vm-control-spacer\"]);\nconst VmControls = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Controls, [1,\"vm-controls\",{\"hidden\":[4],\"fullWidth\":[4,\"full-width\"],\"fullHeight\":[4,\"full-height\"],\"direction\":[1],\"align\":[1],\"justify\":[1],\"pin\":[513],\"activeDuration\":[2,\"active-duration\"],\"waitForPlaybackStart\":[4,\"wait-for-playback-start\"],\"hideWhenPaused\":[4,\"hide-when-paused\"],\"hideOnMouseLeave\":[4,\"hide-on-mouse-leave\"],\"isAudioView\":[4,\"is-audio-view\"],\"isSettingsActive\":[4,\"is-settings-active\"],\"playbackReady\":[4,\"playback-ready\"],\"isControlsActive\":[4,\"is-controls-active\"],\"paused\":[4],\"playbackStarted\":[4,\"playback-started\"],\"isInteracting\":[32]}]);\nconst VmCurrentTime = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(CurrentTime, [1,\"vm-current-time\",{\"currentTime\":[2,\"current-time\"],\"i18n\":[16],\"alwaysShowHours\":[4,\"always-show-hours\"]}]);\nconst VmDailymotion = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Dailymotion, [1,\"vm-dailymotion\",{\"videoId\":[1,\"video-id\"],\"shouldAutoplayQueue\":[4,\"should-autoplay-queue\"],\"showUpNextQueue\":[4,\"show-up-next-queue\"],\"showShareButtons\":[4,\"show-share-buttons\"],\"color\":[1],\"syndication\":[1],\"showDailymotionLogo\":[4,\"show-dailymotion-logo\"],\"showVideoInfo\":[4,\"show-video-info\"],\"language\":[1],\"autoplay\":[4],\"controls\":[4],\"poster\":[1],\"logger\":[16],\"loop\":[4],\"muted\":[4],\"playsinline\":[4],\"embedSrc\":[32],\"mediaTitle\":[32]}]);\nconst VmDash = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Dash, [1,\"vm-dash\",{\"src\":[1],\"version\":[1],\"libSrc\":[1,\"lib-src\"],\"config\":[16],\"autoplay\":[4],\"crossOrigin\":[1,\"cross-origin\"],\"preload\":[1],\"poster\":[1],\"controlsList\":[1,\"controls-list\"],\"autoPiP\":[4,\"auto-pip\"],\"disablePiP\":[4,\"disable-pip\"],\"disableRemotePlayback\":[4,\"disable-remote-playback\"],\"mediaTitle\":[1,\"media-title\"],\"enableTextTracksByDefault\":[4,\"enable-text-tracks-by-default\"],\"shouldRenderNativeTextTracks\":[4,\"should-render-native-text-tracks\"],\"isTextTrackVisible\":[4,\"is-text-track-visible\"],\"currentTextTrack\":[2,\"current-text-track\"],\"hasAttached\":[32]},[[0,\"vmMediaElChange\",\"onMediaElChange\"]]]);\nconst VmDblClickFullscreen = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(DblClickFullscreen, [1,\"vm-dbl-click-fullscreen\",{\"useOnMobile\":[4,\"use-on-mobile\"],\"isFullscreenActive\":[4,\"is-fullscreen-active\"],\"isVideoView\":[4,\"is-video-view\"],\"playbackReady\":[4,\"playback-ready\"],\"isMobile\":[4,\"is-mobile\"],\"canSetFullscreen\":[32]}]);\nconst VmDefaultControls = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(DefaultControls, [1,\"vm-default-controls\",{\"activeDuration\":[2,\"active-duration\"],\"waitForPlaybackStart\":[4,\"wait-for-playback-start\"],\"hideWhenPaused\":[4,\"hide-when-paused\"],\"hideOnMouseLeave\":[4,\"hide-on-mouse-leave\"],\"theme\":[1],\"isMobile\":[4,\"is-mobile\"],\"isLive\":[4,\"is-live\"],\"isAudioView\":[4,\"is-audio-view\"],\"isVideoView\":[4,\"is-video-view\"]}]);\nconst VmDefaultSettings = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(DefaultSettings, [1,\"vm-default-settings\",{\"pin\":[513],\"i18n\":[16],\"playbackReady\":[4,\"playback-ready\"],\"playbackRate\":[2,\"playback-rate\"],\"playbackRates\":[16],\"isVideoView\":[4,\"is-video-view\"],\"playbackQuality\":[1,\"playback-quality\"],\"playbackQualities\":[16],\"textTracks\":[16],\"currentTextTrack\":[2,\"current-text-track\"],\"audioTracks\":[16],\"currentAudioTrack\":[2,\"current-audio-track\"],\"isTextTrackVisible\":[4,\"is-text-track-visible\"],\"canSetPlaybackRate\":[32],\"canSetPlaybackQuality\":[32],\"canSetTextTrack\":[32],\"canSetAudioTrack\":[32]}]);\nconst VmDefaultUi = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(DefaultUI, [1,\"vm-default-ui\",{\"noClickToPlay\":[4,\"no-click-to-play\"],\"noDblClickFullscreen\":[4,\"no-dbl-click-fullscreen\"],\"noCaptions\":[4,\"no-captions\"],\"noPoster\":[4,\"no-poster\"],\"noSpinner\":[4,\"no-spinner\"],\"noControls\":[4,\"no-controls\"],\"noSettings\":[4,\"no-settings\"],\"noLoadingScreen\":[4,\"no-loading-screen\"]}]);\nconst VmEmbed = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Embed, [1,\"vm-embed\",{\"embedSrc\":[1,\"embed-src\"],\"mediaTitle\":[1,\"media-title\"],\"params\":[1],\"origin\":[1],\"preconnections\":[16],\"decoder\":[16],\"srcWithParams\":[32],\"hasEnteredViewport\":[32]},[[8,\"message\",\"onWindowMessage\"]]]);\nconst VmEndTime = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(EndTime, [1,\"vm-end-time\",{\"duration\":[2],\"i18n\":[16],\"alwaysShowHours\":[4,\"always-show-hours\"]}]);\nconst VmFile = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(File, [6,\"vm-file\",{\"willAttach\":[4,\"will-attach\"],\"crossOrigin\":[1,\"cross-origin\"],\"preload\":[1],\"poster\":[1],\"mediaTitle\":[1,\"media-title\"],\"controlsList\":[1,\"controls-list\"],\"autoPiP\":[4,\"auto-pip\"],\"disablePiP\":[4,\"disable-pip\"],\"disableRemotePlayback\":[4,\"disable-remote-playback\"],\"viewType\":[1,\"view-type\"],\"playbackRates\":[16],\"language\":[1],\"autoplay\":[4],\"controls\":[4],\"logger\":[16],\"loop\":[4],\"muted\":[4],\"playsinline\":[4],\"noConnect\":[4,\"no-connect\"],\"paused\":[4],\"currentTime\":[2,\"current-time\"],\"volume\":[2],\"playbackReady\":[4,\"playback-ready\"],\"playbackStarted\":[4,\"playback-started\"],\"currentTextTrack\":[2,\"current-text-track\"],\"hasCustomTextManager\":[4,\"has-custom-text-manager\"],\"isTextTrackVisible\":[4,\"is-text-track-visible\"],\"shouldRenderNativeTextTracks\":[4,\"should-render-native-text-tracks\"],\"vmPoster\":[32]},[[0,\"vmMediaProviderConnect\",\"onProviderConnect\"],[0,\"vmMediaProviderDisconnect\",\"onProviderDisconnect\"]]]);\nconst VmFullscreenControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(FullscreenControl, [1,\"vm-fullscreen-control\",{\"enterIcon\":[1,\"enter-icon\"],\"exitIcon\":[1,\"exit-icon\"],\"icons\":[1],\"tooltipPosition\":[1,\"tooltip-position\"],\"tooltipDirection\":[1,\"tooltip-direction\"],\"hideTooltip\":[4,\"hide-tooltip\"],\"keys\":[1],\"isFullscreenActive\":[4,\"is-fullscreen-active\"],\"i18n\":[16],\"playbackReady\":[4,\"playback-ready\"],\"canSetFullscreen\":[32]}]);\nconst VmHls = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(HLS, [4,\"vm-hls\",{\"version\":[1],\"libSrc\":[1,\"lib-src\"],\"config\":[8],\"crossOrigin\":[1,\"cross-origin\"],\"preload\":[1],\"poster\":[1],\"controlsList\":[1,\"controls-list\"],\"autoPiP\":[4,\"auto-pip\"],\"disablePiP\":[4,\"disable-pip\"],\"disableRemotePlayback\":[4,\"disable-remote-playback\"],\"playbackReady\":[4,\"playback-ready\"],\"mediaTitle\":[1,\"media-title\"],\"hasAttached\":[32]},[[0,\"vmMediaElChange\",\"onMediaElChange\"],[0,\"vmSrcSetChange\",\"onSrcChange\"]]]);\nconst VmIcon = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Icon, [1,\"vm-icon\",{\"name\":[1],\"src\":[1],\"label\":[1],\"library\":[1],\"icons\":[1],\"svg\":[32]}]);\nconst VmIconLibrary = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(IconLibrary, [1,\"vm-icon-library\",{\"name\":[1],\"resolver\":[16],\"icons\":[1]}]);\nconst VmLiveIndicator = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(LiveIndicator, [1,\"vm-live-indicator\",{\"isLive\":[4,\"is-live\"],\"i18n\":[16]}]);\nconst VmLoadingScreen = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(LoadingScreen, [1,\"vm-loading-screen\",{\"playbackReady\":[4,\"playback-ready\"],\"hideDots\":[4,\"hide-dots\"]}]);\nconst VmMenu = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Menu, [1,\"vm-menu\",{\"active\":[1540],\"identifier\":[1],\"controller\":[16],\"slideInDirection\":[1,\"slide-in-direction\"],\"activeMenuItem\":[32],\"activeSubmenu\":[32]},[[0,\"vmOpenSubmenu\",\"onOpenSubmenu\"],[0,\"vmCloseSubmenu\",\"onCloseSubmenu\"],[8,\"click\",\"onWindowClick\"],[8,\"keydown\",\"onWindowKeyDown\"]]]);\nconst VmMenuItem = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(MenuItem, [1,\"vm-menu-item\",{\"identifier\":[1],\"hidden\":[4],\"label\":[1],\"menu\":[16],\"expanded\":[4],\"checked\":[4],\"hint\":[1],\"badge\":[1],\"checkIcon\":[1,\"check-icon\"],\"icons\":[1],\"isTouch\":[4,\"is-touch\"],\"showTapHighlight\":[32]}]);\nconst VmMenuRadio = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(MenuRadio, [1,\"vm-menu-radio\",{\"label\":[1],\"value\":[1],\"checked\":[1028],\"badge\":[1],\"checkIcon\":[1,\"check-icon\"],\"icons\":[1]}]);\nconst VmMenuRadioGroup = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(MenuRadioGroup, [1,\"vm-menu-radio-group\",{\"value\":[1025]},[[0,\"vmCheck\",\"onSelectionChange\"]]]);\nconst VmMuteControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(MuteControl, [1,\"vm-mute-control\",{\"lowVolumeIcon\":[1,\"low-volume-icon\"],\"highVolumeIcon\":[1,\"high-volume-icon\"],\"mutedIcon\":[1,\"muted-icon\"],\"icons\":[1],\"tooltipPosition\":[1,\"tooltip-position\"],\"tooltipDirection\":[1,\"tooltip-direction\"],\"hideTooltip\":[4,\"hide-tooltip\"],\"keys\":[1],\"volume\":[2],\"muted\":[4],\"i18n\":[16]}]);\nconst VmPipControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(PiPControl, [1,\"vm-pip-control\",{\"enterIcon\":[1,\"enter-icon\"],\"exitIcon\":[1,\"exit-icon\"],\"icons\":[1],\"tooltipPosition\":[1,\"tooltip-position\"],\"tooltipDirection\":[1,\"tooltip-direction\"],\"hideTooltip\":[4,\"hide-tooltip\"],\"keys\":[1],\"isPiPActive\":[4,\"is-pi-p-active\"],\"i18n\":[16],\"playbackReady\":[4,\"playback-ready\"],\"canSetPiP\":[32]}]);\nconst VmPlaybackControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(PlaybackControl, [1,\"vm-playback-control\",{\"playIcon\":[1,\"play-icon\"],\"pauseIcon\":[1,\"pause-icon\"],\"icons\":[1],\"tooltipPosition\":[1,\"tooltip-position\"],\"tooltipDirection\":[1,\"tooltip-direction\"],\"hideTooltip\":[4,\"hide-tooltip\"],\"keys\":[1],\"paused\":[4],\"i18n\":[16]}]);\nconst VmPlayer = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Player, [1,\"vm-player\",{\"logger\":[16],\"theme\":[513],\"icons\":[513],\"paused\":[1028],\"playing\":[1028],\"duration\":[1026],\"mediaTitle\":[1025,\"media-title\"],\"currentProvider\":[1025,\"current-provider\"],\"currentSrc\":[1025,\"current-src\"],\"currentPoster\":[1025,\"current-poster\"],\"currentTime\":[1026,\"current-time\"],\"autoplay\":[4],\"ready\":[1540],\"playbackReady\":[1028,\"playback-ready\"],\"loop\":[4],\"muted\":[1028],\"buffered\":[1026],\"playbackRate\":[1026,\"playback-rate\"],\"playbackRates\":[1040],\"playbackQuality\":[1025,\"playback-quality\"],\"playbackQualities\":[1040],\"seeking\":[1028],\"debug\":[4],\"playbackStarted\":[1028,\"playback-started\"],\"playbackEnded\":[1028,\"playback-ended\"],\"buffering\":[1028],\"controls\":[4],\"isControlsActive\":[4,\"is-controls-active\"],\"isSettingsActive\":[1028,\"is-settings-active\"],\"volume\":[1026],\"isFullscreenActive\":[1028,\"is-fullscreen-active\"],\"aspectRatio\":[1025,\"aspect-ratio\"],\"viewType\":[1025,\"view-type\"],\"isAudioView\":[1028,\"is-audio-view\"],\"isVideoView\":[1028,\"is-video-view\"],\"mediaType\":[1025,\"media-type\"],\"isAudio\":[1028,\"is-audio\"],\"isVideo\":[1028,\"is-video\"],\"isLive\":[1028,\"is-live\"],\"isMobile\":[1028,\"is-mobile\"],\"isTouch\":[1028,\"is-touch\"],\"isPiPActive\":[1028,\"is-pi-p-active\"],\"textTracks\":[16],\"currentTextTrack\":[2,\"current-text-track\"],\"isTextTrackVisible\":[4,\"is-text-track-visible\"],\"shouldRenderNativeTextTracks\":[4,\"should-render-native-text-tracks\"],\"audioTracks\":[16],\"currentAudioTrack\":[2,\"current-audio-track\"],\"autopause\":[4],\"playsinline\":[4],\"language\":[1025],\"translations\":[1040],\"languages\":[1040],\"i18n\":[1040],\"container\":[32]},[[0,\"vmError\",\"onError\"]]]);\nconst VmPoster = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Poster, [1,\"vm-poster\",{\"fit\":[1],\"isVideoView\":[4,\"is-video-view\"],\"currentPoster\":[1,\"current-poster\"],\"mediaTitle\":[1,\"media-title\"],\"playbackStarted\":[4,\"playback-started\"],\"currentTime\":[2,\"current-time\"],\"isHidden\":[32],\"isActive\":[32],\"hasLoaded\":[32]}]);\nconst VmScrim = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Scrim, [1,\"vm-scrim\",{\"gradient\":[1],\"isVideoView\":[4,\"is-video-view\"],\"isControlsActive\":[4,\"is-controls-active\"]}]);\nconst VmScrubberControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(ScrubberControl, [1,\"vm-scrubber-control\",{\"alwaysShowHours\":[4,\"always-show-hours\"],\"hideTooltip\":[4,\"hide-tooltip\"],\"currentTime\":[2,\"current-time\"],\"duration\":[2],\"noKeyboard\":[4,\"no-keyboard\"],\"buffering\":[4],\"buffered\":[2],\"i18n\":[16],\"timestamp\":[32],\"endTime\":[32]}]);\nconst VmSettings = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Settings, [1,\"vm-settings\",{\"pin\":[513],\"active\":[1540],\"isMobile\":[4,\"is-mobile\"],\"isAudioView\":[4,\"is-audio-view\"],\"menuHeight\":[32]}]);\nconst VmSettingsControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(SettingsControl, [1,\"vm-settings-control\",{\"icon\":[1],\"icons\":[1],\"tooltipPosition\":[1,\"tooltip-position\"],\"tooltipDirection\":[1,\"tooltip-direction\"],\"menu\":[1],\"expanded\":[4],\"i18n\":[16],\"vmSettings\":[32]}]);\nconst VmSkeleton = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Skeleton, [1,\"vm-skeleton\",{\"effect\":[1],\"ready\":[4],\"hidden\":[32]}]);\nconst VmSlider = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Slider, [1,\"vm-slider\",{\"step\":[2],\"min\":[2],\"max\":[2],\"value\":[2],\"valueText\":[1,\"value-text\"],\"label\":[1]}]);\nconst VmSpinner = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Spinner, [1,\"vm-spinner\",{\"isVideoView\":[4,\"is-video-view\"],\"currentProvider\":[1,\"current-provider\"],\"showWhenMediaLoading\":[4,\"show-when-media-loading\"],\"playbackReady\":[4,\"playback-ready\"],\"buffering\":[4],\"isHidden\":[32],\"isActive\":[32]}]);\nconst VmSubmenu = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Submenu, [1,\"vm-submenu\",{\"label\":[1],\"hint\":[1],\"slideInDirection\":[1,\"slide-in-direction\"],\"active\":[1540],\"menu\":[32],\"controller\":[32]}]);\nconst VmTime = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Time, [1,\"vm-time\",{\"label\":[1],\"seconds\":[2],\"alwaysShowHours\":[4,\"always-show-hours\"]}]);\nconst VmTimeProgress = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(TimeProgress, [1,\"vm-time-progress\",{\"separator\":[1],\"alwaysShowHours\":[4,\"always-show-hours\"]}]);\nconst VmTooltip = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Tooltip, [1,\"vm-tooltip\",{\"hidden\":[4],\"active\":[4],\"position\":[1],\"direction\":[1],\"isTouch\":[4,\"is-touch\"],\"isMobile\":[4,\"is-mobile\"]}]);\nconst VmUi = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(UI, [1,\"vm-ui\",{\"isVideoView\":[4,\"is-video-view\"],\"playsinline\":[4],\"isFullscreenActive\":[4,\"is-fullscreen-active\"]}]);\nconst VmVideo = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Video, [4,\"vm-video\",{\"willAttach\":[4,\"will-attach\"],\"hasCustomTextManager\":[4,\"has-custom-text-manager\"],\"crossOrigin\":[1,\"cross-origin\"],\"preload\":[1],\"poster\":[1],\"controlsList\":[1,\"controls-list\"],\"autoPiP\":[4,\"auto-pip\"],\"disablePiP\":[4,\"disable-pip\"],\"disableRemotePlayback\":[4,\"disable-remote-playback\"],\"mediaTitle\":[1,\"media-title\"]},[[0,\"vmMediaProviderConnect\",\"onProviderConnect\"],[0,\"vmMediaProviderDisconnect\",\"onProviderDisconnect\"]]]);\nconst VmVimeo = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(Vimeo, [1,\"vm-vimeo\",{\"videoId\":[1,\"video-id\"],\"byline\":[4],\"color\":[1],\"portrait\":[4],\"noAutoAspectRatio\":[4,\"no-auto-aspect-ratio\"],\"poster\":[1],\"cookies\":[4],\"language\":[1],\"aspectRatio\":[1,\"aspect-ratio\"],\"autoplay\":[4],\"controls\":[4],\"logger\":[16],\"loop\":[4],\"muted\":[4],\"playsinline\":[4],\"embedSrc\":[32],\"mediaTitle\":[32]}]);\nconst VmVolumeControl = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(VolumeControl, [1,\"vm-volume-control\",{\"lowVolumeIcon\":[1,\"low-volume-icon\"],\"highVolumeIcon\":[1,\"high-volume-icon\"],\"mutedIcon\":[1,\"muted-icon\"],\"icons\":[1],\"tooltipPosition\":[1,\"tooltip-position\"],\"tooltipDirection\":[1,\"tooltip-direction\"],\"hideTooltip\":[4,\"hide-tooltip\"],\"muteKeys\":[1,\"mute-keys\"],\"noKeyboard\":[4,\"no-keyboard\"],\"muted\":[4],\"volume\":[2],\"isMobile\":[4,\"is-mobile\"],\"i18n\":[16],\"currentVolume\":[32],\"isSliderActive\":[32]}]);\nconst VmYoutube = /*@__PURE__*/(0,_stencil_core_internal_client__WEBPACK_IMPORTED_MODULE_0__.proxyCustomElement)(YouTube, [1,\"vm-youtube\",{\"cookies\":[4],\"videoId\":[1,\"video-id\"],\"showFullscreenControl\":[4,\"show-fullscreen-control\"],\"poster\":[1],\"language\":[1],\"autoplay\":[4],\"controls\":[4],\"logger\":[16],\"loop\":[4],\"muted\":[4],\"playsinline\":[4],\"embedSrc\":[32],\"mediaTitle\":[32]}]);\nconst defineCustomElements = (opts) => {\n  if (typeof customElements !== 'undefined') {\n    [\n      VmAudio,\n  VmCaptionControl,\n  VmCaptions,\n  VmClickToPlay,\n  VmControl,\n  VmControlGroup,\n  VmControlSpacer,\n  VmControls,\n  VmCurrentTime,\n  VmDailymotion,\n  VmDash,\n  VmDblClickFullscreen,\n  VmDefaultControls,\n  VmDefaultSettings,\n  VmDefaultUi,\n  VmEmbed,\n  VmEndTime,\n  VmFile,\n  VmFullscreenControl,\n  VmHls,\n  VmIcon,\n  VmIconLibrary,\n  VmLiveIndicator,\n  VmLoadingScreen,\n  VmMenu,\n  VmMenuItem,\n  VmMenuRadio,\n  VmMenuRadioGroup,\n  VmMuteControl,\n  VmPipControl,\n  VmPlaybackControl,\n  VmPlayer,\n  VmPoster,\n  VmScrim,\n  VmScrubberControl,\n  VmSettings,\n  VmSettingsControl,\n  VmSkeleton,\n  VmSlider,\n  VmSpinner,\n  VmSubmenu,\n  VmTime,\n  VmTimeProgress,\n  VmTooltip,\n  VmUi,\n  VmVideo,\n  VmVimeo,\n  VmVolumeControl,\n  VmYoutube\n    ].forEach(cmp => {\n      if (!customElements.get(cmp.is)) {\n        customElements.define(cmp.is, cmp, opts);\n      }\n    });\n  }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvY29yZS9kaXN0L2N1c3RvbS1lbGVtZW50cy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF5SjtBQUN4RTs7QUFFakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsd0NBQXdDO0FBQ2pFLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMEJBQTBCLEdBQUcsc0JBQXNCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0JBQWdCLEdBQUcsR0FBRyxRQUFRLEdBQUc7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxpQkFBaUI7QUFDdEQ7QUFDQTtBQUNBLGlD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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLE1BQWdDO0FBQ25ELDBCQUEwQiwrREFBK0QsaUJBQWlCO0FBQzFHO0FBQ0EsZ0NBQWdDLE1BQU0sK0JBQStCLFlBQVk7QUFDakYsK0JBQStCLE1BQU0sbUNBQW1DLFlBQVk7QUFDcEYsNEJBQTRCO0FBQzVCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsUUFBUTtBQUMvRCwrQkFBK0IsOEJBQThCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxXQUFXO0FBQ3JFLCtCQUErQixrQ0FBa0M7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxjQUFjO0FBQy9ELDZCQUE2QiwwQkFBMEI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLElBQUk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFnQyxpRkFBa0IsNkJBQTZCLDJHQUEyRztBQUMxTCx1Q0FBdUMsaUZBQWtCLDRDQUE0QyxtS0FBbUs7QUFDeFEsZ0NBQWdDLGlGQUFrQiw2QkFBNkIsdUNBQXVDO0FBQ3RILDhCQUE4QixpRkFBa0IseUJBQXlCLG9GQUFvRjtBQUM3SiwrQkFBK0IsaUZBQWtCLDJCQUEyQixxTkFBcU47QUFDalMsK0JBQStCLGlGQUFrQiwyQkFBMkIsaUhBQWlIO0FBQzdMLDRCQUE0QixpRkFBa0IscUJBQXFCLG9FQUFvRTtBQUN2SSxvQ0FBb0MsaUZBQWtCLHNDQUFzQywwREFBMEQ7QUFDdEosK0JBQStCLGlGQUFrQiwyQkFBMkIsNkdBQTZHO0FBQ3pMLDBCQUEwQixpRkFBa0IsaUJBQWlCLG9HQUFvRztBQUNqSyw2QkFBNkIsaUZBQWtCLHVCQUF1QixnVUFBZ1U7QUFDdFksNkJBQTZCLGlGQUFrQix1QkFBdUIsa1RBQWtUO0FBQ3hYLHFDQUFxQyxpRkFBa0Isd0NBQXdDLGlaQUFpWjtBQUNoZiwrQkFBK0IsaUZBQWtCLDJCQUEyQixnUEFBZ1A7QUFDNVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUUwOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL2NvcmUvZGlzdC9jdXN0b20tZWxlbWVudHMvaW5kZXguanM/NzhhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRFbGVtZW50LCBnZXRSZW5kZXJpbmdSZWYsIHdyaXRlVGFzaywgaCwgYXR0YWNoU2hhZG93LCBIb3N0LCBjcmVhdGVFdmVudCwgRnJhZ21lbnQsIHByb3h5Q3VzdG9tRWxlbWVudCB9IGZyb20gJ0BzdGVuY2lsL2NvcmUvaW50ZXJuYWwvY2xpZW50JztcbmV4cG9ydCB7IHNldEFzc2V0UGF0aCwgc2V0UGxhdGZvcm1PcHRpb25zIH0gZnJvbSAnQHN0ZW5jaWwvY29yZS9pbnRlcm5hbC9jbGllbnQnO1xuXG4vKipcbiAqIExpc3RlbiB0byBhbiBldmVudCBvbiB0aGUgZ2l2ZW4gRE9NIG5vZGUuIFJldHVybnMgYSBjYWxsYmFjayB0byByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICovXG5mdW5jdGlvbiBsaXN0ZW4obm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgcmV0dXJuICgpID0+IG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBmaXJlRXZlbnRBbmRSZXRyeShlbCwgZXZlbnQsIG9uRmFpbCwgaW50ZXJ2YWwgPSAzMDAsIG1heFJldHJpZXMgPSAxMCkge1xuICBsZXQgdGltZW91dDtcbiAgbGV0IGF0dGVtcHQgPSAwO1xuICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gcmV0cnkoKSB7XG4gICAgaWYgKGZvdW5kKVxuICAgICAgcmV0dXJuO1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChhdHRlbXB0ID09PSBtYXhSZXRyaWVzKSB7XG4gICAgICAgIG9uRmFpbCA9PT0gbnVsbCB8fCBvbkZhaWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uRmFpbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIGF0dGVtcHQgKz0gMTtcbiAgICAgIHJldHJ5KCk7XG4gICAgfSwgaW50ZXJ2YWwpO1xuICB9XG4gIHJldHJ5KCk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICBmb3VuZCA9IHRydWU7XG4gIH07XG59XG5jb25zdCBpc0NvbGxpZGluZyA9IChhLCBiLCB0cmFuc2xhdGVBeCA9IDAsIHRyYW5zbGF0ZUF5ID0gMCwgdHJhbnNsYXRlQnggPSAwLCB0cmFuc2xhdGVCeSA9IDApID0+IHtcbiAgY29uc3QgYVJlY3QgPSBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBiUmVjdCA9IGIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiAoYVJlY3QubGVmdCArIHRyYW5zbGF0ZUF4IDwgYlJlY3QucmlnaHQgKyB0cmFuc2xhdGVCeCAmJlxuICAgIGFSZWN0LnJpZ2h0ICsgdHJhbnNsYXRlQXggPiBiUmVjdC5sZWZ0ICsgdHJhbnNsYXRlQnggJiZcbiAgICBhUmVjdC50b3AgKyB0cmFuc2xhdGVBeSA8IGJSZWN0LmJvdHRvbSArIHRyYW5zbGF0ZUJ5ICYmXG4gICAgYVJlY3QuYm90dG9tICsgdHJhbnNsYXRlQXkgPiBiUmVjdC50b3AgKyB0cmFuc2xhdGVCeSk7XG59O1xuXG4vKipcbiAqIE5vLW9wZXJhdGlvbiAobm9vcCkuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbmNvbnN0IG5vb3AgPSAoLi4uXykgPT4ge1xuICAvLyAuLi5cbn07XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKi9cbmNvbnN0IGlzTnVsbCA9ICh2YWx1ZSkgPT4gdmFsdWUgPT09IG51bGw7XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqL1xuY29uc3QgaXNVbmRlZmluZWQgPSAodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCc7XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKi9cbmNvbnN0IGlzTmlsID0gKHZhbHVlKSA9PiBpc051bGwodmFsdWUpIHx8IGlzVW5kZWZpbmVkKHZhbHVlKTtcbi8qKlxuICogUmV0dXJucyB0aGUgY29uc3RydWN0b3Igb2YgdGhlIGdpdmVuIGB2YWx1ZWAuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIHJldHVybiB0aGUgY29uc3RydWN0b3Igb2YuXG4gKi9cbmNvbnN0IGdldENvbnN0cnVjdG9yID0gKHZhbHVlKSA9PiBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4haXNOaWwodmFsdWUpID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQ7XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgT2JqZWN0YCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICovXG5jb25zdCBpc09iamVjdCA9ICh2YWx1ZSkgPT4gZ2V0Q29uc3RydWN0b3IodmFsdWUpID09PSBPYmplY3Q7XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTnVtYmVyYCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICovXG5jb25zdCBpc051bWJlciA9ICh2YWx1ZSkgPT4gZ2V0Q29uc3RydWN0b3IodmFsdWUpID09PSBOdW1iZXIgJiYgIU51bWJlci5pc05hTih2YWx1ZSk7XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3RyaW5nYCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICovXG5jb25zdCBpc1N0cmluZyA9ICh2YWx1ZSkgPT4gZ2V0Q29uc3RydWN0b3IodmFsdWUpID09PSBTdHJpbmc7XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgQm9vbGVhbmAgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqL1xuY29uc3QgaXNCb29sZWFuID0gKHZhbHVlKSA9PiBnZXRDb25zdHJ1Y3Rvcih2YWx1ZSkgPT09IEJvb2xlYW47XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5jb25zdCBpc0Z1bmN0aW9uID0gKHZhbHVlKSA9PiBnZXRDb25zdHJ1Y3Rvcih2YWx1ZSkgPT09IEZ1bmN0aW9uO1xuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqL1xuY29uc3QgaXNBcnJheSA9ICh2YWx1ZSkgPT4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFuIGluc3RhbmNlb2YgdGhlIGdpdmVuIGBjb25zdHJ1Y3RvcmAuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIGNvbnN0cnVjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIHRvIGNoZWNrIGFnYWluc3QuXG4gKi9cbmNvbnN0IGlzSW5zdGFuY2VPZiA9ICh2YWx1ZSwgY29uc3RydWN0b3IpID0+IEJvb2xlYW4odmFsdWUgJiYgY29uc3RydWN0b3IgJiYgdmFsdWUgaW5zdGFuY2VvZiBjb25zdHJ1Y3Rvcik7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBlbXB0eSBQcm9taXNlIGFuZCBkZWZlcnMgcmVzb2x2aW5nL3JlamVjdGluZyBpdC5cbiAqL1xuY29uc3QgZGVmZXJyZWRQcm9taXNlID0gKCkgPT4ge1xuICBsZXQgcmVzb2x2ZSA9IG5vb3A7XG4gIGxldCByZWplY3QgPSBub29wO1xuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgcmVzb2x2ZSA9IHJlcztcbiAgICByZWplY3QgPSByZWo7XG4gIH0pO1xuICByZXR1cm4geyBwcm9taXNlLCByZXNvbHZlLCByZWplY3QgfTtcbn07XG5cbmZ1bmN0aW9uIHdyYXBTdGVuY2lsSG9vayhjb21wb25lbnQsIGxpZmVjeWNsZSwgaG9vaykge1xuICBjb25zdCBwcmV2SG9vayA9IGNvbXBvbmVudFtsaWZlY3ljbGVdO1xuICBjb21wb25lbnRbbGlmZWN5Y2xlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICBob29rKCk7XG4gICAgcmV0dXJuIHByZXZIb29rID8gcHJldkhvb2suY2FsbChjb21wb25lbnQpIDogdW5kZWZpbmVkO1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU3RlbmNpbEhvb2soY29tcG9uZW50LCBvbkNvbm5lY3QsIG9uRGlzY29ubmVjdCkge1xuICBsZXQgaGFzTG9hZGVkID0gZmFsc2U7XG4gIGlmICghaXNVbmRlZmluZWQob25Db25uZWN0KSkge1xuICAgIHdyYXBTdGVuY2lsSG9vayhjb21wb25lbnQsICdjb21wb25lbnRXaWxsTG9hZCcsICgpID0+IHtcbiAgICAgIG9uQ29ubmVjdCgpO1xuICAgICAgaGFzTG9hZGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICB3cmFwU3RlbmNpbEhvb2soY29tcG9uZW50LCAnY29ubmVjdGVkQ2FsbGJhY2snLCAoKSA9PiB7XG4gICAgICBpZiAoaGFzTG9hZGVkKVxuICAgICAgICBvbkNvbm5lY3QoKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoIWlzVW5kZWZpbmVkKG9uRGlzY29ubmVjdCkpIHtcbiAgICB3cmFwU3RlbmNpbEhvb2soY29tcG9uZW50LCAnZGlzY29ubmVjdGVkQ2FsbGJhY2snLCAoKSA9PiB7XG4gICAgICBvbkRpc2Nvbm5lY3QoKTtcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBGSU5EX1BMQVlFUl9FVkVOVCA9ICd2bUZpbmRQbGF5ZXInO1xuZnVuY3Rpb24gd2l0aEZpbmRQbGF5ZXIocGxheWVyKSB7XG4gIGNvbnN0IGVsID0gZ2V0RWxlbWVudChwbGF5ZXIpO1xuICBsZXQgb2ZmO1xuICBjcmVhdGVTdGVuY2lsSG9vayhwbGF5ZXIsICgpID0+IHtcbiAgICBvZmYgPSBsaXN0ZW4oZWwsIEZJTkRfUExBWUVSX0VWRU5ULCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZXZlbnQuZGV0YWlsKGVsKTtcbiAgICB9KTtcbiAgfSwgKCkgPT4ge1xuICAgIG9mZiA9PT0gbnVsbCB8fCBvZmYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9mZigpO1xuICB9KTtcbn1cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgcGxheWVyIGVsZW1lbnQgYnkgZmlyaW5nIHRoZSBgdm1GaW5kUGxheWVyYCBldmVudCwgYW5kIHdhaXRpbmdcbiAqIGZvciB0aGUgcGxheWVyIHRvIGNhdGNoIGl0LiBUaGlzIGZ1bmN0aW9uIHJldHJpZXMgZmluZGluZyB0aGUgcGxheWVyIChgbWF4UmV0cmllc2ApIHVudGlsIGl0XG4gKiBnaXZlcyB1cCBhbmQgZmFpbHMuXG4gKlxuICogQHBhcmFtIHJlZiAtIEEgSFRNTEVsZW1lbnQgdGhhdCBpcyB3aXRoaW4gdGhlIHBsYXllcidzIHN1YnRyZWUuXG4gKiBAcGFyYW0gaW50ZXJ2YWwgLSBUaGUgbGVuZ3RoIG9mIHRoZSB0aW1lb3V0IGJlZm9yZSB0cnlpbmcgYWdhaW4gaW4gbWlsbGlzZWNvbmRzLlxuICogQHBhcmFtIG1heFJldHJpZXMgLSBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJldHJ5IGZpcmluZyB0aGUgZXZlbnQuXG4gKi9cbmNvbnN0IGZpbmRQbGF5ZXIgPSAocmVmLCBpbnRlcnZhbCA9IDMwMCwgbWF4UmV0cmllcyA9IDEwKSA9PiB7XG4gIGNvbnN0IGVsID0gKGlzSW5zdGFuY2VPZihyZWYsIEhUTUxFbGVtZW50KVxuICAgID8gcmVmXG4gICAgOiBnZXRFbGVtZW50KHJlZikpO1xuICBjb25zdCBzZWFyY2ggPSBkZWZlcnJlZFByb21pc2UoKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICBsZXQgc3RvcEZpcmluZztcbiAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoRklORF9QTEFZRVJfRVZFTlQsIHtcbiAgICBidWJibGVzOiB0cnVlLFxuICAgIGNvbXBvc2VkOiB0cnVlLFxuICAgIGRldGFpbDogcGxheWVyID0+IHtcbiAgICAgIHNlYXJjaC5yZXNvbHZlKHBsYXllcik7XG4gICAgICBzdG9wRmlyaW5nKCk7XG4gICAgfSxcbiAgfSk7XG4gIHN0b3BGaXJpbmcgPSBmaXJlRXZlbnRBbmRSZXRyeShlbCwgZXZlbnQsICgpID0+IHtcbiAgICBzZWFyY2gucmVqZWN0KGBDb3VsZCBub3QgZmluZCBwbGF5ZXIgZm9yICR7ZWwubm9kZU5hbWV9YCk7XG4gIH0sIGludGVydmFsLCBtYXhSZXRyaWVzKTtcbiAgcmV0dXJuIHNlYXJjaC5wcm9taXNlO1xufTtcblxudmFyIE1lZGlhVHlwZTtcbihmdW5jdGlvbiAoTWVkaWFUeXBlKSB7XG4gIE1lZGlhVHlwZVtcIkF1ZGlvXCJdID0gXCJhdWRpb1wiO1xuICBNZWRpYVR5cGVbXCJWaWRlb1wiXSA9IFwidmlkZW9cIjtcbn0pKE1lZGlhVHlwZSB8fCAoTWVkaWFUeXBlID0ge30pKTtcblxuY29uc3QgU1RBVEVfQ0hBTkdFX0VWRU5UID0gJ3ZtU3RhdGVDaGFuZ2UnO1xuLyoqXG4gKiBDcmVhdGVzIGEgZGlzcGF0Y2hlciBvbiB0aGUgZ2l2ZW4gYHJlZmAsIHRvIHNlbmQgdXBkYXRlcyB0byB0aGUgY2xvc2VzdCBhbmNlc3RvciBwbGF5ZXIgdmlhXG4gKiB0aGUgY3VzdG9tIGB2bVN0YXRlQ2hhbmdlYCBldmVudC5cbiAqXG4gKiBAcGFyYW0gcmVmIEFuIGVsZW1lbnQgdG8gZGlzcGF0Y2ggdGhlIHN0YXRlIGNoYW5nZSBldmVudHMgZnJvbS5cbiAqL1xuY29uc3QgY3JlYXRlRGlzcGF0Y2hlciA9IChyZWYpID0+IChwcm9wLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBlbCA9IGlzSW5zdGFuY2VPZihyZWYsIEhUTUxFbGVtZW50KSA/IHJlZiA6IGdldEVsZW1lbnQocmVmKTtcbiAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoU1RBVEVfQ0hBTkdFX0VWRU5ULCB7XG4gICAgYnViYmxlczogdHJ1ZSxcbiAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICBkZXRhaWw6IHsgYnk6IGVsLCBwcm9wLCB2YWx1ZSB9LFxuICB9KTtcbiAgZWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG59O1xuXG5jb25zdCBlbiA9IHtcbiAgcGxheTogJ1BsYXknLFxuICBwYXVzZTogJ1BhdXNlJyxcbiAgcGxheWJhY2s6ICdQbGF5YmFjaycsXG4gIHNjcnViYmVyOiAnU2NydWJiZXInLFxuICBzY3J1YmJlckxhYmVsOiAne2N1cnJlbnRUaW1lfSBvZiB7ZHVyYXRpb259JyxcbiAgcGxheWVkOiAnUGxheWVkJyxcbiAgZHVyYXRpb246ICdEdXJhdGlvbicsXG4gIGJ1ZmZlcmVkOiAnQnVmZmVyZWQnLFxuICBjbG9zZTogJ0Nsb3NlJyxcbiAgY3VycmVudFRpbWU6ICdDdXJyZW50IHRpbWUnLFxuICBsaXZlOiAnTElWRScsXG4gIHZvbHVtZTogJ1ZvbHVtZScsXG4gIG11dGU6ICdNdXRlJyxcbiAgdW5tdXRlOiAnVW5tdXRlJyxcbiAgYXVkaW86ICdBdWRpbycsXG4gIGRlZmF1bHQ6ICdEZWZhdWx0JyxcbiAgY2FwdGlvbnM6ICdDYXB0aW9ucycsXG4gIHN1YnRpdGxlc09yQ2M6ICdTdWJ0aXRsZXMvQ0MnLFxuICBlbmFibGVDYXB0aW9uczogJ0VuYWJsZSBzdWJ0aXRsZXMvY2FwdGlvbnMnLFxuICBkaXNhYmxlQ2FwdGlvbnM6ICdEaXNhYmxlIHN1YnRpdGxlcy9jYXB0aW9ucycsXG4gIGF1dG86ICdBdXRvJyxcbiAgZnVsbHNjcmVlbjogJ0Z1bGxzY3JlZW4nLFxuICBlbnRlckZ1bGxzY3JlZW46ICdFbnRlciBmdWxsc2NyZWVuJyxcbiAgZXhpdEZ1bGxzY3JlZW46ICdFeGl0IGZ1bGxzY3JlZW4nLFxuICBzZXR0aW5nczogJ1NldHRpbmdzJyxcbiAgc2Vla0ZvcndhcmQ6ICdTZWVrIGZvcndhcmQnLFxuICBzZWVrQmFja3dhcmQ6ICdTZWVrIGJhY2t3YXJkJyxcbiAgc2Vla1RvdGFsOiAnU2VlayB0b3RhbCcsXG4gIG5vcm1hbDogJ05vcm1hbCcsXG4gIG5vbmU6ICdOb25lJyxcbiAgcGxheWJhY2tSYXRlOiAnUGxheWJhY2sgUmF0ZScsXG4gIHBsYXliYWNrUXVhbGl0eTogJ1BsYXliYWNrIFF1YWxpdHknLFxuICBsb29wOiAnTG9vcCcsXG4gIGRpc2FibGVkOiAnRGlzYWJsZWQnLFxuICBvZmY6ICdPZmYnLFxuICBlbmFibGVkOiAnRW5hYmxlZCcsXG4gIHBpcDogJ1BpY3R1cmUtaW4tUGljdHVyZScsXG4gIGVudGVyUGlQOiAnTWluaXBsYXllcicsXG4gIGV4aXRQaVA6ICdFeHBhbmQnLFxufTtcblxuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICB0aGVtZTogdW5kZWZpbmVkLFxuICBwYXVzZWQ6IHRydWUsXG4gIHBsYXlpbmc6IGZhbHNlLFxuICBkdXJhdGlvbjogLTEsXG4gIGN1cnJlbnRQcm92aWRlcjogdW5kZWZpbmVkLFxuICBtZWRpYVRpdGxlOiB1bmRlZmluZWQsXG4gIGN1cnJlbnRTcmM6IHVuZGVmaW5lZCxcbiAgY3VycmVudFBvc3RlcjogdW5kZWZpbmVkLFxuICB0ZXh0VHJhY2tzOiBbXSxcbiAgY3VycmVudFRleHRUcmFjazogLTEsXG4gIGF1ZGlvVHJhY2tzOiBbXSxcbiAgY3VycmVudEF1ZGlvVHJhY2s6IC0xLFxuICBpc1RleHRUcmFja1Zpc2libGU6IHRydWUsXG4gIHNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3M6IHRydWUsXG4gIGljb25zOiAndmltZScsXG4gIGN1cnJlbnRUaW1lOiAwLFxuICBhdXRvcGxheTogZmFsc2UsXG4gIHJlYWR5OiBmYWxzZSxcbiAgcGxheWJhY2tSZWFkeTogZmFsc2UsXG4gIGxvb3A6IGZhbHNlLFxuICBtdXRlZDogZmFsc2UsXG4gIGJ1ZmZlcmVkOiAwLFxuICBwbGF5YmFja1JhdGU6IDEsXG4gIHBsYXliYWNrUmF0ZXM6IFsxXSxcbiAgcGxheWJhY2tRdWFsaXR5OiB1bmRlZmluZWQsXG4gIHBsYXliYWNrUXVhbGl0aWVzOiBbXSxcbiAgc2Vla2luZzogZmFsc2UsXG4gIGRlYnVnOiBmYWxzZSxcbiAgcGxheWJhY2tTdGFydGVkOiBmYWxzZSxcbiAgcGxheWJhY2tFbmRlZDogZmFsc2UsXG4gIGJ1ZmZlcmluZzogZmFsc2UsXG4gIGNvbnRyb2xzOiBmYWxzZSxcbiAgaXNDb250cm9sc0FjdGl2ZTogZmFsc2UsXG4gIHZvbHVtZTogNTAsXG4gIGlzRnVsbHNjcmVlbkFjdGl2ZTogZmFsc2UsXG4gIGFzcGVjdFJhdGlvOiAnMTY6OScsXG4gIHZpZXdUeXBlOiB1bmRlZmluZWQsXG4gIGlzQXVkaW9WaWV3OiBmYWxzZSxcbiAgaXNWaWRlb1ZpZXc6IGZhbHNlLFxuICBtZWRpYVR5cGU6IHVuZGVmaW5lZCxcbiAgaXNBdWRpbzogZmFsc2UsXG4gIGlzVmlkZW86IGZhbHNlLFxuICBpc01vYmlsZTogZmFsc2UsXG4gIGlzVG91Y2g6IGZhbHNlLFxuICBpc1NldHRpbmdzQWN0aXZlOiBmYWxzZSxcbiAgaXNMaXZlOiBmYWxzZSxcbiAgaXNQaVBBY3RpdmU6IGZhbHNlLFxuICBhdXRvcGF1c2U6IHRydWUsXG4gIHBsYXlzaW5saW5lOiBmYWxzZSxcbiAgbGFuZ3VhZ2U6ICdlbicsXG4gIGxhbmd1YWdlczogWydlbiddLFxuICB0cmFuc2xhdGlvbnM6IHsgZW4gfSxcbiAgaTE4bjogZW4sXG59O1xuY29uc3Qgd3JpdGFibGVQcm9wcyA9IG5ldyBTZXQoW1xuICAnYXV0b3BsYXknLFxuICAnYXV0b3BhdXNlJyxcbiAgJ2FzcGVjdFJhdGlvJyxcbiAgJ2NvbnRyb2xzJyxcbiAgJ3RoZW1lJyxcbiAgJ2RlYnVnJyxcbiAgJ3BhdXNlZCcsXG4gICdjdXJyZW50VGltZScsXG4gICdsYW5ndWFnZScsXG4gICdsb29wJyxcbiAgJ3RyYW5zbGF0aW9ucycsXG4gICdwbGF5YmFja1F1YWxpdHknLFxuICAnbXV0ZWQnLFxuICAncGxheWJhY2tSYXRlJyxcbiAgJ3BsYXlzaW5saW5lJyxcbiAgJ3ZvbHVtZScsXG4gICdpc1NldHRpbmdzQWN0aXZlJyxcbiAgJ2lzQ29udHJvbHNBY3RpdmUnLFxuICAnc2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrcycsXG5dKTtcbmNvbnN0IGlzV3JpdGFibGVQcm9wID0gKHByb3ApID0+IHdyaXRhYmxlUHJvcHMuaGFzKHByb3ApO1xuLyoqXG4gKiBQbGF5ZXIgcHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSByZXNldCB3aGVuIHRoZSBtZWRpYSBpcyBjaGFuZ2VkLlxuICovXG5jb25zdCByZXNldGFibGVQcm9wcyA9IG5ldyBTZXQoW1xuICAncGF1c2VkJyxcbiAgJ2N1cnJlbnRUaW1lJyxcbiAgJ2R1cmF0aW9uJyxcbiAgJ2J1ZmZlcmVkJyxcbiAgJ3NlZWtpbmcnLFxuICAncGxheWluZycsXG4gICdidWZmZXJpbmcnLFxuICAncGxheWJhY2tSZWFkeScsXG4gICd0ZXh0VHJhY2tzJyxcbiAgJ2N1cnJlbnRUZXh0VHJhY2snLFxuICAnYXVkaW9UcmFja3MnLFxuICAnY3VycmVudEF1ZGlvVHJhY2snLFxuICAnbWVkaWFUaXRsZScsXG4gICdjdXJyZW50U3JjJyxcbiAgJ2N1cnJlbnRQb3N0ZXInLFxuICAncGxheWJhY2tSYXRlJyxcbiAgJ3BsYXliYWNrUmF0ZXMnLFxuICAncGxheWJhY2tTdGFydGVkJyxcbiAgJ3BsYXliYWNrRW5kZWQnLFxuICAncGxheWJhY2tRdWFsaXR5JyxcbiAgJ3BsYXliYWNrUXVhbGl0aWVzJyxcbiAgJ21lZGlhVHlwZScsXG5dKTtcbmNvbnN0IHNob3VsZFByb3BSZXNldE9uTWVkaWFDaGFuZ2UgPSAocHJvcCkgPT4gcmVzZXRhYmxlUHJvcHMuaGFzKHByb3ApO1xuXG52YXIgVmlld1R5cGU7XG4oZnVuY3Rpb24gKFZpZXdUeXBlKSB7XG4gIFZpZXdUeXBlW1wiQXVkaW9cIl0gPSBcImF1ZGlvXCI7XG4gIFZpZXdUeXBlW1wiVmlkZW9cIl0gPSBcInZpZGVvXCI7XG59KShWaWV3VHlwZSB8fCAoVmlld1R5cGUgPSB7fSkpO1xuXG5jbGFzcyBEaXNwb3NhbCB7XG4gIGNvbnN0cnVjdG9yKGRpc3Bvc2UgPSBbXSkge1xuICAgIHRoaXMuZGlzcG9zZSA9IGRpc3Bvc2U7XG4gIH1cbiAgYWRkKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5kaXNwb3NlLnB1c2goY2FsbGJhY2spO1xuICB9XG4gIGVtcHR5KCkge1xuICAgIHRoaXMuZGlzcG9zZS5mb3JFYWNoKGZuID0+IGZuKCkpO1xuICAgIHRoaXMuZGlzcG9zZSA9IFtdO1xuICB9XG59XG5cbnZhciBfX2F3YWl0ZXIkeSA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBQTEFZRVJfS0VZID0gU3ltYm9sKCd2bVBsYXllcktleScpO1xuY29uc3QgQ09NUE9ORU5UX05BTUVfS0VZID0gU3ltYm9sKCd2bU5hbWVLZXknKTtcbmNvbnN0IFJFR0lTVFJZX0tFWSA9IFN5bWJvbCgndm1SZWdpc3RyeUtleScpO1xuY29uc3QgUkVHSVNUUkFUSU9OX0tFWSA9IFN5bWJvbCgndm1SZWdpc3RyYXRpb25LZXknKTtcbmNvbnN0IFJFR0lTVEVSX0NPTVBPTkVOVF9FVkVOVCA9ICd2bUNvbXBvbmVudFJlZ2lzdGVyJztcbmNvbnN0IENPTVBPTkVOVF9SRUdJU1RFUkVEX0VWRU5UID0gJ3ZtQ29tcG9uZW50UmVnaXN0ZXJlZCc7XG5jb25zdCBDT01QT05FTlRfREVSRUdJU1RFUkVEX0VWRU5UID0gJ3ZtQ29tcG9uZW50RGVyZWdpc3RlcmVkJztcbmNvbnN0IGdldFJlZ2lzdHJhbnQgPSAocmVmKSA9PiBpc0luc3RhbmNlT2YocmVmLCBIVE1MRWxlbWVudClcbiAgPyByZWZcbiAgOiBnZXRFbGVtZW50KHJlZik7XG4vKipcbiAqIEhhbmRsZXMgcmVnaXN0ZXJpbmcvZGVyZWdpc3RlcmluZyB0aGUgZ2l2ZW4gYGNvbXBvbmVudGAgaW4gdGhlIHBsYXllciByZWdpc3RyeS4gQWxsIHJlZ2lzdHJpZXNcbiAqIGFyZSBib3VuZCBwZXIgcGxheWVyIHN1YnRyZWUuXG4gKlxuICogQHBhcmFtIHJlZiAtIEEgU3RlbmNpbCBjb21wb25lbnQgaW5zdGFuY2Ugb3IgSFRNTEVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIHdpdGhDb21wb25lbnRSZWdpc3RyeShyZWYsIG5hbWUpIHtcbiAgY29uc3QgcmVnaXN0cnlJZCA9IFN5bWJvbCgndm1SZWdpc3RyeUlkJyk7XG4gIGNvbnN0IHJlZ2lzdHJhbnQgPSBnZXRSZWdpc3RyYW50KHJlZik7XG4gIHJlZ2lzdHJhbnRbQ09NUE9ORU5UX05BTUVfS0VZXSA9IG5hbWUgIT09IG51bGwgJiYgbmFtZSAhPT0gdm9pZCAwID8gbmFtZSA6IHJlZ2lzdHJhbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgcmVnaXN0cmFudFtSRUdJU1RSQVRJT05fS0VZXSA9IHJlZ2lzdHJ5SWQ7XG4gIGNvbnN0IGJ1aWxkRXZlbnQgPSAoZXZlbnROYW1lKSA9PiBuZXcgQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCB7XG4gICAgYnViYmxlczogdHJ1ZSxcbiAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICBkZXRhaWw6IHJlZ2lzdHJhbnQsXG4gIH0pO1xuICBjb25zdCByZWdpc3RlckV2ZW50ID0gYnVpbGRFdmVudChSRUdJU1RFUl9DT01QT05FTlRfRVZFTlQpO1xuICBjcmVhdGVTdGVuY2lsSG9vayhyZWYsICgpID0+IHtcbiAgICByZWdpc3RyYW50LmRpc3BhdGNoRXZlbnQocmVnaXN0ZXJFdmVudCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gd2l0aENvbXBvbmVudFJlZ2lzdHJhcihwbGF5ZXIpIHtcbiAgY29uc3QgZWwgPSBnZXRFbGVtZW50KHBsYXllcik7XG4gIGNvbnN0IHJlZ2lzdHJ5ID0gbmV3IE1hcCgpO1xuICBjb25zdCBkaXNwb3NhbCA9IG5ldyBEaXNwb3NhbCgpO1xuICAvLyBUT0RPIHByb3Blcmx5IHR5cGUgdGhpcyBsYXRlci5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgZWxbUkVHSVNUUllfS0VZXSA9IHJlZ2lzdHJ5O1xuICBmdW5jdGlvbiBvbkRlcmVnaXN0ZXIocmVnaXN0cmFudCkge1xuICAgIGRlbGV0ZSByZWdpc3RyYW50W1BMQVlFUl9LRVldO1xuICAgIGRlbGV0ZSByZWdpc3RyYW50W1JFR0lTVFJZX0tFWV07XG4gICAgcmVnaXN0cnkuZGVsZXRlKHJlZ2lzdHJhbnRbUkVHSVNUUkFUSU9OX0tFWV0pO1xuICAgIGVsLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KENPTVBPTkVOVF9ERVJFR0lTVEVSRURfRVZFTlQsIHsgZGV0YWlsOiByZWdpc3RyYW50IH0pKTtcbiAgfVxuICBmdW5jdGlvbiBvblJlZ2lzdGVyKGUpIHtcbiAgICBjb25zdCByZWYgPSBlLmRldGFpbDtcbiAgICBjb25zdCByZWdpc3RyYW50ID0gZ2V0UmVnaXN0cmFudChyZWYpO1xuICAgIHJlZ2lzdHJhbnRbUExBWUVSX0tFWV0gPSBlbDtcbiAgICByZWdpc3RyYW50W1JFR0lTVFJZX0tFWV0gPSByZWdpc3RyeTtcbiAgICByZWdpc3RyeS5zZXQocmVnaXN0cmFudFtSRUdJU1RSQVRJT05fS0VZXSwgcmVnaXN0cmFudCk7XG4gICAgZWwuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoQ09NUE9ORU5UX1JFR0lTVEVSRURfRVZFTlQsIHsgZGV0YWlsOiByZWdpc3RyYW50IH0pKTtcbiAgICBjcmVhdGVTdGVuY2lsSG9vayhyZWYsIHVuZGVmaW5lZCwgKCkgPT4gb25EZXJlZ2lzdGVyKHJlZ2lzdHJhbnQpKTtcbiAgfVxuICBjcmVhdGVTdGVuY2lsSG9vayhwbGF5ZXIsICgpID0+IHtcbiAgICBkaXNwb3NhbC5hZGQobGlzdGVuKGVsLCBSRUdJU1RFUl9DT01QT05FTlRfRVZFTlQsIG9uUmVnaXN0ZXIpKTtcbiAgfSwgKCkgPT4ge1xuICAgIHJlZ2lzdHJ5LmNsZWFyKCk7XG4gICAgZGlzcG9zYWwuZW1wdHkoKTtcbiAgICBkZWxldGUgcGxheWVyW1JFR0lTVFJZX0tFWV07XG4gIH0pO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhbnkgY29tcG9uZW50IHdpdGggdGhlIGdpdmVuIGBuYW1lYCBleGlzdHMgaW4gdGhlIHJlZ2lzdHJ5LiBBbGwgcmVnaXN0cmllc1xuICogYXJlIGJvdW5kIHBlciBwbGF5ZXIgc3VidHJlZS5cbiAqXG4gKiBAcGFyYW0gcmVmIC0gQSBTdGVuY2lsIGNvbXBvbmVudCBpbnN0YW5jZSBvciBIVE1MRWxlbWVudC5cbiAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudCB0byBzZWFyY2ggZm9yLlxuICovXG5mdW5jdGlvbiBpc0NvbXBvbmVudFJlZ2lzdGVyZWQocmVmLCBuYW1lKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgcmVnaXN0cmFudCA9IGdldFJlZ2lzdHJhbnQocmVmKTtcbiAgY29uc3QgcmVnaXN0cnkgPSByZWdpc3RyYW50W1JFR0lTVFJZX0tFWV07XG4gIHJldHVybiBBcnJheS5mcm9tKChfYSA9IHJlZ2lzdHJ5ID09PSBudWxsIHx8IHJlZ2lzdHJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWdpc3RyeS52YWx1ZXMoKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10pLnNvbWUociA9PiByW0NPTVBPTkVOVF9OQU1FX0tFWV0gPT09IG5hbWUpO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwbGF5ZXIgZm9yIHRoZSBnaXZlbiBgcmVmYC4gVGhpcyB3aWxsIG9ubHkgd29yayBhZnRlciB0aGUgY29tcG9uZW50IGhhcyBiZWVuXG4gKiByZWdpc3RlcmVkLCBwcmVmZXIgdXNpbmcgYGZpbmRQbGF5ZXJgLlxuICpcbiAqIEBwYXJhbSByZWYgLSBBIFN0ZW5jaWwgY29tcG9uZW50IGluc3RhbmNlIG9yIEhUTUxFbGVtZW50LlxuICovXG5mdW5jdGlvbiBnZXRQbGF5ZXJGcm9tUmVnaXN0cnkocmVmKSB7XG4gIGNvbnN0IHJlZ2lzdHJhbnQgPSBnZXRSZWdpc3RyYW50KHJlZik7XG4gIHJldHVybiByZWdpc3RyYW50W1BMQVlFUl9LRVldO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgY29sbGVjdGlvbiBvZiBjb21wb25lbnRzIGZyb20gdGhlIHJlZ2lzdHJ5IGZvciB0aGUgZ2l2ZW4gYHJlZmAuIEFsbCByZWdpc3RyaWVzXG4gKiBhcmUgYm91bmQgcGVyIHBsYXllciBzdWJ0cmVlLlxuICpcbiAqIEBwYXJhbSByZWYgLSBBIFN0ZW5jaWwgY29tcG9uZW50IGluc3RhbmNlIG9yIEhUTUxFbGVtZW50LlxuICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgY29tcG9uZW50cyB0byBzZWFyY2ggZm9yIGluIHRoZSByZWdpc3RyeS5cbiAqL1xuZnVuY3Rpb24gZ2V0Q29tcG9uZW50RnJvbVJlZ2lzdHJ5KHJlZiwgbmFtZSkge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCByZWdpc3RyYW50ID0gZ2V0UmVnaXN0cmFudChyZWYpO1xuICByZXR1cm4gQXJyYXkuZnJvbSgoX2IgPSAoX2EgPSByZWdpc3RyYW50W1JFR0lTVFJZX0tFWV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS52YWx1ZXMoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10pLmZpbHRlcihyID0+IHJbQ09NUE9ORU5UX05BTUVfS0VZXSA9PT0gbmFtZSk7XG59XG4vKipcbiAqIFdhdGNoZXMgdGhlIGN1cnJlbnQgcmVnaXN0cnkgb24gdGhlIGdpdmVuIGByZWZgIGZvciBjaGFuZ2VzLiBBbGwgcmVnaXN0cmllcyBhcmUgYm91bmQgcGVyXG4gKiBwbGF5ZXIgc3VidHJlZS5cbiAqXG4gKiBAcGFyYW0gcmVmIC0gQSBTdGVuY2lsIGNvbXBvbmVudCBpbnN0YW5jZSBvciBIVE1MRWxlbWVudC5cbiAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudCB0byB3YXRjaCBmb3IuXG4gKiBAcGFyYW0gb25DaGFuZ2UgLSBBIGNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gYSBjb21wb25lbnQgaXMgcmVnaXN0ZXJlZC9kZXJlZ2lzdGVyZWQuXG4gKi9cbmZ1bmN0aW9uIHdhdGNoQ29tcG9uZW50UmVnaXN0cnkocmVmLCBuYW1lLCBvbkNoYW5nZSkge1xuICB2YXIgX2E7XG4gIHJldHVybiBfX2F3YWl0ZXIkeSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBwbGF5ZXIgPSB5aWVsZCBmaW5kUGxheWVyKHJlZik7XG4gICAgY29uc3QgZGlzcG9zYWwgPSBuZXcgRGlzcG9zYWwoKTtcbiAgICBjb25zdCByZWdpc3RyeSA9IGdldFJlZ2lzdHJhbnQocmVmKVtSRUdJU1RSWV9LRVldO1xuICAgIGZ1bmN0aW9uIGxpc3RlbmVyKGUpIHtcbiAgICAgIGlmIChlLmRldGFpbFtDT01QT05FTlRfTkFNRV9LRVldID09PSBuYW1lKVxuICAgICAgICBvbkNoYW5nZSA9PT0gbnVsbCB8fCBvbkNoYW5nZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25DaGFuZ2UoZ2V0Q29tcG9uZW50RnJvbVJlZ2lzdHJ5KHBsYXllciwgbmFtZSkpO1xuICAgIH1cbiAgICAvLyBIeWRyYXRlLlxuICAgIEFycmF5LmZyb20oKF9hID0gcmVnaXN0cnkgPT09IG51bGwgfHwgcmVnaXN0cnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlZ2lzdHJ5LnZhbHVlcygpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSkuZm9yRWFjaChyZWcgPT4gbGlzdGVuZXIobmV3IEN1c3RvbUV2ZW50KCcnLCB7IGRldGFpbDogcmVnIH0pKSk7XG4gICAgaWYgKCFpc1VuZGVmaW5lZChwbGF5ZXIpKSB7XG4gICAgICBkaXNwb3NhbC5hZGQobGlzdGVuKHBsYXllciwgQ09NUE9ORU5UX1JFR0lTVEVSRURfRVZFTlQsIGxpc3RlbmVyKSk7XG4gICAgICBkaXNwb3NhbC5hZGQobGlzdGVuKHBsYXllciwgQ09NUE9ORU5UX0RFUkVHSVNURVJFRF9FVkVOVCwgbGlzdGVuZXIpKTtcbiAgICB9XG4gICAgY3JlYXRlU3RlbmNpbEhvb2socmVmLCAoKSA9PiB7XG4gICAgICAvLyBuby1vcFxuICAgIH0sICgpID0+IHtcbiAgICAgIGRpc3Bvc2FsLmVtcHR5KCk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRpc3Bvc2FsLmVtcHR5KCk7XG4gICAgfTtcbiAgfSk7XG59XG5cbnZhciBjcmVhdGVEZWZlcnJlZFByb21pc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc29sdmU7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzKSB7IHJlc29sdmUgPSByZXM7IH0pO1xuICAgIHJldHVybiB7IHByb21pc2U6IHByb21pc2UsIHJlc29sdmU6IHJlc29sdmUgfTtcbn07XG5cbnZhciBvcGVuV29ybWhvbGUgPSBmdW5jdGlvbiAoQ29tcG9uZW50LCBwcm9wcywgaXNCbG9ja2luZykge1xuICAgIGlmIChpc0Jsb2NraW5nID09PSB2b2lkIDApIHsgaXNCbG9ja2luZyA9IHRydWU7IH1cbiAgICB2YXIgaXNDb25zdHJ1Y3RvciA9IChDb21wb25lbnQuY29uc3RydWN0b3IubmFtZSA9PT0gJ0Z1bmN0aW9uJyk7XG4gICAgdmFyIFByb3RvID0gaXNDb25zdHJ1Y3RvciA/IENvbXBvbmVudC5wcm90b3R5cGUgOiBDb21wb25lbnQ7XG4gICAgdmFyIGNvbXBvbmVudFdpbGxMb2FkID0gUHJvdG8uY29tcG9uZW50V2lsbExvYWQ7XG4gICAgUHJvdG8uY29tcG9uZW50V2lsbExvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBlbCA9IGdldEVsZW1lbnQodGhpcyk7XG4gICAgICAgIHZhciBvbk9wZW4gPSBjcmVhdGVEZWZlcnJlZFByb21pc2UoKTtcbiAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdvcGVuV29ybWhvbGUnLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgY29tcG9zZWQ6IHRydWUsXG4gICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICBjb25zdW1lcjogdGhpcyxcbiAgICAgICAgICAgICAgICBmaWVsZHM6IHByb3BzLFxuICAgICAgICAgICAgICAgIHVwZGF0ZXI6IGZ1bmN0aW9uIChwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gKHByb3AgaW4gZWwpID8gZWwgOiBfdGhpcztcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbk9wZW46IG9uT3BlbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgdmFyIHdpbGxMb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudFdpbGxMb2FkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudFdpbGxMb2FkLmNhbGwoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaXNCbG9ja2luZyA/IG9uT3Blbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gd2lsbExvYWQoKTsgfSkgOiAod2lsbExvYWQoKSk7XG4gICAgfTtcbn07XG5cbnZhciBtdWx0aXZlcnNlID0gbmV3IE1hcCgpO1xudmFyIHVwZGF0ZUNvbnN1bWVyID0gZnVuY3Rpb24gKF9hLCBzdGF0ZSkge1xuICAgIHZhciBmaWVsZHMgPSBfYS5maWVsZHMsIHVwZGF0ZXIgPSBfYS51cGRhdGVyO1xuICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkgeyB1cGRhdGVyKGZpZWxkLCBzdGF0ZVtmaWVsZF0pOyB9KTtcbn07XG52YXIgVW5pdmVyc2UgPSB7XG4gICAgY3JlYXRlOiBmdW5jdGlvbiAoY3JlYXRvciwgaW5pdGlhbFN0YXRlKSB7XG4gICAgICAgIHZhciBlbCA9IGdldEVsZW1lbnQoY3JlYXRvcik7XG4gICAgICAgIHZhciB3b3JtaG9sZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHZhciB1bml2ZXJzZSA9IHsgd29ybWhvbGVzOiB3b3JtaG9sZXMsIHN0YXRlOiBpbml0aWFsU3RhdGUgfTtcbiAgICAgICAgbXVsdGl2ZXJzZS5zZXQoY3JlYXRvciwgdW5pdmVyc2UpO1xuICAgICAgICB2YXIgY29ubmVjdGVkQ2FsbGJhY2sgPSBjcmVhdG9yLmNvbm5lY3RlZENhbGxiYWNrO1xuICAgICAgICBjcmVhdG9yLmNvbm5lY3RlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbXVsdGl2ZXJzZS5zZXQoY3JlYXRvciwgdW5pdmVyc2UpO1xuICAgICAgICAgICAgaWYgKGNvbm5lY3RlZENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2suY2FsbChjcmVhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRpc2Nvbm5lY3RlZENhbGxiYWNrID0gY3JlYXRvci5kaXNjb25uZWN0ZWRDYWxsYmFjaztcbiAgICAgICAgY3JlYXRvci5kaXNjb25uZWN0ZWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG11bHRpdmVyc2UuZGVsZXRlKGNyZWF0b3IpO1xuICAgICAgICAgICAgaWYgKGRpc2Nvbm5lY3RlZENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2suY2FsbChjcmVhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignb3Blbldvcm1ob2xlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHZhciBfYSA9IGV2ZW50LmRldGFpbCwgY29uc3VtZXIgPSBfYS5jb25zdW1lciwgb25PcGVuID0gX2Eub25PcGVuO1xuICAgICAgICAgICAgaWYgKHdvcm1ob2xlcy5oYXMoY29uc3VtZXIpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc3VtZXIgIT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbm5lY3RlZENhbGxiYWNrXzEgPSBjb25zdW1lci5jb25uZWN0ZWRDYWxsYmFjaywgZGlzY29ubmVjdGVkQ2FsbGJhY2tfMSA9IGNvbnN1bWVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrO1xuICAgICAgICAgICAgICAgIGNvbnN1bWVyLmNvbm5lY3RlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB3b3JtaG9sZXMuc2V0KGNvbnN1bWVyLCBldmVudC5kZXRhaWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGVkQ2FsbGJhY2tfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2tfMS5jYWxsKGNvbnN1bWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3VtZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdvcm1ob2xlcy5kZWxldGUoY29uc3VtZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzY29ubmVjdGVkQ2FsbGJhY2tfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2tfMS5jYWxsKGNvbnN1bWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3b3JtaG9sZXMuc2V0KGNvbnN1bWVyLCBldmVudC5kZXRhaWwpO1xuICAgICAgICAgICAgdXBkYXRlQ29uc3VtZXIoZXZlbnQuZGV0YWlsLCB1bml2ZXJzZS5zdGF0ZSk7XG4gICAgICAgICAgICBvbk9wZW4gPT09IG51bGwgfHwgb25PcGVuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbk9wZW4ucmVzb2x2ZShmdW5jdGlvbiAoKSB7IHdvcm1ob2xlcy5kZWxldGUoY29uc3VtZXIpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlV29ybWhvbGUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBjb25zdW1lciA9IGV2ZW50LmRldGFpbDtcbiAgICAgICAgICAgIHdvcm1ob2xlcy5kZWxldGUoY29uc3VtZXIpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIFByb3ZpZGVyOiBmdW5jdGlvbiAoX2EsIGNoaWxkcmVuKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IF9hLnN0YXRlO1xuICAgICAgICB2YXIgY3JlYXRvciA9IGdldFJlbmRlcmluZ1JlZigpO1xuICAgICAgICBpZiAobXVsdGl2ZXJzZS5oYXMoY3JlYXRvcikpIHtcbiAgICAgICAgICAgIHZhciB1bml2ZXJzZSA9IG11bHRpdmVyc2UuZ2V0KGNyZWF0b3IpO1xuICAgICAgICAgICAgdW5pdmVyc2Uuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgICAgIHVuaXZlcnNlLndvcm1ob2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChvcGVuaW5nKSB7IHVwZGF0ZUNvbnN1bWVyKG9wZW5pbmcsIHN0YXRlKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cbn07XG5cbmNvbnN0IExPQURfU1RBUlRfRVZFTlQgPSAndm1Mb2FkU3RhcnQnO1xuLy8gRXZlbnRzIHRoYXQgdG9nZ2xlIHN0YXRlIGFuZCB0aGUgcHJvcCBpcyBuYW1lZCBgaXN7UHJvcE5hbWV9Li4uYC5cbmNvbnN0IGlzVG9nZ2xlU3RhdGVFdmVudCA9IG5ldyBTZXQoW1xuICAnaXNGdWxsc2NyZWVuQWN0aXZlJyxcbiAgJ2lzQ29udHJvbHNBY3RpdmUnLFxuICAnaXNUZXh0VHJhY2tWaXNpYmxlJyxcbiAgJ2lzUGlQQWN0aXZlJyxcbiAgJ2lzTGl2ZScsXG4gICdpc1RvdWNoJyxcbiAgJ2lzQXVkaW8nLFxuICAnaXNWaWRlbycsXG4gICdpc0F1ZGlvVmlldycsXG4gICdpc1ZpZGVvVmlldycsXG5dKTtcbi8vIEV2ZW50cyB0aGF0IGFyZSBlbWl0dGVkIHdpdGhvdXQgdGhlICdDaGFuZ2UnIHBvc3RmaXguXG5jb25zdCBoYXNTaG9ydGVuZWRFdmVudE5hbWUgPSBuZXcgU2V0KFtcbiAgJ3JlYWR5JyxcbiAgJ3BsYXliYWNrU3RhcnRlZCcsXG4gICdwbGF5YmFja0VuZGVkJyxcbiAgJ3BsYXliYWNrUmVhZHknLFxuXSk7XG5jb25zdCBnZXRFdmVudE5hbWUgPSAocHJvcCkgPT4ge1xuICAvLyBFeGFtcGxlOiBpc0Z1bGxzY3JlZW5BY3RpdmUgLT4gdm1GdWxsc2NyZWVuQ2hhbmdlXG4gIGlmIChpc1RvZ2dsZVN0YXRlRXZlbnQuaGFzKHByb3ApKSB7XG4gICAgcmV0dXJuIGB2bSR7cHJvcC5yZXBsYWNlKCdpcycsICcnKS5yZXBsYWNlKCdBY3RpdmUnLCAnJyl9Q2hhbmdlYDtcbiAgfVxuICAvLyBFeGFtcGxlOiBwbGF5YmFja1N0YXJ0ZWQgLT4gdm1QbGF5YmFja1N0YXJ0ZWRcbiAgaWYgKGhhc1Nob3J0ZW5lZEV2ZW50TmFtZS5oYXMocHJvcCkpIHtcbiAgICByZXR1cm4gYHZtJHtwcm9wLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfSR7cHJvcC5zbGljZSgxKX1gO1xuICB9XG4gIC8vIEV4YW1wbGU6IGN1cnJlbnRUaW1lIC0+IHZtQ3VycmVudFRpbWVDaGFuZ2VcbiAgcmV0dXJuIGB2bSR7cHJvcC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX0ke3Byb3Auc2xpY2UoMSl9Q2hhbmdlYDtcbn07XG5mdW5jdGlvbiBmaXJlUGxheWVyRXZlbnQoZWwsIHByb3AsIG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICBjb25zdCBldmVudHMgPSBbXTtcbiAgZXZlbnRzLnB1c2gobmV3IEN1c3RvbUV2ZW50KGdldEV2ZW50TmFtZShwcm9wKSwgeyBkZXRhaWw6IG5ld1ZhbHVlIH0pKTtcbiAgaWYgKHByb3AgPT09ICdwYXVzZWQnICYmICFuZXdWYWx1ZSlcbiAgICBldmVudHMucHVzaChuZXcgQ3VzdG9tRXZlbnQoJ3ZtUGxheScpKTtcbiAgaWYgKHByb3AgPT09ICdzZWVraW5nJyAmJiBvbGRWYWx1ZSAmJiAhbmV3VmFsdWUpXG4gICAgZXZlbnRzLnB1c2gobmV3IEN1c3RvbUV2ZW50KCd2bVNlZWtlZCcpKTtcbiAgZXZlbnRzLmZvckVhY2goZXZlbnQgPT4ge1xuICAgIGVsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9KTtcbn1cblxudmFyIF9fYXdhaXRlciR4ID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbi8qKlxuICogQmluZHMgcHJvcHMgYmV0d2VlbiBhbiBpbnN0YW5jZSBvZiBhIGdpdmVuIGNvbXBvbmVudCBjbGFzcyBhbmQgaXQncyBjbG9zZXN0IGFuY2VzdG9yIHBsYXllci5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50IEEgU3RlbmNpbCBjb21wb25lbnQgaW5zdGFuY2UuXG4gKiBAcGFyYW0gcHJvcHMgQSBzZXQgb2YgcHJvcHMgdG8gd2F0Y2ggYW5kIHVwZGF0ZSBvbiB0aGUgZ2l2ZW4gY29tcG9uZW50IGluc3RhbmNlLlxuICovXG5jb25zdCB3aXRoUGxheWVyQ29udGV4dCA9IChjb21wb25lbnQsIHByb3BzKSA9PiBvcGVuV29ybWhvbGUoY29tcG9uZW50LCBwcm9wcyk7XG4vKipcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IGFuY2VzdG9yIHBsYXllciB0byB0aGUgZ2l2ZW4gYHJlZmAgYW5kIHdhdGNoZXMgdGhlIGdpdmVuIHByb3BzIGZvciBjaGFuZ2VzLiBPblxuICogYSBwcm9wIGNoYW5nZSB0aGUgZ2l2ZW4gYHVwZGF0ZXJgIGZuIGlzIGNhbGxlZC5cbiAqXG4gKiBAcGFyYW0gcmVmIEEgZWxlbWVudCB3aXRoaW4gYW55IHBsYXllcidzIHN1YnRyZWUuXG4gKiBAcGFyYW0gcHJvcHMgQSBzZXQgb2YgcHJvcHMgdG8gd2F0Y2ggYW5kIGNhbGwgdGhlIGB1cGRhdGVyYCBmbiB3aXRoLlxuICogQHBhcmFtIHVwZGF0ZXIgVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCB0aGUgcHJvcC92YWx1ZSBvZiBhbnkgd2F0Y2hlZCBwcm9wZXJ0aWVzLlxuICovXG5jb25zdCB1c2VQbGF5ZXJDb250ZXh0ID0gKHJlZiwgcHJvcHMsIHVwZGF0ZXIsIHBsYXllclJlZikgPT4gX19hd2FpdGVyJHgodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgY29uc3QgcGxheWVyID0gcGxheWVyUmVmICE9PSBudWxsICYmIHBsYXllclJlZiAhPT0gdm9pZCAwID8gcGxheWVyUmVmIDogKHlpZWxkIGZpbmRQbGF5ZXIocmVmKSk7XG4gIGNvbnN0IGxpc3RlbmVycyA9ICFpc1VuZGVmaW5lZChwbGF5ZXIpXG4gICAgPyBwcm9wcy5tYXAocHJvcCA9PiB7XG4gICAgICBjb25zdCBldmVudCA9IGdldEV2ZW50TmFtZShwcm9wKTtcbiAgICAgIHJldHVybiBsaXN0ZW4ocGxheWVyLCBldmVudCwgKCkgPT4ge1xuICAgICAgICB1cGRhdGVyKHByb3AsIHBsYXllcltwcm9wXSk7XG4gICAgICB9KTtcbiAgICB9KVxuICAgIDogW107XG4gIHJldHVybiAoKSA9PiB7XG4gICAgbGlzdGVuZXJzLmZvckVhY2gob2ZmID0+IG9mZigpKTtcbiAgfTtcbn0pO1xuXG52YXIgUHJvdmlkZXI7XG4oZnVuY3Rpb24gKFByb3ZpZGVyKSB7XG4gIFByb3ZpZGVyW1wiQXVkaW9cIl0gPSBcImF1ZGlvXCI7XG4gIFByb3ZpZGVyW1wiVmlkZW9cIl0gPSBcInZpZGVvXCI7XG4gIFByb3ZpZGVyW1wiSExTXCJdID0gXCJobHNcIjtcbiAgUHJvdmlkZXJbXCJEYXNoXCJdID0gXCJkYXNoXCI7XG4gIFByb3ZpZGVyW1wiWW91VHViZVwiXSA9IFwieW91dHViZVwiO1xuICBQcm92aWRlcltcIlZpbWVvXCJdID0gXCJ2aW1lb1wiO1xuICBQcm92aWRlcltcIkRhaWx5bW90aW9uXCJdID0gXCJkYWlseW1vdGlvblwiO1xufSkoUHJvdmlkZXIgfHwgKFByb3ZpZGVyID0ge30pKTtcblxuY29uc3QgYXVkaW9SZWdleCA9IC9cXC4obTRhfG1wNGF8bXBnYXxtcDJ8bXAyYXxtcDN8bTJhfG0zYXx3YXZ8d2ViYXxhYWN8b2dhfHNweCkoJHxcXD8pL2k7XG5jb25zdCB2aWRlb1JlZ2V4ID0gL1xcLihtcDR8b2dbZ3ZdfHdlYm18bW92fG00dikoJHxcXD8pL2k7XG5jb25zdCBobHNSZWdleCA9IC9cXC4obTN1OCkoJHxcXD8pL2k7XG5jb25zdCBobHNUeXBlUmVnZXggPSAvXmFwcGxpY2F0aW9uXFwvKHgtbXBlZ1VSTHx2bmRcXC5hcHBsZVxcLm1wZWdVUkwpJC9pO1xuY29uc3QgZGFzaFJlZ2V4ID0gL1xcLihtcGQpKCR8XFw/KS9pO1xuXG5jb25zdCBQUk9WSURFUl9DSEFOR0VfRVZFTlQgPSAndm1Qcm92aWRlckNoYW5nZSc7XG4vKipcbiAqIENyZWF0ZXMgYSBkaXNwYXRjaGVyIG9uIHRoZSBnaXZlbiBgcmVmYCwgdG8gc2VuZCB1cGRhdGVzIHRvIHRoZSBjbG9zZXN0IGFuY2VzdG9yIHBsYXllciB2aWFcbiAqIHRoZSBjdXN0b20gYHZtUHJvdmlkZXJDaGFuZ2VgIGV2ZW50LlxuICpcbiAqIEBwYXJhbSByZWYgQSBjb21wb25lbnQgcmVmZXJlbmNlIHRvIGRpc3BhdGNoIHRoZSBzdGF0ZSBjaGFuZ2UgZXZlbnRzIGZyb20uXG4gKi9cbmNvbnN0IGNyZWF0ZVByb3ZpZGVyRGlzcGF0Y2hlciA9IChyZWYpID0+IChwcm9wLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBlbCA9IGlzSW5zdGFuY2VPZihyZWYsIEhUTUxFbGVtZW50KSA/IHJlZiA6IGdldEVsZW1lbnQocmVmKTtcbiAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoUFJPVklERVJfQ0hBTkdFX0VWRU5ULCB7XG4gICAgYnViYmxlczogdHJ1ZSxcbiAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICBkZXRhaWw6IHsgYnk6IGVsLCBwcm9wLCB2YWx1ZSB9LFxuICB9KTtcbiAgZWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG59O1xuXG5jb25zdCBwcm92aWRlcldyaXRhYmxlUHJvcHMgPSBuZXcgU2V0KFtcbiAgJ3JlYWR5JyxcbiAgJ3BsYXlpbmcnLFxuICAncGxheWJhY2tSZWFkeScsXG4gICdwbGF5YmFja1N0YXJ0ZWQnLFxuICAncGxheWJhY2tFbmRlZCcsXG4gICdzZWVraW5nJyxcbiAgJ2J1ZmZlcmVkJyxcbiAgJ2J1ZmZlcmluZycsXG4gICdkdXJhdGlvbicsXG4gICd2aWV3VHlwZScsXG4gICdtZWRpYVRpdGxlJyxcbiAgJ21lZGlhVHlwZScsXG4gICdjdXJyZW50U3JjJyxcbiAgJ2N1cnJlbnRQb3N0ZXInLFxuICAncGxheWJhY2tSYXRlcycsXG4gICdwbGF5YmFja1F1YWxpdGllcycsXG4gICd0ZXh0VHJhY2tzJyxcbiAgJ2N1cnJlbnRUZXh0VHJhY2snLFxuICAnaXNUZXh0VHJhY2tWaXNpYmxlJyxcbiAgJ2F1ZGlvVHJhY2tzJyxcbiAgJ2N1cnJlbnRBdWRpb1RyYWNrJyxcbiAgJ2lzUGlQQWN0aXZlJyxcbiAgJ2lzRnVsbHNjcmVlbkFjdGl2ZScsXG5dKTtcbmNvbnN0IGlzUHJvdmlkZXJXcml0YWJsZVByb3AgPSAocHJvcCkgPT4gaXNXcml0YWJsZVByb3AocHJvcCkgfHwgcHJvdmlkZXJXcml0YWJsZVByb3BzLmhhcyhwcm9wKTtcblxudmFyIF9fYXdhaXRlciR3ID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IFBST1ZJREVSX0NBQ0hFX0tFWSA9IFN5bWJvbCgndm1Qcm92aWRlckNhY2hlJyk7XG5jb25zdCBQUk9WSURFUl9DT05ORUNUX0VWRU5UID0gJ3ZtTWVkaWFQcm92aWRlckNvbm5lY3QnO1xuY29uc3QgUFJPVklERVJfRElTQ09OTkVDVF9FVkVOVCA9ICd2bU1lZGlhUHJvdmlkZXJEaXNjb25uZWN0JztcbmZ1bmN0aW9uIGJ1aWxkUHJvdmlkZXJDb25uZWN0RXZlbnQobmFtZSwgaG9zdCkge1xuICByZXR1cm4gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtcbiAgICBidWJibGVzOiB0cnVlLFxuICAgIGNvbXBvc2VkOiB0cnVlLFxuICAgIGRldGFpbDogaG9zdCxcbiAgfSk7XG59XG5mdW5jdGlvbiB3aXRoUHJvdmlkZXJIb3N0KGNvbm5lY3Rvcikge1xuICBjb25zdCBlbCA9IGdldEVsZW1lbnQoY29ubmVjdG9yKTtcbiAgY29uc3QgZGlzcG9zYWwgPSBuZXcgRGlzcG9zYWwoKTtcbiAgY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG4gIGNvbm5lY3RvcltQUk9WSURFUl9DQUNIRV9LRVldID0gY2FjaGU7XG4gIGZ1bmN0aW9uIGluaXRDYWNoZSgpIHtcbiAgICBPYmplY3Qua2V5cyhjb25uZWN0b3IpLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICBjYWNoZS5zZXQocHJvcCwgY29ubmVjdG9yW3Byb3BdKTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBvbkRpc2Nvbm5lY3QoKSB7XG4gICAgd3JpdGVUYXNrKCgpID0+IF9fYXdhaXRlciR3KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29ubmVjdG9yLnJlYWR5ID0gZmFsc2U7XG4gICAgICBjb25uZWN0b3IucHJvdmlkZXIgPSB1bmRlZmluZWQ7XG4gICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgKF9hID0gY29ubmVjdG9yLm9uUHJvdmlkZXJEaXNjb25uZWN0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChjb25uZWN0b3IpO1xuICAgICAgZWwuZGlzcGF0Y2hFdmVudChidWlsZFByb3ZpZGVyQ29ubmVjdEV2ZW50KFBST1ZJREVSX0RJU0NPTk5FQ1RfRVZFTlQpKTtcbiAgICB9KSk7XG4gIH1cbiAgZnVuY3Rpb24gb25Db25uZWN0KGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgaW5pdENhY2hlKCk7XG4gICAgY29uc3QgaG9zdFJlZiA9IGV2ZW50LmRldGFpbDtcbiAgICBjb25zdCBob3N0ID0gZ2V0RWxlbWVudChldmVudC5kZXRhaWwpO1xuICAgIGlmIChjb25uZWN0b3IucHJvdmlkZXIgPT09IGhvc3QpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbmFtZSA9IGhvc3QgPT09IG51bGwgfHwgaG9zdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaG9zdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ3ZtLScsICcnKTtcbiAgICB3cml0ZVRhc2soKCkgPT4gX19hd2FpdGVyJHcodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25uZWN0b3IucHJvdmlkZXIgPSBob3N0O1xuICAgICAgY29ubmVjdG9yLmN1cnJlbnRQcm92aWRlciA9IE9iamVjdC52YWx1ZXMoUHJvdmlkZXIpLmZpbmQocHJvdmlkZXIgPT4gbmFtZSA9PT0gcHJvdmlkZXIpO1xuICAgICAgY3JlYXRlU3RlbmNpbEhvb2soaG9zdFJlZiwgdW5kZWZpbmVkLCAoKSA9PiBvbkRpc2Nvbm5lY3QoKSk7XG4gICAgfSkpO1xuICB9XG4gIGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgdmFyIF9hO1xuICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IHsgYnksIHByb3AsIHZhbHVlIH0gPSBldmVudC5kZXRhaWw7XG4gICAgaWYgKCFpc1Byb3ZpZGVyV3JpdGFibGVQcm9wKHByb3ApKSB7XG4gICAgICAoX2EgPSBjb25uZWN0b3IubG9nZ2VyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eud2FybihgJHtieS5ub2RlTmFtZX0gdHJpZWQgdG8gY2hhbmdlIFxcYCR7cHJvcH1cXGAgYnV0IGl0IGlzIHJlYWRvbmx5LmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3cml0ZVRhc2soKCkgPT4ge1xuICAgICAgY2FjaGUuc2V0KHByb3AsIHZhbHVlKTtcbiAgICAgIGNvbm5lY3Rvcltwcm9wXSA9IHZhbHVlO1xuICAgIH0pO1xuICB9XG4gIGNyZWF0ZVN0ZW5jaWxIb29rKGNvbm5lY3RvciwgKCkgPT4ge1xuICAgIGRpc3Bvc2FsLmFkZChsaXN0ZW4oZWwsIFBST1ZJREVSX0NPTk5FQ1RfRVZFTlQsIG9uQ29ubmVjdCkpO1xuICAgIGRpc3Bvc2FsLmFkZChsaXN0ZW4oZWwsIFBST1ZJREVSX0NIQU5HRV9FVkVOVCwgb25DaGFuZ2UpKTtcbiAgfSwgKCkgPT4ge1xuICAgIGRpc3Bvc2FsLmVtcHR5KCk7XG4gICAgY2FjaGUuY2xlYXIoKTtcbiAgfSk7XG59XG5mdW5jdGlvbiB3aXRoUHJvdmlkZXJDb25uZWN0KHJlZikge1xuICBjb25zdCBjb25uZWN0RXZlbnQgPSBidWlsZFByb3ZpZGVyQ29ubmVjdEV2ZW50KFBST1ZJREVSX0NPTk5FQ1RfRVZFTlQsIHJlZik7XG4gIGNyZWF0ZVN0ZW5jaWxIb29rKHJlZiwgKCkgPT4ge1xuICAgIGdldEVsZW1lbnQocmVmKS5kaXNwYXRjaEV2ZW50KGNvbm5lY3RFdmVudCk7XG4gIH0pO1xufVxuXG52YXIgX19hd2FpdGVyJHYgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IEF1ZGlvID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbCBXaGV0aGVyIGFuIGV4dGVybmFsIFNESyB3aWxsIGF0dGFjaCBpdHNlbGYgdG8gdGhlIG1lZGlhIHBsYXllciBhbmQgY29udHJvbCBpdC5cbiAgICAgKi9cbiAgICB0aGlzLndpbGxBdHRhY2ggPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICB0aGlzLnByZWxvYWQgPSAnbWV0YWRhdGEnO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICBpZiAoIXRoaXMud2lsbEF0dGFjaClcbiAgICAgIHdpdGhQcm92aWRlckNvbm5lY3QodGhpcyk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXRBZGFwdGVyKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIF9fYXdhaXRlciR2KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgYWRhcHRlciA9IChfYiA9ICh5aWVsZCAoKF9hID0gdGhpcy5maWxlUHJvdmlkZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRBZGFwdGVyKCkpKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDoge307XG4gICAgICBhZGFwdGVyLmNhblBsYXkgPSAodHlwZSkgPT4gX19hd2FpdGVyJHYodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiBpc1N0cmluZyh0eXBlKSAmJiBhdWRpb1JlZ2V4LnRlc3QodHlwZSk7IH0pO1xuICAgICAgcmV0dXJuIGFkYXB0ZXI7XG4gICAgfSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBoKFwidm0tZmlsZVwiLCB7IG5vQ29ubmVjdDogdHJ1ZSwgd2lsbEF0dGFjaDogdGhpcy53aWxsQXR0YWNoLCBjcm9zc09yaWdpbjogdGhpcy5jcm9zc09yaWdpbiwgcHJlbG9hZDogdGhpcy5wcmVsb2FkLCBkaXNhYmxlUmVtb3RlUGxheWJhY2s6IHRoaXMuZGlzYWJsZVJlbW90ZVBsYXliYWNrLCBtZWRpYVRpdGxlOiB0aGlzLm1lZGlhVGl0bGUsIHZpZXdUeXBlOiBWaWV3VHlwZS5BdWRpbywgcmVmOiAoZWwpID0+IHtcbiAgICAgICAgdGhpcy5maWxlUHJvdmlkZXIgPSBlbDtcbiAgICAgIH0gfSwgaChcInNsb3RcIiwgbnVsbCkpKTtcbiAgfVxufTtcblxuY29uc3QgY2FwdGlvbkNvbnRyb2xDc3MgPSBcIjpob3N0KFtoaWRkZW5dKXtkaXNwbGF5Om5vbmV9XCI7XG5cbnZhciBfX2F3YWl0ZXIkdSA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuY29uc3QgQ2FwdGlvbkNvbnRyb2wgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMuY2FuVG9nZ2xlQ2FwdGlvblZpc2liaWxpdHkgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBUaGUgVVJMIHRvIGFuIFNWRyBlbGVtZW50IG9yIGZyYWdtZW50IHRvIGxvYWQuXG4gICAgICovXG4gICAgdGhpcy5zaG93SWNvbiA9ICdjYXB0aW9ucy1vbic7XG4gICAgLyoqXG4gICAgICogVGhlIFVSTCB0byBhbiBTVkcgZWxlbWVudCBvciBmcmFnbWVudCB0byBsb2FkLlxuICAgICAqL1xuICAgIHRoaXMuaGlkZUljb24gPSAnY2FwdGlvbnMtb2ZmJztcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB0b29sdGlwIGlzIHBvc2l0aW9uZWQgYWJvdmUvYmVsb3cgdGhlIGNvbnRyb2wuXG4gICAgICovXG4gICAgdGhpcy50b29sdGlwUG9zaXRpb24gPSAndG9wJztcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB0b29sdGlwIHNob3VsZCBub3QgYmUgZGlzcGxheWVkLlxuICAgICAqL1xuICAgIHRoaXMuaGlkZVRvb2x0aXAgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICB0aGlzLmtleXMgPSAnYyc7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaTE4biA9IHt9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXliYWNrUmVhZHkgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy50ZXh0VHJhY2tzID0gW107XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlID0gZmFsc2U7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFtcbiAgICAgICdpMThuJyxcbiAgICAgICd0ZXh0VHJhY2tzJyxcbiAgICAgICdpc1RleHRUcmFja1Zpc2libGUnLFxuICAgICAgJ3BsYXliYWNrUmVhZHknLFxuICAgIF0pO1xuICB9XG4gIG9uVGV4dFRyYWNrc0NoYW5nZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlciR1KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgcGxheWVyID0gZ2V0UGxheWVyRnJvbVJlZ2lzdHJ5KHRoaXMpO1xuICAgICAgdGhpcy5jYW5Ub2dnbGVDYXB0aW9uVmlzaWJpbGl0eSA9XG4gICAgICAgIHRoaXMudGV4dFRyYWNrcy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgKChfYSA9ICh5aWVsZCAocGxheWVyID09PSBudWxsIHx8IHBsYXllciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWVyLmNhblNldFRleHRUcmFja1Zpc2liaWxpdHkoKSkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSk7XG4gICAgfSk7XG4gIH1cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICB0aGlzLm9uVGV4dFRyYWNrc0NoYW5nZSgpO1xuICB9XG4gIG9uQ2xpY2soKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHBsYXllciA9IGdldFBsYXllckZyb21SZWdpc3RyeSh0aGlzKTtcbiAgICAoX2EgPSBwbGF5ZXIgPT09IG51bGwgfHwgcGxheWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbGF5ZXIuc2V0VGV4dFRyYWNrVmlzaWJpbGl0eSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocGxheWVyLCAhdGhpcy5pc1RleHRUcmFja1Zpc2libGUpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy5pc1RleHRUcmFja1Zpc2libGVcbiAgICAgID8gdGhpcy5pMThuLmRpc2FibGVDYXB0aW9uc1xuICAgICAgOiB0aGlzLmkxOG4uZW5hYmxlQ2FwdGlvbnM7XG4gICAgY29uc3QgdG9vbHRpcFdpdGhIaW50ID0gIWlzVW5kZWZpbmVkKHRoaXMua2V5cylcbiAgICAgID8gYCR7dG9vbHRpcH0gKCR7dGhpcy5rZXlzfSlgXG4gICAgICA6IHRvb2x0aXA7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgaGlkZGVuOiAhdGhpcy5jYW5Ub2dnbGVDYXB0aW9uVmlzaWJpbGl0eSB9LCBoKFwidm0tY29udHJvbFwiLCB7IGxhYmVsOiB0aGlzLmkxOG4uY2FwdGlvbnMsIGtleXM6IHRoaXMua2V5cywgaGlkZGVuOiAhdGhpcy5jYW5Ub2dnbGVDYXB0aW9uVmlzaWJpbGl0eSwgcHJlc3NlZDogdGhpcy5pc1RleHRUcmFja1Zpc2libGUsIG9uQ2xpY2s6IHRoaXMub25DbGljay5iaW5kKHRoaXMpIH0sIGgoXCJ2bS1pY29uXCIsIHsgbmFtZTogdGhpcy5pc1RleHRUcmFja1Zpc2libGUgPyB0aGlzLnNob3dJY29uIDogdGhpcy5oaWRlSWNvbiwgbGlicmFyeTogdGhpcy5pY29ucyB9KSwgaChcInZtLXRvb2x0aXBcIiwgeyBoaWRkZW46IHRoaXMuaGlkZVRvb2x0aXAsIHBvc2l0aW9uOiB0aGlzLnRvb2x0aXBQb3NpdGlvbiwgZGlyZWN0aW9uOiB0aGlzLnRvb2x0aXBEaXJlY3Rpb24gfSwgdG9vbHRpcFdpdGhIaW50KSkpKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwidGV4dFRyYWNrc1wiOiBbXCJvblRleHRUcmFja3NDaGFuZ2VcIl0sXG4gICAgXCJwbGF5YmFja1JlYWR5XCI6IFtcIm9uVGV4dFRyYWNrc0NoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBjYXB0aW9uQ29udHJvbENzczsgfVxufTtcblxuLyogZXNsaW50LWRpc2FibGUgZnVuYy1uYW1lcyAqL1xuY29uc3Qgd2F0Y2gkMSA9IG5ldyBTZXQoKTtcbmNvbnN0IGNvbnRyb2xzID0gbmV3IFNldCgpO1xuLy8gd2F0Y2hlZEVsIC0+IChjb250cm9sc0VsIC0+IGNvbnRyb2xzSGVpZ2h0KSBzYXZlZCBvbiBjb2xsaXNpb24uIEJhc2ljYWxseSBrZWVwcyB0cmFjayBvZlxuLy8gZXZlcnkgY29sbGlzaW9uIHdpdGggYWxsIGNvbnRyb2xzIGZvciBlYWNoIHdhdGNoZWQgZWxlbWVudC5cbmNvbnN0IGNvbGxpc2lvbnMgPSBuZXcgTWFwKCk7XG5mdW5jdGlvbiB1cGRhdGUoKSB7XG4gIHdyaXRlVGFzaygoKSA9PiB7XG4gICAgY29udHJvbHMuZm9yRWFjaChjb250cm9sc0VsID0+IHtcbiAgICAgIGNvbnN0IGNvbnRyb2xzSGVpZ2h0ID0gcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjb250cm9sc0VsKS5oZWlnaHQpO1xuICAgICAgd2F0Y2gkMS5mb3JFYWNoKHdhdGNoZWRFbCA9PiB7XG4gICAgICAgIGNvbnN0IHdhdGNoZWRFbENvbGxpc2lvbnMgPSBjb2xsaXNpb25zLmdldCh3YXRjaGVkRWwpO1xuICAgICAgICBjb25zdCBoYXNDb2xsaWRlZCA9IGlzQ29sbGlkaW5nKHdhdGNoZWRFbCwgY29udHJvbHNFbCk7XG4gICAgICAgIGNvbnN0IHdpbGxDb2xsaWRlID0gaXNDb2xsaWRpbmcod2F0Y2hlZEVsLCBjb250cm9sc0VsLCAwLCBjb250cm9sc0hlaWdodCkgfHxcbiAgICAgICAgICBpc0NvbGxpZGluZyh3YXRjaGVkRWwsIGNvbnRyb2xzRWwsIDAsIC1jb250cm9sc0hlaWdodCk7XG4gICAgICAgIHdhdGNoZWRFbENvbGxpc2lvbnMuc2V0KGNvbnRyb2xzRWwsIGhhc0NvbGxpZGVkIHx8IHdpbGxDb2xsaWRlID8gY29udHJvbHNIZWlnaHQgOiAwKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vIFVwZGF0ZSBhZnRlciBhc3Nlc3NpbmcgYWxsIGNvbGxpc2lvbnMgc28gdGhlcmUgYXJlIG5vIGdsaXRjaHkgbW92ZW1lbnRzLlxuICAgIHdhdGNoJDEuZm9yRWFjaCh3YXRjaGVkRWwgPT4ge1xuICAgICAgY29uc3Qgd2F0Y2hlZEVsQ29sbGlzaW9ucyA9IGNvbGxpc2lvbnMuZ2V0KHdhdGNoZWRFbCk7XG4gICAgICB3YXRjaGVkRWwuc3R5bGUuc2V0UHJvcGVydHkoJy0tdm0tY29udHJvbHMtaGVpZ2h0JywgYCR7TWF0aC5tYXgoMCwgTWF0aC5tYXgoLi4ud2F0Y2hlZEVsQ29sbGlzaW9ucy52YWx1ZXMoKSkpfXB4YCk7XG4gICAgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gcmVnaXN0ZXJDb250cm9sc0ZvckNvbGxpc2lvbkRldGVjdGlvbihjb21wb25lbnQpIHtcbiAgY29uc3QgZWwgPSBnZXRFbGVtZW50KGNvbXBvbmVudCk7XG4gIGZ1bmN0aW9uIGdldElubmVyRWwoKSB7XG4gICAgcmV0dXJuIGVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLmNvbnRyb2xzJyk7XG4gIH1cbiAgY3JlYXRlU3RlbmNpbEhvb2soY29tcG9uZW50LCAoKSA9PiB7XG4gICAgY29uc3QgaW5uZXJFbCA9IGdldElubmVyRWwoKTtcbiAgICBpZiAoIWlzTnVsbChpbm5lckVsKSkge1xuICAgICAgY29udHJvbHMuYWRkKGlubmVyRWwpO1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9LCAoKSA9PiB7XG4gICAgY29udHJvbHMuZGVsZXRlKGdldElubmVyRWwoKSk7XG4gICAgdXBkYXRlKCk7XG4gIH0pO1xuICB3cmFwU3RlbmNpbEhvb2soY29tcG9uZW50LCAnY29tcG9uZW50RGlkTG9hZCcsICgpID0+IHtcbiAgICBjb250cm9scy5hZGQoZ2V0SW5uZXJFbCgpKTtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG4gIHdyYXBTdGVuY2lsSG9vayhjb21wb25lbnQsICdjb21wb25lbnREaWRSZW5kZXInLCB1cGRhdGUpO1xufVxuZnVuY3Rpb24gd2l0aENvbnRyb2xzQ29sbGlzaW9uRGV0ZWN0aW9uKGNvbXBvbmVudCkge1xuICBjb25zdCBlbCA9IGdldEVsZW1lbnQoY29tcG9uZW50KTtcbiAgY3JlYXRlU3RlbmNpbEhvb2soY29tcG9uZW50LCAoKSA9PiB7XG4gICAgd2F0Y2gkMS5hZGQoZWwpO1xuICAgIGNvbGxpc2lvbnMuc2V0KGVsLCBuZXcgTWFwKCkpO1xuICAgIHVwZGF0ZSgpO1xuICB9LCAoKSA9PiB7XG4gICAgd2F0Y2gkMS5kZWxldGUoZWwpO1xuICAgIGNvbGxpc2lvbnMuZGVsZXRlKGVsKTtcbiAgfSk7XG59XG5cbmNvbnN0IGNhcHRpb25zQ3NzID0gXCI6aG9zdHtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7Ym90dG9tOjA7d2lkdGg6MTAwJTtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6dmFyKC0tdm0tY2FwdGlvbnMtei1pbmRleCl9LmNhcHRpb25ze3dpZHRoOjEwMCU7dGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6dmFyKC0tdm0tY2FwdGlvbnMtdGV4dC1jb2xvcik7Zm9udC1zaXplOnZhcigtLXZtLWNhcHRpb25zLWZvbnQtc2l6ZSk7cGFkZGluZzokY29udHJvbC1zcGFjaW5nO2Rpc3BsYXk6bm9uZTtwb2ludGVyLWV2ZW50czpub25lO3RyYW5zaXRpb246dHJhbnNmb3JtIDAuNHMgZWFzZS1pbi1vdXQsIG9wYWNpdHkgMC4zcyBlYXNlLWluLW91dH0uY2FwdGlvbnMuZW5hYmxlZHtkaXNwbGF5OmlubGluZS1ibG9ja30uY2FwdGlvbnMuaGlkZGVue2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50fS5jYXB0aW9ucy5pbmFjdGl2ZXtvcGFjaXR5OjA7dmlzaWJpbGl0eTpoaWRkZW59LmNhcHRpb25zLmZvbnRNZHtmb250LXNpemU6dmFyKC0tdm0tY2FwdGlvbnMtZm9udC1zaXplLW1lZGl1bSl9LmNhcHRpb25zLmZvbnRMZ3tmb250LXNpemU6dmFyKC0tdm0tY2FwdGlvbnMtZm9udC1zaXplLWxhcmdlKX0uY2FwdGlvbnMuZm9udFhse2ZvbnQtc2l6ZTp2YXIoLS12bS1jYXB0aW9ucy1mb250LXNpemUteGxhcmdlKX0uY3Vle2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JhY2tncm91bmQ6dmFyKC0tdm0tY2FwdGlvbnMtY3VlLWJnLWNvbG9yKTtib3JkZXItcmFkaXVzOnZhcigtLXZtLWNhcHRpb25zLWN1ZS1ib3JkZXItcmFkaXVzKTtib3gtZGVjb3JhdGlvbi1icmVhazpjbG9uZTtsaW5lLWhlaWdodDoxODUlO3BhZGRpbmc6dmFyKC0tdm0tY2FwdGlvbnMtY3VlLXBhZGRpbmcpO3doaXRlLXNwYWNlOnByZS13cmFwO3BvaW50ZXItZXZlbnRzOm5vbmV9LmN1ZT5kaXZ7ZGlzcGxheTppbmxpbmV9LmN1ZTplbXB0eXtkaXNwbGF5Om5vbmV9XCI7XG5cbnZhciBfX2F3YWl0ZXIkdCA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuY29uc3QgQ2FwdGlvbnMgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMuc2l6ZURpc3Bvc2FsID0gbmV3IERpc3Bvc2FsKCk7XG4gICAgdGhpcy50ZXh0RGlzcG9zYWwgPSBuZXcgRGlzcG9zYWwoKTtcbiAgICB0aGlzLmlzRW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuZm9udFNpemUgPSAnc20nO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGNhcHRpb25zIHNob3VsZCBiZSB2aXNpYmxlIG9yIG5vdC5cbiAgICAgKi9cbiAgICB0aGlzLmhpZGRlbiA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzQ29udHJvbHNBY3RpdmUgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc1ZpZGVvVmlldyA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXliYWNrU3RhcnRlZCA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnRleHRUcmFja3MgPSBbXTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5jdXJyZW50VGV4dFRyYWNrID0gLTE7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlID0gdHJ1ZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aENvbnRyb2xzQ29sbGlzaW9uRGV0ZWN0aW9uKHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFtcbiAgICAgICdpc1ZpZGVvVmlldycsXG4gICAgICAncGxheWJhY2tTdGFydGVkJyxcbiAgICAgICdpc0NvbnRyb2xzQWN0aXZlJyxcbiAgICAgICd0ZXh0VHJhY2tzJyxcbiAgICAgICdjdXJyZW50VGV4dFRyYWNrJyxcbiAgICAgICdpc1RleHRUcmFja1Zpc2libGUnLFxuICAgIF0pO1xuICB9XG4gIG9uRW5hYmxlZENoYW5nZSgpIHtcbiAgICB0aGlzLmlzRW5hYmxlZCA9IHRoaXMucGxheWJhY2tTdGFydGVkICYmIHRoaXMuaXNWaWRlb1ZpZXc7XG4gIH1cbiAgb25UZXh0VHJhY2tzQ2hhbmdlKCkge1xuICAgIGNvbnN0IHRleHRUcmFjayA9IHRoaXMudGV4dFRyYWNrc1t0aGlzLmN1cnJlbnRUZXh0VHJhY2tdO1xuICAgIGNvbnN0IHJlbmRlckN1ZXMgPSAoKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBjb25zdCBhY3RpdmVDdWVzID0gQXJyYXkuZnJvbSgoX2EgPSB0ZXh0VHJhY2suYWN0aXZlQ3VlcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10pO1xuICAgICAgdGhpcy5yZW5kZXJDdXJyZW50Q3VlKGFjdGl2ZUN1ZXNbMF0pO1xuICAgIH07XG4gICAgdGhpcy50ZXh0RGlzcG9zYWwuZW1wdHkoKTtcbiAgICBpZiAoIWlzTmlsKHRleHRUcmFjaykpIHtcbiAgICAgIHJlbmRlckN1ZXMoKTtcbiAgICAgIHRoaXMudGV4dERpc3Bvc2FsLmFkZChsaXN0ZW4odGV4dFRyYWNrLCAnY3VlY2hhbmdlJywgcmVuZGVyQ3VlcykpO1xuICAgIH1cbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmRpc3BhdGNoID0gY3JlYXRlRGlzcGF0Y2hlcih0aGlzKTtcbiAgICB0aGlzLmRpc3BhdGNoKCdzaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzJywgZmFsc2UpO1xuICAgIHRoaXMub25UZXh0VHJhY2tzQ2hhbmdlKCk7XG4gICAgdGhpcy5vblBsYXllclJlc2l6ZSgpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMudGV4dERpc3Bvc2FsLmVtcHR5KCk7XG4gICAgdGhpcy5zaXplRGlzcG9zYWwuZW1wdHkoKTtcbiAgICB0aGlzLmRpc3BhdGNoKCdzaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzJywgdHJ1ZSk7XG4gIH1cbiAgb25QbGF5ZXJSZXNpemUoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciR0KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgcGxheWVyID0geWllbGQgZmluZFBsYXllcih0aGlzKTtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChwbGF5ZXIpKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBjb250YWluZXIgPSAoeWllbGQgcGxheWVyLmdldENvbnRhaW5lcigpKTtcbiAgICAgIGNvbnN0IHJlc2l6ZU9icyA9IG5ldyBSZXNpemVPYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgICAgY29uc3QgZW50cnkgPSBlbnRyaWVzWzBdO1xuICAgICAgICBjb25zdCB7IHdpZHRoIH0gPSBlbnRyeS5jb250ZW50UmVjdDtcbiAgICAgICAgaWYgKHdpZHRoID49IDEzNjApIHtcbiAgICAgICAgICB0aGlzLmZvbnRTaXplID0gJ3hsJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh3aWR0aCA+PSAxMDI0KSB7XG4gICAgICAgICAgdGhpcy5mb250U2l6ZSA9ICdsZyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAod2lkdGggPj0gNzY4KSB7XG4gICAgICAgICAgdGhpcy5mb250U2l6ZSA9ICdtZCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5mb250U2l6ZSA9ICdzbSc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmVzaXplT2JzLm9ic2VydmUoY29udGFpbmVyKTtcbiAgICB9KTtcbiAgfVxuICByZW5kZXJDdXJyZW50Q3VlKGN1ZSkge1xuICAgIGlmIChpc05pbChjdWUpKSB7XG4gICAgICB0aGlzLmN1ZSA9ICcnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkaXYuYXBwZW5kKGN1ZS5nZXRDdWVBc0hUTUwoKSk7XG4gICAgdGhpcy5jdWUgPSBkaXYuaW5uZXJIVE1MLnRyaW0oKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgc3R5bGU6IHtcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWShjYWxjKCR7dGhpcy5pc0NvbnRyb2xzQWN0aXZlID8gJ3ZhcigtLXZtLWNvbnRyb2xzLWhlaWdodCknIDogJzI0cHgnfSAqIC0xKSlgLFxuICAgICAgfSwgY2xhc3M6IHtcbiAgICAgICAgY2FwdGlvbnM6IHRydWUsXG4gICAgICAgIGVuYWJsZWQ6IHRoaXMuaXNFbmFibGVkLFxuICAgICAgICBoaWRkZW46IHRoaXMuaGlkZGVuLFxuICAgICAgICBmb250TWQ6IHRoaXMuZm9udFNpemUgPT09ICdtZCcsXG4gICAgICAgIGZvbnRMZzogdGhpcy5mb250U2l6ZSA9PT0gJ2xnJyxcbiAgICAgICAgZm9udFhsOiB0aGlzLmZvbnRTaXplID09PSAneGwnLFxuICAgICAgICBpbmFjdGl2ZTogIXRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlLFxuICAgICAgfSB9LCBoKFwic3BhblwiLCB7IGNsYXNzOiBcImN1ZVwiIH0sIHRoaXMuY3VlKSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJpc1ZpZGVvVmlld1wiOiBbXCJvbkVuYWJsZWRDaGFuZ2VcIl0sXG4gICAgXCJwbGF5YmFja1N0YXJ0ZWRcIjogW1wib25FbmFibGVkQ2hhbmdlXCJdLFxuICAgIFwidGV4dFRyYWNrc1wiOiBbXCJvblRleHRUcmFja3NDaGFuZ2VcIl0sXG4gICAgXCJjdXJyZW50VGV4dFRyYWNrXCI6IFtcIm9uVGV4dFRyYWNrc0NoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBjYXB0aW9uc0NzczsgfVxufTtcblxuY29uc3QgY2xpY2tUb1BsYXlDc3MgPSBcIjpob3N0e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDp2YXIoLS12bS1jbGljay10by1wbGF5LXotaW5kZXgpfS5jbGlja1RvUGxheXtkaXNwbGF5Om5vbmU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb2ludGVyLWV2ZW50czpub25lfS5jbGlja1RvUGxheS5lbmFibGVke2Rpc3BsYXk6aW5saW5lLWJsb2NrO3BvaW50ZXItZXZlbnRzOmF1dG99XCI7XG5cbnZhciBfX2F3YWl0ZXIkcyA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuY29uc3QgQ2xpY2tUb1BsYXkgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIC8qKlxuICAgICAqIEJ5IGRlZmF1bHQgdGhpcyBpcyBkaXNhYmxlZCBvbiBtb2JpbGUgdG8gbm90IGludGVyZmVyZSB3aXRoIHBsYXliYWNrLCBzZXQgdGhpcyB0byBgdHJ1ZWAgdG9cbiAgICAgKiBlbmFibGUgaXQuXG4gICAgICovXG4gICAgdGhpcy51c2VPbk1vYmlsZSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNWaWRlb1ZpZXcgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc01vYmlsZSA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbJ3BhdXNlZCcsICdpc1ZpZGVvVmlldycsICdpc01vYmlsZSddKTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmRpc3BhdGNoID0gY3JlYXRlRGlzcGF0Y2hlcih0aGlzKTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGZvcmNlQ2xpY2soKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRzKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgdGhpcy5vbkNsaWNrKCk7XG4gICAgfSk7XG4gIH1cbiAgb25DbGljaygpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdwYXVzZWQnLCAhdGhpcy5wYXVzZWQpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczoge1xuICAgICAgICBjbGlja1RvUGxheTogdHJ1ZSxcbiAgICAgICAgZW5hYmxlZDogdGhpcy5pc1ZpZGVvVmlldyAmJiAoIXRoaXMuaXNNb2JpbGUgfHwgdGhpcy51c2VPbk1vYmlsZSksXG4gICAgICB9LCBvbkNsaWNrOiB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSB9KSk7XG4gIH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGNsaWNrVG9QbGF5Q3NzOyB9XG59O1xuXG5jb25zdCBjb250cm9sQ3NzID0gXCJidXR0b257ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtmbGV4LWRpcmVjdGlvbjpyb3c7Ym9yZGVyOnZhcigtLXZtLWNvbnRyb2wtYm9yZGVyKTtjdXJzb3I6cG9pbnRlcjtmbGV4LXNocmluazowO2ZvbnQtc2l6ZTp2YXIoLS12bS1jb250cm9sLWljb24tc2l6ZSk7Y29sb3I6dmFyKC0tdm0tY29udHJvbC1jb2xvcik7YmFja2dyb3VuZDp2YXIoLS12bS1jb250cm9sLWJnLCB0cmFuc3BhcmVudCk7Ym9yZGVyLXJhZGl1czp2YXIoLS12bS1jb250cm9sLWJvcmRlci1yYWRpdXMpO3BhZGRpbmc6dmFyKC0tdm0tY29udHJvbC1wYWRkaW5nKTtwb3NpdGlvbjpyZWxhdGl2ZTtwb2ludGVyLWV2ZW50czphdXRvO3RyYW5zaXRpb246YWxsIDAuM3MgZWFzZTt0cmFuc2Zvcm06c2NhbGUodmFyKC0tdm0tY29udHJvbC1zY2FsZSwgMSkpO3RvdWNoLWFjdGlvbjptYW5pcHVsYXRpb247Ym94LXNpemluZzpib3JkZXItYm94fWJ1dHRvbi5oaWRkZW57ZGlzcGxheTpub25lfWJ1dHRvbjpmb2N1c3tvdXRsaW5lOjB9YnV0dG9uLnRhcEhpZ2hsaWdodHtiYWNrZ3JvdW5kOnZhcigtLXZtLWNvbnRyb2wtdGFwLWhpZ2hsaWdodCl9YnV0dG9uLm5vdFRvdWNoOmZvY3VzLGJ1dHRvbi5ub3RUb3VjaDpob3ZlcixidXR0b24ubm90VG91Y2hbYXJpYS1leHBhbmRlZD0ndHJ1ZSdde2JhY2tncm91bmQ6dmFyKC0tdm0tY29udHJvbC1mb2N1cy1iZyk7Y29sb3I6dmFyKC0tdm0tY29udHJvbC1mb2N1cy1jb2xvcik7dHJhbnNmb3JtOnNjYWxlKGNhbGModmFyKC0tdm0tY29udHJvbC1zY2FsZSwgMSkgKyAwLjA2KSl9XCI7XG5cbnZhciBfX2F3YWl0ZXIkciA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuY29uc3QgQ29udHJvbCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy52bUludGVyYWN0aW9uQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUludGVyYWN0aW9uQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1Gb2N1cyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1Gb2N1c1wiLCA3KTtcbiAgICB0aGlzLnZtQmx1ciA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1CbHVyXCIsIDcpO1xuICAgIHRoaXMua2V5Ym9hcmREaXNwb3NhbCA9IG5ldyBEaXNwb3NhbCgpO1xuICAgIHRoaXMuc2hvd1RhcEhpZ2hsaWdodCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGNvbnRyb2wgc2hvdWxkIGJlIGRpc3BsYXllZCBvciBub3QuXG4gICAgICovXG4gICAgdGhpcy5oaWRkZW4gPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc1RvdWNoID0gZmFsc2U7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFsnaXNUb3VjaCddKTtcbiAgfVxuICBvbktleXNDaGFuZ2UoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgdGhpcy5rZXlib2FyZERpc3Bvc2FsLmVtcHR5KCk7XG4gICAgICBpZiAoaXNVbmRlZmluZWQodGhpcy5rZXlzKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgcGxheWVyID0geWllbGQgZmluZFBsYXllcih0aGlzKTtcbiAgICAgIGNvbnN0IGNvZGVzID0gdGhpcy5rZXlzLnNwbGl0KCcvJyk7XG4gICAgICBpZiAoaXNVbmRlZmluZWQocGxheWVyKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy5rZXlib2FyZERpc3Bvc2FsLmFkZChsaXN0ZW4ocGxheWVyLCAna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoY29kZXMuaW5jbHVkZXMoZXZlbnQua2V5KSkge1xuICAgICAgICAgIHRoaXMuYnV0dG9uLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmZpbmRUb29sdGlwKCk7XG4gICAgdGhpcy5vbktleXNDaGFuZ2UoKTtcbiAgfVxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICB0aGlzLmZpbmRUb29sdGlwKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5rZXlib2FyZERpc3Bvc2FsLmVtcHR5KCk7XG4gIH1cbiAgLyoqXG4gICAqIEZvY3VzZXMgdGhlIGNvbnRyb2wuXG4gICAqL1xuICBmb2N1c0NvbnRyb2woKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIChfYSA9IHRoaXMuYnV0dG9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXMoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBmb2N1cyBmcm9tIHRoZSBjb250cm9sLlxuICAgKi9cbiAgYmx1ckNvbnRyb2woKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIChfYSA9IHRoaXMuYnV0dG9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmx1cigpO1xuICAgIH0pO1xuICB9XG4gIG9uVG91Y2hTdGFydCgpIHtcbiAgICB0aGlzLnNob3dUYXBIaWdobGlnaHQgPSB0cnVlO1xuICB9XG4gIG9uVG91Y2hFbmQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnNob3dUYXBIaWdobGlnaHQgPSBmYWxzZTtcbiAgICB9LCAxMDApO1xuICB9XG4gIGZpbmRUb29sdGlwKCkge1xuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLmhvc3QucXVlcnlTZWxlY3Rvcigndm0tdG9vbHRpcCcpO1xuICAgIGlmICghaXNOdWxsKHRvb2x0aXApKVxuICAgICAgdGhpcy5kZXNjcmliZWRCeSA9IHRvb2x0aXAuaWQ7XG4gICAgcmV0dXJuIHRvb2x0aXA7XG4gIH1cbiAgb25TaG93VG9vbHRpcCgpIHtcbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy5maW5kVG9vbHRpcCgpO1xuICAgIGlmICghaXNOdWxsKHRvb2x0aXApKVxuICAgICAgdG9vbHRpcC5hY3RpdmUgPSB0cnVlO1xuICAgIHRoaXMudm1JbnRlcmFjdGlvbkNoYW5nZS5lbWl0KHRydWUpO1xuICB9XG4gIG9uSGlkZVRvb2x0aXAoKSB7XG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMuZmluZFRvb2x0aXAoKTtcbiAgICBpZiAoIWlzTnVsbCh0b29sdGlwKSlcbiAgICAgIHRvb2x0aXAuYWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5idXR0b24uYmx1cigpO1xuICAgIHRoaXMudm1JbnRlcmFjdGlvbkNoYW5nZS5lbWl0KGZhbHNlKTtcbiAgfVxuICBvbkZvY3VzKCkge1xuICAgIHRoaXMudm1Gb2N1cy5lbWl0KCk7XG4gICAgdGhpcy5vblNob3dUb29sdGlwKCk7XG4gIH1cbiAgb25CbHVyKCkge1xuICAgIHRoaXMudm1CbHVyLmVtaXQoKTtcbiAgICB0aGlzLm9uSGlkZVRvb2x0aXAoKTtcbiAgfVxuICBvbk1vdXNlRW50ZXIoKSB7XG4gICAgdGhpcy5vblNob3dUb29sdGlwKCk7XG4gIH1cbiAgb25Nb3VzZUxlYXZlKCkge1xuICAgIHRoaXMub25IaWRlVG9vbHRpcCgpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpc01lbnVFeHBhbmRlZCA9IHRoaXMuZXhwYW5kZWQgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgIGNvbnN0IGlzUHJlc3NlZCA9IHRoaXMucHJlc3NlZCA/ICd0cnVlJyA6ICdmYWxzZSc7XG4gICAgcmV0dXJuIChoKFwiYnV0dG9uXCIsIHsgY2xhc3M6IHtcbiAgICAgICAgaGlkZGVuOiB0aGlzLmhpZGRlbixcbiAgICAgICAgbm90VG91Y2g6ICF0aGlzLmlzVG91Y2gsXG4gICAgICAgIHRhcEhpZ2hsaWdodDogdGhpcy5zaG93VGFwSGlnaGxpZ2h0LFxuICAgICAgfSwgaWQ6IHRoaXMuaWRlbnRpZmllciwgdHlwZTogXCJidXR0b25cIiwgXCJhcmlhLWxhYmVsXCI6IHRoaXMubGFiZWwsIFwiYXJpYS1oYXNwb3B1cFwiOiAhaXNVbmRlZmluZWQodGhpcy5tZW51KSA/ICd0cnVlJyA6IHVuZGVmaW5lZCwgXCJhcmlhLWNvbnRyb2xzXCI6IHRoaXMubWVudSwgXCJhcmlhLWV4cGFuZGVkXCI6ICFpc1VuZGVmaW5lZCh0aGlzLm1lbnUpID8gaXNNZW51RXhwYW5kZWQgOiB1bmRlZmluZWQsIFwiYXJpYS1wcmVzc2VkXCI6ICFpc1VuZGVmaW5lZCh0aGlzLnByZXNzZWQpID8gaXNQcmVzc2VkIDogdW5kZWZpbmVkLCBcImFyaWEtaGlkZGVuXCI6IHRoaXMuaGlkZGVuID8gJ3RydWUnIDogJ2ZhbHNlJywgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IHRoaXMuZGVzY3JpYmVkQnksIG9uVG91Y2hTdGFydDogdGhpcy5vblRvdWNoU3RhcnQuYmluZCh0aGlzKSwgb25Ub3VjaEVuZDogdGhpcy5vblRvdWNoRW5kLmJpbmQodGhpcyksIG9uRm9jdXM6IHRoaXMub25Gb2N1cy5iaW5kKHRoaXMpLCBvbkJsdXI6IHRoaXMub25CbHVyLmJpbmQodGhpcyksIG9uTW91c2VFbnRlcjogdGhpcy5vbk1vdXNlRW50ZXIuYmluZCh0aGlzKSwgb25Nb3VzZUxlYXZlOiB0aGlzLm9uTW91c2VMZWF2ZS5iaW5kKHRoaXMpLCByZWY6IChlbCkgPT4ge1xuICAgICAgICB0aGlzLmJ1dHRvbiA9IGVsO1xuICAgICAgfSB9LCBoKFwic2xvdFwiLCBudWxsKSkpO1xuICB9XG4gIGdldCBob3N0KCkgeyByZXR1cm4gdGhpczsgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwia2V5c1wiOiBbXCJvbktleXNDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gY29udHJvbENzczsgfVxufTtcblxuY29uc3QgY29udHJvbEdyb3VwQ3NzID0gXCI6aG9zdHt3aWR0aDoxMDAlfS5jb250cm9sR3JvdXB7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTtkaXNwbGF5OmZsZXg7ZmxleC13cmFwOndyYXA7ZmxleC1kaXJlY3Rpb246aW5oZXJpdDthbGlnbi1pdGVtczppbmhlcml0O2p1c3RpZnktY29udGVudDppbmhlcml0O2JveC1zaXppbmc6Ym9yZGVyLWJveH0uY29udHJvbEdyb3VwLnNwYWNlVG9we21hcmdpbi10b3A6dmFyKC0tdm0tY29udHJvbC1ncm91cC1zcGFjaW5nKX0uY29udHJvbEdyb3VwLnNwYWNlQm90dG9te21hcmdpbi1ib3R0b206dmFyKC0tdm0tY29udHJvbC1ncm91cC1zcGFjaW5nKX06OnNsb3R0ZWQoKil7bWFyZ2luLWxlZnQ6dmFyKC0tdm0tY29udHJvbHMtc3BhY2luZyl9OjpzbG90dGVkKCo6Zmlyc3QtY2hpbGQpe21hcmdpbi1sZWZ0OjB9XCI7XG5cbmNvbnN0IENvbnRyb2xOZXdMaW5lID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXJlIHRvIGFkZCBzcGFjaW5nL21hcmdpbi4gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGlzIGRldGVybWluZWQgYnkgdGhlIENTUyB2YXJpYWJsZVxuICAgICAqIGAtLWNvbnRyb2wtZ3JvdXAtc3BhY2luZ2AuXG4gICAgICovXG4gICAgdGhpcy5zcGFjZSA9ICdub25lJztcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiB7XG4gICAgICAgIGNvbnRyb2xHcm91cDogdHJ1ZSxcbiAgICAgICAgc3BhY2VUb3A6IHRoaXMuc3BhY2UgIT09ICdub25lJyAmJiB0aGlzLnNwYWNlICE9PSAnYm90dG9tJyxcbiAgICAgICAgc3BhY2VCb3R0b206IHRoaXMuc3BhY2UgIT09ICdub25lJyAmJiB0aGlzLnNwYWNlICE9PSAndG9wJyxcbiAgICAgIH0gfSwgaChcInNsb3RcIiwgbnVsbCkpKTtcbiAgfVxuICBnZXQgaG9zdCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGNvbnRyb2xHcm91cENzczsgfVxufTtcblxuY29uc3QgY29udHJvbFNwYWNlckNzcyA9IFwiOmhvc3R7ZmxleDoxfVwiO1xuXG5jb25zdCBDb250cm9sU3BhY2VyID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gIH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGNvbnRyb2xTcGFjZXJDc3M7IH1cbn07XG5cbmNvbnN0IGRlYm91bmNlID0gKGZ1bmMsIHdhaXQgPSAxMDAwLCBpbW1lZGlhdGUgPSBmYWxzZSkgPT4ge1xuICBsZXQgdGltZW91dDtcbiAgcmV0dXJuIGZ1bmN0aW9uIGV4ZWN1dGVkRnVuY3Rpb24oLi4uYXJncykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuICAgIGNvbnN0IGxhdGVyID0gZnVuY3Rpb24gZGVsYXllZEZ1bmN0aW9uQ2FsbCgpIHtcbiAgICAgIHRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoIWltbWVkaWF0ZSlcbiAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB9O1xuICAgIGNvbnN0IGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgaXNVbmRlZmluZWQodGltZW91dCk7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICBpZiAoY2FsbE5vdylcbiAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gIH07XG59O1xuXG5jb25zdCBjb250cm9sc0NzcyA9IFwiOmhvc3R7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTt6LWluZGV4OnZhcigtLXZtLWNvbnRyb2xzLXotaW5kZXgpfTpob3N0KFt2aWRlb10pe3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3BvaW50ZXItZXZlbnRzOm5vbmV9LmNvbnRyb2xze2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO2ZsZXgtd3JhcDp3cmFwO3BvaW50ZXItZXZlbnRzOmF1dG87Ym94LXNpemluZzpib3JkZXItYm94O2JhY2tncm91bmQ6dmFyKC0tdm0tY29udHJvbHMtYmcpO3BhZGRpbmc6dmFyKC0tdm0tY29udHJvbHMtcGFkZGluZyk7Ym9yZGVyLXJhZGl1czp2YXIoLS12bS1jb250cm9scy1ib3JkZXItcmFkaXVzKTtvcGFjaXR5OjA7dmlzaWJpbGl0eTpoaWRkZW47dHJhbnNpdGlvbjp2YXIoLS12bS1mYWRlLXRyYW5zaXRpb24pfS5jb250cm9scy5hdWRpb3twb3NpdGlvbjpyZWxhdGl2ZX0uY29udHJvbHMuaGlkZGVue2Rpc3BsYXk6bm9uZX0uY29udHJvbHMuYWN0aXZle29wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGV9LmNvbnRyb2xzLmZ1bGxXaWR0aHt3aWR0aDoxMDAlfS5jb250cm9scy5mdWxsSGVpZ2h0e2hlaWdodDoxMDAlfTo6c2xvdHRlZCgqOm5vdCh2bS1jb250cm9sLWdyb3VwKSl7bWFyZ2luLWxlZnQ6dmFyKC0tdm0tY29udHJvbHMtc3BhY2luZyl9OjpzbG90dGVkKCo6bm90KHZtLWNvbnRyb2wtZ3JvdXApOmZpcnN0LWNoaWxkKXttYXJnaW4tbGVmdDowfVwiO1xuXG52YXIgX19hd2FpdGVyJHEgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbi8qKlxuICogV2Ugd2FudCB0byBrZWVwIHRoZSBjb250cm9scyBhY3RpdmUgc3RhdGUgaW4tc3luYyBwZXIgcGxheWVyLlxuICovXG5jb25zdCBwbGF5ZXJSZWYgPSB7fTtcbmNvbnN0IGhpZGVDb250cm9sc1RpbWVvdXQgPSB7fTtcbmNvbnN0IENvbnRyb2xzID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLmRpc3Bvc2FsID0gbmV3IERpc3Bvc2FsKCk7XG4gICAgdGhpcy5pc0ludGVyYWN0aW5nID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgY29udHJvbHMgYXJlIHZpc2libGUgb3Igbm90LlxuICAgICAqL1xuICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgY29udHJvbHMgY29udGFpbmVyIHNob3VsZCBiZSAxMDAlIHdpZHRoLiBUaGlzIGhhcyBubyBlZmZlY3QgaWYgdGhlIHZpZXcgaXMgb2ZcbiAgICAgKiB0eXBlIGBhdWRpb2AuXG4gICAgICovXG4gICAgdGhpcy5mdWxsV2lkdGggPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjb250cm9scyBjb250YWluZXIgc2hvdWxkIGJlIDEwMCUgaGVpZ2h0LiBUaGlzIGhhcyBubyBlZmZlY3QgaWYgdGhlIHZpZXcgaXMgb2ZcbiAgICAgKiB0eXBlIGBhdWRpb2AuXG4gICAgICovXG4gICAgdGhpcy5mdWxsSGVpZ2h0ID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYGZsZXgtZGlyZWN0aW9uYCBwcm9wZXJ0eSB0aGF0IG1hbmFnZXMgdGhlIGRpcmVjdGlvbiBpbiB3aGljaCB0aGUgY29udHJvbHMgYXJlIGxheWVkXG4gICAgICogb3V0LlxuICAgICAqL1xuICAgIHRoaXMuZGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYGFsaWduLWl0ZW1zYCBmbGV4IHByb3BlcnR5IHRoYXQgYWxpZ25zIHRoZSBpbmRpdmlkdWFsIGNvbnRyb2xzIG9uIHRoZSBjcm9zcy1heGlzLlxuICAgICAqL1xuICAgIHRoaXMuYWxpZ24gPSAnY2VudGVyJztcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBganVzdGlmeS1jb250ZW50YCBmbGV4IHByb3BlcnR5IHRoYXQgYWxpZ25zIHRoZSBpbmRpdmlkdWFsIGNvbnRyb2xzIG9uIHRoZSBtYWluLWF4aXMuXG4gICAgICovXG4gICAgdGhpcy5qdXN0aWZ5ID0gJ3N0YXJ0JztcbiAgICAvKipcbiAgICAgKiBQaW5zIHRoZSBjb250cm9scyB0byB0aGUgZGVmaW5lZCBwb3NpdGlvbiBpbnNpZGUgdGhlIHZpZGVvIHBsYXllci4gVGhpcyBoYXMgbm8gZWZmZWN0IHdoZW5cbiAgICAgKiB0aGUgdmlldyBpcyBvZiB0eXBlIGBhdWRpb2AuXG4gICAgICovXG4gICAgdGhpcy5waW4gPSAnYm90dG9tTGVmdCc7XG4gICAgLyoqXG4gICAgICogVGhlIGxlbmd0aCBpbiBtaWxsaXNlY29uZHMgdGhhdCB0aGUgY29udHJvbHMgYXJlIGFjdGl2ZSBmb3IgYmVmb3JlIGZhZGluZyBvdXQuIEF1ZGlvIHBsYXllcnNcbiAgICAgKiBhcmUgbm90IGVmZmVjdGVkIGJ5IHRoaXMgcHJvcC5cbiAgICAgKi9cbiAgICB0aGlzLmFjdGl2ZUR1cmF0aW9uID0gMjc1MDtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjb250cm9scyBzaG91bGQgd2FpdCBmb3IgcGxheWJhY2sgdG8gc3RhcnQgYmVmb3JlIGJlaW5nIHNob3duLiBBdWRpbyBwbGF5ZXJzXG4gICAgICogYXJlIG5vdCBlZmZlY3RlZCBieSB0aGlzIHByb3AuXG4gICAgICovXG4gICAgdGhpcy53YWl0Rm9yUGxheWJhY2tTdGFydCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGNvbnRyb2xzIHNob3VsZCBzaG93L2hpZGUgd2hlbiBwYXVzZWQuIEF1ZGlvIHBsYXllcnMgYXJlIG5vdCBlZmZlY3RlZCBieSB0aGlzIHByb3AuXG4gICAgICovXG4gICAgdGhpcy5oaWRlV2hlblBhdXNlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGNvbnRyb2xzIHNob3VsZCBoaWRlIHdoZW4gdGhlIG1vdXNlIGxlYXZlcyB0aGUgcGxheWVyLiBBdWRpbyBwbGF5ZXJzIGFyZSBub3RcbiAgICAgKiBlZmZlY3RlZCBieSB0aGlzIHByb3AuXG4gICAgICovXG4gICAgdGhpcy5oaWRlT25Nb3VzZUxlYXZlID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNBdWRpb1ZpZXcgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc1NldHRpbmdzQWN0aXZlID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGxheWJhY2tSZWFkeSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzQ29udHJvbHNBY3RpdmUgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXliYWNrU3RhcnRlZCA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICByZWdpc3RlckNvbnRyb2xzRm9yQ29sbGlzaW9uRGV0ZWN0aW9uKHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFtcbiAgICAgICdwbGF5YmFja1JlYWR5JyxcbiAgICAgICdpc0F1ZGlvVmlldycsXG4gICAgICAnaXNDb250cm9sc0FjdGl2ZScsXG4gICAgICAnaXNTZXR0aW5nc0FjdGl2ZScsXG4gICAgICAncGF1c2VkJyxcbiAgICAgICdwbGF5YmFja1N0YXJ0ZWQnLFxuICAgIF0pO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBjcmVhdGVEaXNwYXRjaGVyKHRoaXMpO1xuICAgIHRoaXMub25Db250cm9sc0NoYW5nZSgpO1xuICAgIHRoaXMuc2V0dXBQbGF5ZXJMaXN0ZW5lcnMoKTtcbiAgfVxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICB0aGlzLm9uQ29udHJvbHNDaGFuZ2UoKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmRpc3Bvc2FsLmVtcHR5KCk7XG4gICAgZGVsZXRlIGhpZGVDb250cm9sc1RpbWVvdXRbcGxheWVyUmVmW3RoaXNdXTtcbiAgICBkZWxldGUgcGxheWVyUmVmW3RoaXNdO1xuICB9XG4gIHNldHVwUGxheWVyTGlzdGVuZXJzKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkcSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IHBsYXllciA9IHlpZWxkIGZpbmRQbGF5ZXIodGhpcyk7XG4gICAgICBpZiAoaXNVbmRlZmluZWQocGxheWVyKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgZXZlbnRzID0gWydmb2N1cycsICdrZXlkb3duJywgJ2NsaWNrJywgJ3RvdWNoc3RhcnQnLCAnbW91c2VsZWF2ZSddO1xuICAgICAgZXZlbnRzLmZvckVhY2goZXZlbnQgPT4ge1xuICAgICAgICB0aGlzLmRpc3Bvc2FsLmFkZChsaXN0ZW4ocGxheWVyLCBldmVudCwgdGhpcy5vbkNvbnRyb2xzQ2hhbmdlLmJpbmQodGhpcykpKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kaXNwb3NhbC5hZGQobGlzdGVuKHBsYXllciwgJ21vdXNlbW92ZScsIGRlYm91bmNlKHRoaXMub25Db250cm9sc0NoYW5nZSwgNTAsIHRydWUpLmJpbmQodGhpcykpKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHBsYXllclJlZlt0aGlzXSA9IHBsYXllcjtcbiAgICB9KTtcbiAgfVxuICBzaG93KCkge1xuICAgIHRoaXMuZGlzcGF0Y2goJ2lzQ29udHJvbHNBY3RpdmUnLCB0cnVlKTtcbiAgfVxuICBoaWRlKCkge1xuICAgIHRoaXMuZGlzcGF0Y2goJ2lzQ29udHJvbHNBY3RpdmUnLCBmYWxzZSk7XG4gIH1cbiAgaGlkZVdpdGhEZWxheSgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNsZWFyVGltZW91dChoaWRlQ29udHJvbHNUaW1lb3V0W3BsYXllclJlZlt0aGlzXV0pO1xuICAgIGhpZGVDb250cm9sc1RpbWVvdXRbcGxheWVyUmVmW3RoaXNdXSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSwgdGhpcy5hY3RpdmVEdXJhdGlvbik7XG4gIH1cbiAgb25Db250cm9sc0NoYW5nZShldmVudCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY2xlYXJUaW1lb3V0KGhpZGVDb250cm9sc1RpbWVvdXRbcGxheWVyUmVmW3RoaXNdXSk7XG4gICAgaWYgKHRoaXMuaGlkZGVuIHx8ICF0aGlzLnBsYXliYWNrUmVhZHkpIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0F1ZGlvVmlldykge1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLndhaXRGb3JQbGF5YmFja1N0YXJ0ICYmICF0aGlzLnBsYXliYWNrU3RhcnRlZCkge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmlzSW50ZXJhY3RpbmcgfHwgdGhpcy5pc1NldHRpbmdzQWN0aXZlKSB7XG4gICAgICB0aGlzLnNob3coKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuaGlkZVdoZW5QYXVzZWQgJiYgdGhpcy5wYXVzZWQpIHtcbiAgICAgIHRoaXMuaGlkZVdpdGhEZWxheSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5oaWRlT25Nb3VzZUxlYXZlICYmICF0aGlzLnBhdXNlZCAmJiAoZXZlbnQgPT09IG51bGwgfHwgZXZlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV2ZW50LnR5cGUpID09PSAnbW91c2VsZWF2ZScpIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMucGF1c2VkKSB7XG4gICAgICB0aGlzLnNob3coKTtcbiAgICAgIHRoaXMuaGlkZVdpdGhEZWxheSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNob3coKTtcbiAgfVxuICBnZXRQb3NpdGlvbigpIHtcbiAgICBpZiAodGhpcy5pc0F1ZGlvVmlldylcbiAgICAgIHJldHVybiB7fTtcbiAgICBpZiAodGhpcy5waW4gPT09ICdjZW50ZXInKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6ICc1MCUnLFxuICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIHRvcExlZnQgPT4geyB0b3A6IDAsIGxlZnQ6IDAgfVxuICAgIGNvbnN0IHBvcyA9IHRoaXMucGluLnNwbGl0KC8oPz1bTHxSXSkvKS5tYXAocyA9PiBzLnRvTG93ZXJDYXNlKCkpO1xuICAgIHJldHVybiB7IFtwb3NbMF1dOiAwLCBbcG9zWzFdXTogMCB9O1xuICB9XG4gIG9uU3RhcnRJbnRlcmFjdGlvbigpIHtcbiAgICB0aGlzLmlzSW50ZXJhY3RpbmcgPSB0cnVlO1xuICB9XG4gIG9uRW5kSW50ZXJhY3Rpb24oKSB7XG4gICAgdGhpcy5pc0ludGVyYWN0aW5nID0gZmFsc2U7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChIb3N0LCB7IHZpZGVvOiAhdGhpcy5pc0F1ZGlvVmlldyB9LCBoKFwiZGl2XCIsIHsgc3R5bGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5nZXRQb3NpdGlvbigpKSwgeyBmbGV4RGlyZWN0aW9uOiB0aGlzLmRpcmVjdGlvbiwgYWxpZ25JdGVtczogdGhpcy5hbGlnbiA9PT0gJ2NlbnRlcicgPyAnY2VudGVyJyA6IGBmbGV4LSR7dGhpcy5hbGlnbn1gLCBqdXN0aWZ5Q29udGVudDogdGhpcy5qdXN0aWZ5IH0pLCBjbGFzczoge1xuICAgICAgICBjb250cm9sczogdHJ1ZSxcbiAgICAgICAgYXVkaW86IHRoaXMuaXNBdWRpb1ZpZXcsXG4gICAgICAgIGhpZGRlbjogdGhpcy5oaWRkZW4sXG4gICAgICAgIGFjdGl2ZTogdGhpcy5wbGF5YmFja1JlYWR5ICYmIHRoaXMuaXNDb250cm9sc0FjdGl2ZSxcbiAgICAgICAgZnVsbFdpZHRoOiB0aGlzLmlzQXVkaW9WaWV3IHx8IHRoaXMuZnVsbFdpZHRoLFxuICAgICAgICBmdWxsSGVpZ2h0OiAhdGhpcy5pc0F1ZGlvVmlldyAmJiB0aGlzLmZ1bGxIZWlnaHQsXG4gICAgICB9LCBvbk1vdXNlRW50ZXI6IHRoaXMub25TdGFydEludGVyYWN0aW9uLmJpbmQodGhpcyksIG9uTW91c2VMZWF2ZTogdGhpcy5vbkVuZEludGVyYWN0aW9uLmJpbmQodGhpcyksIG9uVG91Y2hTdGFydDogdGhpcy5vblN0YXJ0SW50ZXJhY3Rpb24uYmluZCh0aGlzKSwgb25Ub3VjaEVuZDogdGhpcy5vbkVuZEludGVyYWN0aW9uLmJpbmQodGhpcykgfSwgaChcInNsb3RcIiwgbnVsbCkpKSk7XG4gIH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInBhdXNlZFwiOiBbXCJvbkNvbnRyb2xzQ2hhbmdlXCJdLFxuICAgIFwiaGlkZGVuXCI6IFtcIm9uQ29udHJvbHNDaGFuZ2VcIl0sXG4gICAgXCJpc0F1ZGlvVmlld1wiOiBbXCJvbkNvbnRyb2xzQ2hhbmdlXCJdLFxuICAgIFwiaXNJbnRlcmFjdGluZ1wiOiBbXCJvbkNvbnRyb2xzQ2hhbmdlXCJdLFxuICAgIFwiaXNTZXR0aW5nc0FjdGl2ZVwiOiBbXCJvbkNvbnRyb2xzQ2hhbmdlXCJdLFxuICAgIFwiaGlkZVdoZW5QYXVzZWRcIjogW1wib25Db250cm9sc0NoYW5nZVwiXSxcbiAgICBcImhpZGVPbk1vdXNlTGVhdmVcIjogW1wib25Db250cm9sc0NoYW5nZVwiXSxcbiAgICBcInBsYXliYWNrU3RhcnRlZFwiOiBbXCJvbkNvbnRyb2xzQ2hhbmdlXCJdLFxuICAgIFwid2FpdEZvclBsYXliYWNrU3RhcnRcIjogW1wib25Db250cm9sc0NoYW5nZVwiXSxcbiAgICBcInBsYXliYWNrUmVhZHlcIjogW1wib25Db250cm9sc0NoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBjb250cm9sc0NzczsgfVxufTtcblxuY29uc3QgY3VycmVudFRpbWVDc3MgPSBcIjpob3N0e2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn1cIjtcblxuY29uc3QgQ3VycmVudFRpbWUgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gMDtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pMThuID0ge307XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdGltZSBzaG91bGQgYWx3YXlzIHNob3cgdGhlIGhvdXJzIHVuaXQsIGV2ZW4gaWYgdGhlIHRpbWUgaXMgbGVzcyB0aGFuXG4gICAgICogMSBob3VyIChlZzogYDIwOjM1YCAtPiBgMDA6MjA6MzVgKS5cbiAgICAgKi9cbiAgICB0aGlzLmFsd2F5c1Nob3dIb3VycyA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbJ2N1cnJlbnRUaW1lJywgJ2kxOG4nXSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcInZtLXRpbWVcIiwgeyBsYWJlbDogdGhpcy5pMThuLmN1cnJlbnRUaW1lLCBzZWNvbmRzOiB0aGlzLmN1cnJlbnRUaW1lLCBhbHdheXNTaG93SG91cnM6IHRoaXMuYWx3YXlzU2hvd0hvdXJzIH0pKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gY3VycmVudFRpbWVDc3M7IH1cbn07XG5cbnZhciBfYSwgX2I7XG5jb25zdCBJU19DTElFTlQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbmNvbnN0IFVBID0gSVNfQ0xJRU5UID8gKF9hID0gd2luZG93Lm5hdmlnYXRvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpIDogJyc7XG5jb25zdCBJU19JT1MgPSAvaXBob25lfGlwYWR8aXBvZHxpb3N8Q3JpT1N8RnhpT1MvLnRlc3QoVUEpO1xuY29uc3QgSVNfQU5EUk9JRCA9IC9hbmRyb2lkLy50ZXN0KFVBKTtcbmNvbnN0IElTX01PQklMRSA9IElTX0NMSUVOVCAmJiAoSVNfSU9TIHx8IElTX0FORFJPSUQpO1xuY29uc3QgSVNfSVBIT05FID0gSVNfQ0xJRU5UICYmIC8oaVBob25lfGlQb2QpL2dpLnRlc3QoKF9iID0gd2luZG93Lm5hdmlnYXRvcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnBsYXRmb3JtKTtcbi9maXJlZm94Ly50ZXN0KFVBKTtcbmNvbnN0IElTX0NIUk9NRSA9IElTX0NMSUVOVCAmJiB3aW5kb3cuY2hyb21lO1xuSVNfQ0xJRU5UICYmXG4gICFJU19DSFJPTUUgJiZcbiAgKHdpbmRvdy5zYWZhcmkgfHwgSVNfSU9TIHx8IC8oYXBwbGV8c2FmYXJpKS8udGVzdChVQSkpO1xuY29uc3Qgb25Nb2JpbGVDaGFuZ2UgPSAoY2FsbGJhY2spID0+IHtcbiAgaWYgKCFJU19DTElFTlQgfHwgaXNVbmRlZmluZWQod2luZG93LlJlc2l6ZU9ic2VydmVyKSkge1xuICAgIGNhbGxiYWNrKElTX01PQklMRSk7XG4gICAgcmV0dXJuIG5vb3A7XG4gIH1cbiAgZnVuY3Rpb24gb25SZXNpemUoKSB7XG4gICAgY2FsbGJhY2sod2luZG93LmlubmVyV2lkdGggPD0gNDgwIHx8IElTX01PQklMRSk7XG4gIH1cbiAgY2FsbGJhY2sod2luZG93LmlubmVyV2lkdGggPD0gNDgwIHx8IElTX01PQklMRSk7XG4gIHJldHVybiBsaXN0ZW4od2luZG93LCAncmVzaXplJywgb25SZXNpemUpO1xufTtcbmNvbnN0IG9uVG91Y2hJbnB1dENoYW5nZSA9IChjYWxsYmFjaykgPT4ge1xuICBpZiAoIUlTX0NMSUVOVClcbiAgICByZXR1cm4gbm9vcDtcbiAgbGV0IGxhc3RUb3VjaFRpbWUgPSAwO1xuICBjb25zdCBvZmZUb3VjaExpc3RlbmVyID0gbGlzdGVuKGRvY3VtZW50LCAndG91Y2hzdGFydCcsICgpID0+IHtcbiAgICBsYXN0VG91Y2hUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgY2FsbGJhY2sodHJ1ZSk7XG4gIH0sIHRydWUpO1xuICBjb25zdCBvZmZNb3VzZUxpc3RlbmVyID0gbGlzdGVuKGRvY3VtZW50LCAnbW91c2Vtb3ZlJywgKCkgPT4ge1xuICAgIC8vIEZpbHRlciBlbXVsYXRlZCBldmVudHMgY29taW5nIGZyb20gdG91Y2ggZXZlbnRzXG4gICAgaWYgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbGFzdFRvdWNoVGltZSA8IDUwMClcbiAgICAgIHJldHVybjtcbiAgICBjYWxsYmFjayhmYWxzZSk7XG4gIH0sIHRydWUpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIG9mZlRvdWNoTGlzdGVuZXIoKTtcbiAgICBvZmZNb3VzZUxpc3RlbmVyKCk7XG4gIH07XG59O1xuLyoqXG4gKiBDaGVja3MgaWYgdGhlIHNjcmVlbiBvcmllbnRhdGlvbiBjYW4gYmUgY2hhbmdlZC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TY3JlZW4vb3JpZW50YXRpb25cbiAqL1xuY29uc3QgY2FuUm90YXRlU2NyZWVuID0gKCkgPT4gSVNfQ0xJRU5UICYmIHdpbmRvdy5zY3JlZW4ub3JpZW50YXRpb24gJiYgISF3aW5kb3cuc2NyZWVuLm9yaWVudGF0aW9uLmxvY2s7XG4vKipcbiAqIENoZWNrcyBpZiB0aGUgbmF0aXZlIEhUTUw1IHZpZGVvIHBsYXllciBjYW4gZW50ZXIgcGljdHVyZS1pbi1waWN0dXJlIChQSVApIG1vZGUgd2hlbiB1c2luZ1xuICogdGhlIENocm9tZSBicm93c2VyLlxuICpcbiAqIEBzZWUgIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi91cGRhdGVzLzIwMTgvMTAvd2F0Y2gtdmlkZW8tdXNpbmctcGljdHVyZS1pbi1waWN0dXJlXG4gKi9cbmNvbnN0IGNhblVzZVBpUEluQ2hyb21lID0gKCkgPT4ge1xuICBpZiAoIUlTX0NMSUVOVClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgcmV0dXJuICEhZG9jdW1lbnQucGljdHVyZUluUGljdHVyZUVuYWJsZWQgJiYgIXZpZGVvLmRpc2FibGVQaWN0dXJlSW5QaWN0dXJlO1xufTtcbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBuYXRpdmUgSFRNTDUgdmlkZW8gcGxheWVyIGNhbiBlbnRlciBwaWN0dXJlLWluLXBpY3R1cmUgKFBJUCkgbW9kZSB3aGVuIHVzaW5nXG4gKiB0aGUgZGVza3RvcCBTYWZhcmkgYnJvd3NlciwgaU9TIFNhZmFyaSBhcHBlYXJzIHRvIFwic3VwcG9ydFwiIFBpUCB0aHJvdWdoIHRoZSBjaGVjaywgaG93ZXZlciBQaVBcbiAqIGRvZXMgbm90IGZ1bmN0aW9uLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vd2Via2l0anMvYWRkaW5nX3BpY3R1cmVfaW5fcGljdHVyZV90b195b3VyX3NhZmFyaV9tZWRpYV9jb250cm9sc1xuICovXG5jb25zdCBjYW5Vc2VQaVBJblNhZmFyaSA9ICgpID0+IHtcbiAgaWYgKCFJU19DTElFTlQpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBjb25zdCB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gIHJldHVybiAoaXNGdW5jdGlvbih2aWRlby53ZWJraXRTdXBwb3J0c1ByZXNlbnRhdGlvbk1vZGUpICYmXG4gICAgaXNGdW5jdGlvbih2aWRlby53ZWJraXRTZXRQcmVzZW50YXRpb25Nb2RlKSAmJlxuICAgICFJU19JUEhPTkUpO1xufTtcbi8vIENoZWNrcyBpZiB0aGUgbmF0aXZlIEhUTUw1IHZpZGVvIHBsYXllciBjYW4gZW50ZXIgUElQLlxuY29uc3QgY2FuVXNlUGlQID0gKCkgPT4gY2FuVXNlUGlQSW5DaHJvbWUoKSB8fCBjYW5Vc2VQaVBJblNhZmFyaSgpO1xuLyoqXG4gKiBUbyBkZXRlY3QgYXV0b3BsYXksIHdlIGNyZWF0ZSBhIHZpZGVvIGVsZW1lbnQgYW5kIGNhbGwgcGxheSBvbiBpdCwgaWYgaXQgaXMgYHBhdXNlZGAgYWZ0ZXJcbiAqIGEgYHBsYXkoKWAgY2FsbCwgYXV0b3BsYXkgaXMgc3VwcG9ydGVkLiBBbHRob3VnaCB0aGlzIHVuaW50dWl0aXZlLCBpdCB3b3JrcyBhY3Jvc3MgYnJvd3NlcnNcbiAqIGFuZCBpcyBjdXJyZW50bHkgdGhlIGxpZ2h0ZXN0IHdheSB0byBkZXRlY3QgYXV0b3BsYXkgd2l0aG91dCB1c2luZyBhIGRhdGEgc291cmNlLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2FtcHByb2plY3QvYW1waHRtbC9ibG9iLzliYzg3NTY1MzY5NTY3ODBlMjQ5ZDg5NWYzZTEwMDFhY2RlZTBiYzAvc3JjL3V0aWxzL3ZpZGVvLmpzI0wyNVxuICovXG5jb25zdCBjYW5BdXRvcGxheSA9IChtdXRlZCA9IHRydWUsIHBsYXlzaW5saW5lID0gdHJ1ZSkgPT4ge1xuICBpZiAoIUlTX0NMSUVOVClcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcbiAgY29uc3QgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICBpZiAobXV0ZWQpIHtcbiAgICB2aWRlby5zZXRBdHRyaWJ1dGUoJ211dGVkJywgJycpO1xuICAgIHZpZGVvLm11dGVkID0gdHJ1ZTtcbiAgfVxuICBpZiAocGxheXNpbmxpbmUpIHtcbiAgICB2aWRlby5zZXRBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJywgJycpO1xuICAgIHZpZGVvLnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgJycpO1xuICB9XG4gIHZpZGVvLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgJzAnKTtcbiAgdmlkZW8uc2V0QXR0cmlidXRlKCd3aWR0aCcsICcwJyk7XG4gIHZpZGVvLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgdmlkZW8uc3R5bGUudG9wID0gJzAnO1xuICB2aWRlby5zdHlsZS53aWR0aCA9ICcwJztcbiAgdmlkZW8uc3R5bGUuaGVpZ2h0ID0gJzAnO1xuICB2aWRlby5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAvLyBQcm9taXNlIHdyYXBwZWQgdGhpcyB3YXkgdG8gY2F0Y2ggYm90aCBzeW5jIHRocm93cyBhbmQgYXN5bmMgcmVqZWN0aW9ucy5cbiAgLy8gTW9yZSBpbmZvOiBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wcm9taXNlLXRyeVxuICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHJlc29sdmUodmlkZW8ucGxheSgpKSkuY2F0Y2gobm9vcCk7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoIXZpZGVvLnBhdXNlZCk7XG59O1xuXG4vKipcbiAqIEF0dGVtcHQgdG8gcGFyc2UganNvbiBpbnRvIGEgUE9KTy5cbiAqL1xuZnVuY3Rpb24gdHJ5UGFyc2VKU09OKGpzb24pIHtcbiAgaWYgKCFpc1N0cmluZyhqc29uKSlcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gaW5wdXQgaXMganNvbiBvciBhIHBsYWluIG9iamVjdC5cbiAqL1xuY29uc3QgaXNPYmpPckpTT04gPSAoaW5wdXQpID0+ICFpc05pbChpbnB1dCkgJiZcbiAgKGlzT2JqZWN0KGlucHV0KSB8fCAoaXNTdHJpbmcoaW5wdXQpICYmIGlucHV0LnN0YXJ0c1dpdGgoJ3snKSkpO1xuLyoqXG4gKiBJZiBhbiBvYmplY3QgcmV0dXJuIG90aGVyd2lzZSB0cnkgdG8gcGFyc2UgaXQgYXMganNvbi5cbiAqL1xuY29uc3Qgb2JqT3JQYXJzZUpTT04gPSAoaW5wdXQpID0+IGlzT2JqZWN0KGlucHV0KSA/IGlucHV0IDogdHJ5UGFyc2VKU09OKGlucHV0KTtcbi8qKlxuICogTG9hZCBpbWFnZSBhdm9pZGluZyB4aHIvZmV0Y2ggQ09SUyBpc3N1ZXMuIFNlcnZlciBzdGF0dXMgY2FuJ3QgYmUgb2J0YWluZWQgdGhpcyB3YXlcbiAqIHVuZm9ydHVuYXRlbHksIHNvIHRoaXMgdXNlcyBcIm5hdHVyYWxXaWR0aFwiIHRvIGRldGVybWluZSBpZiB0aGUgaW1hZ2UgaGFzIGJlZW4gbG9hZGVkLiBCeVxuICogZGVmYXVsdCBpdCBjaGVja3MgaWYgaXQgaXMgYXQgbGVhc3QgMXB4LlxuICovXG5jb25zdCBsb2FkSW1hZ2UgPSAoc3JjLCBtaW5XaWR0aCA9IDEpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgY29uc3QgaGFuZGxlciA9ICgpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGRlbGV0ZSBpbWFnZS5vbmxvYWQ7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBkZWxldGUgaW1hZ2Uub25lcnJvcjtcbiAgICBpbWFnZS5uYXR1cmFsV2lkdGggPj0gbWluV2lkdGggPyByZXNvbHZlKGltYWdlKSA6IHJlamVjdChpbWFnZSk7XG4gIH07XG4gIE9iamVjdC5hc3NpZ24oaW1hZ2UsIHsgb25sb2FkOiBoYW5kbGVyLCBvbmVycm9yOiBoYW5kbGVyLCBzcmMgfSk7XG59KTtcbmNvbnN0IGxvYWRTY3JpcHQgPSAoc3JjLCBvbkxvYWQsIG9uRXJyb3IgPSBub29wKSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdC5zcmMgPSBzcmM7XG4gIHNjcmlwdC5vbmxvYWQgPSBvbkxvYWQ7XG4gIHNjcmlwdC5vbmVycm9yID0gb25FcnJvcjtcbiAgY29uc3QgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gIChfYSA9IGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbnNlcnRCZWZvcmUoc2NyaXB0LCBmaXJzdFNjcmlwdFRhZyk7XG59O1xuLyoqXG4gKiBUcmllcyB0byBwYXJzZSBqc29uIGFuZCByZXR1cm4gYSBvYmplY3QuXG4gKi9cbmNvbnN0IGRlY29kZUpTT04gPSAoZGF0YSkgPT4ge1xuICBpZiAoIWlzT2JqT3JKU09OKGRhdGEpKVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIHJldHVybiBvYmpPclBhcnNlSlNPTihkYXRhKTtcbn07XG4vKipcbiAqIEF0dGVtcHRzIHRvIHNhZmVseSBkZWNvZGUgYSBVUkkgY29tcG9uZW50LCBvbiBmYWlsdXJlIGl0IHJldHVybnMgdGhlIGdpdmVuIGZhbGxiYWNrLlxuICovXG5jb25zdCB0cnlEZWNvZGVVUklDb21wb25lbnQgPSAoY29tcG9uZW50LCBmYWxsYmFjayA9ICcnKSA9PiB7XG4gIGlmICghSVNfQ0xJRU5UKVxuICAgIHJldHVybiBmYWxsYmFjaztcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93LmRlY29kZVVSSUNvbXBvbmVudChjb21wb25lbnQpO1xuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbGxiYWNrO1xuICB9XG59O1xuLyoqXG4gKiBSZXR1cm5zIGEgc2ltcGxlIGtleS92YWx1ZSBtYXAgYW5kIGR1cGxpY2F0ZSBrZXlzIGFyZSBtZXJnZWQgaW50byBhbiBhcnJheS5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbXBwcm9qZWN0L2FtcGh0bWwvYmxvYi9jN2M0NmNlYzcxYmFjOTJmNWM1ZGEzMWRjYzYzNjZjMTg1NzdmNTY2L3NyYy91cmwtcGFyc2UtcXVlcnktc3RyaW5nLmpzI0wzMVxuICovXG5jb25zdCBRVUVSWV9TVFJJTkdfUkVHRVggPSAvKD86XlsjP10/fCYpKFtePSZdKykoPzo9KFteJl0qKSk/L2c7XG5jb25zdCBwYXJzZVF1ZXJ5U3RyaW5nID0gKHFzKSA9PiB7XG4gIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGlmIChpc1VuZGVmaW5lZChxcykpXG4gICAgcmV0dXJuIHBhcmFtcztcbiAgbGV0IG1hdGNoO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uZC1hc3NpZ25cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgd2hpbGUgKChtYXRjaCA9IFFVRVJZX1NUUklOR19SRUdFWC5leGVjKHFzKSkpIHtcbiAgICBjb25zdCBuYW1lID0gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdLCBtYXRjaFsxXSkucmVwbGFjZSgnW10nLCAnJyk7XG4gICAgY29uc3QgdmFsdWUgPSBpc1N0cmluZyhtYXRjaFsyXSlcbiAgICAgID8gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzJdLnJlcGxhY2UoL1xcKy9nLCAnICcpLCBtYXRjaFsyXSlcbiAgICAgIDogJyc7XG4gICAgY29uc3QgY3VyclZhbHVlID0gcGFyYW1zW25hbWVdO1xuICAgIGlmIChjdXJyVmFsdWUgJiYgIWlzQXJyYXkoY3VyclZhbHVlKSlcbiAgICAgIHBhcmFtc1tuYW1lXSA9IFtjdXJyVmFsdWVdO1xuICAgIGN1cnJWYWx1ZSA/IHBhcmFtc1tuYW1lXS5wdXNoKHZhbHVlKSA6IChwYXJhbXNbbmFtZV0gPSB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHBhcmFtcztcbn07XG4vKipcbiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIHBhcmFtcyBpbnRvIGEgcXVlcnkgc3RyaW5nLlxuICovXG5jb25zdCBzZXJpYWxpemVRdWVyeVN0cmluZyA9IChwYXJhbXMpID0+IHtcbiAgY29uc3QgcXMgPSBbXTtcbiAgY29uc3QgYXBwZW5kUXVlcnlQYXJhbSA9IChwYXJhbSwgdikgPT4ge1xuICAgIHFzLnB1c2goYCR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtKX09JHtlbmNvZGVVUklDb21wb25lbnQodil9YCk7XG4gIH07XG4gIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaChwYXJhbSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJhbXNbcGFyYW1dO1xuICAgIGlmIChpc05pbCh2YWx1ZSkpXG4gICAgICByZXR1cm47XG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2YWx1ZS5mb3JFYWNoKCh2KSA9PiBhcHBlbmRRdWVyeVBhcmFtKHBhcmFtLCB2KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYXBwZW5kUXVlcnlQYXJhbShwYXJhbSwgdmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBxcy5qb2luKCcmJyk7XG59O1xuLyoqXG4gKiBOb3RpZmllcyB0aGUgYnJvd3NlciB0byBzdGFydCBlc3RhYmxpc2hpbmcgYSBjb25uZWN0aW9uIHdpdGggdGhlIGdpdmVuIFVSTC5cbiAqL1xuY29uc3QgcHJlY29ubmVjdCA9ICh1cmwsIHJlbCA9ICdwcmVjb25uZWN0JywgYXMpID0+IHtcbiAgaWYgKCFJU19DTElFTlQpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICBsaW5rLnJlbCA9IHJlbDtcbiAgbGluay5ocmVmID0gdXJsO1xuICBpZiAoIWlzVW5kZWZpbmVkKGFzKSlcbiAgICBsaW5rLmFzID0gYXM7XG4gIGxpbmsuY3Jvc3NPcmlnaW4gPSAndHJ1ZSc7XG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kKGxpbmspO1xuICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbiAqIFNhZmVseSBhcHBlbmRzIHRoZSBnaXZlbiBxdWVyeSBzdHJpbmcgdG8gdGhlIGdpdmVuIFVSTC5cbiAqL1xuY29uc3QgYXBwZW5kUXVlcnlTdHJpbmdUb1VSTCA9ICh1cmwsIHFzKSA9PiB7XG4gIGlmIChpc1VuZGVmaW5lZChxcykgfHwgcXMubGVuZ3RoID09PSAwKVxuICAgIHJldHVybiB1cmw7XG4gIGNvbnN0IG1haW5BbmRRdWVyeSA9IHVybC5zcGxpdCgnPycsIDIpO1xuICByZXR1cm4gKG1haW5BbmRRdWVyeVswXSArXG4gICAgKCFpc1VuZGVmaW5lZChtYWluQW5kUXVlcnlbMV0pID8gYD8ke21haW5BbmRRdWVyeVsxXX0mJHtxc31gIDogYD8ke3FzfWApKTtcbn07XG4vKipcbiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIHBhcmFtcyBpbnRvIGEgcXVlcnkgc3RyaW5nIGFuZCBhcHBlbmRzIHRoZW0gdG8gdGhlIGdpdmVuIFVSTC5cbiAqL1xuY29uc3QgYXBwZW5kUGFyYW1zVG9VUkwgPSAodXJsLCBwYXJhbXMpID0+IGFwcGVuZFF1ZXJ5U3RyaW5nVG9VUkwodXJsLCBpc09iamVjdChwYXJhbXMpXG4gID8gc2VyaWFsaXplUXVlcnlTdHJpbmcocGFyYW1zKVxuICA6IHBhcmFtcyk7XG4vKipcbiAqIFRyaWVzIHRvIGNvbnZlcnQgYSBxdWVyeSBzdHJpbmcgaW50byBhIG9iamVjdC5cbiAqL1xuY29uc3QgZGVjb2RlUXVlcnlTdHJpbmcgPSAocXMpID0+IHtcbiAgaWYgKCFpc1N0cmluZyhxcykpXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgcmV0dXJuIHBhcnNlUXVlcnlTdHJpbmcocXMpO1xufTtcbmNvbnN0IHBlbmRpbmdTREtSZXF1ZXN0cyA9IHt9O1xuLyoqXG4gKiBMb2FkcyBhbiBTREsgaW50byB0aGUgZ2xvYmFsIHdpbmRvdyBuYW1lc3BhY2UuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vQ29va1BldGUvcmVhY3QtcGxheWVyL2Jsb2IvbWFzdGVyL3NyYy91dGlscy5qcyNMNzdcbiAqL1xuY29uc3QgbG9hZFNESyA9ICh1cmwsIHNka0dsb2JhbFZhciwgc2RrUmVhZHlWYXIsIGlzTG9hZGVkID0gKCkgPT4gdHJ1ZSwgbG9hZFNjcmlwdEZuID0gbG9hZFNjcmlwdCkgPT4ge1xuICBjb25zdCBnZXRHbG9iYWwgPSAoa2V5KSA9PiB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh3aW5kb3dba2V5XSkpXG4gICAgICByZXR1cm4gd2luZG93W2tleV07XG4gICAgaWYgKHdpbmRvdy5leHBvcnRzICYmIHdpbmRvdy5leHBvcnRzW2tleV0pXG4gICAgICByZXR1cm4gd2luZG93LmV4cG9ydHNba2V5XTtcbiAgICBpZiAod2luZG93Lm1vZHVsZSAmJiB3aW5kb3cubW9kdWxlLmV4cG9ydHMgJiYgd2luZG93Lm1vZHVsZS5leHBvcnRzW2tleV0pIHtcbiAgICAgIHJldHVybiB3aW5kb3cubW9kdWxlLmV4cG9ydHNba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcbiAgY29uc3QgZXhpc3RpbmdHbG9iYWwgPSBnZXRHbG9iYWwoc2RrR2xvYmFsVmFyKTtcbiAgaWYgKGV4aXN0aW5nR2xvYmFsICYmIGlzTG9hZGVkKGV4aXN0aW5nR2xvYmFsKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZXhpc3RpbmdHbG9iYWwpO1xuICB9XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZChwZW5kaW5nU0RLUmVxdWVzdHNbdXJsXSkpIHtcbiAgICAgIHBlbmRpbmdTREtSZXF1ZXN0c1t1cmxdLnB1c2goeyByZXNvbHZlLCByZWplY3QgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBlbmRpbmdTREtSZXF1ZXN0c1t1cmxdID0gW3sgcmVzb2x2ZSwgcmVqZWN0IH1dO1xuICAgIGNvbnN0IG9uTG9hZGVkID0gKHNkaykgPT4ge1xuICAgICAgcGVuZGluZ1NES1JlcXVlc3RzW3VybF0uZm9yRWFjaChyZXF1ZXN0ID0+IHJlcXVlc3QucmVzb2x2ZShzZGspKTtcbiAgICB9O1xuICAgIGlmICghaXNVbmRlZmluZWQoc2RrUmVhZHlWYXIpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgY29uc3QgcHJldmlvdXNPblJlYWR5ID0gd2luZG93W3Nka1JlYWR5VmFyXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICB3aW5kb3dbc2RrUmVhZHlWYXJdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHByZXZpb3VzT25SZWFkeSkpXG4gICAgICAgICAgcHJldmlvdXNPblJlYWR5KCk7XG4gICAgICAgIG9uTG9hZGVkKGdldEdsb2JhbChzZGtHbG9iYWxWYXIpKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGxvYWRTY3JpcHRGbih1cmwsICgpID0+IHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChzZGtSZWFkeVZhcikpXG4gICAgICAgIG9uTG9hZGVkKGdldEdsb2JhbChzZGtHbG9iYWxWYXIpKTtcbiAgICB9LCBlID0+IHtcbiAgICAgIHBlbmRpbmdTREtSZXF1ZXN0c1t1cmxdLmZvckVhY2gocmVxdWVzdCA9PiB7XG4gICAgICAgIHJlcXVlc3QucmVqZWN0KGUpO1xuICAgICAgfSk7XG4gICAgICBkZWxldGUgcGVuZGluZ1NES1JlcXVlc3RzW3VybF07XG4gICAgfSk7XG4gIH0pO1xufTtcblxuY29uc3Qgd2l0aFByb3ZpZGVyQ29udGV4dCA9IChwcm92aWRlciwgYWRkaXRpb25hbFByb3BzID0gW10pID0+IHdpdGhQbGF5ZXJDb250ZXh0KHByb3ZpZGVyLCBbXG4gICdhdXRvcGxheScsXG4gICdjb250cm9scycsXG4gICdsYW5ndWFnZScsXG4gICdtdXRlZCcsXG4gICdsb2dnZXInLFxuICAnbG9vcCcsXG4gICdhc3BlY3RSYXRpbycsXG4gICdwbGF5c2lubGluZScsXG4gIC4uLmFkZGl0aW9uYWxQcm9wcyxcbl0pO1xuXG5jb25zdCBkYWlseW1vdGlvbkNzcyA9IFwiOmhvc3R7ei1pbmRleDp2YXIoLS12bS1tZWRpYS16LWluZGV4KX1cIjtcblxudmFyIF9fYXdhaXRlciRwID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCB2aWRlb0luZm9DYWNoZSQxID0gbmV3IE1hcCgpO1xuY29uc3QgRGFpbHltb3Rpb24gPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMudm1Mb2FkU3RhcnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtTG9hZFN0YXJ0XCIsIDcpO1xuICAgIHRoaXMudm1FcnJvciA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1FcnJvclwiLCA3KTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHRoaXMuZGVmYXVsdEludGVybmFsU3RhdGUgPSB7fTtcbiAgICB0aGlzLmludGVybmFsU3RhdGUgPSB7XG4gICAgICBjdXJyZW50VGltZTogMCxcbiAgICAgIHZvbHVtZTogMCxcbiAgICAgIG11dGVkOiBmYWxzZSxcbiAgICAgIGlzQWRzUGxheWluZzogZmFsc2UsXG4gICAgICBwbGF5YmFja1JlYWR5OiBmYWxzZSxcbiAgICB9O1xuICAgIHRoaXMuZW1iZWRTcmMgPSAnJztcbiAgICB0aGlzLm1lZGlhVGl0bGUgPSAnJztcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHkgcGxheSB0aGUgbmV4dCB2aWRlbyBpbiB0aGUgcXVldWUuXG4gICAgICovXG4gICAgdGhpcy5zaG91bGRBdXRvcGxheVF1ZXVlID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBzaG93IHRoZSAnVXAgTmV4dCcgcXVldWUuXG4gICAgICovXG4gICAgdGhpcy5zaG93VXBOZXh0UXVldWUgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIHNob3cgYnV0dG9ucyBmb3Igc2hhcmluZyB0aGUgdmlkZW8uXG4gICAgICovXG4gICAgdGhpcy5zaG93U2hhcmVCdXR0b25zID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBkaXNwbGF5IHRoZSBEYWlseW1vdGlvbiBsb2dvLlxuICAgICAqL1xuICAgIHRoaXMuc2hvd0RhaWx5bW90aW9uTG9nbyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gc2hvdyB2aWRlbyBpbmZvcm1hdGlvbiAodGl0bGUgYW5kIG93bmVyKSBvbiB0aGUgc3RhcnQgc2NyZWVuLlxuICAgICAqL1xuICAgIHRoaXMuc2hvd1ZpZGVvSW5mbyA9IHRydWU7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMubGFuZ3VhZ2UgPSAnZW4nO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmF1dG9wbGF5ID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuY29udHJvbHMgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5sb29wID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMubXV0ZWQgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5c2lubGluZSA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUHJvdmlkZXJDb25uZWN0KHRoaXMpO1xuICAgIHdpdGhQcm92aWRlckNvbnRleHQodGhpcyk7XG4gIH1cbiAgb25WaWRlb0lkQ2hhbmdlKCkge1xuICAgIHRoaXMuaW50ZXJuYWxTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdEludGVybmFsU3RhdGUpO1xuICAgIGlmICghdGhpcy52aWRlb0lkKSB7XG4gICAgICB0aGlzLmVtYmVkU3JjID0gJyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZW1iZWRTcmMgPSBgJHt0aGlzLmdldE9yaWdpbigpfS9lbWJlZC92aWRlby8ke3RoaXMudmlkZW9JZH0/YXBpPTFgO1xuICAgIHRoaXMuZmV0Y2hWaWRlb0luZm8gPSB0aGlzLmdldFZpZGVvSW5mbygpO1xuICAgIHRoaXMucGVuZGluZ01lZGlhVGl0bGVDYWxsID0gZGVmZXJyZWRQcm9taXNlKCk7XG4gIH1cbiAgb25Db250cm9sc0NoYW5nZSgpIHtcbiAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrUmVhZHkpIHtcbiAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcImNvbnRyb2xzXCIgLyogQ29udHJvbHMgKi8sIHRoaXMuY29udHJvbHMpO1xuICAgIH1cbiAgfVxuICBvbkN1c3RvbVBvc3RlckNoYW5nZSgpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50UG9zdGVyJywgdGhpcy5wb3N0ZXIpO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBjcmVhdGVQcm92aWRlckRpc3BhdGNoZXIodGhpcyk7XG4gICAgdGhpcy5kaXNwYXRjaCgndmlld1R5cGUnLCBWaWV3VHlwZS5WaWRlbyk7XG4gICAgdGhpcy5vblZpZGVvSWRDaGFuZ2UoKTtcbiAgICB0aGlzLmludGVybmFsU3RhdGUubXV0ZWQgPSB0aGlzLm11dGVkO1xuICAgIHRoaXMuZGVmYXVsdEludGVybmFsU3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmludGVybmFsU3RhdGUpO1xuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgdGhpcy5pbml0aWFsTXV0ZWQgPSB0aGlzLm11dGVkO1xuICB9XG4gIGdldE9yaWdpbigpIHtcbiAgICByZXR1cm4gJ2h0dHBzOi8vd3d3LmRhaWx5bW90aW9uLmNvbSc7XG4gIH1cbiAgZ2V0UHJlY29ubmVjdGlvbnMoKSB7XG4gICAgcmV0dXJuIFt0aGlzLmdldE9yaWdpbigpLCAnaHR0cHM6Ly9zdGF0aWMxLmRtY2RuLm5ldCddO1xuICB9XG4gIHJlbW90ZUNvbnRyb2woY29tbWFuZCwgYXJnKSB7XG4gICAgcmV0dXJuIHRoaXMuZW1iZWQucG9zdE1lc3NhZ2Uoe1xuICAgICAgY29tbWFuZCxcbiAgICAgIHBhcmFtZXRlcnM6IGFyZyA/IFthcmddIDogW10sXG4gICAgfSk7XG4gIH1cbiAgYnVpbGRQYXJhbXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF1dG9wbGF5OiB0aGlzLmF1dG9wbGF5LFxuICAgICAgbXV0ZTogdGhpcy5pbml0aWFsTXV0ZWQsXG4gICAgICBjb250cm9sczogdGhpcy5jb250cm9scyxcbiAgICAgICdxdWV1ZS1hdXRvcGxheS1uZXh0JzogdGhpcy5zaG91bGRBdXRvcGxheVF1ZXVlLFxuICAgICAgJ3F1ZXVlLWVuYWJsZSc6IHRoaXMuc2hvd1VwTmV4dFF1ZXVlLFxuICAgICAgJ3NoYXJpbmctZW5hYmxlJzogdGhpcy5zaG93U2hhcmVCdXR0b25zLFxuICAgICAgc3luZGljYXRpb246IHRoaXMuc3luZGljYXRpb24sXG4gICAgICAndWktaGlnaGxpZ2h0JzogdGhpcy5jb2xvcixcbiAgICAgICd1aS1sb2dvJzogdGhpcy5zaG93RGFpbHltb3Rpb25Mb2dvLFxuICAgICAgJ3VpLXN0YXJ0LXNjcmVlbi1pbmZvJzogdGhpcy5zaG93VmlkZW9JbmZvLFxuICAgIH07XG4gIH1cbiAgZ2V0VmlkZW9JbmZvKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkcCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGlmICh2aWRlb0luZm9DYWNoZSQxLmhhcyh0aGlzLnZpZGVvSWQpKVxuICAgICAgICByZXR1cm4gdmlkZW9JbmZvQ2FjaGUkMS5nZXQodGhpcy52aWRlb0lkKTtcbiAgICAgIGNvbnN0IGFwaUVuZHBvaW50ID0gJ2h0dHBzOi8vYXBpLmRhaWx5bW90aW9uLmNvbSc7XG4gICAgICByZXR1cm4gd2luZG93XG4gICAgICAgIC5mZXRjaChgJHthcGlFbmRwb2ludH0vdmlkZW8vJHt0aGlzLnZpZGVvSWR9P2ZpZWxkcz1kdXJhdGlvbix0aHVtYm5haWxfMTA4MF91cmxgKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICBjb25zdCBwb3N0ZXIgPSBkYXRhLnRodW1ibmFpbF8xMDgwX3VybDtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBwYXJzZUZsb2F0KGRhdGEuZHVyYXRpb24pO1xuICAgICAgICB2aWRlb0luZm9DYWNoZSQxLnNldCh0aGlzLnZpZGVvSWQsIHsgcG9zdGVyLCBkdXJhdGlvbiB9KTtcbiAgICAgICAgcmV0dXJuIHsgcG9zdGVyLCBkdXJhdGlvbiB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgb25FbWJlZFNyY0NoYW5nZSgpIHtcbiAgICB0aGlzLnZtTG9hZFN0YXJ0LmVtaXQoKTtcbiAgICB0aGlzLmRpc3BhdGNoKCd2aWV3VHlwZScsIFZpZXdUeXBlLlZpZGVvKTtcbiAgfVxuICBvbkVtYmVkTWVzc2FnZShldmVudCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgbXNnID0gZXZlbnQuZGV0YWlsO1xuICAgIHN3aXRjaCAobXNnLmV2ZW50KSB7XG4gICAgICBjYXNlIFwicGxheWJhY2tfcmVhZHlcIiAvKiBQbGF5YmFja1JlYWR5ICovOlxuICAgICAgICB0aGlzLm9uQ29udHJvbHNDaGFuZ2UoKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFNyYycsIHRoaXMuZW1iZWRTcmMpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdtZWRpYVR5cGUnLCBNZWRpYVR5cGUuVmlkZW8pO1xuICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgdGhpcy5mZXRjaFZpZGVvSW5mbyxcbiAgICAgICAgICAoX2EgPSB0aGlzLnBlbmRpbmdNZWRpYVRpdGxlQ2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnByb21pc2UsXG4gICAgICAgIF0pLnRoZW4oKFtpbmZvLCBtZWRpYVRpdGxlXSkgPT4ge1xuICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCgnZHVyYXRpb24nLCAoX2EgPSBpbmZvID09PSBudWxsIHx8IGluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluZm8uZHVyYXRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IC0xKTtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50UG9zdGVyJywgKF9iID0gdGhpcy5wb3N0ZXIpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGluZm8gPT09IG51bGwgfHwgaW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5mby5wb3N0ZXIpO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ21lZGlhVGl0bGUnLCBtZWRpYVRpdGxlKTtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1JlYWR5JywgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ2aWRlb2NoYW5nZVwiIC8qIFZpZGVvQ2hhbmdlICovOlxuICAgICAgICAoX2IgPSB0aGlzLnBlbmRpbmdNZWRpYVRpdGxlQ2FsbCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJlc29sdmUobXNnLnRpdGxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic3RhcnRcIiAvKiBTdGFydCAqLzpcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgZmFsc2UpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1N0YXJ0ZWQnLCB0cnVlKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgnYnVmZmVyaW5nJywgdHJ1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInZpZGVvX3N0YXJ0XCIgLyogVmlkZW9TdGFydCAqLzpcbiAgICAgICAgLy8gQ29tbWFuZHMgZG9uJ3QgZ28gdGhyb3VnaCB1bnRpbCBhZHMgaGF2ZSBmaW5pc2hlZCwgc28gd2Ugc3RvcmUgdGhlbSBhbmQgdGhlbiByZXBsYXkgdGhlbVxuICAgICAgICAvLyBvbmNlIHRoZSB2aWRlbyBzdGFydHMuXG4gICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcIm11dGVkXCIgLyogTXV0ZWQgKi8sIHRoaXMuaW50ZXJuYWxTdGF0ZS5tdXRlZCk7XG4gICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcInZvbHVtZVwiIC8qIFZvbHVtZSAqLywgdGhpcy5pbnRlcm5hbFN0YXRlLnZvbHVtZSk7XG4gICAgICAgIGlmICh0aGlzLmludGVybmFsU3RhdGUuY3VycmVudFRpbWUgPiAwKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwic2Vla1wiIC8qIFNlZWsgKi8sIHRoaXMuaW50ZXJuYWxTdGF0ZS5jdXJyZW50VGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGxheVwiIC8qIFBsYXkgKi86XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BhdXNlZCcsIGZhbHNlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGF1c2VcIiAvKiBQYXVzZSAqLzpcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXlpbmcnLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ2J1ZmZlcmluZycsIGZhbHNlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGxheWluZ1wiIC8qIFBsYXlpbmcgKi86XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXlpbmcnLCB0cnVlKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgnYnVmZmVyaW5nJywgZmFsc2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ2aWRlb19lbmRcIiAvKiBWaWRlb0VuZCAqLzpcbiAgICAgICAgaWYgKHRoaXMubG9vcCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwicGxheVwiIC8qIFBsYXkgKi8pO1xuICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tFbmRlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInRpbWV1cGRhdGVcIiAvKiBUaW1lVXBkYXRlICovOlxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50VGltZScsIHBhcnNlRmxvYXQobXNnLnRpbWUpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidm9sdW1lY2hhbmdlXCIgLyogVm9sdW1lQ2hhbmdlICovOlxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdtdXRlZCcsIG1zZy5tdXRlZCA9PT0gJ3RydWUnKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgndm9sdW1lJywgTWF0aC5mbG9vcihwYXJzZUZsb2F0KG1zZy52b2x1bWUpICogMTAwKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInNlZWtpbmdcIiAvKiBTZWVraW5nICovOlxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50VGltZScsIHBhcnNlRmxvYXQobXNnLnRpbWUpKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgnc2Vla2luZycsIHRydWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzZWVrZWRcIiAvKiBTZWVrZWQgKi86XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRUaW1lJywgcGFyc2VGbG9hdChtc2cudGltZSkpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdzZWVraW5nJywgZmFsc2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ3YWl0aW5nXCIgLyogV2FpdGluZyAqLzpcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgnYnVmZmVyaW5nJywgdHJ1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInByb2dyZXNzXCIgLyogUHJvZ3Jlc3MgKi86XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ2J1ZmZlcmVkJywgcGFyc2VGbG9hdChtc2cudGltZSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkdXJhdGlvbmNoYW5nZVwiIC8qIER1cmF0aW9uQ2hhbmdlICovOlxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdkdXJhdGlvbicsIHBhcnNlRmxvYXQobXNnLmR1cmF0aW9uKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInF1YWxpdGllc2F2YWlsYWJsZVwiIC8qIFF1YWxpdGllc0F2YWlsYWJsZSAqLzpcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tRdWFsaXRpZXMnLCBtc2cucXVhbGl0aWVzLm1hcCgocSkgPT4gYCR7cX1wYCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJxdWFsaXR5Y2hhbmdlXCIgLyogUXVhbGl0eUNoYW5nZSAqLzpcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tRdWFsaXR5JywgYCR7bXNnLnF1YWxpdHl9cGApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJmdWxsc2NyZWVuY2hhbmdlXCIgLyogRnVsbHNjcmVlbkNoYW5nZSAqLzpcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgnaXNGdWxsc2NyZWVuQWN0aXZlJywgbXNnLmZ1bGxzY3JlZW4gPT09ICd0cnVlJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVycm9yXCIgLyogRXJyb3IgKi86XG4gICAgICAgIHRoaXMudm1FcnJvci5lbWl0KG1zZy5lcnJvcik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGdldEFkYXB0ZXIoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRwKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgY2FuUGxheVJlZ2V4ID0gLyg/OmRhaVxcLmx5fGRhaWx5bW90aW9ufGRhaWx5bW90aW9uXFwuY29tKVxcLyg/OnZpZGVvXFwvfGVtYmVkXFwvfCkoPzp2aWRlb1xcL3wpKCg/OlxcdykrKS87XG4gICAgICByZXR1cm4ge1xuICAgICAgICBnZXRJbnRlcm5hbFBsYXllcjogKCkgPT4gX19hd2FpdGVyJHAodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0aGlzLmVtYmVkOyB9KSxcbiAgICAgICAgcGxheTogKCkgPT4gX19hd2FpdGVyJHAodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwicGxheVwiIC8qIFBsYXkgKi8pO1xuICAgICAgICB9KSxcbiAgICAgICAgcGF1c2U6ICgpID0+IF9fYXdhaXRlciRwKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcInBhdXNlXCIgLyogUGF1c2UgKi8pO1xuICAgICAgICB9KSxcbiAgICAgICAgY2FuUGxheTogKHR5cGUpID0+IF9fYXdhaXRlciRwKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gaXNTdHJpbmcodHlwZSkgJiYgY2FuUGxheVJlZ2V4LnRlc3QodHlwZSk7IH0pLFxuICAgICAgICBzZXRDdXJyZW50VGltZTogKHRpbWUpID0+IF9fYXdhaXRlciRwKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIGlmICh0aW1lICE9PSB0aGlzLmludGVybmFsU3RhdGUuY3VycmVudFRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5jdXJyZW50VGltZSA9IHRpbWU7XG4gICAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJzZWVrXCIgLyogU2VlayAqLywgdGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgc2V0TXV0ZWQ6IChtdXRlZCkgPT4gX19hd2FpdGVyJHAodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLm11dGVkID0gbXV0ZWQ7XG4gICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwibXV0ZWRcIiAvKiBNdXRlZCAqLywgbXV0ZWQpO1xuICAgICAgICB9KSxcbiAgICAgICAgc2V0Vm9sdW1lOiAodm9sdW1lKSA9PiBfX2F3YWl0ZXIkcCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB0aGlzLmludGVybmFsU3RhdGUudm9sdW1lID0gdm9sdW1lIC8gMTAwO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ3ZvbHVtZScsIHZvbHVtZSk7XG4gICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwidm9sdW1lXCIgLyogVm9sdW1lICovLCB2b2x1bWUgLyAxMDApO1xuICAgICAgICB9KSxcbiAgICAgICAgY2FuU2V0UGxheWJhY2tRdWFsaXR5OiAoKSA9PiBfX2F3YWl0ZXIkcCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIHRydWU7IH0pLFxuICAgICAgICBzZXRQbGF5YmFja1F1YWxpdHk6IChxdWFsaXR5KSA9PiBfX2F3YWl0ZXIkcCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJxdWFsaXR5XCIgLyogUXVhbGl0eSAqLywgcXVhbGl0eS5zbGljZSgwLCAtMSkpO1xuICAgICAgICB9KSxcbiAgICAgICAgY2FuU2V0RnVsbHNjcmVlbjogKCkgPT4gX19hd2FpdGVyJHAodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0cnVlOyB9KSxcbiAgICAgICAgZW50ZXJGdWxsc2NyZWVuOiAoKSA9PiBfX2F3YWl0ZXIkcCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJmdWxsc2NyZWVuXCIgLyogRnVsbHNjcmVlbiAqLywgdHJ1ZSk7XG4gICAgICAgIH0pLFxuICAgICAgICBleGl0RnVsbHNjcmVlbjogKCkgPT4gX19hd2FpdGVyJHAodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwiZnVsbHNjcmVlblwiIC8qIEZ1bGxzY3JlZW4gKi8sIGZhbHNlKTtcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJ2bS1lbWJlZFwiLCB7IGVtYmVkU3JjOiB0aGlzLmVtYmVkU3JjLCBtZWRpYVRpdGxlOiB0aGlzLm1lZGlhVGl0bGUsIG9yaWdpbjogdGhpcy5nZXRPcmlnaW4oKSwgcGFyYW1zOiB0aGlzLmJ1aWxkUGFyYW1zKCksIGRlY29kZXI6IGRlY29kZVF1ZXJ5U3RyaW5nLCBwcmVjb25uZWN0aW9uczogdGhpcy5nZXRQcmVjb25uZWN0aW9ucygpLCBvblZtRW1iZWRNZXNzYWdlOiB0aGlzLm9uRW1iZWRNZXNzYWdlLmJpbmQodGhpcyksIG9uVm1FbWJlZFNyY0NoYW5nZTogdGhpcy5vbkVtYmVkU3JjQ2hhbmdlLmJpbmQodGhpcyksIHJlZjogKGVsKSA9PiB7XG4gICAgICAgIHRoaXMuZW1iZWQgPSBlbDtcbiAgICAgIH0gfSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJ2aWRlb0lkXCI6IFtcIm9uVmlkZW9JZENoYW5nZVwiXSxcbiAgICBcImNvbnRyb2xzXCI6IFtcIm9uQ29udHJvbHNDaGFuZ2VcIl0sXG4gICAgXCJwb3N0ZXJcIjogW1wib25DdXN0b21Qb3N0ZXJDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gZGFpbHltb3Rpb25Dc3M7IH1cbn07XG5cbmNvbnN0IGRhc2hDc3MgPSBcIjpob3N0e3otaW5kZXg6dmFyKC0tdm0tbWVkaWEtei1pbmRleCl9XCI7XG5cbnZhciBfX2F3YWl0ZXIkbyA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuY29uc3QgRGFzaCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy52bUxvYWRTdGFydCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1Mb2FkU3RhcnRcIiwgNyk7XG4gICAgdGhpcy52bUVycm9yID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUVycm9yXCIsIDcpO1xuICAgIHRoaXMudGV4dFRyYWNrc0Rpc3Bvc2FsID0gbmV3IERpc3Bvc2FsKCk7XG4gICAgdGhpcy5oYXNBdHRhY2hlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFRoZSBOUE0gcGFja2FnZSB2ZXJzaW9uIG9mIHRoZSBgZGFzaGpzYCBsaWJyYXJ5IHRvIGRvd25sb2FkIGFuZCB1c2UuXG4gICAgICovXG4gICAgdGhpcy52ZXJzaW9uID0gJ2xhdGVzdCc7XG4gICAgLyoqXG4gICAgICogVGhlIGBkYXNoanNgIGNvbmZpZ3VyYXRpb24uXG4gICAgICovXG4gICAgdGhpcy5jb25maWcgPSB7fTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5hdXRvcGxheSA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIHRoaXMucHJlbG9hZCA9ICdtZXRhZGF0YSc7XG4gICAgLyoqXG4gICAgICogQXJlIHRleHQgdHJhY2tzIGVuYWJsZWQgYnkgZGVmYXVsdC5cbiAgICAgKi9cbiAgICB0aGlzLmVuYWJsZVRleHRUcmFja3NCeURlZmF1bHQgPSB0cnVlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MgPSB0cnVlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSA9IHRydWU7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuY3VycmVudFRleHRUcmFjayA9IC0xO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUHJvdmlkZXJDb25uZWN0KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFtcbiAgICAgICdhdXRvcGxheScsXG4gICAgICAnc2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrcycsXG4gICAgICAnaXNUZXh0VHJhY2tWaXNpYmxlJyxcbiAgICAgICdjdXJyZW50VGV4dFRyYWNrJyxcbiAgICBdKTtcbiAgfVxuICBvblNyY0NoYW5nZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCF0aGlzLmhhc0F0dGFjaGVkKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMudm1Mb2FkU3RhcnQuZW1pdCgpO1xuICAgIChfYSA9IHRoaXMuZGFzaCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmF0dGFjaFNvdXJjZSh0aGlzLnNyYyk7XG4gIH1cbiAgb25TaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzKCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAodGhpcy5zaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzKSB7XG4gICAgICB0aGlzLnRleHRUcmFja3NEaXNwb3NhbC5lbXB0eSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuaGlkZUN1cnJlbnRUZXh0VHJhY2soKTtcbiAgICB9XG4gICAgKF9hID0gdGhpcy5kYXNoKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW5hYmxlRm9yY2VkVGV4dFN0cmVhbWluZyghdGhpcy5zaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzKTtcbiAgfVxuICBvblRleHRUcmFja0NoYW5nZSgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmICghdGhpcy5zaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzIHx8IGlzVW5kZWZpbmVkKHRoaXMuZGFzaCkpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5kYXNoLnNldFRleHRUcmFjayghdGhpcy5pc1RleHRUcmFja1Zpc2libGUgPyAtMSA6IHRoaXMuY3VycmVudFRleHRUcmFjayk7XG4gICAgaWYgKCF0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSkge1xuICAgICAgY29uc3QgdHJhY2sgPSBBcnJheS5mcm9tKChfYiA9IChfYSA9IHRoaXMubWVkaWFFbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRleHRUcmFja3MpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdKVt0aGlzLmN1cnJlbnRUZXh0VHJhY2tdO1xuICAgICAgaWYgKCh0cmFjayA9PT0gbnVsbCB8fCB0cmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogdHJhY2subW9kZSkgPT09ICdoaWRkZW4nKVxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50VGV4dFRyYWNrJywgLTEpO1xuICAgIH1cbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmRpc3BhdGNoID0gY3JlYXRlUHJvdmlkZXJEaXNwYXRjaGVyKHRoaXMpO1xuICAgIGlmICh0aGlzLm1lZGlhRWwpXG4gICAgICB0aGlzLnNldHVwRGFzaCgpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMudGV4dFRyYWNrc0Rpc3Bvc2FsLmVtcHR5KCk7XG4gICAgdGhpcy5kZXN0cm95RGFzaCgpO1xuICB9XG4gIHNldHVwRGFzaCgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJG8odGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmxpYlNyYyB8fFxuICAgICAgICAgIGBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2Rhc2hqc0Ake3RoaXMudmVyc2lvbn0vZGlzdC9kYXNoLmFsbC5taW4uanNgO1xuICAgICAgICBjb25zdCBEYXNoU0RLID0gKHlpZWxkIGxvYWRTREsodXJsLCAnZGFzaGpzJykpO1xuICAgICAgICB0aGlzLmRhc2ggPSBEYXNoU0RLLk1lZGlhUGxheWVyKHRoaXMuY29uZmlnKS5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5kYXNoLmluaXRpYWxpemUodGhpcy5tZWRpYUVsLCBudWxsLCB0aGlzLmF1dG9wbGF5KTtcbiAgICAgICAgdGhpcy5kYXNoLnNldFRleHREZWZhdWx0RW5hYmxlZCh0aGlzLmVuYWJsZVRleHRUcmFja3NCeURlZmF1bHQpO1xuICAgICAgICB0aGlzLmRhc2guZW5hYmxlRm9yY2VkVGV4dFN0cmVhbWluZyghdGhpcy5zaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzKTtcbiAgICAgICAgdGhpcy5kYXNoLm9uKERhc2hTREsuTWVkaWFQbGF5ZXIuZXZlbnRzLlBMQVlCQUNLX01FVEFEQVRBX0xPQURFRCwgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ21lZGlhVHlwZScsIE1lZGlhVHlwZS5WaWRlbyk7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFNyYycsIHRoaXMuc3JjKTtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoTGV2ZWxzKCk7XG4gICAgICAgICAgdGhpcy5saXN0ZW5Ub1RleHRUcmFja3NGb3JDaGFuZ2VzKCk7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tSZWFkeScsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kYXNoLm9uKERhc2hTREsuTWVkaWFQbGF5ZXIuZXZlbnRzLlRSQUNLX0NIQU5HRV9SRU5ERVJFRCwgKCkgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5zaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzKVxuICAgICAgICAgICAgdGhpcy5oaWRlQ3VycmVudFRleHRUcmFjaygpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kYXNoLm9uKERhc2hTREsuTWVkaWFQbGF5ZXIuZXZlbnRzLkVSUk9SLCAoZSkgPT4ge1xuICAgICAgICAgIHRoaXMudm1FcnJvci5lbWl0KGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oYXNBdHRhY2hlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aGlzLnZtRXJyb3IuZW1pdChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBkZXN0cm95RGFzaCgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRvKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgKF9hID0gdGhpcy5kYXNoKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVzZXQoKTtcbiAgICAgIHRoaXMuaGFzQXR0YWNoZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICBvbk1lZGlhRWxDaGFuZ2UoZXZlbnQpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJG8odGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICB0aGlzLmRlc3Ryb3lEYXNoKCk7XG4gICAgICBpZiAoaXNVbmRlZmluZWQoZXZlbnQuZGV0YWlsKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy5tZWRpYUVsID0gZXZlbnQuZGV0YWlsO1xuICAgICAgeWllbGQgdGhpcy5zZXR1cERhc2goKTtcbiAgICB9KTtcbiAgfVxuICBsZXZlbFRvUGxheWJhY2tRdWFsaXR5KGxldmVsKSB7XG4gICAgcmV0dXJuIGxldmVsID09PSAtMSA/ICdBdXRvJyA6IGAke2xldmVsLmhlaWdodH1wYDtcbiAgfVxuICBmaW5kTGV2ZWxJbmRleEZyb21RdWFsaXR5KHF1YWxpdHkpIHtcbiAgICByZXR1cm4gdGhpcy5kYXNoXG4gICAgICAuZ2V0Qml0cmF0ZUluZm9MaXN0Rm9yKCd2aWRlbycpXG4gICAgICAuZmluZEluZGV4KChsZXZlbCkgPT4gdGhpcy5sZXZlbFRvUGxheWJhY2tRdWFsaXR5KGxldmVsKSA9PT0gcXVhbGl0eSk7XG4gIH1cbiAgZGlzcGF0Y2hMZXZlbHMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGxldmVscyA9IHRoaXMuZGFzaC5nZXRCaXRyYXRlSW5mb0xpc3RGb3IoJ3ZpZGVvJyk7XG4gICAgICBpZiAoKGxldmVscyA9PT0gbnVsbCB8fCBsZXZlbHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxldmVscy5sZW5ndGgpID4gMCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1F1YWxpdGllcycsIFtcbiAgICAgICAgICAnQXV0bycsXG4gICAgICAgICAgLi4ubGV2ZWxzLm1hcCh0aGlzLmxldmVsVG9QbGF5YmFja1F1YWxpdHkpLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tRdWFsaXR5JywgJ0F1dG8nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMudm1FcnJvci5lbWl0KGUpO1xuICAgIH1cbiAgfVxuICBsaXN0ZW5Ub1RleHRUcmFja3NGb3JDaGFuZ2VzKCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHRoaXMudGV4dFRyYWNrc0Rpc3Bvc2FsLmVtcHR5KCk7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHRoaXMubWVkaWFFbCkgfHwgdGhpcy5zaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzKVxuICAgICAgcmV0dXJuO1xuICAgIC8vIEluaXQgY3VycmVudCB0cmFjay5cbiAgICBjb25zdCBjdXJyZW50VHJhY2sgPSAoX2MgPSAoKF9iID0gKF9hID0gdGhpcy5kYXNoKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0Q3VycmVudFRyYWNrRm9yKCd0ZXh0JykpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pbmRleCkgLSAxKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAtMTtcbiAgICB0aGlzLmN1cnJlbnRUZXh0VHJhY2sgPSBjdXJyZW50VHJhY2s7XG4gICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFRleHRUcmFjaycsIGN1cnJlbnRUcmFjayk7XG4gICAgdGhpcy50ZXh0VHJhY2tzRGlzcG9zYWwuYWRkKGxpc3Rlbih0aGlzLm1lZGlhRWwudGV4dFRyYWNrcywgJ2NoYW5nZScsIHRoaXMub25UZXh0VHJhY2tzQ2hhbmdlLmJpbmQodGhpcykpKTtcbiAgfVxuICBnZXRUZXh0VHJhY2tzKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oKF9iID0gKF9hID0gdGhpcy5tZWRpYUVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGV4dFRyYWNrcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10pO1xuICB9XG4gIGhpZGVDdXJyZW50VGV4dFRyYWNrKCkge1xuICAgIGNvbnN0IHRleHRUcmFja3MgPSB0aGlzLmdldFRleHRUcmFja3MoKTtcbiAgICBpZiAodGV4dFRyYWNrc1t0aGlzLmN1cnJlbnRUZXh0VHJhY2tdICYmIHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlKSB7XG4gICAgICB0ZXh0VHJhY2tzW3RoaXMuY3VycmVudFRleHRUcmFja10ubW9kZSA9ICdoaWRkZW4nO1xuICAgIH1cbiAgfVxuICBvblRleHRUcmFja3NDaGFuZ2UoKSB7XG4gICAgdGhpcy5oaWRlQ3VycmVudFRleHRUcmFjaygpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ3RleHRUcmFja3MnLCB0aGlzLmdldFRleHRUcmFja3MoKSk7XG4gICAgdGhpcy5kaXNwYXRjaCgnaXNUZXh0VHJhY2tWaXNpYmxlJywgdGhpcy5pc1RleHRUcmFja1Zpc2libGUpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRUZXh0VHJhY2snLCB0aGlzLmN1cnJlbnRUZXh0VHJhY2spO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0QWRhcHRlcigpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkbyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IGFkYXB0ZXIgPSAoX2IgPSAoeWllbGQgKChfYSA9IHRoaXMudmlkZW9Qcm92aWRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldEFkYXB0ZXIoKSkpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB7fTtcbiAgICAgIGNvbnN0IGNhblZpZGVvUHJvdmlkZXJQbGF5ID0gYWRhcHRlci5jYW5QbGF5O1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYWRhcHRlciksIHsgZ2V0SW50ZXJuYWxQbGF5ZXI6ICgpID0+IF9fYXdhaXRlciRvKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gdGhpcy5kYXNoOyB9KSwgY2FuUGxheTogKHR5cGUpID0+IF9fYXdhaXRlciRvKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHZhciBfYztcbiAgICAgICAgICByZXR1cm4gKGlzU3RyaW5nKHR5cGUpICYmIGRhc2hSZWdleC50ZXN0KHR5cGUpKSB8fFxuICAgICAgICAgICAgKChfYyA9IGNhblZpZGVvUHJvdmlkZXJQbGF5ID09PSBudWxsIHx8IGNhblZpZGVvUHJvdmlkZXJQbGF5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYW5WaWRlb1Byb3ZpZGVyUGxheSh0eXBlKSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZmFsc2UpO1xuICAgICAgICB9KSwgY2FuU2V0UGxheWJhY2tRdWFsaXR5OiAoKSA9PiBfX2F3YWl0ZXIkbyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB2YXIgX2QsIF9lO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gKChfZSA9IChfZCA9IHRoaXMuZGFzaCkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmdldEJpdHJhdGVJbmZvTGlzdEZvcigndmlkZW8nKSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmxlbmd0aCkgPiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy52bUVycm9yLmVtaXQoZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KSwgc2V0UGxheWJhY2tRdWFsaXR5OiAocXVhbGl0eSkgPT4gX19hd2FpdGVyJG8odGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLmRhc2gpKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZmluZExldmVsSW5kZXhGcm9tUXVhbGl0eShxdWFsaXR5KTtcbiAgICAgICAgICAgIHRoaXMuZGFzaC51cGRhdGVTZXR0aW5ncyh7XG4gICAgICAgICAgICAgIHN0cmVhbWluZzoge1xuICAgICAgICAgICAgICAgIGFicjoge1xuICAgICAgICAgICAgICAgICAgYXV0b1N3aXRjaEJpdHJhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW86IGluZGV4ID09PSAtMSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IDApXG4gICAgICAgICAgICAgIHRoaXMuZGFzaC5zZXRRdWFsaXR5Rm9yKCd2aWRlbycsIGluZGV4KTtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcHJvdmlkZXIgY2FjaGUuXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1F1YWxpdHknLCBxdWFsaXR5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLCBzZXRDdXJyZW50VGV4dFRyYWNrOiAodHJhY2tJZCkgPT4gX19hd2FpdGVyJG8odGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdmFyIF9mO1xuICAgICAgICAgIGlmICh0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MpIHtcbiAgICAgICAgICAgIGFkYXB0ZXIuc2V0Q3VycmVudFRleHRUcmFjayh0cmFja0lkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUZXh0VHJhY2sgPSB0cmFja0lkO1xuICAgICAgICAgICAgKF9mID0gdGhpcy5kYXNoKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Yuc2V0VGV4dFRyYWNrKHRyYWNrSWQpO1xuICAgICAgICAgICAgdGhpcy5vblRleHRUcmFja3NDaGFuZ2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLCBzZXRUZXh0VHJhY2tWaXNpYmlsaXR5OiAoaXNWaXNpYmxlKSA9PiBfX2F3YWl0ZXIkbyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB2YXIgX2c7XG4gICAgICAgICAgaWYgKHRoaXMuc2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrcykge1xuICAgICAgICAgICAgYWRhcHRlci5zZXRUZXh0VHJhY2tWaXNpYmlsaXR5KGlzVmlzaWJsZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc1RleHRUcmFja1Zpc2libGUgPSBpc1Zpc2libGU7XG4gICAgICAgICAgICAoX2cgPSB0aGlzLmRhc2gpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5lbmFibGVUZXh0KGlzVmlzaWJsZSk7XG4gICAgICAgICAgICB0aGlzLm9uVGV4dFRyYWNrc0NoYW5nZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcInZtLXZpZGVvXCIsIHsgd2lsbEF0dGFjaDogdHJ1ZSwgY3Jvc3NPcmlnaW46IHRoaXMuY3Jvc3NPcmlnaW4sIHByZWxvYWQ6IHRoaXMucHJlbG9hZCwgcG9zdGVyOiB0aGlzLnBvc3RlciwgY29udHJvbHNMaXN0OiB0aGlzLmNvbnRyb2xzTGlzdCwgYXV0b1BpUDogdGhpcy5hdXRvUGlQLCBkaXNhYmxlUGlQOiB0aGlzLmRpc2FibGVQaVAsIGhhc0N1c3RvbVRleHRNYW5hZ2VyOiAhdGhpcy5zaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzLCBkaXNhYmxlUmVtb3RlUGxheWJhY2s6IHRoaXMuZGlzYWJsZVJlbW90ZVBsYXliYWNrLCBtZWRpYVRpdGxlOiB0aGlzLm1lZGlhVGl0bGUsIHJlZjogKGVsKSA9PiB7XG4gICAgICAgIHRoaXMudmlkZW9Qcm92aWRlciA9IGVsO1xuICAgICAgfSB9KSk7XG4gIH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInNyY1wiOiBbXCJvblNyY0NoYW5nZVwiXSxcbiAgICBcImhhc0F0dGFjaGVkXCI6IFtcIm9uU3JjQ2hhbmdlXCJdLFxuICAgIFwic2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrc1wiOiBbXCJvblNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3NcIl0sXG4gICAgXCJpc1RleHRUcmFja1Zpc2libGVcIjogW1wib25UZXh0VHJhY2tDaGFuZ2VcIl0sXG4gICAgXCJjdXJyZW50VGV4dFRyYWNrXCI6IFtcIm9uVGV4dFRyYWNrQ2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGRhc2hDc3M7IH1cbn07XG5cbmNvbnN0IGRibENsaWNrRnVsbHNjcmVlbkNzcyA9IFwiOmhvc3R7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OnZhcigtLXZtLWRibC1jbGljay1mdWxsc2NyZWVuLXotaW5kZXgpfS5kYmxDbGlja0Z1bGxzY3JlZW57ZGlzcGxheTpub25lO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cG9pbnRlci1ldmVudHM6bm9uZX0uZGJsQ2xpY2tGdWxsc2NyZWVuLmVuYWJsZWR7ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9pbnRlci1ldmVudHM6YXV0b31cIjtcblxudmFyIF9fYXdhaXRlciRuID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBEYmxDbGlja0Z1bGxzY3JlZW4gPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMuY2FuU2V0RnVsbHNjcmVlbiA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEJ5IGRlZmF1bHQgdGhpcyBpcyBkaXNhYmxlZCBvbiBtb2JpbGUgdG8gbm90IGludGVyZmVyZSB3aXRoIHBsYXliYWNrLCBzZXQgdGhpcyB0byBgdHJ1ZWAgdG9cbiAgICAgKiBlbmFibGUgaXQuXG4gICAgICovXG4gICAgdGhpcy51c2VPbk1vYmlsZSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzRnVsbHNjcmVlbkFjdGl2ZSA9IHRydWU7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNWaWRlb1ZpZXcgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5YmFja1JlYWR5ID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNNb2JpbGUgPSBmYWxzZTtcbiAgICB0aGlzLmNsaWNrcyA9IDA7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFtcbiAgICAgICdwbGF5YmFja1JlYWR5JyxcbiAgICAgICdpc0Z1bGxzY3JlZW5BY3RpdmUnLFxuICAgICAgJ2lzVmlkZW9WaWV3JyxcbiAgICAgICdpc01vYmlsZScsXG4gICAgXSk7XG4gIH1cbiAgb25QbGF5YmFja1JlYWR5Q2hhbmdlKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkbih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IHBsYXllciA9IHlpZWxkIGZpbmRQbGF5ZXIodGhpcyk7XG4gICAgICBpZiAoaXNVbmRlZmluZWQocGxheWVyKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy5jYW5TZXRGdWxsc2NyZWVuID0geWllbGQgcGxheWVyLmNhblNldEZ1bGxzY3JlZW4oKTtcbiAgICB9KTtcbiAgfVxuICBvblRyaWdnZXJDbGlja1RvUGxheSgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJG4odGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCBbY2xpY2tUb1BsYXldID0gZ2V0Q29tcG9uZW50RnJvbVJlZ2lzdHJ5KHRoaXMsICd2bS1jbGljay10by1wbGF5Jyk7XG4gICAgICB5aWVsZCAoY2xpY2tUb1BsYXkgPT09IG51bGwgfHwgY2xpY2tUb1BsYXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNsaWNrVG9QbGF5LmZvcmNlQ2xpY2soKSk7XG4gICAgfSk7XG4gIH1cbiAgb25Ub2dnbGVGdWxsc2NyZWVuKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkbih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IHBsYXllciA9IHlpZWxkIGZpbmRQbGF5ZXIodGhpcyk7XG4gICAgICBpZiAoaXNVbmRlZmluZWQocGxheWVyKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy5pc0Z1bGxzY3JlZW5BY3RpdmVcbiAgICAgICAgPyBwbGF5ZXIuZXhpdEZ1bGxzY3JlZW4oKVxuICAgICAgICA6IHBsYXllci5lbnRlckZ1bGxzY3JlZW4oKTtcbiAgICB9KTtcbiAgfVxuICBvbkNsaWNrKCkge1xuICAgIHRoaXMuY2xpY2tzICs9IDE7XG4gICAgaWYgKHRoaXMuY2xpY2tzID09PSAxKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuY2xpY2tzID09PSAxKSB7XG4gICAgICAgICAgdGhpcy5vblRyaWdnZXJDbGlja1RvUGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMub25Ub2dnbGVGdWxsc2NyZWVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGlja3MgPSAwO1xuICAgICAgfSwgMzAwKTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiB7XG4gICAgICAgIGRibENsaWNrRnVsbHNjcmVlbjogdHJ1ZSxcbiAgICAgICAgZW5hYmxlZDogdGhpcy5wbGF5YmFja1JlYWR5ICYmXG4gICAgICAgICAgdGhpcy5jYW5TZXRGdWxsc2NyZWVuICYmXG4gICAgICAgICAgdGhpcy5pc1ZpZGVvVmlldyAmJlxuICAgICAgICAgICghdGhpcy5pc01vYmlsZSB8fCB0aGlzLnVzZU9uTW9iaWxlKSxcbiAgICAgIH0sIG9uQ2xpY2s6IHRoaXMub25DbGljay5iaW5kKHRoaXMpIH0pKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwicGxheWJhY2tSZWFkeVwiOiBbXCJvblBsYXliYWNrUmVhZHlDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gZGJsQ2xpY2tGdWxsc2NyZWVuQ3NzOyB9XG59O1xuXG5jb25zdCBkZWZhdWx0Q29udHJvbHNDc3MgPSBcIjpob3N0e2Rpc3BsYXk6Y29udGVudHM7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OnZhcigtLXZtLWNvbnRyb2xzLXotaW5kZXgpfVwiO1xuXG5jb25zdCBEZWZhdWx0Q29udHJvbHMgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBsZW5ndGggaW4gbWlsbGlzZWNvbmRzIHRoYXQgdGhlIGNvbnRyb2xzIGFyZSBhY3RpdmUgZm9yIGJlZm9yZSBmYWRpbmcgb3V0LiBBdWRpbyBwbGF5ZXJzXG4gICAgICogYXJlIG5vdCBlZmZlY3RlZCBieSB0aGlzIHByb3AuXG4gICAgICovXG4gICAgdGhpcy5hY3RpdmVEdXJhdGlvbiA9IDI3NTA7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgY29udHJvbHMgc2hvdWxkIHdhaXQgZm9yIHBsYXliYWNrIHRvIHN0YXJ0IGJlZm9yZSBiZWluZyBzaG93bi4gQXVkaW8gcGxheWVyc1xuICAgICAqIGFyZSBub3QgZWZmZWN0ZWQgYnkgdGhpcyBwcm9wLlxuICAgICAqL1xuICAgIHRoaXMud2FpdEZvclBsYXliYWNrU3RhcnQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjb250cm9scyBzaG91bGQgc2hvdy9oaWRlIHdoZW4gcGF1c2VkLiBBdWRpbyBwbGF5ZXJzIGFyZSBub3QgZWZmZWN0ZWQgYnkgdGhpcyBwcm9wLlxuICAgICAqL1xuICAgIHRoaXMuaGlkZVdoZW5QYXVzZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjb250cm9scyBzaG91bGQgaGlkZSB3aGVuIHRoZSBtb3VzZSBsZWF2ZXMgdGhlIHBsYXllci4gQXVkaW8gcGxheWVycyBhcmUgbm90XG4gICAgICogZWZmZWN0ZWQgYnkgdGhpcyBwcm9wLlxuICAgICAqL1xuICAgIHRoaXMuaGlkZU9uTW91c2VMZWF2ZSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzTW9iaWxlID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNMaXZlID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNBdWRpb1ZpZXcgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc1ZpZGVvVmlldyA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbXG4gICAgICAndGhlbWUnLFxuICAgICAgJ2lzTW9iaWxlJyxcbiAgICAgICdpc0F1ZGlvVmlldycsXG4gICAgICAnaXNWaWRlb1ZpZXcnLFxuICAgICAgJ2lzTGl2ZScsXG4gICAgXSk7XG4gIH1cbiAgYnVpbGRBdWRpb0NvbnRyb2xzKCkge1xuICAgIHJldHVybiAoaChcInZtLWNvbnRyb2xzXCIsIHsgZnVsbFdpZHRoOiB0cnVlIH0sIGgoXCJ2bS1wbGF5YmFjay1jb250cm9sXCIsIHsgdG9vbHRpcERpcmVjdGlvbjogXCJyaWdodFwiIH0pLCBoKFwidm0tdm9sdW1lLWNvbnRyb2xcIiwgbnVsbCksICF0aGlzLmlzTGl2ZSAmJiBoKFwidm0tY3VycmVudC10aW1lXCIsIG51bGwpLCB0aGlzLmlzTGl2ZSAmJiBoKFwidm0tY29udHJvbC1zcGFjZXJcIiwgbnVsbCksICF0aGlzLmlzTGl2ZSAmJiBoKFwidm0tc2NydWJiZXItY29udHJvbFwiLCBudWxsKSwgdGhpcy5pc0xpdmUgJiYgaChcInZtLWxpdmUtaW5kaWNhdG9yXCIsIG51bGwpLCAhdGhpcy5pc0xpdmUgJiYgaChcInZtLWVuZC10aW1lXCIsIG51bGwpLCAhdGhpcy5pc0xpdmUgJiYgaChcInZtLXNldHRpbmdzLWNvbnRyb2xcIiwgeyB0b29sdGlwRGlyZWN0aW9uOiBcImxlZnRcIiB9KSwgaChcImRpdlwiLCB7IHN0eWxlOiB7IG1hcmdpbkxlZnQ6ICcwJywgcGFkZGluZ1JpZ2h0OiAnMnB4JyB9IH0pKSk7XG4gIH1cbiAgYnVpbGRNb2JpbGVWaWRlb0NvbnRyb2xzKCkge1xuICAgIHJldHVybiAoaChGcmFnbWVudCwgbnVsbCwgaChcInZtLXNjcmltXCIsIHsgZ3JhZGllbnQ6IFwidXBcIiB9KSwgaChcInZtLWNvbnRyb2xzXCIsIHsgcGluOiBcInRvcExlZnRcIiwgZnVsbFdpZHRoOiB0cnVlLCBhY3RpdmVEdXJhdGlvbjogdGhpcy5hY3RpdmVEdXJhdGlvbiwgd2FpdEZvclBsYXliYWNrU3RhcnQ6IHRoaXMud2FpdEZvclBsYXliYWNrU3RhcnQsIGhpZGVXaGVuUGF1c2VkOiB0aGlzLmhpZGVXaGVuUGF1c2VkIH0sIGgoXCJ2bS1jb250cm9sLXNwYWNlclwiLCBudWxsKSwgaChcInZtLXZvbHVtZS1jb250cm9sXCIsIG51bGwpLCAhdGhpcy5pc0xpdmUgJiYgaChcInZtLWNhcHRpb24tY29udHJvbFwiLCBudWxsKSwgIXRoaXMuaXNMaXZlICYmIGgoXCJ2bS1zZXR0aW5ncy1jb250cm9sXCIsIG51bGwpLCB0aGlzLmlzTGl2ZSAmJiBoKFwidm0tZnVsbHNjcmVlbi1jb250cm9sXCIsIG51bGwpKSwgaChcInZtLWNvbnRyb2xzXCIsIHsgcGluOiBcImNlbnRlclwiLCBqdXN0aWZ5OiBcImNlbnRlclwiLCBhY3RpdmVEdXJhdGlvbjogdGhpcy5hY3RpdmVEdXJhdGlvbiwgd2FpdEZvclBsYXliYWNrU3RhcnQ6IHRoaXMud2FpdEZvclBsYXliYWNrU3RhcnQsIGhpZGVXaGVuUGF1c2VkOiB0aGlzLmhpZGVXaGVuUGF1c2VkIH0sIGgoXCJ2bS1wbGF5YmFjay1jb250cm9sXCIsIHsgc3R5bGU6IHsgJy0tdm0tY29udHJvbC1zY2FsZSc6ICcxLjMnIH0gfSkpLCAhdGhpcy5pc0xpdmUgJiYgKGgoXCJ2bS1jb250cm9sc1wiLCB7IHBpbjogXCJib3R0b21MZWZ0XCIsIGZ1bGxXaWR0aDogdHJ1ZSwgYWN0aXZlRHVyYXRpb246IHRoaXMuYWN0aXZlRHVyYXRpb24sIHdhaXRGb3JQbGF5YmFja1N0YXJ0OiB0aGlzLndhaXRGb3JQbGF5YmFja1N0YXJ0LCBoaWRlV2hlblBhdXNlZDogdGhpcy5oaWRlV2hlblBhdXNlZCB9LCBoKFwidm0tY29udHJvbC1ncm91cFwiLCBudWxsLCBoKFwidm0tY3VycmVudC10aW1lXCIsIG51bGwpLCBoKFwidm0tY29udHJvbC1zcGFjZXJcIiwgbnVsbCksIGgoXCJ2bS1lbmQtdGltZVwiLCBudWxsKSwgaChcInZtLWZ1bGxzY3JlZW4tY29udHJvbFwiLCBudWxsKSksIGgoXCJ2bS1jb250cm9sLWdyb3VwXCIsIHsgc3BhY2U6IFwidG9wXCIgfSwgaChcInZtLXNjcnViYmVyLWNvbnRyb2xcIiwgbnVsbCkpKSkpKTtcbiAgfVxuICBidWlsZERlc2t0b3BWaWRlb0NvbnRyb2xzKCkge1xuICAgIHJldHVybiAoaChGcmFnbWVudCwgbnVsbCwgdGhpcy50aGVtZSAhPT0gJ2xpZ2h0JyAmJiBoKFwidm0tc2NyaW1cIiwgeyBncmFkaWVudDogXCJ1cFwiIH0pLCBoKFwidm0tY29udHJvbHNcIiwgeyBmdWxsV2lkdGg6IHRydWUsIHBpbjogXCJib3R0b21SaWdodFwiLCBhY3RpdmVEdXJhdGlvbjogdGhpcy5hY3RpdmVEdXJhdGlvbiwgd2FpdEZvclBsYXliYWNrU3RhcnQ6IHRoaXMud2FpdEZvclBsYXliYWNrU3RhcnQsIGhpZGVXaGVuUGF1c2VkOiB0aGlzLmhpZGVXaGVuUGF1c2VkLCBoaWRlT25Nb3VzZUxlYXZlOiB0aGlzLmhpZGVPbk1vdXNlTGVhdmUgfSwgIXRoaXMuaXNMaXZlICYmIChoKFwidm0tY29udHJvbC1ncm91cFwiLCBudWxsLCBoKFwidm0tc2NydWJiZXItY29udHJvbFwiLCBudWxsKSkpLCBoKFwidm0tY29udHJvbC1ncm91cFwiLCB7IHNwYWNlOiB0aGlzLmlzTGl2ZSA/ICdub25lJyA6ICd0b3AnIH0sIGgoXCJ2bS1wbGF5YmFjay1jb250cm9sXCIsIHsgdG9vbHRpcERpcmVjdGlvbjogXCJyaWdodFwiIH0pLCBoKFwidm0tdm9sdW1lLWNvbnRyb2xcIiwgbnVsbCksICF0aGlzLmlzTGl2ZSAmJiBoKFwidm0tdGltZS1wcm9ncmVzc1wiLCBudWxsKSwgaChcInZtLWNvbnRyb2wtc3BhY2VyXCIsIG51bGwpLCAhdGhpcy5pc0xpdmUgJiYgaChcInZtLWNhcHRpb24tY29udHJvbFwiLCBudWxsKSwgdGhpcy5pc0xpdmUgJiYgaChcInZtLWxpdmUtaW5kaWNhdG9yXCIsIG51bGwpLCBoKFwidm0tcGlwLWNvbnRyb2xcIiwgbnVsbCksICF0aGlzLmlzTGl2ZSAmJiBoKFwidm0tc2V0dGluZ3MtY29udHJvbFwiLCBudWxsKSwgaChcInZtLWZ1bGxzY3JlZW4tY29udHJvbFwiLCB7IHRvb2x0aXBEaXJlY3Rpb246IFwibGVmdFwiIH0pKSkpKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuaXNBdWRpb1ZpZXcpXG4gICAgICByZXR1cm4gdGhpcy5idWlsZEF1ZGlvQ29udHJvbHMoKTtcbiAgICBpZiAodGhpcy5pc1ZpZGVvVmlldyAmJiB0aGlzLmlzTW9iaWxlKVxuICAgICAgcmV0dXJuIHRoaXMuYnVpbGRNb2JpbGVWaWRlb0NvbnRyb2xzKCk7XG4gICAgaWYgKHRoaXMuaXNWaWRlb1ZpZXcpXG4gICAgICByZXR1cm4gdGhpcy5idWlsZERlc2t0b3BWaWRlb0NvbnRyb2xzKCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGRlZmF1bHRDb250cm9sc0NzczsgfVxufTtcblxuY29uc3QgZGVmYXVsdFNldHRpbmdzQ3NzID0gXCI6aG9zdHt6LWluZGV4OnZhcigtLXZtLW1lbnUtei1pbmRleCl9XCI7XG5cbnZhciBfX2F3YWl0ZXIkbSA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuY29uc3QgRGVmYXVsdFNldHRpbmdzID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLnRleHRUcmFja3NEaXNwb3NhbCA9IG5ldyBEaXNwb3NhbCgpO1xuICAgIHRoaXMuY2FuU2V0UGxheWJhY2tSYXRlID0gZmFsc2U7XG4gICAgdGhpcy5jYW5TZXRQbGF5YmFja1F1YWxpdHkgPSBmYWxzZTtcbiAgICB0aGlzLmNhblNldFRleHRUcmFjayA9IGZhbHNlO1xuICAgIHRoaXMuY2FuU2V0QXVkaW9UcmFjayA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFBpbnMgdGhlIHNldHRpbmdzIHRvIHRoZSBkZWZpbmVkIHBvc2l0aW9uIGluc2lkZSB0aGUgdmlkZW8gcGxheWVyLiBUaGlzIGhhcyBubyBlZmZlY3Qgd2hlblxuICAgICAqIHRoZSB2aWV3IGlzIG9mIHR5cGUgYGF1ZGlvYCwgaXQgd2lsbCBhbHdheXMgYmUgYGJvdHRvbVJpZ2h0YC5cbiAgICAgKi9cbiAgICB0aGlzLnBpbiA9ICdib3R0b21SaWdodCc7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaTE4biA9IHt9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXliYWNrUmVhZHkgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5YmFja1JhdGUgPSAxO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXliYWNrUmF0ZXMgPSBbMV07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNWaWRlb1ZpZXcgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5YmFja1F1YWxpdGllcyA9IFtdO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnRleHRUcmFja3MgPSBbXTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5jdXJyZW50VGV4dFRyYWNrID0gLTE7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuYXVkaW9UcmFja3MgPSBbXTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5jdXJyZW50QXVkaW9UcmFjayA9IC0xO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSA9IHRydWU7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFtcbiAgICAgICdpMThuJyxcbiAgICAgICdwbGF5YmFja1JlYWR5JyxcbiAgICAgICdwbGF5YmFja1JhdGUnLFxuICAgICAgJ3BsYXliYWNrUmF0ZXMnLFxuICAgICAgJ3BsYXliYWNrUXVhbGl0eScsXG4gICAgICAncGxheWJhY2tRdWFsaXRpZXMnLFxuICAgICAgJ2lzVmlkZW9WaWV3JyxcbiAgICAgICd0ZXh0VHJhY2tzJyxcbiAgICAgICdjdXJyZW50VGV4dFRyYWNrJyxcbiAgICAgICdpc1RleHRUcmFja1Zpc2libGUnLFxuICAgICAgJ2F1ZGlvVHJhY2tzJyxcbiAgICAgICdjdXJyZW50QXVkaW9UcmFjaycsXG4gICAgXSk7XG4gIH1cbiAgb25QbGF5YmFja1JlYWR5KCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkbSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IHBsYXllciA9IHlpZWxkIGZpbmRQbGF5ZXIodGhpcyk7XG4gICAgICBpZiAoaXNVbmRlZmluZWQocGxheWVyKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy5jYW5TZXRQbGF5YmFja1F1YWxpdHkgPSB5aWVsZCBwbGF5ZXIuY2FuU2V0UGxheWJhY2tRdWFsaXR5KCk7XG4gICAgICB0aGlzLmNhblNldFBsYXliYWNrUmF0ZSA9IHlpZWxkIHBsYXllci5jYW5TZXRQbGF5YmFja1JhdGUoKTtcbiAgICB9KTtcbiAgfVxuICBvbkF1ZGlvVHJhY2tzQ2hhbmdlKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJG0odGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCBwbGF5ZXIgPSBnZXRQbGF5ZXJGcm9tUmVnaXN0cnkodGhpcyk7XG4gICAgICB0aGlzLmNhblNldEF1ZGlvVHJhY2sgPSAoX2EgPSAoeWllbGQgKHBsYXllciA9PT0gbnVsbCB8fCBwbGF5ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYXllci5jYW5TZXRBdWRpb1RyYWNrKCkpKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2U7XG4gICAgfSk7XG4gIH1cbiAgb25UZXh0VHJhY2tzQ2hhbmdlKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJG0odGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCBwbGF5ZXIgPSBnZXRQbGF5ZXJGcm9tUmVnaXN0cnkodGhpcyk7XG4gICAgICB0aGlzLmNhblNldFRleHRUcmFjayA9IChfYSA9ICh5aWVsZCAocGxheWVyID09PSBudWxsIHx8IHBsYXllciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWVyLmNhblNldFRleHRUcmFjaygpKSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlO1xuICAgIH0pO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBjcmVhdGVEaXNwYXRjaGVyKHRoaXMpO1xuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgdGhpcy5vblRleHRUcmFja3NDaGFuZ2UoKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLnRleHRUcmFja3NEaXNwb3NhbC5lbXB0eSgpO1xuICB9XG4gIG9uUGxheWJhY2tSYXRlU2VsZWN0KGV2ZW50KSB7XG4gICAgY29uc3QgcmFkaW8gPSBldmVudC50YXJnZXQ7XG4gICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tSYXRlJywgcGFyc2VGbG9hdChyYWRpby52YWx1ZSkpO1xuICB9XG4gIGJ1aWxkUGxheWJhY2tSYXRlU3VibWVudSgpIHtcbiAgICBpZiAodGhpcy5wbGF5YmFja1JhdGVzLmxlbmd0aCA8PSAxIHx8ICF0aGlzLmNhblNldFBsYXliYWNrUmF0ZSkge1xuICAgICAgcmV0dXJuIChoKFwidm0tbWVudS1pdGVtXCIsIHsgbGFiZWw6IHRoaXMuaTE4bi5wbGF5YmFja1JhdGUsIGhpbnQ6IHRoaXMuaTE4bi5ub3JtYWwgfSkpO1xuICAgIH1cbiAgICBjb25zdCBmb3JtYXRSYXRlID0gKHJhdGUpID0+IHJhdGUgPT09IDEgPyB0aGlzLmkxOG4ubm9ybWFsIDogYCR7cmF0ZX1gO1xuICAgIHJldHVybiAoaChcInZtLXN1Ym1lbnVcIiwgeyBsYWJlbDogdGhpcy5pMThuLnBsYXliYWNrUmF0ZSwgaGludDogZm9ybWF0UmF0ZSh0aGlzLnBsYXliYWNrUmF0ZSkgfSwgaChcInZtLW1lbnUtcmFkaW8tZ3JvdXBcIiwgeyB2YWx1ZTogYCR7dGhpcy5wbGF5YmFja1JhdGV9YCwgb25WbUNoZWNrOiB0aGlzLm9uUGxheWJhY2tSYXRlU2VsZWN0LmJpbmQodGhpcykgfSwgdGhpcy5wbGF5YmFja1JhdGVzLm1hcChyYXRlID0+IChoKFwidm0tbWVudS1yYWRpb1wiLCB7IGxhYmVsOiBmb3JtYXRSYXRlKHJhdGUpLCB2YWx1ZTogYCR7cmF0ZX1gIH0pKSkpKSk7XG4gIH1cbiAgb25QbGF5YmFja1F1YWxpdHlTZWxlY3QoZXZlbnQpIHtcbiAgICBjb25zdCByYWRpbyA9IGV2ZW50LnRhcmdldDtcbiAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1F1YWxpdHknLCByYWRpby52YWx1ZSk7XG4gIH1cbiAgYnVpbGRQbGF5YmFja1F1YWxpdHlTdWJtZW51KCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAodGhpcy5wbGF5YmFja1F1YWxpdGllcy5sZW5ndGggPD0gMSB8fCAhdGhpcy5jYW5TZXRQbGF5YmFja1F1YWxpdHkpIHtcbiAgICAgIHJldHVybiAoaChcInZtLW1lbnUtaXRlbVwiLCB7IGxhYmVsOiB0aGlzLmkxOG4ucGxheWJhY2tRdWFsaXR5LCBoaW50OiAoX2EgPSB0aGlzLnBsYXliYWNrUXVhbGl0eSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5pMThuLmF1dG8gfSkpO1xuICAgIH1cbiAgICAvLyBAVE9ETyB0aGlzIGRvZXNuJ3QgYWNjb3VudCBmb3IgYXVkaW8gcXVhbGl0aWVzIHlldC5cbiAgICBjb25zdCBnZXRCYWRnZSA9IChxdWFsaXR5KSA9PiB7XG4gICAgICBjb25zdCB2ZXJ0aWNhbFBpeGVscyA9IHBhcnNlSW50KHF1YWxpdHkuc2xpY2UoMCwgLTEpLCAxMCk7XG4gICAgICBpZiAodmVydGljYWxQaXhlbHMgPj0gMjE2MClcbiAgICAgICAgcmV0dXJuICdVSEQnO1xuICAgICAgaWYgKHZlcnRpY2FsUGl4ZWxzID49IDEwODApXG4gICAgICAgIHJldHVybiAnSEQnO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHJldHVybiAoaChcInZtLXN1Ym1lbnVcIiwgeyBsYWJlbDogdGhpcy5pMThuLnBsYXliYWNrUXVhbGl0eSwgaGludDogdGhpcy5wbGF5YmFja1F1YWxpdHkgfSwgaChcInZtLW1lbnUtcmFkaW8tZ3JvdXBcIiwgeyB2YWx1ZTogdGhpcy5wbGF5YmFja1F1YWxpdHksIG9uVm1DaGVjazogdGhpcy5vblBsYXliYWNrUXVhbGl0eVNlbGVjdC5iaW5kKHRoaXMpIH0sIHRoaXMucGxheWJhY2tRdWFsaXRpZXMubWFwKHF1YWxpdHkgPT4gKGgoXCJ2bS1tZW51LXJhZGlvXCIsIHsgbGFiZWw6IHF1YWxpdHksIHZhbHVlOiBxdWFsaXR5LCBiYWRnZTogZ2V0QmFkZ2UocXVhbGl0eSkgfSkpKSkpKTtcbiAgfVxuICBvblRleHRUcmFja1NlbGVjdChldmVudCkge1xuICAgIGNvbnN0IHJhZGlvID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IHRyYWNrSWQgPSBwYXJzZUludChyYWRpby52YWx1ZSwgMTApO1xuICAgIGNvbnN0IHBsYXllciA9IGdldFBsYXllckZyb21SZWdpc3RyeSh0aGlzKTtcbiAgICBpZiAodHJhY2tJZCA9PT0gLTEpIHtcbiAgICAgIHBsYXllciA9PT0gbnVsbCB8fCBwbGF5ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYXllci5zZXRUZXh0VHJhY2tWaXNpYmlsaXR5KGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcGxheWVyID09PSBudWxsIHx8IHBsYXllciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWVyLnNldFRleHRUcmFja1Zpc2liaWxpdHkodHJ1ZSk7XG4gICAgcGxheWVyID09PSBudWxsIHx8IHBsYXllciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWVyLnNldEN1cnJlbnRUZXh0VHJhY2sodHJhY2tJZCk7XG4gIH1cbiAgYnVpbGRUZXh0VHJhY2tzU3VibWVudSgpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBpZiAodGhpcy50ZXh0VHJhY2tzLmxlbmd0aCA8PSAxIHx8ICF0aGlzLmNhblNldFRleHRUcmFjaykge1xuICAgICAgcmV0dXJuIChoKFwidm0tbWVudS1pdGVtXCIsIHsgbGFiZWw6IHRoaXMuaTE4bi5zdWJ0aXRsZXNPckNjLCBoaW50OiAoX2IgPSAoX2EgPSB0aGlzLnRleHRUcmFja3NbdGhpcy5jdXJyZW50VGV4dFRyYWNrXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhYmVsKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmkxOG4ubm9uZSB9KSk7XG4gICAgfVxuICAgIHJldHVybiAoaChcInZtLXN1Ym1lbnVcIiwgeyBsYWJlbDogdGhpcy5pMThuLnN1YnRpdGxlc09yQ2MsIGhpbnQ6IHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlXG4gICAgICAgID8gKF9jID0gdGhpcy50ZXh0VHJhY2tzW3RoaXMuY3VycmVudFRleHRUcmFja10pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5sYWJlbFxuICAgICAgICA6IHRoaXMuaTE4bi5vZmYgfSwgaChcInZtLW1lbnUtcmFkaW8tZ3JvdXBcIiwgeyB2YWx1ZTogYCR7IXRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlID8gLTEgOiB0aGlzLmN1cnJlbnRUZXh0VHJhY2t9YCwgb25WbUNoZWNrOiB0aGlzLm9uVGV4dFRyYWNrU2VsZWN0LmJpbmQodGhpcykgfSwgW2goXCJ2bS1tZW51LXJhZGlvXCIsIHsgbGFiZWw6IHRoaXMuaTE4bi5vZmYsIHZhbHVlOiBcIi0xXCIgfSldLmNvbmNhdCh0aGlzLnRleHRUcmFja3MubWFwKCh0cmFjaywgaSkgPT4gKGgoXCJ2bS1tZW51LXJhZGlvXCIsIHsgbGFiZWw6IHRyYWNrLmxhYmVsLCB2YWx1ZTogYCR7aX1gIH0pKSkpKSkpO1xuICB9XG4gIG9uQXVkaW9UcmFja1NlbGVjdChldmVudCkge1xuICAgIGNvbnN0IHJhZGlvID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IHRyYWNrSWQgPSBwYXJzZUludChyYWRpby52YWx1ZSwgMTApO1xuICAgIGNvbnN0IHBsYXllciA9IGdldFBsYXllckZyb21SZWdpc3RyeSh0aGlzKTtcbiAgICBwbGF5ZXIgPT09IG51bGwgfHwgcGxheWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbGF5ZXIuc2V0Q3VycmVudEF1ZGlvVHJhY2sodHJhY2tJZCk7XG4gIH1cbiAgYnVpbGRBdWRpb1RyYWNrc01lbnUoKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgaWYgKHRoaXMuYXVkaW9UcmFja3MubGVuZ3RoIDw9IDEgfHwgIXRoaXMuY2FuU2V0QXVkaW9UcmFjaykge1xuICAgICAgcmV0dXJuIChoKFwidm0tbWVudS1pdGVtXCIsIHsgbGFiZWw6IHRoaXMuaTE4bi5hdWRpbywgaGludDogKF9iID0gKF9hID0gdGhpcy5hdWRpb1RyYWNrc1t0aGlzLmN1cnJlbnRBdWRpb1RyYWNrXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhYmVsKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmkxOG4uZGVmYXVsdCB9KSk7XG4gICAgfVxuICAgIHJldHVybiAoaChcInZtLXN1Ym1lbnVcIiwgeyBsYWJlbDogdGhpcy5pMThuLmF1ZGlvLCBoaW50OiAoX2MgPSB0aGlzLmF1ZGlvVHJhY2tzW3RoaXMuY3VycmVudEF1ZGlvVHJhY2tdKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MubGFiZWwgfSwgaChcInZtLW1lbnUtcmFkaW8tZ3JvdXBcIiwgeyB2YWx1ZTogYCR7dGhpcy5jdXJyZW50QXVkaW9UcmFja31gLCBvblZtQ2hlY2s6IHRoaXMub25BdWRpb1RyYWNrU2VsZWN0LmJpbmQodGhpcykgfSwgdGhpcy5hdWRpb1RyYWNrcy5tYXAoKHRyYWNrLCBpKSA9PiAoaChcInZtLW1lbnUtcmFkaW9cIiwgeyBsYWJlbDogdHJhY2subGFiZWwsIHZhbHVlOiBgJHtpfWAgfSkpKSkpKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwidm0tc2V0dGluZ3NcIiwgeyBwaW46IHRoaXMucGluIH0sIHRoaXMuYnVpbGRBdWRpb1RyYWNrc01lbnUoKSwgdGhpcy5idWlsZFBsYXliYWNrUmF0ZVN1Ym1lbnUoKSwgdGhpcy5idWlsZFBsYXliYWNrUXVhbGl0eVN1Ym1lbnUoKSwgdGhpcy5pc1ZpZGVvVmlldyAmJiB0aGlzLmJ1aWxkVGV4dFRyYWNrc1N1Ym1lbnUoKSwgaChcInNsb3RcIiwgbnVsbCkpKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwicGxheWJhY2tSZWFkeVwiOiBbXCJvblBsYXliYWNrUmVhZHlcIiwgXCJvbkF1ZGlvVHJhY2tzQ2hhbmdlXCIsIFwib25UZXh0VHJhY2tzQ2hhbmdlXCJdLFxuICAgIFwiYXVkaW9UcmFja3NcIjogW1wib25BdWRpb1RyYWNrc0NoYW5nZVwiXSxcbiAgICBcInRleHRUcmFja3NcIjogW1wib25UZXh0VHJhY2tzQ2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIGRlZmF1bHRTZXR0aW5nc0NzczsgfVxufTtcblxuY29uc3QgZGVmYXVsdFVpQ3NzID0gXCI6aG9zdHtkaXNwbGF5OmNvbnRlbnRzO3BvaW50ZXItZXZlbnRzOm5vbmV9XCI7XG5cbmNvbnN0IERlZmF1bHRVSSA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgLyoqXG4gICAgICogV2hldGhlciBjbGlja2luZyB0aGUgcGxheWVyIHNob3VsZCBub3QgdG9nZ2xlIHBsYXliYWNrLlxuICAgICAqL1xuICAgIHRoaXMubm9DbGlja1RvUGxheSA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgZG91YmxlIGNsaWNraW5nIHRoZSBwbGF5ZXIgc2hvdWxkIG5vdCB0b2dnbGUgZnVsbHNjcmVlbiBtb2RlLlxuICAgICAqL1xuICAgIHRoaXMubm9EYmxDbGlja0Z1bGxzY3JlZW4gPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjdXN0b20gY2FwdGlvbnMgVUkgc2hvdWxkIG5vdCBiZSBsb2FkZWQuXG4gICAgICovXG4gICAgdGhpcy5ub0NhcHRpb25zID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgY3VzdG9tIHBvc3RlciBVSSBzaG91bGQgbm90IGJlIGxvYWRlZC5cbiAgICAgKi9cbiAgICB0aGlzLm5vUG9zdGVyID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgY3VzdG9tIHNwaW5uZXIgVUkgc2hvdWxkIG5vdCBiZSBsb2FkZWQuXG4gICAgICovXG4gICAgdGhpcy5ub1NwaW5uZXIgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjdXN0b20gZGVmYXVsdCBjb250cm9scyBzaG91bGQgbm90IGJlIGxvYWRlZC5cbiAgICAgKi9cbiAgICB0aGlzLm5vQ29udHJvbHMgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBjdXN0b20gZGVmYXVsdCBzZXR0aW5ncyBtZW51IHNob3VsZCBub3QgYmUgbG9hZGVkLlxuICAgICAqL1xuICAgIHRoaXMubm9TZXR0aW5ncyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGRlZmF1bHQgbG9hZGluZyBzY3JlZW4gc2hvdWxkIG5vdCBiZSBsb2FkZWQuXG4gICAgICovXG4gICAgdGhpcy5ub0xvYWRpbmdTY3JlZW4gPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcInZtLXVpXCIsIG51bGwsICF0aGlzLm5vQ2xpY2tUb1BsYXkgJiYgaChcInZtLWNsaWNrLXRvLXBsYXlcIiwgbnVsbCksICF0aGlzLm5vRGJsQ2xpY2tGdWxsc2NyZWVuICYmIGgoXCJ2bS1kYmwtY2xpY2stZnVsbHNjcmVlblwiLCBudWxsKSwgIXRoaXMubm9DYXB0aW9ucyAmJiBoKFwidm0tY2FwdGlvbnNcIiwgbnVsbCksICF0aGlzLm5vUG9zdGVyICYmIGgoXCJ2bS1wb3N0ZXJcIiwgbnVsbCksICF0aGlzLm5vU3Bpbm5lciAmJiBoKFwidm0tc3Bpbm5lclwiLCBudWxsKSwgIXRoaXMubm9Mb2FkaW5nU2NyZWVuICYmIGgoXCJ2bS1sb2FkaW5nLXNjcmVlblwiLCBudWxsKSwgIXRoaXMubm9Db250cm9scyAmJiBoKFwidm0tZGVmYXVsdC1jb250cm9sc1wiLCBudWxsKSwgIXRoaXMubm9TZXR0aW5ncyAmJiBoKFwidm0tZGVmYXVsdC1zZXR0aW5nc1wiLCBudWxsKSwgaChcInNsb3RcIiwgbnVsbCkpKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gZGVmYXVsdFVpQ3NzOyB9XG59O1xuXG5jbGFzcyBMYXp5TG9hZGVyIHtcbiAgY29uc3RydWN0b3IoZWwsIGF0dHJpYnV0ZXMsIG9uTG9hZCkge1xuICAgIHZhciBfYTtcbiAgICB0aGlzLmVsID0gZWw7XG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICB0aGlzLm9uTG9hZCA9IG9uTG9hZDtcbiAgICB0aGlzLmhhc0xvYWRlZCA9IGZhbHNlO1xuICAgIGlmIChpc05pbCh0aGlzLmVsKSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmludGVyc2VjdGlvbk9icyA9IHRoaXMuY2FuT2JzZXJ2ZUludGVyc2VjdGlvbigpXG4gICAgICA/IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcih0aGlzLm9uSW50ZXJzZWN0aW9uLmJpbmQodGhpcykpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLm11dGF0aW9uT2JzID0gdGhpcy5jYW5PYnNlcnZlTXV0YXRpb25zKClcbiAgICAgID8gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5vbk11dGF0aW9uLmJpbmQodGhpcykpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICAoX2EgPSB0aGlzLm11dGF0aW9uT2JzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub2JzZXJ2ZSh0aGlzLmVsLCB7XG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgYXR0cmlidXRlRmlsdGVyOiB0aGlzLmF0dHJpYnV0ZXMsXG4gICAgfSk7XG4gICAgdGhpcy5sYXp5TG9hZCgpO1xuICB9XG4gIGRpZExvYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzTG9hZGVkO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICAoX2EgPSB0aGlzLmludGVyc2VjdGlvbk9icykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc2Nvbm5lY3QoKTtcbiAgICAoX2IgPSB0aGlzLm11dGF0aW9uT2JzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGlzY29ubmVjdCgpO1xuICB9XG4gIGNhbk9ic2VydmVJbnRlcnNlY3Rpb24oKSB7XG4gICAgcmV0dXJuIElTX0NMSUVOVCAmJiB3aW5kb3cuSW50ZXJzZWN0aW9uT2JzZXJ2ZXI7XG4gIH1cbiAgY2FuT2JzZXJ2ZU11dGF0aW9ucygpIHtcbiAgICByZXR1cm4gSVNfQ0xJRU5UICYmIHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyO1xuICB9XG4gIGxhenlMb2FkKCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAodGhpcy5jYW5PYnNlcnZlSW50ZXJzZWN0aW9uKCkpIHtcbiAgICAgIChfYSA9IHRoaXMuaW50ZXJzZWN0aW9uT2JzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub2JzZXJ2ZSh0aGlzLmVsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmxvYWQoKTtcbiAgICB9XG4gIH1cbiAgb25JbnRlcnNlY3Rpb24oZW50cmllcykge1xuICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICBpZiAoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPiAwIHx8IGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICB0aGlzLmludGVyc2VjdGlvbk9icy51bm9ic2VydmUoZW50cnkudGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBvbk11dGF0aW9uKCkge1xuICAgIGlmICh0aGlzLmhhc0xvYWRlZClcbiAgICAgIHRoaXMubG9hZCgpO1xuICB9XG4gIGdldExhenlFbGVtZW50cygpIHtcbiAgICBjb25zdCByb290ID0gIWlzTmlsKHRoaXMuZWwuc2hhZG93Um9vdCkgPyB0aGlzLmVsLnNoYWRvd1Jvb3QgOiB0aGlzLmVsO1xuICAgIHJldHVybiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sYXp5Jyk7XG4gIH1cbiAgbG9hZCgpIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIHRoaXMuZ2V0TGF6eUVsZW1lbnRzKCkuZm9yRWFjaCh0aGlzLmxvYWRFbC5iaW5kKHRoaXMpKTtcbiAgICB9KTtcbiAgfVxuICBsb2FkRWwoZWwpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIChfYSA9IHRoaXMuaW50ZXJzZWN0aW9uT2JzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudW5vYnNlcnZlKGVsKTtcbiAgICB0aGlzLmhhc0xvYWRlZCA9IHRydWU7XG4gICAgKF9iID0gdGhpcy5vbkxvYWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHRoaXMsIGVsKTtcbiAgfVxufVxuXG5jb25zdCBlbWJlZENzcyA9IFwiOmhvc3R7ei1pbmRleDp2YXIoLS12bS1tZWRpYS16LWluZGV4KX1pZnJhbWV7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO2JvcmRlcjowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7dXNlci1zZWxlY3Q6bm9uZX1cIjtcblxudmFyIF9fYXdhaXRlciRsID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5sZXQgaWRDb3VudCQ0ID0gMDtcbmNvbnN0IGNvbm5lY3RlZCA9IG5ldyBTZXQoKTtcbmNvbnN0IEVtYmVkID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLnZtRW1iZWRTcmNDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtRW1iZWRTcmNDaGFuZ2VcIiwgMyk7XG4gICAgdGhpcy52bUVtYmVkTWVzc2FnZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1FbWJlZE1lc3NhZ2VcIiwgMyk7XG4gICAgdGhpcy52bUVtYmVkTG9hZGVkID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUVtYmVkTG9hZGVkXCIsIDMpO1xuICAgIHRoaXMuc3JjV2l0aFBhcmFtcyA9ICcnO1xuICAgIHRoaXMuaGFzRW50ZXJlZFZpZXdwb3J0ID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQSBVUkwgdGhhdCB3aWxsIGxvYWQgdGhlIGV4dGVybmFsIHBsYXllciBhbmQgbWVkaWEgKEVnOiBodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9EeVRDT3dCMERWdykuXG4gICAgICovXG4gICAgdGhpcy5lbWJlZFNyYyA9ICcnO1xuICAgIC8qKlxuICAgICAqIFRoZSB0aXRsZSBvZiB0aGUgY3VycmVudCBtZWRpYSBzbyBpdCBjYW4gYmUgc2V0IG9uIHRoZSBpbm5lciBgaWZyYW1lYCBmb3Igc2NyZWVuIHJlYWRlcnMuXG4gICAgICovXG4gICAgdGhpcy5tZWRpYVRpdGxlID0gJyc7XG4gICAgLyoqXG4gICAgICogVGhlIHBhcmFtZXRlcnMgdG8gcGFzcyB0byB0aGUgZW1iZWRkZWQgcGxheWVyIHdoaWNoIGFyZSBhcHBlbmRlZCB0byB0aGUgYGVtYmVkU3JjYCBwcm9wLiBUaGVzZVxuICAgICAqIGNhbiBiZSBwYXNzZWQgaW4gYXMgYSBxdWVyeSBzdHJpbmcgb3Igb2JqZWN0LlxuICAgICAqL1xuICAgIHRoaXMucGFyYW1zID0gJyc7XG4gICAgLyoqXG4gICAgICogQSBjb2xsZWN0aW9uIG9mIFVSTHMgdG8gdGhhdCB0aGUgYnJvd3NlciBzaG91bGQgaW1tZWRpYXRlbHkgc3RhcnQgZXN0YWJsaXNoaW5nIGEgY29ubmVjdGlvblxuICAgICAqIHdpdGguXG4gICAgICovXG4gICAgdGhpcy5wcmVjb25uZWN0aW9ucyA9IFtdO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgfVxuICBvbkVtYmVkU3JjQ2hhbmdlKCkge1xuICAgIHRoaXMuc3JjV2l0aFBhcmFtcyA9XG4gICAgICBpc1N0cmluZyh0aGlzLmVtYmVkU3JjKSAmJiB0aGlzLmVtYmVkU3JjLmxlbmd0aCA+IDBcbiAgICAgICAgPyBhcHBlbmRQYXJhbXNUb1VSTCh0aGlzLmVtYmVkU3JjLCB0aGlzLnBhcmFtcylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gIH1cbiAgc3JjV2l0aFBhcmFtc0NoYW5nZSgpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodGhpcy5zcmNXaXRoUGFyYW1zKSkge1xuICAgICAgdGhpcy52bUVtYmVkU3JjQ2hhbmdlLmVtaXQodGhpcy5zcmNXaXRoUGFyYW1zKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmhhc0VudGVyZWRWaWV3cG9ydCAmJiAhY29ubmVjdGVkLmhhcyh0aGlzLmVtYmVkU3JjKSkge1xuICAgICAgaWYgKHByZWNvbm5lY3QodGhpcy5zcmNXaXRoUGFyYW1zKSlcbiAgICAgICAgY29ubmVjdGVkLmFkZCh0aGlzLmVtYmVkU3JjKTtcbiAgICB9XG4gICAgdGhpcy52bUVtYmVkU3JjQ2hhbmdlLmVtaXQodGhpcy5zcmNXaXRoUGFyYW1zKTtcbiAgfVxuICBwcmVjb25uZWN0aW9uc0NoYW5nZSgpIHtcbiAgICBpZiAodGhpcy5oYXNFbnRlcmVkVmlld3BvcnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5wcmVjb25uZWN0aW9uc1xuICAgICAgLmZpbHRlcihjb25uZWN0aW9uID0+ICFjb25uZWN0ZWQuaGFzKGNvbm5lY3Rpb24pKVxuICAgICAgLmZvckVhY2goY29ubmVjdGlvbiA9PiB7XG4gICAgICBpZiAocHJlY29ubmVjdChjb25uZWN0aW9uKSlcbiAgICAgICAgY29ubmVjdGVkLmFkZChjb25uZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmxhenlMb2FkZXIgPSBuZXcgTGF6eUxvYWRlcih0aGlzLmhvc3QsIFsnZGF0YS1zcmMnXSwgZWwgPT4ge1xuICAgICAgY29uc3Qgc3JjID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpO1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcbiAgICAgIGlmICghaXNOdWxsKHNyYykpXG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnc3JjJywgc3JjKTtcbiAgICB9KTtcbiAgICB0aGlzLm9uRW1iZWRTcmNDaGFuZ2UoKTtcbiAgICB0aGlzLmdlbklmcmFtZUlkKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5sYXp5TG9hZGVyLmRlc3Ryb3koKTtcbiAgfVxuICBvbldpbmRvd01lc3NhZ2UoZSkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IG9yaWdpbk1hdGNoZXMgPSBlLnNvdXJjZSA9PT0gKChfYSA9IHRoaXMuaWZyYW1lKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGVudFdpbmRvdykgJiZcbiAgICAgICghaXNTdHJpbmcodGhpcy5vcmlnaW4pIHx8IHRoaXMub3JpZ2luID09PSBlLm9yaWdpbik7XG4gICAgaWYgKCFvcmlnaW5NYXRjaGVzKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSAoX2MgPSAoX2IgPSB0aGlzLmRlY29kZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHRoaXMsIGUuZGF0YSkpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGUuZGF0YTtcbiAgICBpZiAobWVzc2FnZSlcbiAgICAgIHRoaXMudm1FbWJlZE1lc3NhZ2UuZW1pdChtZXNzYWdlKTtcbiAgfVxuICAvKipcbiAgICogUG9zdHMgYSBtZXNzYWdlIHRvIHRoZSBlbWJlZGRlZCBtZWRpYSBwbGF5ZXIuXG4gICAqL1xuICBwb3N0TWVzc2FnZShtZXNzYWdlLCB0YXJnZXQpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkbCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIChfYiA9IChfYSA9IHRoaXMuaWZyYW1lKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGVudFdpbmRvdykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpLCB0YXJnZXQgIT09IG51bGwgJiYgdGFyZ2V0ICE9PSB2b2lkIDAgPyB0YXJnZXQgOiAnKicpO1xuICAgIH0pO1xuICB9XG4gIG9uTG9hZCgpIHtcbiAgICB0aGlzLnZtRW1iZWRMb2FkZWQuZW1pdCgpO1xuICB9XG4gIGdlbklmcmFtZUlkKCkge1xuICAgIGlkQ291bnQkNCArPSAxO1xuICAgIHRoaXMuaWQgPSBgdm0taWZyYW1lLSR7aWRDb3VudCQ0fWA7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImlmcmFtZVwiLCB7IGlkOiB0aGlzLmlkLCBjbGFzczogXCJsYXp5XCIsIHRpdGxlOiB0aGlzLm1lZGlhVGl0bGUsIFwiZGF0YS1zcmNcIjogdGhpcy5zcmNXaXRoUGFyYW1zLCBhbGxvd0Z1bGxTY3JlZW46IHRydWUsIGFsbG93OiBcImF1dG9wbGF5OyBlbmNyeXB0ZWQtbWVkaWE7IHBpY3R1cmUtaW4tcGljdHVyZTtcIiwgb25Mb2FkOiB0aGlzLm9uTG9hZC5iaW5kKHRoaXMpLCByZWY6IChlbCkgPT4ge1xuICAgICAgICB0aGlzLmlmcmFtZSA9IGVsO1xuICAgICAgfSB9KSk7XG4gIH1cbiAgZ2V0IGhvc3QoKSB7IHJldHVybiB0aGlzOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJlbWJlZFNyY1wiOiBbXCJvbkVtYmVkU3JjQ2hhbmdlXCJdLFxuICAgIFwicGFyYW1zXCI6IFtcIm9uRW1iZWRTcmNDaGFuZ2VcIl0sXG4gICAgXCJzcmNXaXRoUGFyYW1zXCI6IFtcInNyY1dpdGhQYXJhbXNDaGFuZ2VcIl0sXG4gICAgXCJwcmVjb25uZWN0aW9uc1wiOiBbXCJwcmVjb25uZWN0aW9uc0NoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBlbWJlZENzczsgfVxufTtcblxuY29uc3QgZW5kVGltZUNzcyA9IFwiOmhvc3R7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfVwiO1xuXG5jb25zdCBFbmRUaW1lID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5kdXJhdGlvbiA9IC0xO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmkxOG4gPSB7fTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB0aW1lIHNob3VsZCBhbHdheXMgc2hvdyB0aGUgaG91cnMgdW5pdCwgZXZlbiBpZiB0aGUgdGltZSBpcyBsZXNzIHRoYW5cbiAgICAgKiAxIGhvdXIgKGVnOiBgMjA6MzVgIC0+IGAwMDoyMDozNWApLlxuICAgICAqL1xuICAgIHRoaXMuYWx3YXlzU2hvd0hvdXJzID0gZmFsc2U7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFsnZHVyYXRpb24nLCAnaTE4biddKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwidm0tdGltZVwiLCB7IGxhYmVsOiB0aGlzLmkxOG4uZHVyYXRpb24sIHNlY29uZHM6IE1hdGgubWF4KDAsIHRoaXMuZHVyYXRpb24pLCBhbHdheXNTaG93SG91cnM6IHRoaXMuYWx3YXlzU2hvd0hvdXJzIH0pKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gZW5kVGltZUNzczsgfVxufTtcblxudmFyIGtleSA9IHtcclxuICAgIGZ1bGxzY3JlZW5FbmFibGVkOiAwLFxyXG4gICAgZnVsbHNjcmVlbkVsZW1lbnQ6IDEsXHJcbiAgICByZXF1ZXN0RnVsbHNjcmVlbjogMixcclxuICAgIGV4aXRGdWxsc2NyZWVuOiAzLFxyXG4gICAgZnVsbHNjcmVlbmNoYW5nZTogNCxcclxuICAgIGZ1bGxzY3JlZW5lcnJvcjogNSxcclxuICAgIGZ1bGxzY3JlZW46IDZcclxufTtcclxudmFyIHdlYmtpdCA9IFtcclxuICAgICd3ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCcsXHJcbiAgICAnd2Via2l0RnVsbHNjcmVlbkVsZW1lbnQnLFxyXG4gICAgJ3dlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJyxcclxuICAgICd3ZWJraXRFeGl0RnVsbHNjcmVlbicsXHJcbiAgICAnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsXHJcbiAgICAnd2Via2l0ZnVsbHNjcmVlbmVycm9yJyxcclxuICAgICctd2Via2l0LWZ1bGwtc2NyZWVuJyxcclxuXTtcclxudmFyIG1veiA9IFtcclxuICAgICdtb3pGdWxsU2NyZWVuRW5hYmxlZCcsXHJcbiAgICAnbW96RnVsbFNjcmVlbkVsZW1lbnQnLFxyXG4gICAgJ21velJlcXVlc3RGdWxsU2NyZWVuJyxcclxuICAgICdtb3pDYW5jZWxGdWxsU2NyZWVuJyxcclxuICAgICdtb3pmdWxsc2NyZWVuY2hhbmdlJyxcclxuICAgICdtb3pmdWxsc2NyZWVuZXJyb3InLFxyXG4gICAgJy1tb3otZnVsbC1zY3JlZW4nLFxyXG5dO1xyXG52YXIgbXMgPSBbXHJcbiAgICAnbXNGdWxsc2NyZWVuRW5hYmxlZCcsXHJcbiAgICAnbXNGdWxsc2NyZWVuRWxlbWVudCcsXHJcbiAgICAnbXNSZXF1ZXN0RnVsbHNjcmVlbicsXHJcbiAgICAnbXNFeGl0RnVsbHNjcmVlbicsXHJcbiAgICAnTVNGdWxsc2NyZWVuQ2hhbmdlJyxcclxuICAgICdNU0Z1bGxzY3JlZW5FcnJvcicsXHJcbiAgICAnLW1zLWZ1bGxzY3JlZW4nLFxyXG5dO1xyXG4vLyBzbyBpdCBkb2Vzbid0IHRocm93IGlmIG5vIHdpbmRvdyBvciBkb2N1bWVudFxyXG52YXIgZG9jdW1lbnQkMSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmRvY3VtZW50IDoge307XHJcbnZhciB2ZW5kb3IgPSAoKCdmdWxsc2NyZWVuRW5hYmxlZCcgaW4gZG9jdW1lbnQkMSAmJiBPYmplY3Qua2V5cyhrZXkpKSB8fFxyXG4gICAgKHdlYmtpdFswXSBpbiBkb2N1bWVudCQxICYmIHdlYmtpdCkgfHxcclxuICAgIChtb3pbMF0gaW4gZG9jdW1lbnQkMSAmJiBtb3opIHx8XHJcbiAgICAobXNbMF0gaW4gZG9jdW1lbnQkMSAmJiBtcykgfHxcclxuICAgIFtdKTtcclxudmFyIGZzY3JlZW4gPSB7XHJcbiAgICByZXF1ZXN0RnVsbHNjcmVlbjogZnVuY3Rpb24gKGVsZW1lbnQpIHsgcmV0dXJuIGVsZW1lbnRbdmVuZG9yW2tleS5yZXF1ZXN0RnVsbHNjcmVlbl1dKCk7IH0sXHJcbiAgICByZXF1ZXN0RnVsbHNjcmVlbkZ1bmN0aW9uOiBmdW5jdGlvbiAoZWxlbWVudCkgeyByZXR1cm4gZWxlbWVudFt2ZW5kb3Jba2V5LnJlcXVlc3RGdWxsc2NyZWVuXV07IH0sXHJcbiAgICBnZXQgZXhpdEZ1bGxzY3JlZW4oKSB7IHJldHVybiBkb2N1bWVudCQxW3ZlbmRvcltrZXkuZXhpdEZ1bGxzY3JlZW5dXS5iaW5kKGRvY3VtZW50JDEpOyB9LFxyXG4gICAgZ2V0IGZ1bGxzY3JlZW5Qc2V1ZG9DbGFzcygpIHsgcmV0dXJuIFwiOlwiICsgdmVuZG9yW2tleS5mdWxsc2NyZWVuXTsgfSxcclxuICAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICh0eXBlLCBoYW5kbGVyLCBvcHRpb25zKSB7IHJldHVybiBkb2N1bWVudCQxLmFkZEV2ZW50TGlzdGVuZXIodmVuZG9yW2tleVt0eXBlXV0sIGhhbmRsZXIsIG9wdGlvbnMpOyB9LFxyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKHR5cGUsIGhhbmRsZXIsIG9wdGlvbnMpIHsgcmV0dXJuIGRvY3VtZW50JDEucmVtb3ZlRXZlbnRMaXN0ZW5lcih2ZW5kb3Jba2V5W3R5cGVdXSwgaGFuZGxlciwgb3B0aW9ucyk7IH0sXHJcbiAgICBnZXQgZnVsbHNjcmVlbkVuYWJsZWQoKSB7IHJldHVybiBCb29sZWFuKGRvY3VtZW50JDFbdmVuZG9yW2tleS5mdWxsc2NyZWVuRW5hYmxlZF1dKTsgfSxcclxuICAgIHNldCBmdWxsc2NyZWVuRW5hYmxlZCh2YWwpIHsgfSxcclxuICAgIGdldCBmdWxsc2NyZWVuRWxlbWVudCgpIHsgcmV0dXJuIGRvY3VtZW50JDFbdmVuZG9yW2tleS5mdWxsc2NyZWVuRWxlbWVudF1dOyB9LFxyXG4gICAgc2V0IGZ1bGxzY3JlZW5FbGVtZW50KHZhbCkgeyB9LFxyXG4gICAgZ2V0IG9uZnVsbHNjcmVlbmNoYW5nZSgpIHsgcmV0dXJuIGRvY3VtZW50JDFbKFwib25cIiArIHZlbmRvcltrZXkuZnVsbHNjcmVlbmNoYW5nZV0pLnRvTG93ZXJDYXNlKCldOyB9LFxyXG4gICAgc2V0IG9uZnVsbHNjcmVlbmNoYW5nZShoYW5kbGVyKSB7IHJldHVybiBkb2N1bWVudCQxWyhcIm9uXCIgKyB2ZW5kb3Jba2V5LmZ1bGxzY3JlZW5jaGFuZ2VdKS50b0xvd2VyQ2FzZSgpXSA9IGhhbmRsZXI7IH0sXHJcbiAgICBnZXQgb25mdWxsc2NyZWVuZXJyb3IoKSB7IHJldHVybiBkb2N1bWVudCQxWyhcIm9uXCIgKyB2ZW5kb3Jba2V5LmZ1bGxzY3JlZW5lcnJvcl0pLnRvTG93ZXJDYXNlKCldOyB9LFxyXG4gICAgc2V0IG9uZnVsbHNjcmVlbmVycm9yKGhhbmRsZXIpIHsgcmV0dXJuIGRvY3VtZW50JDFbKFwib25cIiArIHZlbmRvcltrZXkuZnVsbHNjcmVlbmVycm9yXSkudG9Mb3dlckNhc2UoKV0gPSBoYW5kbGVyOyB9LFxyXG59O1xuXG5mdW5jdGlvbiBtaXR0KG4pe3JldHVybiB7YWxsOm49bnx8bmV3IE1hcCxvbjpmdW5jdGlvbih0LGUpe3ZhciBpPW4uZ2V0KHQpO2k/aS5wdXNoKGUpOm4uc2V0KHQsW2VdKTt9LG9mZjpmdW5jdGlvbih0LGUpe3ZhciBpPW4uZ2V0KHQpO2kmJihlP2kuc3BsaWNlKGkuaW5kZXhPZihlKT4+PjAsMSk6bi5zZXQodCxbXSkpO30sZW1pdDpmdW5jdGlvbih0LGUpe3ZhciBpPW4uZ2V0KHQpO2kmJmkuc2xpY2UoKS5tYXAoZnVuY3Rpb24obil7bihlKTt9KSwoaT1uLmdldChcIipcIikpJiZpLnNsaWNlKCkubWFwKGZ1bmN0aW9uKG4pe24odCxlKTt9KTt9fX1cblxudmFyIF9fYXdhaXRlciRrID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbi8qKlxuICogVW5mb3J0dW5hdGVseSBmdWxsc2NyZWVuIGlzbid0IHN0cmFpZ2h0IGZvcndhcmQgZHVlIHRvIGNyb3NzLWJyb3dzZXIgaW5jb25zaXN0ZW5jaWVzLiBUaGlzXG4gKiBjbGFzcyBhYnN0cmFjdCB0aGUgbG9naWMgZm9yIGhhbmRsaW5nIGZ1bGxzY3JlZW4gYWNyb3NzIGJyb3dzZXJzLlxuICovXG5jbGFzcyBGdWxsc2NyZWVuQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGhvc3QpIHtcbiAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgIHRoaXMuZGlzcG9zYWwgPSBuZXcgRGlzcG9zYWwoKTtcbiAgICB0aGlzLmVtaXR0ZXIgPSBtaXR0KCk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZXRoZXIgZnVsbHNjcmVlbiBtb2RlIGNhbiBiZSByZXF1ZXN0ZWQsIGdlbmVyYWxseSBpcyBhbiBBUEkgYXZhaWxhYmxlIHRvIGRvIHNvLlxuICAgKi9cbiAgZ2V0IGlzU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiB0aGlzLmlzU3VwcG9ydGVkTmF0aXZlbHk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIG5hdGl2ZSBGdWxsc2NyZWVuIEFQSSBpcyBlbmFibGVkL2F2YWlsYWJsZS5cbiAgICovXG4gIGdldCBpc1N1cHBvcnRlZE5hdGl2ZWx5KCkge1xuICAgIHJldHVybiBmc2NyZWVuLmZ1bGxzY3JlZW5FbmFibGVkO1xuICB9XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBob3N0IGVsZW1lbnQgaXMgaW4gZnVsbHNjcmVlbiBtb2RlLlxuICAgKi9cbiAgZ2V0IGlzRnVsbHNjcmVlbigpIHtcbiAgICByZXR1cm4gdGhpcy5pc05hdGl2ZUZ1bGxzY3JlZW47XG4gIH1cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIGhvc3QgZWxlbWVudCBpcyBpbiBmdWxsc2NyZWVuIG1vZGUgdmlhIHRoZSBuYXRpdmUgRnVsbHNjcmVlbiBBUEkuXG4gICAqL1xuICBnZXQgaXNOYXRpdmVGdWxsc2NyZWVuKCkge1xuICAgIGlmIChmc2NyZWVuLmZ1bGxzY3JlZW5FbGVtZW50ID09PSB0aGlzLmhvc3QpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgLy8gVGhyb3dzIGluIGlPUyBTYWZhcmkuLi5cbiAgICAgIHJldHVybiB0aGlzLmhvc3QubWF0Y2hlcyhcbiAgICAgIC8vIFByb3BlcnR5IGBmdWxsc2NyZWVuUHNldWRvQ2xhc3NgIGlzIG1pc3NpbmcgZnJvbSBgQHR5cGVzL2ZzY3JlZW5gLlxuICAgICAgZnNjcmVlblxuICAgICAgICAuZnVsbHNjcmVlblBzZXVkb0NsYXNzKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIG9uKHR5cGUsIGhhbmRsZXIpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gbm90IHR5cGVkIHlldC5cbiAgICB0aGlzLmVtaXR0ZXIub24odHlwZSwgaGFuZGxlcik7XG4gIH1cbiAgb2ZmKHR5cGUsIGhhbmRsZXIpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gbm90IHR5cGVkIHlldC5cbiAgICB0aGlzLmVtaXR0ZXIub2ZmKHR5cGUsIGhhbmRsZXIpO1xuICB9XG4gIC8qKlxuICAgKiBEaXNwb3NlIG9mIGFueSBldmVudCBsaXN0ZW5lcnMgYW5kIGV4aXQgZnVsbHNjcmVlbiAoaWYgYWN0aXZlKS5cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRrKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgaWYgKHRoaXMuaXNGdWxsc2NyZWVuKVxuICAgICAgICB5aWVsZCB0aGlzLmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICB0aGlzLmRpc3Bvc2FsLmVtcHR5KCk7XG4gICAgICB0aGlzLmVtaXR0ZXIuYWxsLmNsZWFyKCk7XG4gICAgfSk7XG4gIH1cbiAgYWRkRnVsbHNjcmVlbkNoYW5nZUV2ZW50TGlzdGVuZXIoaGFuZGxlcikge1xuICAgIGlmICghdGhpcy5pc1N1cHBvcnRlZClcbiAgICAgIHJldHVybiBub29wO1xuICAgIHJldHVybiBsaXN0ZW4oZnNjcmVlbiwgJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBoYW5kbGVyKTtcbiAgfVxuICBhZGRGdWxsc2NyZWVuRXJyb3JFdmVudExpc3RlbmVyKGhhbmRsZXIpIHtcbiAgICBpZiAoIXRoaXMuaXNTdXBwb3J0ZWQpXG4gICAgICByZXR1cm4gbm9vcDtcbiAgICByZXR1cm4gbGlzdGVuKGZzY3JlZW4sICdmdWxsc2NyZWVuZXJyb3InLCBoYW5kbGVyKTtcbiAgfVxuICByZXF1ZXN0RnVsbHNjcmVlbigpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJGsodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpZiAodGhpcy5pc0Z1bGxzY3JlZW4pXG4gICAgICAgIHJldHVybjtcbiAgICAgIHRoaXMudGhyb3dJZk5vRnVsbHNjcmVlblN1cHBvcnQoKTtcbiAgICAgIC8vIFRPRE86IENoZWNrIGlmIFBpUCBpcyBhY3RpdmUsIGlmIHNvIG1ha2Ugc3VyZSB0byBleGl0IC0gbmVlZCBQaXBDb250cm9sbGVyLlxuICAgICAgdGhpcy5kaXNwb3NhbC5hZGQodGhpcy5hZGRGdWxsc2NyZWVuQ2hhbmdlRXZlbnRMaXN0ZW5lcih0aGlzLmhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UuYmluZCh0aGlzKSkpO1xuICAgICAgdGhpcy5kaXNwb3NhbC5hZGQodGhpcy5hZGRGdWxsc2NyZWVuRXJyb3JFdmVudExpc3RlbmVyKHRoaXMuaGFuZGxlRnVsbHNjcmVlbkVycm9yLmJpbmQodGhpcykpKTtcbiAgICAgIHJldHVybiB0aGlzLm1ha2VFbnRlckZ1bGxzY3JlZW5SZXF1ZXN0KCk7XG4gICAgfSk7XG4gIH1cbiAgbWFrZUVudGVyRnVsbHNjcmVlblJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRrKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIGZzY3JlZW4ucmVxdWVzdEZ1bGxzY3JlZW4odGhpcy5ob3N0KTtcbiAgICB9KTtcbiAgfVxuICBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlKCkge1xuICAgIGlmICghdGhpcy5pc0Z1bGxzY3JlZW4pXG4gICAgICB0aGlzLmRpc3Bvc2FsLmVtcHR5KCk7XG4gICAgdGhpcy5lbWl0dGVyLmVtaXQoJ2NoYW5nZScsIHRoaXMuaXNGdWxsc2NyZWVuKTtcbiAgfVxuICBoYW5kbGVGdWxsc2NyZWVuRXJyb3IoZXZlbnQpIHtcbiAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnZXJyb3InLCBldmVudCk7XG4gIH1cbiAgZXhpdEZ1bGxzY3JlZW4oKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRrKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgaWYgKCF0aGlzLmlzRnVsbHNjcmVlbilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy50aHJvd0lmTm9GdWxsc2NyZWVuU3VwcG9ydCgpO1xuICAgICAgcmV0dXJuIHRoaXMubWFrZUV4aXRGdWxsc2NyZWVuUmVxdWVzdCgpO1xuICAgIH0pO1xuICB9XG4gIG1ha2VFeGl0RnVsbHNjcmVlblJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRrKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIGZzY3JlZW4uZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICB9KTtcbiAgfVxuICB0aHJvd0lmTm9GdWxsc2NyZWVuU3VwcG9ydCgpIHtcbiAgICBpZiAodGhpcy5pc1N1cHBvcnRlZClcbiAgICAgIHJldHVybjtcbiAgICB0aHJvdyBFcnJvcignRnVsbHNjcmVlbiBBUEkgaXMgbm90IGVuYWJsZWQgb3Igc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQuJyk7XG4gIH1cbn1cblxudmFyIF9fYXdhaXRlciRqID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbi8qKlxuICogRXh0ZW5kcyB0aGUgYmFzZSBgRnVsbHNjcmVlbkNvbnRyb2xsZXJgIHdpdGggYWRkaXRpb25hbCBsb2dpYyBmb3IgaGFuZGxpbmcgZnVsbHNjcmVlblxuICogb24gaU9TIFNhZmFyaSB3aGVyZSB0aGUgbmF0aXZlIEZ1bGxzY3JlZW4gQVBJIGlzIG5vdCBhdmFpbGFibGUgKGluIHRoaXMgY2FzZSBpdCBmYWxsc2JhY2sgdG9cbiAqIHVzaW5nIHRoZSBgVmlkZW9QcmVzZW50YXRpb25Db250cm9sbGVyYCkuXG4gKi9cbmNsYXNzIFZpZGVvRnVsbHNjcmVlbkNvbnRyb2xsZXIgZXh0ZW5kcyBGdWxsc2NyZWVuQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGhvc3QsIHByZXNlbnRhdGlvbkNvbnRyb2xsZXIpIHtcbiAgICBzdXBlcihob3N0KTtcbiAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgIHRoaXMucHJlc2VudGF0aW9uQ29udHJvbGxlciA9IHByZXNlbnRhdGlvbkNvbnRyb2xsZXI7XG4gIH1cbiAgZ2V0IGlzRnVsbHNjcmVlbigpIHtcbiAgICByZXR1cm4gdGhpcy5wcmVzZW50YXRpb25Db250cm9sbGVyLmlzRnVsbHNjcmVlbk1vZGU7XG4gIH1cbiAgLyoqXG4gICAqIFdoZXRoZXIgYSBmYWxsYmFjayBmdWxsc2NyZWVuIEFQSSBpcyBhdmFpbGFibGUgb24gU2FmYXJpIHVzaW5nIHByZXNlbnRhdGlvbiBtb2Rlcy4gVGhpc1xuICAgKiBpcyBvbmx5IHVzZWQgb24gaU9TIHdoZXJlIHRoZSBuYXRpdmUgZnVsbHNjcmVlbiBBUEkgaXMgbm90IGF2YWlsYWJsZS5cbiAgICpcbiAgICogQGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vd2Via2l0anMvaHRtbHZpZGVvZWxlbWVudC8xNjMxOTEzLXdlYmtpdHByZXNlbnRhdGlvbm1vZGVcbiAgICovXG4gIGdldCBpc1N1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcmVzZW50YXRpb25Db250cm9sbGVyLmlzU3VwcG9ydGVkO1xuICB9XG4gIG1ha2VFbnRlckZ1bGxzY3JlZW5SZXF1ZXN0KCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkaih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByZXNlbnRhdGlvbkNvbnRyb2xsZXIuc2V0UHJlc2VudGF0aW9uTW9kZSgnZnVsbHNjcmVlbicpO1xuICAgIH0pO1xuICB9XG4gIG1ha2VFeGl0RnVsbHNjcmVlblJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRqKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJlc2VudGF0aW9uQ29udHJvbGxlci5zZXRQcmVzZW50YXRpb25Nb2RlKCdpbmxpbmUnKTtcbiAgICB9KTtcbiAgfVxuICBhZGRGdWxsc2NyZWVuQ2hhbmdlRXZlbnRMaXN0ZW5lcigpIHtcbiAgICBpZiAoIXRoaXMuaXNTdXBwb3J0ZWQpXG4gICAgICByZXR1cm4gbm9vcDtcbiAgICB0aGlzLnByZXNlbnRhdGlvbkNvbnRyb2xsZXIub24oJ2NoYW5nZScsIHRoaXMuaGFuZGxlUHJlc2VudGF0aW9uTW9kZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5wcmVzZW50YXRpb25Db250cm9sbGVyLm9mZignY2hhbmdlJywgdGhpcy5oYW5kbGVQcmVzZW50YXRpb25Nb2RlQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgIH07XG4gIH1cbiAgaGFuZGxlUHJlc2VudGF0aW9uTW9kZUNoYW5nZSgpIHtcbiAgICB0aGlzLmhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UoKTtcbiAgfVxuICBhZGRGdWxsc2NyZWVuRXJyb3JFdmVudExpc3RlbmVyKCkge1xuICAgIHJldHVybiBub29wO1xuICB9XG59XG5cbnZhciBfX2F3YWl0ZXIkaSA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG4vKipcbiAqIENvbnRhaW5zIHRoZSBsb2dpYyBmb3IgaGFuZGxpbmcgcHJlc2VudGF0aW9uIG1vZGVzIG9uIFNhZmFyaS4gVGhpcyBjbGFzcyBpcyB1c2VkIGJ5XG4gKiB0aGUgYFZpZGVvRnVsbHNjcmVlbkNvbnRyb2xsZXJgIGFzIGEgZmFsbGJhY2sgd2hlbiB0aGUgbmF0aXZlIEZ1bGxzY3JlZW4gQVBJIGlzIG5vdFxuICogYXZhaWxhYmxlIChpZTogaU9TIFNhZmFyaSkuXG4gKi9cbmNsYXNzIFZpZGVvUHJlc2VudGF0aW9uQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGhvc3QpIHtcbiAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgIHRoaXMuZGlzcG9zYWwgPSBuZXcgRGlzcG9zYWwoKTtcbiAgICB0aGlzLmVtaXR0ZXIgPSBtaXR0KCk7XG4gICAgY29uc3QgZGlzY29ubmVjdGVkQ2FsbGJhY2sgPSBob3N0LmRpc2Nvbm5lY3RlZENhbGxiYWNrO1xuICAgIGhvc3QuZGlzY29ubmVjdGVkQ2FsbGJhY2sgPSAoKSA9PiBfX2F3YWl0ZXIkaSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHlpZWxkIHRoaXMuZGVzdHJveSgpO1xuICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2sgPT09IG51bGwgfHwgZGlzY29ubmVjdGVkQ2FsbGJhY2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRpc2Nvbm5lY3RlZENhbGxiYWNrLmNhbGwoaG9zdCk7XG4gICAgfSk7XG4gIH1cbiAgZ2V0IHZpZGVvRWxlbWVudCgpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCgoX2EgPSB0aGlzLmhvc3QubWVkaWFFbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkgPT09ICd2aWRlbycpIHtcbiAgICAgIHJldHVybiB0aGlzLmhvc3QubWVkaWFFbDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgcHJlc2VudGF0aW9uIG1vZGUsIHBvc3NpYmxlIHZhbHVlcyBpbmNsdWRlIGBpbmxpbmVgLCBgcGljdHVyZS1pbi1waWN0dXJlYCBhbmRcbiAgICogYGZ1bGxzY3JlZW5gLiBPbmx5IGF2YWlsYWJsZSBpbiBTYWZhcmkuXG4gICAqXG4gICAqIEBkZWZhdWx0IHVuZGVmaW5lZFxuICAgKiBAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi93ZWJraXRqcy9odG1sdmlkZW9lbGVtZW50LzE2MzE5MTMtd2Via2l0cHJlc2VudGF0aW9ubW9kZVxuICAgKi9cbiAgZ2V0IHByZXNlbnRhdGlvbk1vZGUoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSB0aGlzLnZpZGVvRWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLndlYmtpdFByZXNlbnRhdGlvbk1vZGU7XG4gIH1cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIGN1cnJlbnQgYHByZXNlbnRhdGlvbk1vZGVgIGlzIGBpbmxpbmVgLlxuICAgKi9cbiAgZ2V0IGlzSW5saW5lTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wcmVzZW50YXRpb25Nb2RlID09PSAnaW5saW5lJztcbiAgfVxuICAvKipcbiAgICogV2hldGhlciB0aGUgY3VycmVudCBgcHJlc2VudGF0aW9uTW9kZWAgaXMgYHBpY3R1cmUtaW4tcGljdHVyZWAuXG4gICAqL1xuICBnZXQgaXNQaWN0dXJlSW5QaWN0dXJlTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wcmVzZW50YXRpb25Nb2RlID09PSAnaW5saW5lJztcbiAgfVxuICAvKipcbiAgICogV2hldGhlciB0aGUgY3VycmVudCBgcHJlc2VudGF0aW9uTW9kZWAgaXMgYGZ1bGxzY3JlZW5gLlxuICAgKi9cbiAgZ2V0IGlzRnVsbHNjcmVlbk1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJlc2VudGF0aW9uTW9kZSA9PT0gJ2Z1bGxzY3JlZW4nO1xuICB9XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBwcmVzZW50YXRpb24gbW9kZSBBUEkgaXMgYXZhaWxhYmxlLlxuICAgKlxuICAgKiBAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi93ZWJraXRqcy9odG1sdmlkZW9lbGVtZW50LzE2Mjg4MDUtd2Via2l0c3VwcG9ydHNmdWxsc2NyZWVuXG4gICAqL1xuICBnZXQgaXNTdXBwb3J0ZWQoKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgcmV0dXJuIChJU19JT1MgJiZcbiAgICAgIGlzRnVuY3Rpb24oKF9hID0gdGhpcy52aWRlb0VsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS53ZWJraXRTZXRQcmVzZW50YXRpb25Nb2RlKSAmJlxuICAgICAgKChfYyA9IChfYiA9IHRoaXMudmlkZW9FbGVtZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iud2Via2l0U3VwcG9ydHNGdWxsc2NyZWVuKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBmYWxzZSkpO1xuICB9XG4gIHNldFByZXNlbnRhdGlvbk1vZGUobW9kZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgKF9iID0gKF9hID0gdGhpcy52aWRlb0VsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS53ZWJraXRTZXRQcmVzZW50YXRpb25Nb2RlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgbW9kZSk7XG4gIH1cbiAgb24odHlwZSwgaGFuZGxlcikge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBub3QgdHlwZWQgeWV0LlxuICAgIHRoaXMuZW1pdHRlci5vbih0eXBlLCBoYW5kbGVyKTtcbiAgfVxuICBvZmYodHlwZSwgaGFuZGxlcikge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBub3QgdHlwZWQgeWV0LlxuICAgIHRoaXMuZW1pdHRlci5vZmYodHlwZSwgaGFuZGxlcik7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnNldFByZXNlbnRhdGlvbk1vZGUoJ2lubGluZScpO1xuICAgIHRoaXMuZGlzcG9zYWwuZW1wdHkoKTtcbiAgfVxuICBhZGRQcmVzZW50YXRpb25Nb2RlQ2hhbmdlRXZlbnRMaXN0ZW5lcigpIHtcbiAgICBpZiAoIXRoaXMuaXNTdXBwb3J0ZWQgfHwgaXNOaWwodGhpcy52aWRlb0VsZW1lbnQpKVxuICAgICAgcmV0dXJuIG5vb3A7XG4gICAgcmV0dXJuIGxpc3Rlbih0aGlzLnZpZGVvRWxlbWVudCwgJ3dlYmtpdHByZXNlbnRhdGlvbm1vZGVjaGFuZ2VkJywgdGhpcy5oYW5kbGVQcmVzZW50YXRpb25Nb2RlQ2hhbmdlLmJpbmQodGhpcykpO1xuICB9XG4gIGhhbmRsZVByZXNlbnRhdGlvbk1vZGVDaGFuZ2UoKSB7XG4gICAgdGhpcy5lbWl0dGVyLmVtaXQoJ2NoYW5nZScsIHRoaXMucHJlc2VudGF0aW9uTW9kZSk7XG4gIH1cbn1cblxuY29uc3QgZmlsZUNzcyA9IFwiYXVkaW8uc2Mtdm0tZmlsZSx2aWRlby5zYy12bS1maWxle2JvcmRlci1yYWRpdXM6aW5oZXJpdDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7d2lkdGg6MTAwJTtvdXRsaW5lOjB9dmlkZW8uc2Mtdm0tZmlsZXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7Ym9yZGVyOjA7aGVpZ2h0OjEwMCU7dXNlci1zZWxlY3Q6bm9uZX1cIjtcblxudmFyIF9fYXdhaXRlciRoID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBGaWxlID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIHRoaXMudm1Mb2FkU3RhcnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtTG9hZFN0YXJ0XCIsIDcpO1xuICAgIHRoaXMudm1FcnJvciA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1FcnJvclwiLCA3KTtcbiAgICB0aGlzLnZtTWVkaWFFbENoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1NZWRpYUVsQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1TcmNTZXRDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtU3JjU2V0Q2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudGV4dFRyYWNrc0Rpc3Bvc2FsID0gbmV3IERpc3Bvc2FsKCk7XG4gICAgdGhpcy53YXNQYXVzZWRCZWZvcmVTZWVraW5nID0gdHJ1ZTtcbiAgICB0aGlzLmN1cnJlbnRTcmNTZXQgPSBbXTtcbiAgICB0aGlzLm1lZGlhUXVlcnlEaXNwb3NhbCA9IG5ldyBEaXNwb3NhbCgpO1xuICAgIC8qKiBAaW50ZXJuYWwgV2hldGhlciBhbiBleHRlcm5hbCBTREsgd2lsbCBhdHRhY2ggaXRzZWxmIHRvIHRoZSBtZWRpYSBwbGF5ZXIgYW5kIGNvbnRyb2wgaXQuICovXG4gICAgdGhpcy53aWxsQXR0YWNoID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgdGhpcy5wcmVsb2FkID0gJ21ldGFkYXRhJztcbiAgICAvKipcbiAgICAgKiBUaGUgcGxheWJhY2sgcmF0ZXMgdGhhdCBhcmUgYXZhaWxhYmxlIGZvciB0aGlzIG1lZGlhLlxuICAgICAqL1xuICAgIHRoaXMucGxheWJhY2tSYXRlcyA9IFswLjI1LCAwLjUsIDAuNzUsIDEsIDEuMjUsIDEuNSwgMl07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMubGFuZ3VhZ2UgPSAnZW4nO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmF1dG9wbGF5ID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuY29udHJvbHMgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5sb29wID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMubXV0ZWQgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5c2lubGluZSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLm5vQ29ubmVjdCA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuY3VycmVudFRpbWUgPSAwO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnZvbHVtZSA9IDA7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGxheWJhY2tSZWFkeSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBsYXliYWNrU3RhcnRlZCA9IGZhbHNlO1xuICAgIHRoaXMucHJlc2VudGF0aW9uQ29udHJvbGxlciA9IG5ldyBWaWRlb1ByZXNlbnRhdGlvbkNvbnRyb2xsZXIodGhpcyk7XG4gICAgdGhpcy5mdWxsc2NyZWVuQ29udHJvbGxlciA9IG5ldyBWaWRlb0Z1bGxzY3JlZW5Db250cm9sbGVyKHRoaXMsIHRoaXMucHJlc2VudGF0aW9uQ29udHJvbGxlcik7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuY3VycmVudFRleHRUcmFjayA9IC0xO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmhhc0N1c3RvbVRleHRNYW5hZ2VyID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlID0gdHJ1ZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5zaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzID0gdHJ1ZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFByb3ZpZGVyQ29ubmVjdCh0aGlzKTtcbiAgICB3aXRoUHJvdmlkZXJDb250ZXh0KHRoaXMsIFtcbiAgICAgICdwbGF5YmFja1JlYWR5JyxcbiAgICAgICdwbGF5YmFja1N0YXJ0ZWQnLFxuICAgICAgJ2N1cnJlbnRUaW1lJyxcbiAgICAgICd2b2x1bWUnLFxuICAgICAgJ3BhdXNlZCcsXG4gICAgICAnY3VycmVudFRleHRUcmFjaycsXG4gICAgICAnaXNUZXh0VHJhY2tWaXNpYmxlJyxcbiAgICAgICdzaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzJyxcbiAgICBdKTtcbiAgICB3YXRjaENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMsICd2bS1wb3N0ZXInLCByZWdzID0+IHtcbiAgICAgIFt0aGlzLnZtUG9zdGVyXSA9IHJlZ3M7XG4gICAgfSk7XG4gIH1cbiAgb25NZWRpYVRpdGxlQ2hhbmdlKCkge1xuICAgIHRoaXMuZGlzcGF0Y2goJ21lZGlhVGl0bGUnLCB0aGlzLm1lZGlhVGl0bGUpO1xuICB9XG4gIG9uUG9zdGVyQ2hhbmdlKCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoIXRoaXMucGxheWJhY2tTdGFydGVkKVxuICAgICAgKF9hID0gdGhpcy5tZWRpYUVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubG9hZCgpO1xuICB9XG4gIG9uVmlld1R5cGVDaGFuZ2UoKSB7XG4gICAgdGhpcy5kaXNwYXRjaCgndmlld1R5cGUnLCB0aGlzLnZpZXdUeXBlKTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmluaXRMYXp5TG9hZGVyKCk7XG4gICAgdGhpcy5kaXNwYXRjaCA9IGNyZWF0ZVByb3ZpZGVyRGlzcGF0Y2hlcih0aGlzKTtcbiAgICB0aGlzLm9uVmlld1R5cGVDaGFuZ2UoKTtcbiAgICB0aGlzLm9uUG9zdGVyQ2hhbmdlKCk7XG4gICAgdGhpcy5vbk1lZGlhVGl0bGVDaGFuZ2UoKTtcbiAgICB0aGlzLmFkZFByZXNlbnRhdGlvbkNvbnRyb2xsZXJMaXN0ZW5lcnMoKTtcbiAgfVxuICBjb21wb25lbnREaWRSZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJldk1lZGlhRWwgIT09IHRoaXMubWVkaWFFbCkge1xuICAgICAgdGhpcy5wcmV2TWVkaWFFbCA9IHRoaXMubWVkaWFFbDtcbiAgICAgIHRoaXMudm1NZWRpYUVsQ2hhbmdlLmVtaXQodGhpcy5tZWRpYUVsKTtcbiAgICAgIHRoaXMucHJlc2VudGF0aW9uQ29udHJvbGxlci5hZGRQcmVzZW50YXRpb25Nb2RlQ2hhbmdlRXZlbnRMaXN0ZW5lcigpO1xuICAgIH1cbiAgfVxuICBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIHRoaXMub25WaWV3VHlwZUNoYW5nZSgpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHZhciBfYTtcbiAgICB0aGlzLm1lZGlhUXVlcnlEaXNwb3NhbC5lbXB0eSgpO1xuICAgIHRoaXMudGV4dFRyYWNrc0Rpc3Bvc2FsLmVtcHR5KCk7XG4gICAgdGhpcy5jYW5jZWxUaW1lVXBkYXRlcygpO1xuICAgIChfYSA9IHRoaXMubGF6eUxvYWRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3koKTtcbiAgICB0aGlzLndhc1BhdXNlZEJlZm9yZVNlZWtpbmcgPSB0cnVlO1xuICB9XG4gIGluaXRMYXp5TG9hZGVyKCkge1xuICAgIHRoaXMubGF6eUxvYWRlciA9IG5ldyBMYXp5TG9hZGVyKHRoaXMuaG9zdCwgWydkYXRhLXNyYycsICdkYXRhLXBvc3RlciddLCAoKSA9PiB7XG4gICAgICBpZiAoaXNOaWwodGhpcy5tZWRpYUVsKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgcG9zdGVyID0gdGhpcy5tZWRpYUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1wb3N0ZXInKTtcbiAgICAgIGlmICghaXNOdWxsKHBvc3RlcikpXG4gICAgICAgIHRoaXMubWVkaWFFbC5zZXRBdHRyaWJ1dGUoJ3Bvc3RlcicsIHBvc3Rlcik7XG4gICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgIHRoaXMuZGlkU3JjU2V0Q2hhbmdlKCk7XG4gICAgfSk7XG4gIH1cbiAgcmVmcmVzaCgpIHtcbiAgICBpZiAoaXNOaWwodGhpcy5tZWRpYUVsKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLm1lZGlhRWw7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSArPSAxKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgY29uc3Qgc3JjID0gY2hpbGQuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpIHx8XG4gICAgICAgIGNoaWxkLmdldEF0dHJpYnV0ZSgnc3JjJykgfHxcbiAgICAgICAgY2hpbGQuZ2V0QXR0cmlidXRlKCdkYXRhLXZzJyk7XG4gICAgICBjaGlsZC5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuICAgICAgaWYgKGlzTnVsbChzcmMpKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnZGF0YS12cycsIHNyYyk7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHNyYyk7XG4gICAgfVxuICB9XG4gIGRpZFNyY1NldENoYW5nZSgpIHtcbiAgICBpZiAoaXNOaWwodGhpcy5tZWRpYUVsKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBzb3VyY2VzID0gQXJyYXkuZnJvbSh0aGlzLm1lZGlhRWwucXVlcnlTZWxlY3RvckFsbCgnc291cmNlJykpO1xuICAgIGNvbnN0IHNyY1NldCA9IHNvdXJjZXMubWFwKHNvdXJjZSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXR1cm4gKHtcbiAgICAgICAgc3JjOiBzb3VyY2UuZ2V0QXR0cmlidXRlKCdkYXRhLXZzJyksXG4gICAgICAgIG1lZGlhOiAoX2EgPSBzb3VyY2UuZ2V0QXR0cmlidXRlKCdkYXRhLW1lZGlhJykpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVmOiBzb3VyY2UsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb25zdCBkaWRDaGFuZ2UgPSB0aGlzLmN1cnJlbnRTcmNTZXQubGVuZ3RoICE9PSBzcmNTZXQubGVuZ3RoIHx8XG4gICAgICBzcmNTZXQuc29tZSgocmVzb3VyY2UsIGkpID0+IHRoaXMuY3VycmVudFNyY1NldFtpXS5zcmMgIT09IHJlc291cmNlLnNyYyk7XG4gICAgaWYgKGRpZENoYW5nZSkge1xuICAgICAgdGhpcy5jdXJyZW50U3JjU2V0ID0gc3JjU2V0O1xuICAgICAgdGhpcy5vblNyY1NldENoYW5nZSgpO1xuICAgIH1cbiAgfVxuICBvblNyY1NldENoYW5nZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgdGhpcy50ZXh0VHJhY2tzRGlzcG9zYWwuZW1wdHkoKTtcbiAgICB0aGlzLm1lZGlhUXVlcnlEaXNwb3NhbC5lbXB0eSgpO1xuICAgIHRoaXMudm1Mb2FkU3RhcnQuZW1pdCgpO1xuICAgIHRoaXMudm1TcmNTZXRDaGFuZ2UuZW1pdCh0aGlzLmN1cnJlbnRTcmNTZXQpO1xuICAgIGlmICghdGhpcy53aWxsQXR0YWNoKVxuICAgICAgKF9hID0gdGhpcy5tZWRpYUVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubG9hZCgpO1xuICB9XG4gIGhhc0N1c3RvbVBvc3RlcigpIHtcbiAgICByZXR1cm4gIUlTX0lPUyAmJiAhaXNVbmRlZmluZWQodGhpcy52bVBvc3Rlcik7XG4gIH1cbiAgY2FuY2VsVGltZVVwZGF0ZXMoKSB7XG4gICAgaWYgKGlzTnVtYmVyKHRoaXMudGltZVJBRikpXG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy50aW1lUkFGKTtcbiAgICB0aGlzLnRpbWVSQUYgPSB1bmRlZmluZWQ7XG4gIH1cbiAgcmVxdWVzdFRpbWVVcGRhdGVzKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFRpbWUnLCAoX2IgPSAoX2EgPSB0aGlzLm1lZGlhRWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jdXJyZW50VGltZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMCk7XG4gICAgdGhpcy50aW1lUkFGID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLnJlcXVlc3RUaW1lVXBkYXRlcygpO1xuICAgIH0pO1xuICB9XG4gIGdldE1lZGlhVHlwZSgpIHtcbiAgICBjb25zdCB7IGN1cnJlbnRTcmMgfSA9IHRoaXMubWVkaWFFbDtcbiAgICBpZiAoYXVkaW9SZWdleC50ZXN0KGN1cnJlbnRTcmMpKVxuICAgICAgcmV0dXJuIE1lZGlhVHlwZS5BdWRpbztcbiAgICBpZiAodmlkZW9SZWdleC50ZXN0KGN1cnJlbnRTcmMpIHx8IGhsc1JlZ2V4LnRlc3QoY3VycmVudFNyYykpXG4gICAgICByZXR1cm4gTWVkaWFUeXBlLlZpZGVvO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgb25Mb2FkZWRNZXRhZGF0YSgpIHtcbiAgICB0aGlzLm1lZGlhRWwudm9sdW1lID0gdGhpcy52b2x1bWUgLyAxMDA7XG4gICAgdGhpcy5saXN0ZW5Ub1RleHRUcmFja3NGb3JDaGFuZ2VzKCk7XG4gICAgdGhpcy5vblRleHRUcmFja3NDaGFuZ2UoKTtcbiAgICB0aGlzLm9uUHJvZ3Jlc3MoKTtcbiAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50UG9zdGVyJywgdGhpcy5wb3N0ZXIpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ2R1cmF0aW9uJywgdGhpcy5tZWRpYUVsLmR1cmF0aW9uKTtcbiAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1JhdGVzJywgdGhpcy5wbGF5YmFja1JhdGVzKTtcbiAgICBpZiAoIXRoaXMud2lsbEF0dGFjaCkge1xuICAgICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFNyYycsIHRoaXMubWVkaWFFbC5jdXJyZW50U3JjKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ21lZGlhVHlwZScsIHRoaXMuZ2V0TWVkaWFUeXBlKCkpO1xuICAgICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tSZWFkeScsIHRydWUpO1xuICAgIH1cbiAgfVxuICBvblByb2dyZXNzKCkge1xuICAgIGNvbnN0IHsgYnVmZmVyZWQsIGR1cmF0aW9uIH0gPSB0aGlzLm1lZGlhRWw7XG4gICAgY29uc3QgZW5kID0gYnVmZmVyZWQubGVuZ3RoID09PSAwID8gMCA6IGJ1ZmZlcmVkLmVuZChidWZmZXJlZC5sZW5ndGggLSAxKTtcbiAgICB0aGlzLmRpc3BhdGNoKCdidWZmZXJlZCcsIGVuZCA+IGR1cmF0aW9uID8gZHVyYXRpb24gOiBlbmQpO1xuICB9XG4gIG9uUGxheSgpIHtcbiAgICB0aGlzLnJlcXVlc3RUaW1lVXBkYXRlcygpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ3BhdXNlZCcsIGZhbHNlKTtcbiAgICBpZiAoIXRoaXMucGxheWJhY2tTdGFydGVkKVxuICAgICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tTdGFydGVkJywgdHJ1ZSk7XG4gIH1cbiAgb25QYXVzZSgpIHtcbiAgICB0aGlzLmNhbmNlbFRpbWVVcGRhdGVzKCk7XG4gICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgdHJ1ZSk7XG4gICAgdGhpcy5kaXNwYXRjaCgnYnVmZmVyaW5nJywgZmFsc2UpO1xuICB9XG4gIG9uUGxheWluZygpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdwbGF5aW5nJywgdHJ1ZSk7XG4gICAgdGhpcy5kaXNwYXRjaCgnYnVmZmVyaW5nJywgZmFsc2UpO1xuICB9XG4gIG9uU2Vla2luZygpIHtcbiAgICBpZiAoIXRoaXMud2FzUGF1c2VkQmVmb3JlU2Vla2luZylcbiAgICAgIHRoaXMud2FzUGF1c2VkQmVmb3JlU2Vla2luZyA9IHRoaXMubWVkaWFFbC5wYXVzZWQ7XG4gICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFRpbWUnLCB0aGlzLm1lZGlhRWwuY3VycmVudFRpbWUpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ3NlZWtpbmcnLCB0cnVlKTtcbiAgfVxuICBvblNlZWtlZCgpIHtcbiAgICAvLyBBdm9pZCBjYWxsaW5nIGBhdHRlbXB0VG9QbGF5YCBpZiBzZWVraW5nIHRvIDAgb24gMC5cbiAgICBpZiAodGhpcy5jdXJyZW50VGltZSA9PT0gMCAmJiAhdGhpcy5wbGF5YmFja1N0YXJ0ZWQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5kaXNwYXRjaCgnc2Vla2luZycsIGZhbHNlKTtcbiAgICBpZiAoIXRoaXMucGxheWJhY2tTdGFydGVkIHx8ICF0aGlzLndhc1BhdXNlZEJlZm9yZVNlZWtpbmcpXG4gICAgICB0aGlzLmF0dGVtcHRUb1BsYXkoKTtcbiAgICB0aGlzLndhc1BhdXNlZEJlZm9yZVNlZWtpbmcgPSB0cnVlO1xuICB9XG4gIG9uUmF0ZUNoYW5nZSgpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1JhdGUnLCB0aGlzLm1lZGlhRWwucGxheWJhY2tSYXRlKTtcbiAgfVxuICBvblZvbHVtZUNoYW5nZSgpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdtdXRlZCcsIHRoaXMubWVkaWFFbC5tdXRlZCk7XG4gICAgdGhpcy5kaXNwYXRjaCgndm9sdW1lJywgdGhpcy5tZWRpYUVsLnZvbHVtZSAqIDEwMCk7XG4gIH1cbiAgb25EdXJhdGlvbkNoYW5nZSgpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdkdXJhdGlvbicsIHRoaXMubWVkaWFFbC5kdXJhdGlvbik7XG4gIH1cbiAgb25XYWl0aW5nKCkge1xuICAgIHRoaXMuZGlzcGF0Y2goJ2J1ZmZlcmluZycsIHRydWUpO1xuICB9XG4gIG9uU3VzcGVuZCgpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdidWZmZXJpbmcnLCBmYWxzZSk7XG4gIH1cbiAgb25FbmRlZCgpIHtcbiAgICBpZiAoIXRoaXMubG9vcClcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrRW5kZWQnLCB0cnVlKTtcbiAgfVxuICBvbkVycm9yKCkge1xuICAgIHRoaXMudm1FcnJvci5lbWl0KHRoaXMubWVkaWFFbC5lcnJvcik7XG4gIH1cbiAgYXR0ZW1wdFRvUGxheSgpIHtcbiAgICB2YXIgX2E7XG4gICAgdHJ5IHtcbiAgICAgIChfYSA9IHRoaXMubWVkaWFFbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBsYXkoKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMudm1FcnJvci5lbWl0KGUpO1xuICAgIH1cbiAgfVxuICB0b2dnbGVQaVBJbkNocm9tZSh0b2dnbGUpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIHRvZ2dsZVxuICAgICAgPyAoX2EgPSB0aGlzLm1lZGlhRWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpXG4gICAgICA6IGRvY3VtZW50LmV4aXRQaWN0dXJlSW5QaWN0dXJlKCk7XG4gIH1cbiAgdG9nZ2xlUGlQSW5TYWZhcmkodG9nZ2xlKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBtb2RlID0gdG9nZ2xlXG4gICAgICA/IFwicGljdHVyZS1pbi1waWN0dXJlXCIgLyogUGlQICovXG4gICAgICA6IFwiaW5saW5lXCIgLyogSW5saW5lICovO1xuICAgIGlmICghKChfYSA9IHRoaXMubWVkaWFFbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLndlYmtpdFN1cHBvcnRzUHJlc2VudGF0aW9uTW9kZShtb2RlKSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGlQIEFQSSBpcyBub3QgYXZhaWxhYmxlLicpO1xuICAgIH1cbiAgICByZXR1cm4gKF9iID0gdGhpcy5tZWRpYUVsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iud2Via2l0U2V0UHJlc2VudGF0aW9uTW9kZShtb2RlKTtcbiAgfVxuICB0b2dnbGVQaVAodG9nZ2xlKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRoKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgaWYgKGNhblVzZVBpUEluQ2hyb21lKCkpXG4gICAgICAgIHJldHVybiB0aGlzLnRvZ2dsZVBpUEluQ2hyb21lKHRvZ2dsZSk7XG4gICAgICBpZiAoY2FuVXNlUGlQSW5TYWZhcmkoKSlcbiAgICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlUGlQSW5TYWZhcmkodG9nZ2xlKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGlQIEFQSSBpcyBub3QgYXZhaWxhYmxlLicpO1xuICAgIH0pO1xuICB9XG4gIG9uRW50ZXJQaVAoKSB7XG4gICAgdGhpcy5kaXNwYXRjaCgnaXNQaVBBY3RpdmUnLCB0cnVlKTtcbiAgfVxuICBvbkxlYXZlUGlQKCkge1xuICAgIHRoaXMuZGlzcGF0Y2goJ2lzUGlQQWN0aXZlJywgZmFsc2UpO1xuICB9XG4gIGFkZFByZXNlbnRhdGlvbkNvbnRyb2xsZXJMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5wcmVzZW50YXRpb25Db250cm9sbGVyLm9uKCdjaGFuZ2UnLCBtb2RlID0+IHtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ2lzUGlQQWN0aXZlJywgbW9kZSA9PT0gXCJwaWN0dXJlLWluLXBpY3R1cmVcIiAvKiBQaVAgKi8pO1xuICAgICAgdGhpcy5kaXNwYXRjaCgnaXNGdWxsc2NyZWVuQWN0aXZlJywgbW9kZSA9PT0gXCJmdWxsc2NyZWVuXCIgLyogRnVsbHNjcmVlbiAqLyk7XG4gICAgfSk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXRBZGFwdGVyKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkaCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldEludGVybmFsUGxheWVyOiAoKSA9PiBfX2F3YWl0ZXIkaCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIHRoaXMubWVkaWFFbDsgfSksXG4gICAgICAgIHBsYXk6ICgpID0+IF9fYXdhaXRlciRoKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyB2YXIgX2E7IHJldHVybiAoX2EgPSB0aGlzLm1lZGlhRWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wbGF5KCk7IH0pLFxuICAgICAgICBwYXVzZTogKCkgPT4gX19hd2FpdGVyJGgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHZhciBfYjsgcmV0dXJuIChfYiA9IHRoaXMubWVkaWFFbCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnBhdXNlKCk7IH0pLFxuICAgICAgICBjYW5QbGF5OiAodHlwZSkgPT4gX19hd2FpdGVyJGgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiBpc1N0cmluZyh0eXBlKSAmJiAoYXVkaW9SZWdleC50ZXN0KHR5cGUpIHx8IHZpZGVvUmVnZXgudGVzdCh0eXBlKSk7IH0pLFxuICAgICAgICBzZXRDdXJyZW50VGltZTogKHRpbWUpID0+IF9fYXdhaXRlciRoKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIGlmICh0aGlzLm1lZGlhRWwpXG4gICAgICAgICAgICB0aGlzLm1lZGlhRWwuY3VycmVudFRpbWUgPSB0aW1lO1xuICAgICAgICB9KSxcbiAgICAgICAgc2V0TXV0ZWQ6IChtdXRlZCkgPT4gX19hd2FpdGVyJGgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgaWYgKHRoaXMubWVkaWFFbClcbiAgICAgICAgICAgIHRoaXMubWVkaWFFbC5tdXRlZCA9IG11dGVkO1xuICAgICAgICB9KSxcbiAgICAgICAgc2V0Vm9sdW1lOiAodm9sdW1lKSA9PiBfX2F3YWl0ZXIkaCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICBpZiAodGhpcy5tZWRpYUVsKVxuICAgICAgICAgICAgdGhpcy5tZWRpYUVsLnZvbHVtZSA9IHZvbHVtZSAvIDEwMDtcbiAgICAgICAgfSksXG4gICAgICAgIGNhblNldFBsYXliYWNrUmF0ZTogKCkgPT4gX19hd2FpdGVyJGgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0cnVlOyB9KSxcbiAgICAgICAgc2V0UGxheWJhY2tSYXRlOiAocmF0ZSkgPT4gX19hd2FpdGVyJGgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgaWYgKHRoaXMubWVkaWFFbClcbiAgICAgICAgICAgIHRoaXMubWVkaWFFbC5wbGF5YmFja1JhdGUgPSByYXRlO1xuICAgICAgICB9KSxcbiAgICAgICAgY2FuU2V0UGlQOiAoKSA9PiBfX2F3YWl0ZXIkaCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIGNhblVzZVBpUCgpOyB9KSxcbiAgICAgICAgZW50ZXJQaVA6ICgpID0+IHRoaXMudG9nZ2xlUGlQKHRydWUpLFxuICAgICAgICBleGl0UGlQOiAoKSA9PiB0aGlzLnRvZ2dsZVBpUChmYWxzZSksXG4gICAgICAgIGNhblNldEZ1bGxzY3JlZW46ICgpID0+IF9fYXdhaXRlciRoKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gdGhpcy5mdWxsc2NyZWVuQ29udHJvbGxlci5pc1N1cHBvcnRlZDsgfSksXG4gICAgICAgIGVudGVyRnVsbHNjcmVlbjogKCkgPT4gdGhpcy5mdWxsc2NyZWVuQ29udHJvbGxlci5yZXF1ZXN0RnVsbHNjcmVlbigpLFxuICAgICAgICBleGl0RnVsbHNjcmVlbjogKCkgPT4gdGhpcy5mdWxsc2NyZWVuQ29udHJvbGxlci5leGl0RnVsbHNjcmVlbigpLFxuICAgICAgICBzZXRDdXJyZW50VGV4dFRyYWNrOiAodHJhY2tJZCkgPT4gX19hd2FpdGVyJGgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgaWYgKHRyYWNrSWQgIT09IHRoaXMuY3VycmVudFRleHRUcmFjaylcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlVGV4dFRyYWNrTW9kZXModHJhY2tJZCk7XG4gICAgICAgIH0pLFxuICAgICAgICBzZXRUZXh0VHJhY2tWaXNpYmlsaXR5OiAoaXNWaXNpYmxlKSA9PiBfX2F3YWl0ZXIkaCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSA9IGlzVmlzaWJsZTtcbiAgICAgICAgICB0aGlzLnRvZ2dsZVRleHRUcmFja01vZGVzKHRoaXMuY3VycmVudFRleHRUcmFjayk7XG4gICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICBvbkhhc0N1c3RvbVRleHRNYW5hZ2VyQ2hhbmdlKCkge1xuICAgIGlmICh0aGlzLmhhc0N1c3RvbVRleHRNYW5hZ2VyKSB7XG4gICAgICB0aGlzLnRleHRUcmFja3NEaXNwb3NhbC5lbXB0eSgpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLnBsYXliYWNrUmVhZHkpIHtcbiAgICAgIHRoaXMubGlzdGVuVG9UZXh0VHJhY2tzRm9yQ2hhbmdlcygpO1xuICAgIH1cbiAgfVxuICBvblNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3NDaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMuaGFzQ3VzdG9tVGV4dE1hbmFnZXIpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy50b2dnbGVUZXh0VHJhY2tNb2Rlcyh0aGlzLmN1cnJlbnRUZXh0VHJhY2spO1xuICB9XG4gIG9uUHJvdmlkZXJDb25uZWN0KGV2ZW50KSB7XG4gICAgaWYgKHRoaXMubm9Db25uZWN0KVxuICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gIH1cbiAgb25Qcm92aWRlckRpc2Nvbm5lY3QoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5ub0Nvbm5lY3QpXG4gICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgfVxuICBnZXRGaWx0ZXJlZFRleHRUcmFja3MoKSB7XG4gICAgY29uc3QgdHJhY2tzID0gW107XG4gICAgY29uc3QgdGV4dFRyYWNrTGlzdCA9IEFycmF5LmZyb20odGhpcy5tZWRpYUVsLnRleHRUcmFja3MpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dFRyYWNrTGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgdHJhY2sgPSB0ZXh0VHJhY2tMaXN0W2ldO1xuICAgICAgLy8gRWRnZSBhZGRzIGEgdHJhY2sgd2l0aG91dCBhIGxhYmVsOyB3ZSBkb24ndCB3YW50IHRvIHVzZSBpdC5cbiAgICAgIGlmICgodHJhY2sua2luZCA9PT0gJ3N1YnRpdGxlcycgfHwgdHJhY2sua2luZCA9PT0gJ2NhcHRpb25zJykgJiZcbiAgICAgICAgdHJhY2subGFiZWwpIHtcbiAgICAgICAgdHJhY2tzLnB1c2godGV4dFRyYWNrTGlzdFtpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cmFja3M7XG4gIH1cbiAgbGlzdGVuVG9UZXh0VHJhY2tzRm9yQ2hhbmdlcygpIHtcbiAgICBpZiAodGhpcy5oYXNDdXN0b21UZXh0TWFuYWdlcilcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLnRleHRUcmFja3NEaXNwb3NhbC5lbXB0eSgpO1xuICAgIGlmIChpc1VuZGVmaW5lZCh0aGlzLm1lZGlhRWwpKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMudGV4dFRyYWNrc0Rpc3Bvc2FsLmFkZChsaXN0ZW4odGhpcy5tZWRpYUVsLnRleHRUcmFja3MsICdjaGFuZ2UnLCB0aGlzLm9uVGV4dFRyYWNrc0NoYW5nZS5iaW5kKHRoaXMpKSk7XG4gIH1cbiAgb25UZXh0VHJhY2tzQ2hhbmdlKCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB0cmFja3MgPSB0aGlzLmdldEZpbHRlcmVkVGV4dFRyYWNrcygpO1xuICAgIGxldCB0cmFja0lkID0gLTE7XG4gICAgZm9yIChsZXQgaWQgPSAwOyBpZCA8IHRyYWNrcy5sZW5ndGg7IGlkICs9IDEpIHtcbiAgICAgIGlmICh0cmFja3NbaWRdLm1vZGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgIC8vIERvIG5vdCBicmVhayBpbiBjYXNlIHRoZXJlIGlzIGEgZm9sbG93aW5nIHRyYWNrIHdpdGggc2hvd2luZy5cbiAgICAgICAgdHJhY2tJZCA9IGlkO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodHJhY2tzW2lkXS5tb2RlID09PSAnc2hvd2luZycpIHtcbiAgICAgICAgdHJhY2tJZCA9IGlkO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MgJiZcbiAgICAgICgoX2EgPSB0cmFja3NbdHJhY2tJZF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tb2RlKSA9PT0gJ3Nob3dpbmcnKSB7XG4gICAgICB0cmFja3NbdHJhY2tJZF0ubW9kZSA9ICdoaWRkZW4nO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzKSB7XG4gICAgICB0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSA9XG4gICAgICAgIHRyYWNrSWQgIT09IC0xICYmIHRyYWNrc1t0cmFja0lkXS5tb2RlID09PSAnc2hvd2luZyc7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdpc1RleHRUcmFja1Zpc2libGUnLCB0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSk7XG4gICAgfVxuICAgIHRoaXMuZGlzcGF0Y2goJ3RleHRUcmFja3MnLCB0cmFja3MpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRUZXh0VHJhY2snLCB0aGlzLnNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MgJiYgIXRoaXMuaXNUZXh0VHJhY2tWaXNpYmxlXG4gICAgICA/IC0xXG4gICAgICA6IHRyYWNrSWQpO1xuICB9XG4gIHRvZ2dsZVRleHRUcmFja01vZGVzKG5ld1RyYWNrSWQpIHtcbiAgICBpZiAoaXNOaWwodGhpcy5tZWRpYUVsKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IHRleHRUcmFja3MgfSA9IHRoaXMubWVkaWFFbDtcbiAgICBpZiAobmV3VHJhY2tJZCA9PT0gLTEpIHtcbiAgICAgIEFycmF5LmZyb20odGV4dFRyYWNrcykuZm9yRWFjaCh0cmFjayA9PiB7XG4gICAgICAgIHRyYWNrLm1vZGUgPSAnZGlzYWJsZWQnO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3Qgb2xkVHJhY2sgPSB0ZXh0VHJhY2tzW3RoaXMuY3VycmVudFRleHRUcmFja107XG4gICAgICBpZiAob2xkVHJhY2spXG4gICAgICAgIG9sZFRyYWNrLm1vZGUgPSAnZGlzYWJsZWQnO1xuICAgIH1cbiAgICBjb25zdCBuZXh0VHJhY2sgPSB0ZXh0VHJhY2tzW25ld1RyYWNrSWRdO1xuICAgIGlmIChuZXh0VHJhY2spIHtcbiAgICAgIG5leHRUcmFjay5tb2RlID1cbiAgICAgICAgdGhpcy5pc1RleHRUcmFja1Zpc2libGUgJiYgdGhpcy5zaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzXG4gICAgICAgICAgPyAnc2hvd2luZydcbiAgICAgICAgICA6ICdoaWRkZW4nO1xuICAgIH1cbiAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50VGV4dFRyYWNrJywgdGhpcy5zaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzICYmICF0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZVxuICAgICAgPyAtMVxuICAgICAgOiBuZXdUcmFja0lkKTtcbiAgICB0aGlzLmRpc3BhdGNoKCdpc1RleHRUcmFja1Zpc2libGUnLCB0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG1lZGlhUHJvcHMgPSB7XG4gICAgICBhdXRvcGxheTogdGhpcy5hdXRvcGxheSxcbiAgICAgIG11dGVkOiB0aGlzLm11dGVkLFxuICAgICAgcGxheXNpbmxpbmU6IHRoaXMucGxheXNpbmxpbmUsXG4gICAgICBwbGF5c0lubGluZTogdGhpcy5wbGF5c2lubGluZSxcbiAgICAgICd4NS1wbGF5c2lubGluZSc6IHRoaXMucGxheXNpbmxpbmUsXG4gICAgICAnd2Via2l0LXBsYXlzaW5saW5lJzogdGhpcy5wbGF5c2lubGluZSxcbiAgICAgIGNvbnRyb2xzOiB0aGlzLmNvbnRyb2xzLFxuICAgICAgY3Jvc3NvcmlnaW46IHRoaXMuY3Jvc3NPcmlnaW4gPT09ICcnID8gJ2Fub255bW91cycgOiB0aGlzLmNyb3NzT3JpZ2luLFxuICAgICAgY29udHJvbHNsaXN0OiB0aGlzLmNvbnRyb2xzTGlzdCxcbiAgICAgICdkYXRhLXBvc3Rlcic6ICF0aGlzLmhhc0N1c3RvbVBvc3RlcigpID8gdGhpcy5wb3N0ZXIgOiB1bmRlZmluZWQsXG4gICAgICBsb29wOiB0aGlzLmxvb3AsXG4gICAgICBwcmVsb2FkOiB0aGlzLnByZWxvYWQsXG4gICAgICBkaXNhYmxlUGljdHVyZUluUGljdHVyZTogdGhpcy5kaXNhYmxlUGlQLFxuICAgICAgYXV0b1BpY3R1cmVJblBpY3R1cmU6IHRoaXMuYXV0b1BpUCxcbiAgICAgIGRpc2FibGVSZW1vdGVQbGF5YmFjazogdGhpcy5kaXNhYmxlUmVtb3RlUGxheWJhY2ssXG4gICAgICAneC13ZWJraXQtYWlycGxheSc6IHRoaXMuZGlzYWJsZVJlbW90ZVBsYXliYWNrID8gJ2RlbnknIDogJ2FsbG93JyxcbiAgICAgIHJlZjogKGVsKSA9PiB7XG4gICAgICAgIHRoaXMubWVkaWFFbCA9IGVsO1xuICAgICAgfSxcbiAgICAgIG9uTG9hZGVkTWV0YWRhdGE6IHRoaXMub25Mb2FkZWRNZXRhZGF0YS5iaW5kKHRoaXMpLFxuICAgICAgb25Qcm9ncmVzczogdGhpcy5vblByb2dyZXNzLmJpbmQodGhpcyksXG4gICAgICBvblBsYXk6IHRoaXMub25QbGF5LmJpbmQodGhpcyksXG4gICAgICBvblBhdXNlOiB0aGlzLm9uUGF1c2UuYmluZCh0aGlzKSxcbiAgICAgIG9uUGxheWluZzogdGhpcy5vblBsYXlpbmcuYmluZCh0aGlzKSxcbiAgICAgIG9uU2Vla2luZzogdGhpcy5vblNlZWtpbmcuYmluZCh0aGlzKSxcbiAgICAgIG9uU2Vla2VkOiB0aGlzLm9uU2Vla2VkLmJpbmQodGhpcyksXG4gICAgICBvblJhdGVDaGFuZ2U6IHRoaXMub25SYXRlQ2hhbmdlLmJpbmQodGhpcyksXG4gICAgICBvblZvbHVtZUNoYW5nZTogdGhpcy5vblZvbHVtZUNoYW5nZS5iaW5kKHRoaXMpLFxuICAgICAgb25EdXJhdGlvbkNoYW5nZTogdGhpcy5vbkR1cmF0aW9uQ2hhbmdlLmJpbmQodGhpcyksXG4gICAgICBvbldhaXRpbmc6IHRoaXMub25XYWl0aW5nLmJpbmQodGhpcyksXG4gICAgICBvblN1c3BlbmQ6IHRoaXMub25TdXNwZW5kLmJpbmQodGhpcyksXG4gICAgICBvbkVuZGVkOiB0aGlzLm9uRW5kZWQuYmluZCh0aGlzKSxcbiAgICAgIG9uRXJyb3I6IHRoaXMub25FcnJvci5iaW5kKHRoaXMpLFxuICAgIH07XG4gICAgY29uc3QgYXVkaW8gPSAoaChcImF1ZGlvXCIsIE9iamVjdC5hc3NpZ24oeyBjbGFzczogXCJsYXp5XCIgfSwgbWVkaWFQcm9wcyksIGgoXCJzbG90XCIsIG51bGwpLCBcIllvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZVwiLCBoKFwiY29kZVwiLCBudWxsLCBcImF1ZGlvXCIpLCBcImVsZW1lbnQuXCIpKTtcbiAgICBjb25zdCB2aWRlbyA9IChoKFwidmlkZW9cIiwgT2JqZWN0LmFzc2lnbih7IGNsYXNzOiBcImxhenlcIiB9LCBtZWRpYVByb3BzLCB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBvbmVudGVycGljdHVyZWlucGljdHVyZTogdGhpcy5vbkVudGVyUGlQLmJpbmQodGhpcyksIG9ubGVhdmVwaWN0dXJlaW5waWN0dXJlOiB0aGlzLm9uTGVhdmVQaVAuYmluZCh0aGlzKVxuICAgIH0pLCBoKFwic2xvdFwiLCBudWxsKSwgXCJZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGVcIiwgaChcImNvZGVcIiwgbnVsbCwgXCJ2aWRlb1wiKSwgXCJlbGVtZW50LlwiKSk7XG4gICAgcmV0dXJuIHRoaXMudmlld1R5cGUgPT09IFZpZXdUeXBlLkF1ZGlvID8gYXVkaW8gOiB2aWRlbztcbiAgfVxuICBnZXQgaG9zdCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcIm1lZGlhVGl0bGVcIjogW1wib25NZWRpYVRpdGxlQ2hhbmdlXCJdLFxuICAgIFwicG9zdGVyXCI6IFtcIm9uUG9zdGVyQ2hhbmdlXCJdLFxuICAgIFwidmlld1R5cGVcIjogW1wib25WaWV3VHlwZUNoYW5nZVwiXSxcbiAgICBcImhhc0N1c3RvbVRleHRNYW5hZ2VyXCI6IFtcIm9uSGFzQ3VzdG9tVGV4dE1hbmFnZXJDaGFuZ2VcIl0sXG4gICAgXCJzaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzXCI6IFtcIm9uU2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrc0NoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBmaWxlQ3NzOyB9XG59O1xuXG5jb25zdCBmdWxsc2NyZWVuQ29udHJvbENzcyA9IFwiOmhvc3QoW2hpZGRlbl0pe2Rpc3BsYXk6bm9uZX1cIjtcblxudmFyIF9fYXdhaXRlciRnID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBGdWxsc2NyZWVuQ29udHJvbCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy5jYW5TZXRGdWxsc2NyZWVuID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGVudGVyIGZ1bGxzY3JlZW4gaWNvbiB0byByZXNvbHZlIGZyb20gdGhlIGljb24gbGlicmFyeS5cbiAgICAgKi9cbiAgICB0aGlzLmVudGVySWNvbiA9ICdmdWxsc2NyZWVuLWVudGVyJztcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZXhpdCBmdWxsc2NyZWVuIGljb24gdG8gcmVzb2x2ZSBmcm9tIHRoZSBpY29uIGxpYnJhcnkuXG4gICAgICovXG4gICAgdGhpcy5leGl0SWNvbiA9ICdmdWxsc2NyZWVuLWV4aXQnO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRvb2x0aXAgaXMgcG9zaXRpb25lZCBhYm92ZS9iZWxvdyB0aGUgY29udHJvbC5cbiAgICAgKi9cbiAgICB0aGlzLnRvb2x0aXBQb3NpdGlvbiA9ICd0b3AnO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRvb2x0aXAgc2hvdWxkIG5vdCBiZSBkaXNwbGF5ZWQuXG4gICAgICovXG4gICAgdGhpcy5oaWRlVG9vbHRpcCA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIHRoaXMua2V5cyA9ICdmJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc0Z1bGxzY3JlZW5BY3RpdmUgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pMThuID0ge307XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGxheWJhY2tSZWFkeSA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbJ2lzRnVsbHNjcmVlbkFjdGl2ZScsICdwbGF5YmFja1JlYWR5JywgJ2kxOG4nXSk7XG4gIH1cbiAgb25QbGF5YmFja1JlYWR5Q2hhbmdlKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJGcodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCBwbGF5ZXIgPSBnZXRQbGF5ZXJGcm9tUmVnaXN0cnkodGhpcyk7XG4gICAgICB0aGlzLmNhblNldEZ1bGxzY3JlZW4gPSAoX2EgPSAoeWllbGQgKHBsYXllciA9PT0gbnVsbCB8fCBwbGF5ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYXllci5jYW5TZXRGdWxsc2NyZWVuKCkpKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2U7XG4gICAgfSk7XG4gIH1cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICB0aGlzLm9uUGxheWJhY2tSZWFkeUNoYW5nZSgpO1xuICB9XG4gIG9uQ2xpY2soKSB7XG4gICAgY29uc3QgcGxheWVyID0gZ2V0UGxheWVyRnJvbVJlZ2lzdHJ5KHRoaXMpO1xuICAgICF0aGlzLmlzRnVsbHNjcmVlbkFjdGl2ZVxuICAgICAgPyBwbGF5ZXIgPT09IG51bGwgfHwgcGxheWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbGF5ZXIuZW50ZXJGdWxsc2NyZWVuKClcbiAgICAgIDogcGxheWVyID09PSBudWxsIHx8IHBsYXllciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWVyLmV4aXRGdWxsc2NyZWVuKCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLmlzRnVsbHNjcmVlbkFjdGl2ZVxuICAgICAgPyB0aGlzLmkxOG4uZXhpdEZ1bGxzY3JlZW5cbiAgICAgIDogdGhpcy5pMThuLmVudGVyRnVsbHNjcmVlbjtcbiAgICBjb25zdCB0b29sdGlwV2l0aEhpbnQgPSAhaXNVbmRlZmluZWQodGhpcy5rZXlzKVxuICAgICAgPyBgJHt0b29sdGlwfSAoJHt0aGlzLmtleXN9KWBcbiAgICAgIDogdG9vbHRpcDtcbiAgICByZXR1cm4gKGgoSG9zdCwgeyBoaWRkZW46ICF0aGlzLmNhblNldEZ1bGxzY3JlZW4gfSwgaChcInZtLWNvbnRyb2xcIiwgeyBsYWJlbDogdGhpcy5pMThuLmZ1bGxzY3JlZW4sIGtleXM6IHRoaXMua2V5cywgcHJlc3NlZDogdGhpcy5pc0Z1bGxzY3JlZW5BY3RpdmUsIGhpZGRlbjogIXRoaXMuY2FuU2V0RnVsbHNjcmVlbiwgb25DbGljazogdGhpcy5vbkNsaWNrLmJpbmQodGhpcykgfSwgaChcInZtLWljb25cIiwgeyBuYW1lOiB0aGlzLmlzRnVsbHNjcmVlbkFjdGl2ZSA/IHRoaXMuZXhpdEljb24gOiB0aGlzLmVudGVySWNvbiwgbGlicmFyeTogdGhpcy5pY29ucyB9KSwgaChcInZtLXRvb2x0aXBcIiwgeyBoaWRkZW46IHRoaXMuaGlkZVRvb2x0aXAsIHBvc2l0aW9uOiB0aGlzLnRvb2x0aXBQb3NpdGlvbiwgZGlyZWN0aW9uOiB0aGlzLnRvb2x0aXBEaXJlY3Rpb24gfSwgdG9vbHRpcFdpdGhIaW50KSkpKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwicGxheWJhY2tSZWFkeVwiOiBbXCJvblBsYXliYWNrUmVhZHlDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gZnVsbHNjcmVlbkNvbnRyb2xDc3M7IH1cbn07XG5cbnZhciBfX2F3YWl0ZXIkZiA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuY29uc3QgSExTID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIHRoaXMudm1Mb2FkU3RhcnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtTG9hZFN0YXJ0XCIsIDcpO1xuICAgIHRoaXMudm1FcnJvciA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1FcnJvclwiLCA3KTtcbiAgICB0aGlzLmhhc0F0dGFjaGVkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVGhlIE5QTSBwYWNrYWdlIHZlcnNpb24gb2YgdGhlIGBobHMuanNgIGxpYnJhcnkgdG8gZG93bmxvYWQgYW5kIHVzZSBpZiBITFMgaXMgbm90IG5hdGl2ZWx5XG4gICAgICogc3VwcG9ydGVkLlxuICAgICAqL1xuICAgIHRoaXMudmVyc2lvbiA9ICdsYXRlc3QnO1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIHRoaXMucHJlbG9hZCA9ICdtZXRhZGF0YSc7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGxheWJhY2tSZWFkeSA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUHJvdmlkZXJDb25uZWN0KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFsncGxheWJhY2tSZWFkeSddKTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmRpc3BhdGNoID0gY3JlYXRlUHJvdmlkZXJEaXNwYXRjaGVyKHRoaXMpO1xuICAgIGlmICh0aGlzLm1lZGlhRWwpXG4gICAgICB0aGlzLnNldHVwSGxzKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5kZXN0cm95SGxzKCk7XG4gIH1cbiAgZ2V0IHNyYygpIHtcbiAgICBpZiAoaXNOaWwodGhpcy52aWRlb1Byb3ZpZGVyKSlcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3Qgc291cmNlcyA9IHRoaXMudmlkZW9Qcm92aWRlci5xdWVyeVNlbGVjdG9yQWxsKCdzb3VyY2UnKTtcbiAgICBjb25zdCBjdXJyU291cmNlID0gQXJyYXkuZnJvbShzb3VyY2VzKS5maW5kKHNvdXJjZSA9PiBobHNSZWdleC50ZXN0KHNvdXJjZS5zcmMpIHx8IGhsc1R5cGVSZWdleC50ZXN0KHNvdXJjZS50eXBlKSk7XG4gICAgcmV0dXJuIGN1cnJTb3VyY2UgPT09IG51bGwgfHwgY3VyclNvdXJjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VyclNvdXJjZS5zcmM7XG4gIH1cbiAgc2V0dXBIbHMoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRmKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLmhscykpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMubGliU3JjIHx8XG4gICAgICAgICAgYGh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vaGxzLmpzQCR7dGhpcy52ZXJzaW9ufS9kaXN0L2hscy5taW4uanNgO1xuICAgICAgICBjb25zdCBIbHMgPSAoeWllbGQgbG9hZFNESyh1cmwsICdIbHMnKSk7XG4gICAgICAgIGlmICghSGxzLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICB0aGlzLnZtRXJyb3IuZW1pdCgnaGxzLmpzIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5obHMgPSBuZXcgSGxzKHRoaXMuY29uZmlnKTtcbiAgICAgICAgdGhpcy5obHMub24oSGxzLkV2ZW50cy5NRURJQV9BVFRBQ0hFRCwgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaGFzQXR0YWNoZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMub25TcmNDaGFuZ2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGxzLm9uKEhscy5FdmVudHMuQVVESU9fVFJBQ0tTX1VQREFURUQsICgpID0+IHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdhdWRpb1RyYWNrcycsIHRoaXMuaGxzLmF1ZGlvVHJhY2tzKTtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50QXVkaW9UcmFjaycsIHRoaXMuaGxzLmF1ZGlvVHJhY2spO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5obHMub24oSGxzLkV2ZW50cy5BVURJT19UUkFDS19TV0lUQ0hFRCwgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRBdWRpb1RyYWNrJywgdGhpcy5obHMuYXVkaW9UcmFjayk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhscy5vbihIbHMuRXZlbnRzLkVSUk9SLCAoZXZlbnQsIGRhdGEpID0+IHtcbiAgICAgICAgICBpZiAoZGF0YS5mYXRhbCkge1xuICAgICAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBIbHMuRXJyb3JUeXBlcy5ORVRXT1JLX0VSUk9SOlxuICAgICAgICAgICAgICAgIHRoaXMuaGxzLnN0YXJ0TG9hZCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIEhscy5FcnJvclR5cGVzLk1FRElBX0VSUk9SOlxuICAgICAgICAgICAgICAgIHRoaXMuaGxzLnJlY292ZXJNZWRpYUVycm9yKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95SGxzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMudm1FcnJvci5lbWl0KHsgZXZlbnQsIGRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhscy5vbihIbHMuRXZlbnRzLk1BTklGRVNUX1BBUlNFRCwgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ21lZGlhVHlwZScsIE1lZGlhVHlwZS5WaWRlbyk7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFNyYycsIHRoaXMuc3JjKTtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoTGV2ZWxzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhscy5vbihIbHMuRXZlbnRzLkxFVkVMX0xPQURFRCwgKF8sIGRhdGEpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMucGxheWJhY2tSZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCgnZHVyYXRpb24nLCBkYXRhLmRldGFpbHMudG90YWxkdXJhdGlvbik7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1JlYWR5JywgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5obHMuYXR0YWNoTWVkaWEodGhpcy5tZWRpYUVsKTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRoaXMudm1FcnJvci5lbWl0KGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGRpc3BhdGNoTGV2ZWxzKCkge1xuICAgIGlmICghdGhpcy5obHMubGV2ZWxzIHx8IHRoaXMuaGxzLmxldmVscy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tRdWFsaXRpZXMnLCBbXG4gICAgICAnQXV0bycsXG4gICAgICAuLi50aGlzLmhscy5sZXZlbHMubWFwKHRoaXMubGV2ZWxUb1BsYXliYWNrUXVhbGl0eSksXG4gICAgXSk7XG4gICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tRdWFsaXR5JywgJ0F1dG8nKTtcbiAgfVxuICBsZXZlbFRvUGxheWJhY2tRdWFsaXR5KGxldmVsKSB7XG4gICAgcmV0dXJuIGxldmVsID09PSAtMSA/ICdBdXRvJyA6IGAke2xldmVsLmhlaWdodH1wYDtcbiAgfVxuICBmaW5kTGV2ZWxJbmRleEZyb21RdWFsaXR5KHF1YWxpdHkpIHtcbiAgICByZXR1cm4gdGhpcy5obHMubGV2ZWxzLmZpbmRJbmRleCgobGV2ZWwpID0+IHRoaXMubGV2ZWxUb1BsYXliYWNrUXVhbGl0eShsZXZlbCkgPT09IHF1YWxpdHkpO1xuICB9XG4gIGRlc3Ryb3lIbHMoKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IHRoaXMuaGxzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVzdHJveSgpO1xuICAgIHRoaXMuaGFzQXR0YWNoZWQgPSBmYWxzZTtcbiAgfVxuICBvbk1lZGlhRWxDaGFuZ2UoZXZlbnQpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJGYodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICB0aGlzLmRlc3Ryb3lIbHMoKTtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChldmVudC5kZXRhaWwpKVxuICAgICAgICByZXR1cm47XG4gICAgICB0aGlzLm1lZGlhRWwgPSBldmVudC5kZXRhaWw7XG4gICAgICAvLyBOZWVkIGEgc21hbGwgZGVsYXkgaW5jYXNlIHRoZSBtZWRpYSBlbGVtZW50IGNoYW5nZXMgcmFwaWRseSBhbmQgSGxzLmpzIGNhbid0IHJlYXR0YWNoLlxuICAgICAgc2V0VGltZW91dCgoKSA9PiBfX2F3YWl0ZXIkZih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgeWllbGQgdGhpcy5zZXR1cEhscygpO1xuICAgICAgfSksIDUwKTtcbiAgICB9KTtcbiAgfVxuICBvblNyY0NoYW5nZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRmKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgaWYgKHRoaXMuaGFzQXR0YWNoZWQgJiYgdGhpcy5obHMudXJsICE9PSB0aGlzLnNyYykge1xuICAgICAgICB0aGlzLnZtTG9hZFN0YXJ0LmVtaXQoKTtcbiAgICAgICAgKF9hID0gdGhpcy5obHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sb2FkU291cmNlKHRoaXMuc3JjKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGdldEFkYXB0ZXIoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gX19hd2FpdGVyJGYodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCBhZGFwdGVyID0gKF9iID0gKHlpZWxkICgoX2EgPSB0aGlzLnZpZGVvUHJvdmlkZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRBZGFwdGVyKCkpKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDoge307XG4gICAgICBjb25zdCBjYW5WaWRlb1Byb3ZpZGVyUGxheSA9IGFkYXB0ZXIuY2FuUGxheTtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGFkYXB0ZXIpLCB7IGdldEludGVybmFsUGxheWVyOiAoKSA9PiBfX2F3YWl0ZXIkZih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIHRoaXMuaGxzOyB9KSwgY2FuUGxheTogKHR5cGUpID0+IF9fYXdhaXRlciRmKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHZhciBfYztcbiAgICAgICAgICByZXR1cm4gKGlzU3RyaW5nKHR5cGUpICYmIGhsc1JlZ2V4LnRlc3QodHlwZSkpIHx8XG4gICAgICAgICAgICAoKF9jID0gY2FuVmlkZW9Qcm92aWRlclBsYXkgPT09IG51bGwgfHwgY2FuVmlkZW9Qcm92aWRlclBsYXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhblZpZGVvUHJvdmlkZXJQbGF5KHR5cGUpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBmYWxzZSk7XG4gICAgICAgIH0pLCBjYW5TZXRQbGF5YmFja1F1YWxpdHk6ICgpID0+IF9fYXdhaXRlciRmKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyB2YXIgX2QsIF9lOyByZXR1cm4gKChfZSA9IChfZCA9IHRoaXMuaGxzKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QubGV2ZWxzKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UubGVuZ3RoKSA+IDA7IH0pLCBzZXRQbGF5YmFja1F1YWxpdHk6IChxdWFsaXR5KSA9PiBfX2F3YWl0ZXIkZih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuaGxzKSkge1xuICAgICAgICAgICAgdGhpcy5obHMuY3VycmVudExldmVsID0gdGhpcy5maW5kTGV2ZWxJbmRleEZyb21RdWFsaXR5KHF1YWxpdHkpO1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBwcm92aWRlciBjYWNoZS5cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrUXVhbGl0eScsIHF1YWxpdHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksIHNldEN1cnJlbnRBdWRpb1RyYWNrOiAodHJhY2tJZCkgPT4gX19hd2FpdGVyJGYodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLmhscykpIHtcbiAgICAgICAgICAgIHRoaXMuaGxzLmF1ZGlvVHJhY2sgPSB0cmFja0lkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcInZtLXZpZGVvXCIsIHsgd2lsbEF0dGFjaDogdHJ1ZSwgY3Jvc3NPcmlnaW46IHRoaXMuY3Jvc3NPcmlnaW4sIHByZWxvYWQ6IHRoaXMucHJlbG9hZCwgcG9zdGVyOiB0aGlzLnBvc3RlciwgY29udHJvbHNMaXN0OiB0aGlzLmNvbnRyb2xzTGlzdCwgYXV0b1BpUDogdGhpcy5hdXRvUGlQLCBkaXNhYmxlUGlQOiB0aGlzLmRpc2FibGVQaVAsIGRpc2FibGVSZW1vdGVQbGF5YmFjazogdGhpcy5kaXNhYmxlUmVtb3RlUGxheWJhY2ssIG1lZGlhVGl0bGU6IHRoaXMubWVkaWFUaXRsZSwgcmVmOiAoZWwpID0+IHtcbiAgICAgICAgdGhpcy52aWRlb1Byb3ZpZGVyID0gZWw7XG4gICAgICB9IH0sIGgoXCJzbG90XCIsIG51bGwpKSk7XG4gIH1cbn07XG5cbi8qKlxuICogSU5TUElSRUQgQlk6IGh0dHBzOi8vZ2l0aHViLmNvbS9zaG9lbGFjZS1zdHlsZS9zaG9lbGFjZS9ibG9iL25leHQvc3JjL2NvbXBvbmVudHMvaWNvbi1saWJyYXJ5L2ljb24tbGlicmFyeS1yZWdpc3RyeS50c1xuICovXG5jb25zdCBJQ09OU19CQVNFX0NETl9VUkwgPSAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9AdmltZS9jb3JlQGxhdGVzdC9pY29ucyc7XG5jb25zdCByZWdpc3RyeSA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoe1xuICB2aW1lOiBpY29uTmFtZSA9PiBgJHtJQ09OU19CQVNFX0NETl9VUkx9L3ZpbWUvdm0tJHtpY29uTmFtZX0uc3ZnYCxcbiAgbWF0ZXJpYWw6IGljb25OYW1lID0+IGAke0lDT05TX0JBU0VfQ0ROX1VSTH0vbWF0ZXJpYWwvbWQtJHtpY29uTmFtZX0uc3ZnYCxcbn0pKTtcbmNvbnN0IHdhdGNoID0gbmV3IFNldCgpO1xuZnVuY3Rpb24gd2l0aEljb25SZWdpc3RyeShjb21wb25lbnQpIHtcbiAgY29uc3QgZWwgPSBnZXRFbGVtZW50KGNvbXBvbmVudCk7XG4gIGNyZWF0ZVN0ZW5jaWxIb29rKGNvbXBvbmVudCwgKCkgPT4ge1xuICAgIHdhdGNoLmFkZChlbCk7XG4gIH0sICgpID0+IHtcbiAgICB3YXRjaC5kZWxldGUoZWwpO1xuICB9KTtcbn1cbmNvbnN0IGdldEljb25MaWJyYXJ5UmVzb2x2ZXIgPSAobmFtZSkgPT4gcmVnaXN0cnkuZ2V0KG5hbWUpO1xuZnVuY3Rpb24gcmVnaXN0ZXJJY29uTGlicmFyeShuYW1lLCByZXNvbHZlcikge1xuICBpZiAoIWlzVW5kZWZpbmVkKHJlc29sdmVyKSkge1xuICAgIHJlZ2lzdHJ5LnNldChuYW1lLCByZXNvbHZlcik7XG4gIH1cbiAgLy8gUmVkcmF3IHdhdGNoZWQgaWNvbnMuXG4gIHdhdGNoLmZvckVhY2goaWNvbkVsID0+IHtcbiAgICBpZiAoaWNvbkVsLmxpYnJhcnkgPT09IG5hbWUpXG4gICAgICBpY29uRWwucmVkcmF3KCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gZGVyZWdpc3Rlckljb25MaWJyYXJ5KG5hbWUpIHtcbiAgcmVnaXN0cnkuZGVsZXRlKG5hbWUpO1xufVxuXG4vKipcbiAqIElOU1BJUkVEIEJZOiBodHRwczovL2dpdGh1Yi5jb20vc2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvYmxvYi9uZXh0L3NyYy9jb21wb25lbnRzL2ljb24vcmVxdWVzdC50c1xuICovXG52YXIgX19hd2FpdGVyJGUgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuY29uc3QgaWNvbkZpbGVzID0gbmV3IE1hcCgpO1xuY29uc3QgcmVxdWVzdEljb24gPSAodXJsKSA9PiB7XG4gIGlmIChpY29uRmlsZXMuaGFzKHVybCkpXG4gICAgcmV0dXJuIGljb25GaWxlcy5nZXQodXJsKTtcbiAgY29uc3QgcmVxdWVzdCA9IGZldGNoKHVybCkudGhlbigocmVzcG9uc2UpID0+IF9fYXdhaXRlciRlKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRpdi5pbm5lckhUTUwgPSB5aWVsZCByZXNwb25zZS50ZXh0KCk7XG4gICAgICBjb25zdCBzdmcgPSBkaXYuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdmc6IHN2ZyAmJiBzdmcudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc3ZnJyA/IHN2Zy5vdXRlckhUTUwgOiAnJyxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICB9O1xuICB9KSk7XG4gIGljb25GaWxlcy5zZXQodXJsLCByZXF1ZXN0KTtcbiAgcmV0dXJuIHJlcXVlc3Q7XG59O1xuXG5jb25zdCBpY29uQ3NzID0gXCI6aG9zdHtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoxZW07aGVpZ2h0OjFlbTtjb250YWluOnN0cmljdDtib3gtc2l6aW5nOmNvbnRlbnQtYm94ICFpbXBvcnRhbnR9Lmljb24sc3Zne2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTt0cmFuc2l0aW9uOnZhcigtLXZtLWljb24tdHJhbnNpdGlvbik7dHJhbnNmb3JtOnZhcigtLXZtLWljb24tdHJhbnNmb3JtKTtmaWxsOnZhcigtLXZtLWljb24tZmlsbCwgY3VycmVudENvbG9yKTtzdHJva2U6dmFyKC0tdm0taWNvbi1zdHJva2UpfVwiO1xuXG4vKipcbiAqIElOU1BJUkVEIEJZOiBodHRwczovL2dpdGh1Yi5jb20vc2hvZWxhY2Utc3R5bGUvc2hvZWxhY2UvYmxvYi9uZXh0L3NyYy9jb21wb25lbnRzL2ljb24vaWNvbi50c3hcbiAqL1xudmFyIF9fYXdhaXRlciRkID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG5jb25zdCBJY29uID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLnZtTG9hZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1Mb2FkXCIsIDcpO1xuICAgIHRoaXMudm1FcnJvciA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1FcnJvclwiLCA3KTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pY29ucyA9ICdtYXRlcmlhbCc7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhJY29uUmVnaXN0cnkodGhpcyk7XG4gIH1cbiAgaGFuZGxlQ2hhbmdlKCkge1xuICAgIHRoaXMuc2V0SWNvbigpO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFsnaWNvbnMnXSk7XG4gIH1cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICB0aGlzLnNldEljb24oKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsIEZldGNoZXMgdGhlIGljb24gYW5kIHJlZHJhd3MgaXQuIFVzZWQgdG8gaGFuZGxlIGxpYnJhcnkgcmVnaXN0cmF0aW9ucy5cbiAgICovXG4gIHJlZHJhdygpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJGQodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICB0aGlzLnNldEljb24oKTtcbiAgICB9KTtcbiAgfVxuICBnZXRMYWJlbCgpIHtcbiAgICBsZXQgbGFiZWwgPSAnJztcbiAgICBpZiAodGhpcy5sYWJlbCkge1xuICAgICAgbGFiZWwgPSB0aGlzLmxhYmVsO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLm5hbWUpIHtcbiAgICAgIGxhYmVsID0gdGhpcy5uYW1lLnJlcGxhY2UoLy0vZywgJyAnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5zcmMpIHtcbiAgICAgIGxhYmVsID0gdGhpcy5zcmNcbiAgICAgICAgLnJlcGxhY2UoLy4qXFwvLywgJycpXG4gICAgICAgIC5yZXBsYWNlKC8tL2csICcgJylcbiAgICAgICAgLnJlcGxhY2UoL1xcLnN2Zy9pLCAnJyk7XG4gICAgfVxuICAgIHJldHVybiBsYWJlbDtcbiAgfVxuICBzZXRJY29uKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJGQodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCByZXNvbHZlciA9IGdldEljb25MaWJyYXJ5UmVzb2x2ZXIoKF9hID0gdGhpcy5saWJyYXJ5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmljb25zKTtcbiAgICAgIGxldCB1cmwgPSB0aGlzLnNyYztcbiAgICAgIGlmICh0aGlzLm5hbWUgJiYgcmVzb2x2ZXIpIHtcbiAgICAgICAgdXJsID0gcmVzb2x2ZXIodGhpcy5uYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBmaWxlID0geWllbGQgcmVxdWVzdEljb24odXJsKTtcbiAgICAgICAgICBpZiAoZmlsZS5vaykge1xuICAgICAgICAgICAgY29uc3QgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhmaWxlLnN2ZywgJ3RleHQvaHRtbCcpO1xuICAgICAgICAgICAgY29uc3Qgc3ZnID0gZG9jLmJvZHkucXVlcnlTZWxlY3Rvcignc3ZnJyk7XG4gICAgICAgICAgICBpZiAoc3ZnKSB7XG4gICAgICAgICAgICAgIHRoaXMuc3ZnID0gc3ZnLm91dGVySFRNTDtcbiAgICAgICAgICAgICAgdGhpcy52bUxvYWQuZW1pdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuc3ZnID0gJyc7XG4gICAgICAgICAgICAgIHRoaXMudm1FcnJvci5lbWl0KHsgc3RhdHVzOiBmaWxlLnN0YXR1cyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9iKSB7XG4gICAgICAgICAgdGhpcy52bUVycm9yLmVtaXQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogXCJpY29uXCIsIHJvbGU6IFwiaW1nXCIsIFwiYXJpYS1sYWJlbFwiOiB0aGlzLmdldExhYmVsKCksIGlubmVySFRNTDogdGhpcy5zdmcgfSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJuYW1lXCI6IFtcImhhbmRsZUNoYW5nZVwiXSxcbiAgICBcInNyY1wiOiBbXCJoYW5kbGVDaGFuZ2VcIl0sXG4gICAgXCJsaWJyYXJ5XCI6IFtcImhhbmRsZUNoYW5nZVwiXSxcbiAgICBcImljb25zXCI6IFtcImhhbmRsZUNoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBpY29uQ3NzOyB9XG59O1xuXG5jb25zdCBJY29uTGlicmFyeSA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaWNvbnMgPSAnbWF0ZXJpYWwnO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbJ2ljb25zJ10pO1xuICB9XG4gIGhhbmRsZVVwZGF0ZSgpIHtcbiAgICB0aGlzLnJlZ2lzdGVyKCk7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5yZWdpc3RlcigpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5uYW1lKSlcbiAgICAgIGRlcmVnaXN0ZXJJY29uTGlicmFyeSh0aGlzLm5hbWUpO1xuICB9XG4gIHJlZ2lzdGVyKCkge1xuICAgIHZhciBfYTtcbiAgICByZWdpc3Rlckljb25MaWJyYXJ5KChfYSA9IHRoaXMubmFtZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5pY29ucywgdGhpcy5uYW1lID8gdGhpcy5yZXNvbHZlciA6IHVuZGVmaW5lZCk7XG4gIH1cbiAgZ2V0IGhvc3QoKSB7IHJldHVybiB0aGlzOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJuYW1lXCI6IFtcImhhbmRsZVVwZGF0ZVwiXSxcbiAgICBcInJlc29sdmVyXCI6IFtcImhhbmRsZVVwZGF0ZVwiXSxcbiAgICBcImljb25zXCI6IFtcImhhbmRsZVVwZGF0ZVwiXVxuICB9OyB9XG59O1xuXG5jb25zdCBsaXZlSW5kaWNhdG9yQ3NzID0gXCIubGl2ZUluZGljYXRvcntkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2ZvbnQtc2l6ZToxM3B4O2ZvbnQtd2VpZ2h0OmJvbGQ7bGV0dGVyLXNwYWNpbmc6MC42cHg7Y29sb3I6dmFyKC0tdm0tY29udHJvbC1jb2xvcil9LmxpdmVJbmRpY2F0b3IuaGlkZGVue2Rpc3BsYXk6bm9uZX0uaW5kaWNhdG9ye2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjhweDtoZWlnaHQ6OHB4O2JvcmRlci1yYWRpdXM6NTAlO21hcmdpbi1yaWdodDo0cHg7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS12bS1saXZlLWluZGljYXRvci1jb2xvciwgcmVkKX1cIjtcblxuY29uc3QgTGl2ZUluZGljYXRvciA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNMaXZlID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaTE4biA9IHt9O1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbJ2lzTGl2ZScsICdpMThuJ10pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczoge1xuICAgICAgICBsaXZlSW5kaWNhdG9yOiB0cnVlLFxuICAgICAgICBoaWRkZW46ICF0aGlzLmlzTGl2ZSxcbiAgICAgIH0gfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImluZGljYXRvclwiIH0pLCB0aGlzLmkxOG4ubGl2ZSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBsaXZlSW5kaWNhdG9yQ3NzOyB9XG59O1xuXG5jb25zdCBsb2FkaW5nU2NyZWVuQ3NzID0gXCI6aG9zdHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6dmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tei1pbmRleCk7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5sb2FkaW5nU2NyZWVue29wYWNpdHk6MTAwO3RyYW5zaXRpb246dmFyKC0tdm0tZmFkZS10cmFuc2l0aW9uKX0ubG9hZGluZ1NjcmVlbi5pbmFjdGl2ZXtvcGFjaXR5OjB9LmRvdFB1bHNle3Bvc2l0aW9uOnJlbGF0aXZlO2xlZnQ6LTk5OTlweDt3aWR0aDp2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3Qtc2l6ZSk7aGVpZ2h0OnZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1zaXplKTtib3JkZXItcmFkaXVzOmNhbGModmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LXNpemUpIC8gMik7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3QtY29sb3IpO2NvbG9yOnZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcik7Ym94LXNoYWRvdzo5OTk5cHggMCAwIGNhbGMoY2FsYyh2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3Qtc2l6ZSkgLyAyKSAqIC0xKVxcbiAgICB2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3QtY29sb3IpO2FuaW1hdGlvbjpkb3RQdWxzZSB2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1wdWxzZS1kdXJhdGlvbikgaW5maW5pdGUgbGluZWFyO2FuaW1hdGlvbi1kZWxheTpjYWxjKHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLXB1bHNlLWR1cmF0aW9uKSAvIDYpfS5kb3RQdWxzZTo6YmVmb3JlLC5kb3RQdWxzZTo6YWZ0ZXJ7Y29udGVudDonJztkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDt3aWR0aDp2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3Qtc2l6ZSk7aGVpZ2h0OnZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1zaXplKTtib3JkZXItcmFkaXVzOmNhbGModmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LXNpemUpIC8gMik7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3QtY29sb3IpO2NvbG9yOnZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcil9LmRvdFB1bHNlOjpiZWZvcmV7Ym94LXNoYWRvdzo5OTg0cHggMCAwIGNhbGMoY2FsYyh2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3Qtc2l6ZSkgLyAyKSAqIC0xKVxcbiAgICB2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3QtY29sb3IpO2FuaW1hdGlvbjpkb3RQdWxzZUJlZm9yZSB2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1wdWxzZS1kdXJhdGlvbikgaW5maW5pdGVcXG4gICAgbGluZWFyO2FuaW1hdGlvbi1kZWxheTowc30uZG90UHVsc2U6OmFmdGVye2JveC1zaGFkb3c6MTAwMTRweCAwIDAgY2FsYyhjYWxjKHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1zaXplKSAvIDIpICogLTEpXFxuICAgIHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcik7YW5pbWF0aW9uOmRvdFB1bHNlQWZ0ZXIgdmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tcHVsc2UtZHVyYXRpb24pIGluZmluaXRlXFxuICAgIGxpbmVhcjthbmltYXRpb24tZGVsYXk6Y2FsYyh2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1wdWxzZS1kdXJhdGlvbikgLyAzKX1Aa2V5ZnJhbWVzIGRvdFB1bHNlQmVmb3JlezAle2JveC1zaGFkb3c6OTk4NHB4IDAgMFxcbiAgICAgIGNhbGMoY2FsYyh2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3Qtc2l6ZSkgLyAyKSAqIC0xKVxcbiAgICAgIHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcil9MzAle2JveC1zaGFkb3c6OTk4NHB4IDAgMCAycHggdmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LWNvbG9yKX02MCUsMTAwJXtib3gtc2hhZG93Ojk5ODRweCAwIDBcXG4gICAgICBjYWxjKGNhbGModmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LXNpemUpIC8gMikgKiAtMSlcXG4gICAgICB2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3QtY29sb3IpfX1Aa2V5ZnJhbWVzIGRvdFB1bHNlezAle2JveC1zaGFkb3c6OTk5OXB4IDAgMFxcbiAgICAgIGNhbGMoY2FsYyh2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3Qtc2l6ZSkgLyAyKSAqIC0xKVxcbiAgICAgIHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcil9MzAle2JveC1zaGFkb3c6OTk5OXB4IDAgMCAycHggdmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LWNvbG9yKX02MCUsMTAwJXtib3gtc2hhZG93Ojk5OTlweCAwIDBcXG4gICAgICBjYWxjKGNhbGModmFyKC0tdm0tbG9hZGluZy1zY3JlZW4tZG90LXNpemUpIC8gMikgKiAtMSlcXG4gICAgICB2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3QtY29sb3IpfX1Aa2V5ZnJhbWVzIGRvdFB1bHNlQWZ0ZXJ7MCV7Ym94LXNoYWRvdzoxMDAxNHB4IDAgMFxcbiAgICAgIGNhbGMoY2FsYyh2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3Qtc2l6ZSkgLyAyKSAqIC0xKVxcbiAgICAgIHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcil9MzAle2JveC1zaGFkb3c6MTAwMTRweCAwIDAgMnB4IHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcil9NjAlLDEwMCV7Ym94LXNoYWRvdzoxMDAxNHB4IDAgMFxcbiAgICAgIGNhbGMoY2FsYyh2YXIoLS12bS1sb2FkaW5nLXNjcmVlbi1kb3Qtc2l6ZSkgLyAyKSAqIC0xKVxcbiAgICAgIHZhcigtLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcil9fVwiO1xuXG5jb25zdCBMb2FkaW5nU2NyZWVuID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5YmFja1JlYWR5ID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgbG9hZGluZyBkb3RzIGFyZSBoaWRkZW4gb3Igbm90LlxuICAgICAqL1xuICAgIHRoaXMuaGlkZURvdHMgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgWydwbGF5YmFja1JlYWR5J10pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczoge1xuICAgICAgICBsb2FkaW5nU2NyZWVuOiB0cnVlLFxuICAgICAgICBpbmFjdGl2ZTogdGhpcy5wbGF5YmFja1JlYWR5LFxuICAgICAgfSB9LCBoKFwic2xvdFwiLCBudWxsKSwgIXRoaXMuaGlkZURvdHMgJiYgaChcImRpdlwiLCB7IGNsYXNzOiBcImRvdFB1bHNlXCIgfSkpKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gbG9hZGluZ1NjcmVlbkNzczsgfVxufTtcblxuZnVuY3Rpb24gdW53cmFwU3VibWVudShlbCkge1xuICBpZiAoZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAndm0tc3VibWVudScpXG4gICAgcmV0dXJuIGVsO1xuICBjb25zdCBzdWJtZW51ID0gZWw7XG4gIHJldHVybiBzdWJtZW51LnNoYWRvd1Jvb3QucXVlcnlTZWxlY3Rvcigndm0tbWVudS1pdGVtJyk7XG59XG5mdW5jdGlvbiB1bndyYXBSYWRpb0dyb3VwKGVsKSB7XG4gIHZhciBfYTtcbiAgaWYgKGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ3ZtLW1lbnUtcmFkaW8tZ3JvdXAnKVxuICAgIHJldHVybiBlbDtcbiAgY29uc3QgcmFkaW9Hcm91cCA9IGVsO1xuICBjb25zdCBzbG90ID0gcmFkaW9Hcm91cC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ3Nsb3QnKTtcbiAgY29uc3QgYXNzaWduZWRFbGVtZW50cyA9IEFycmF5LmZyb20oKF9hID0gc2xvdCA9PT0gbnVsbCB8fCBzbG90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzbG90LmFzc2lnbmVkRWxlbWVudHMoKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10pO1xuICByZXR1cm4gYXNzaWduZWRFbGVtZW50c1xuICAgIC5maWx0ZXIocmFkaW8gPT4gcmFkaW8udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndm0tbWVudS1yYWRpbycpXG4gICAgLm1hcChyYWRpbyA9PiByYWRpby5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ3ZtLW1lbnUtaXRlbScpKTtcbn1cbmZ1bmN0aW9uIG1lbnVJdGVtSHVudGVyKGFzc2lnbmVkRWxlbWVudHMpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKGFzc2lnbmVkRWxlbWVudHMpKVxuICAgIHJldHVybiBbXTtcbiAgY29uc3QgYWxsb3dlZCA9IFsndm0tbWVudS1pdGVtJywgJ3ZtLW1lbnUtcmFkaW8tZ3JvdXAnLCAndm0tc3VibWVudSddO1xuICByZXR1cm4gQXJyYXkuZnJvbShhc3NpZ25lZEVsZW1lbnRzICE9PSBudWxsICYmIGFzc2lnbmVkRWxlbWVudHMgIT09IHZvaWQgMCA/IGFzc2lnbmVkRWxlbWVudHMgOiBbXSlcbiAgICAuZmlsdGVyKGVsID0+IGFsbG93ZWQuaW5jbHVkZXMoZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSlcbiAgICAubWFwKGVsID0+IHVud3JhcFN1Ym1lbnUoZWwpKVxuICAgIC5tYXAoZWwgPT4gdW53cmFwUmFkaW9Hcm91cChlbCkpXG4gICAgLnJlZHVjZSgoYWNjLCB2YWwpID0+IGFjYy5jb25jYXQodmFsKSwgW10pO1xufVxuXG5jb25zdCBtZW51Q3NzID0gXCI6aG9zdHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtvdmVyZmxvdzpoaWRkZW47cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OnZhcigtLXZtLW1lbnUtei1pbmRleCl9Omhvc3QoW2FjdGl2ZV0pe3BvaW50ZXItZXZlbnRzOmF1dG87ei1pbmRleDpjYWxjKHZhcigtLXZtLW1lbnUtei1pbmRleCkgKyAxKX0ubWVudXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtib3gtc2l6aW5nOmJvcmRlci1ib3g7dHJhbnNpdGlvbjp2YXIoLS12bS1tZW51LXRyYW5zaXRpb24pfS5tZW51LnNsaWRlSW57dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCl9Lm1lbnVbYXJpYS1oaWRkZW49J3RydWUnXS5zbGlkZUluRnJvbUxlZnR7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTEwMCUpfS5tZW51W2FyaWEtaGlkZGVuPSd0cnVlJ10uc2xpZGVJbkZyb21SaWdodHt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMDAlKX0uY29udGFpbmVye2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47cG9zaXRpb246cmVsYXRpdmU7dGV4dC1hbGlnbjpsZWZ0O3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Y29sb3I6dmFyKC0tdm0tbWVudS1jb2xvcik7YmFja2dyb3VuZDp2YXIoLS12bS1tZW51LWJnKTtmb250LXNpemU6dmFyKC0tdm0tbWVudS1mb250LXNpemUpO2ZvbnQtd2VpZ2h0OnZhcigtLXZtLW1lbnUtZm9udC13ZWlnaHQpfS5tZW51OmZvY3Vze291dGxpbmU6MH1cIjtcblxudmFyIF9fYXdhaXRlciRjID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBNZW51ID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLnZtT3BlbiA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1PcGVuXCIsIDcpO1xuICAgIHRoaXMudm1DbG9zZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1DbG9zZVwiLCA3KTtcbiAgICB0aGlzLnZtRm9jdXMgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtRm9jdXNcIiwgNyk7XG4gICAgdGhpcy52bUJsdXIgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQmx1clwiLCA3KTtcbiAgICB0aGlzLnZtQWN0aXZlU3VibWVudUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1BY3RpdmVTdWJtZW51Q2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1BY3RpdmVNZW51SXRlbUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1BY3RpdmVNZW51SXRlbUNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtTWVudUhlaWdodENoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1NZW51SGVpZ2h0Q2hhbmdlXCIsIDMpO1xuICAgIHRoaXMuaGFzRGlzY29ubmVjdGVkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgbWVudSBpcyBvcGVuL3Zpc2libGUuXG4gICAgICovXG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gIH1cbiAgb25BY3RpdmVNZW51aXRlbUNoYW5nZSgpIHtcbiAgICB0aGlzLnZtQWN0aXZlTWVudUl0ZW1DaGFuZ2UuZW1pdCh0aGlzLmFjdGl2ZU1lbnVJdGVtKTtcbiAgfVxuICBvbkFjdGl2ZVN1Ym1lbnVDaGFuZ2UoKSB7XG4gICAgdGhpcy52bUFjdGl2ZVN1Ym1lbnVDaGFuZ2UuZW1pdCh0aGlzLmFjdGl2ZVN1Ym1lbnUpO1xuICB9XG4gIG9uQWN0aXZlQ2hhbmdlKCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAodGhpcy5oYXNEaXNjb25uZWN0ZWQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5hY3RpdmUgPyB0aGlzLnZtT3Blbi5lbWl0KHRoaXMuaG9zdCkgOiB0aGlzLnZtQ2xvc2UuZW1pdCh0aGlzLmhvc3QpO1xuICAgIGlmICgoKF9hID0gdGhpcy5jb250cm9sbGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSA9PT0gJ3ZtLW1lbnUtaXRlbScpIHtcbiAgICAgIHRoaXMuY29udHJvbGxlci5leHBhbmRlZCA9IHRydWU7XG4gICAgfVxuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuaGFzRGlzY29ubmVjdGVkID0gZmFsc2U7XG4gIH1cbiAgY29tcG9uZW50RGlkUmVuZGVyKCkge1xuICAgIHdyaXRlVGFzaygoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuaGFzRGlzY29ubmVjdGVkKVxuICAgICAgICB0aGlzLmNhbGN1bGF0ZUhlaWdodCgpO1xuICAgIH0pO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuY29udHJvbGxlciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmhhc0Rpc2Nvbm5lY3RlZCA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIEZvY3VzZXMgdGhlIG1lbnUuXG4gICAqL1xuICBmb2N1c01lbnUoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkYyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIChfYSA9IHRoaXMubWVudSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgZm9jdXMgZnJvbSB0aGUgbWVudS5cbiAgICovXG4gIGJsdXJNZW51KCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJGModGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAoX2EgPSB0aGlzLm1lbnUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ibHVyKCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnRseSBmb2N1c2VkIG1lbnUgaXRlbS5cbiAgICovXG4gIGdldEFjdGl2ZU1lbnVJdGVtKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkYyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdGl2ZU1lbnVJdGVtO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjdXJyZW50bHkgZm9jdXNlZCBtZW51IGl0ZW0uXG4gICAqL1xuICBzZXRBY3RpdmVNZW51SXRlbShpdGVtKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRjKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLmZvY3VzSXRlbSgpO1xuICAgICAgdGhpcy5hY3RpdmVNZW51SXRlbSA9IGl0ZW07XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIGhlaWdodCBvZiB0aGUgc2V0dGluZ3MgbWVudSBiYXNlZCBvbiBpdHMgY2hpbGRyZW4uXG4gICAqL1xuICBjYWxjdWxhdGVIZWlnaHQoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gX19hd2FpdGVyJGModGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBsZXQgaGVpZ2h0ID0gMDtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVN1Ym1lbnUpIHtcbiAgICAgICAgY29uc3Qgc3VibWVudSA9IHlpZWxkIHRoaXMuYWN0aXZlU3VibWVudS5nZXRNZW51KCk7XG4gICAgICAgIGhlaWdodCA9IChfYSA9ICh5aWVsZCAoc3VibWVudSA9PT0gbnVsbCB8fCBzdWJtZW51ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdWJtZW51LmNhbGN1bGF0ZUhlaWdodCgpKSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDA7XG4gICAgICAgIGhlaWdodCArPSB5aWVsZCB0aGlzLmFjdGl2ZVN1Ym1lbnUuZ2V0Q29udHJvbGxlckhlaWdodCgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gKChfYiA9IHRoaXMuY29udGFpbmVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZmlyc3RDaGlsZCkuYXNzaWduZWRFbGVtZW50cyh7IGZsYXR0ZW46IHRydWUgfSk7XG4gICAgICAgIGNoaWxkcmVuID09PSBudWxsIHx8IGNoaWxkcmVuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICBoZWlnaHQgKz0gcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjaGlsZCkuaGVpZ2h0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLnZtTWVudUhlaWdodENoYW5nZS5lbWl0KGhlaWdodCk7XG4gICAgICByZXR1cm4gaGVpZ2h0O1xuICAgIH0pO1xuICB9XG4gIG9uT3BlblN1Ym1lbnUoZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuYWN0aXZlU3VibWVudSkpXG4gICAgICB0aGlzLmFjdGl2ZVN1Ym1lbnUuYWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5hY3RpdmVTdWJtZW51ID0gZXZlbnQuZGV0YWlsO1xuICAgIHRoaXMuZ2V0Q2hpbGRyZW4oKS5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgIGlmIChjaGlsZCAhPT0gdGhpcy5hY3RpdmVTdWJtZW51KSB7XG4gICAgICAgIGNoaWxkLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICAgIGNoaWxkLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICB3cml0ZVRhc2soKCkgPT4ge1xuICAgICAgdGhpcy5hY3RpdmVTdWJtZW51LmFjdGl2ZSA9IHRydWU7XG4gICAgfSk7XG4gIH1cbiAgb25DbG9zZVN1Ym1lbnUoZXZlbnQpIHtcbiAgICBldmVudCA9PT0gbnVsbCB8fCBldmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLmFjdGl2ZVN1Ym1lbnUpKVxuICAgICAgdGhpcy5hY3RpdmVTdWJtZW51LmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuZ2V0Q2hpbGRyZW4oKS5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgIGlmIChjaGlsZCAhPT0gdGhpcy5hY3RpdmVTdWJtZW51KSB7XG4gICAgICAgIGNoaWxkLnN0eWxlLm9wYWNpdHkgPSAnJztcbiAgICAgICAgY2hpbGQuc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHdyaXRlVGFzaygoKSA9PiB7XG4gICAgICB0aGlzLmFjdGl2ZVN1Ym1lbnUgPSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gIH1cbiAgb25XaW5kb3dDbGljaygpIHtcbiAgICB0aGlzLm9uQ2xvc2VTdWJtZW51KCk7XG4gICAgdGhpcy5vbkNsb3NlKCk7XG4gIH1cbiAgb25XaW5kb3dLZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuYWN0aXZlICYmIGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMub25DbG9zZVN1Ym1lbnUoKTtcbiAgICAgIHRoaXMub25DbG9zZSgpO1xuICAgICAgdGhpcy5mb2N1c0NvbnRyb2xsZXIoKTtcbiAgICB9XG4gIH1cbiAgZ2V0Q2hpbGRyZW4oKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGFzc2lnbmVkRWxlbWVudHMgPSAoX2EgPSB0aGlzLmhvc3RcbiAgICAgIC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ3Nsb3QnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFzc2lnbmVkRWxlbWVudHMoeyBmbGF0dGVuOiB0cnVlIH0pO1xuICAgIHJldHVybiAoYXNzaWduZWRFbGVtZW50cyAhPT0gbnVsbCAmJiBhc3NpZ25lZEVsZW1lbnRzICE9PSB2b2lkIDAgPyBhc3NpZ25lZEVsZW1lbnRzIDogW10pO1xuICB9XG4gIGdldE1lbnVJdGVtcygpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgYXNzaWduZWRFbGVtZW50cyA9IChfYSA9IHRoaXMuaG9zdFxuICAgICAgLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3Rvcignc2xvdCcpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYXNzaWduZWRFbGVtZW50cyh7IGZsYXR0ZW46IHRydWUgfSk7XG4gICAgcmV0dXJuIG1lbnVJdGVtSHVudGVyKGFzc2lnbmVkRWxlbWVudHMpO1xuICB9XG4gIGZvY3VzQ29udHJvbGxlcigpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgIGlmICghaXNVbmRlZmluZWQoKF9hID0gdGhpcy5jb250cm9sbGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXNJdGVtKSkge1xuICAgICAgKF9iID0gdGhpcy5jb250cm9sbGVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZm9jdXNJdGVtKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFpc1VuZGVmaW5lZCgoX2MgPSB0aGlzLmNvbnRyb2xsZXIpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5mb2N1c0NvbnRyb2wpKSB7XG4gICAgICAoX2QgPSB0aGlzLmNvbnRyb2xsZXIpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5mb2N1c0NvbnRyb2woKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAoX2UgPSB0aGlzLmNvbnRyb2xsZXIpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5mb2N1cygpO1xuICAgIH1cbiAgfVxuICB0cmlnZ2VyTWVudUl0ZW0oKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChpc1VuZGVmaW5lZCh0aGlzLmFjdGl2ZU1lbnVJdGVtKSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmFjdGl2ZU1lbnVJdGVtLmNsaWNrKCk7XG4gICAgLy8gSWYgaXQgY29udHJvbHMgYSBtZW51IHRoZW4gZm9jdXMgaXQgZXNzZW50aWFsbHkgb3BlbmluZyBpdC5cbiAgICAoX2EgPSB0aGlzLmFjdGl2ZU1lbnVJdGVtLm1lbnUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1c01lbnUoKTtcbiAgfVxuICBvbkNsb3NlKCkge1xuICAgIHRoaXMuYWN0aXZlTWVudUl0ZW0gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgfVxuICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgLy8gU3RvcCB0aGUgZXZlbnQgZnJvbSBwcm9wYWdhdGluZyB3aGlsZSBwbGF5aW5nIHdpdGggbWVudSBzbyB0aGF0IHdoZW4gaXQgaXMgY2xpY2tlZCBvdXRzaWRlXG4gICAgLy8gdGhlIG1lbnUgd2UgY2FuIGNsb3NlIGl0IGluIHRoZSBgb25XaW5kb3dDbGlja2AgaGFuZGxlciBhYm92ZS5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxuICBvbkZvY3VzKCkge1xuICAgIHZhciBfYTtcbiAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgW3RoaXMuYWN0aXZlTWVudUl0ZW1dID0gdGhpcy5nZXRNZW51SXRlbXMoKTtcbiAgICAoX2EgPSB0aGlzLmFjdGl2ZU1lbnVJdGVtKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXNJdGVtKCk7XG4gICAgdGhpcy52bUZvY3VzLmVtaXQoKTtcbiAgfVxuICBvbkJsdXIoKSB7XG4gICAgdGhpcy52bUJsdXIuZW1pdCgpO1xuICB9XG4gIGZvdWNzTWVudUl0ZW0oaXRlbXMsIGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgMClcbiAgICAgIGluZGV4ID0gaXRlbXMubGVuZ3RoIC0gMTtcbiAgICBpZiAoaW5kZXggPiBpdGVtcy5sZW5ndGggLSAxKVxuICAgICAgaW5kZXggPSAwO1xuICAgIHRoaXMuYWN0aXZlTWVudUl0ZW0gPSBpdGVtc1tpbmRleF07XG4gICAgdGhpcy5hY3RpdmVNZW51SXRlbS5mb2N1c0l0ZW0oKTtcbiAgfVxuICBvbktleURvd24oZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuYWN0aXZlKVxuICAgICAgcmV0dXJuO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLmdldE1lbnVJdGVtcygpO1xuICAgIGxldCBpbmRleCA9IGl0ZW1zLmZpbmRJbmRleChpdGVtID0+IGl0ZW0gPT09IHRoaXMuYWN0aXZlTWVudUl0ZW0pO1xuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICBjYXNlICdFc2NhcGUnOlxuICAgICAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgICAgICAgdGhpcy5mb2N1c0NvbnRyb2xsZXIoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgY2FzZSAnVGFiJzpcbiAgICAgICAgdGhpcy5mb3Vjc01lbnVJdGVtKGl0ZW1zLCAoaW5kZXggKz0gMSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICB0aGlzLmZvdWNzTWVudUl0ZW0oaXRlbXMsIChpbmRleCAtPSAxKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgdGhpcy5vbkNsb3NlKCk7XG4gICAgICAgIHRoaXMuZm9jdXNDb250cm9sbGVyKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICBjYXNlICdFbnRlcic6XG4gICAgICBjYXNlICcgJzpcbiAgICAgICAgdGhpcy50cmlnZ2VyTWVudUl0ZW0oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdIb21lJzpcbiAgICAgIGNhc2UgJ1BhZ2VVcCc6XG4gICAgICAgIHRoaXMuZm91Y3NNZW51SXRlbShpdGVtcywgMCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnRW5kJzpcbiAgICAgIGNhc2UgJ1BhZ2VEb3duJzpcbiAgICAgICAgdGhpcy5mb3Vjc01lbnVJdGVtKGl0ZW1zLCBpdGVtcy5sZW5ndGggLSAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBpZDogdGhpcy5pZGVudGlmaWVyLCBjbGFzczoge1xuICAgICAgICBtZW51OiB0cnVlLFxuICAgICAgICBzbGlkZUluOiAhaXNVbmRlZmluZWQodGhpcy5zbGlkZUluRGlyZWN0aW9uKSxcbiAgICAgICAgc2xpZGVJbkZyb21MZWZ0OiB0aGlzLnNsaWRlSW5EaXJlY3Rpb24gPT09ICdsZWZ0JyxcbiAgICAgICAgc2xpZGVJbkZyb21SaWdodDogdGhpcy5zbGlkZUluRGlyZWN0aW9uID09PSAncmlnaHQnLFxuICAgICAgfSwgcm9sZTogXCJtZW51XCIsIHRhYmluZGV4OiBcIi0xXCIsIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IChfYiA9IChfYSA9IHRoaXMuY29udHJvbGxlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkZW50aWZpZXIpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IChfYyA9IHRoaXMuY29udHJvbGxlcikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmlkLCBcImFyaWEtaGlkZGVuXCI6ICF0aGlzLmFjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScsIG9uRm9jdXM6IHRoaXMub25Gb2N1cy5iaW5kKHRoaXMpLCBvbkJsdXI6IHRoaXMub25CbHVyLmJpbmQodGhpcyksIG9uQ2xpY2s6IHRoaXMub25DbGljay5iaW5kKHRoaXMpLCBvbktleURvd246IHRoaXMub25LZXlEb3duLmJpbmQodGhpcyksIHJlZjogZWwgPT4ge1xuICAgICAgICB0aGlzLm1lbnUgPSBlbDtcbiAgICAgIH0gfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImNvbnRhaW5lclwiLCByZWY6IGVsID0+IHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBlbDtcbiAgICAgIH0gfSwgaChcInNsb3RcIiwgbnVsbCkpKSk7XG4gIH1cbiAgZ2V0IGhvc3QoKSB7IHJldHVybiB0aGlzOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJhY3RpdmVNZW51SXRlbVwiOiBbXCJvbkFjdGl2ZU1lbnVpdGVtQ2hhbmdlXCJdLFxuICAgIFwiYWN0aXZlU3VibWVudVwiOiBbXCJvbkFjdGl2ZVN1Ym1lbnVDaGFuZ2VcIl0sXG4gICAgXCJhY3RpdmVcIjogW1wib25BY3RpdmVDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gbWVudUNzczsgfVxufTtcblxuY29uc3QgbWVudUl0ZW1Dc3MgPSBcIjpob3N0e2Rpc3BsYXk6YmxvY2t9Lm1lbnVJdGVte2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZTthbGlnbi1pdGVtczpjZW50ZXI7ZmxleC1kaXJlY3Rpb246cm93O2N1cnNvcjpwb2ludGVyO2NvbG9yOnZhcigtLXZtLW1lbnUtY29sb3IpO2JhY2tncm91bmQ6dmFyKC0tdm0tbWVudS1iZyk7Zm9udC1zaXplOnZhcigtLXZtLW1lbnUtZm9udC1zaXplKTtmb250LXdlaWdodDp2YXIoLS12bS1tZW51LWZvbnQtd2VpZ2h0KTtwYWRkaW5nOnZhcigtLXZtLW1lbnUtaXRlbS1wYWRkaW5nKTt0b3VjaC1hY3Rpb246bWFuaXB1bGF0aW9uO2JveC1zaXppbmc6Ym9yZGVyLWJveH0ubWVudUl0ZW06Zm9jdXN7b3V0bGluZTowfS5tZW51SXRlbS5oaWRkZW57ZGlzcGxheTpub25lfS5tZW51SXRlbS50YXBIaWdobGlnaHR7YmFja2dyb3VuZDp2YXIoLS12bS1tZW51LWl0ZW0tdGFwLWhpZ2hsaWdodCl9Lm1lbnVJdGVtLnNob3dEaXZpZGVye2JvcmRlci1ib3R0b206MC41cHggc29saWQgdmFyKC0tdm0tbWVudS1pdGVtLWRpdmlkZXItY29sb3IpfS5tZW51SXRlbS5ub3RUb3VjaDpob3ZlciwubWVudUl0ZW0ubm90VG91Y2g6Zm9jdXN7b3V0bGluZTowO2NvbG9yOnZhcigtLXZtLW1lbnUtaXRlbS1mb2N1cy1jb2xvcik7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS12bS1tZW51LWl0ZW0tZm9jdXMtYmcpfS5tZW51SXRlbVthcmlhLWV4cGFuZGVkPSd0cnVlJ117cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoyO3RvcDowO3dpZHRoOjEwMCV9Lm1lbnVJdGVtW2FyaWEtaGlkZGVuPSd0cnVlJ117ZGlzcGxheTpub25lfS5tZW51SXRlbVthcmlhLWNoZWNrZWQ9J3RydWUnXSB2bS1pY29ue29wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGV9dm0taWNvbntkaXNwbGF5OmlubGluZS1ibG9ja312bS1pY29ue2ZpbGw6Y3VycmVudENvbG9yO3BvaW50ZXItZXZlbnRzOm5vbmU7Zm9udC1zaXplOnZhcigtLXZtLW1lbnUtaXRlbS1jaGVjay1pY29uLXNpemUpO21hcmdpbi1yaWdodDoxMHB4O29wYWNpdHk6MDt2aXNpYmlsaXR5OmhpZGRlbjt0cmFuc2l0aW9uOnZhcigtLXZtLWZhZGUtdHJhbnNpdGlvbil9LmhpbnR7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luLWxlZnQ6YXV0bztvdmVyZmxvdzpoaWRkZW47cG9pbnRlci1ldmVudHM6bm9uZTttYXJnaW4tcmlnaHQ6NnB4O2ZvbnQtc2l6ZTp2YXIoLS12bS1tZW51LWl0ZW0taGludC1mb250LXNpemUpO29wYWNpdHk6dmFyKC0tdm0tbWVudS1pdGVtLWhpbnQtb3BhY2l0eSk7Y29sb3I6dmFyKC0tdm0tbWVudS1pdGVtLWhpbnQtY29sb3IpfS5iYWRnZXtkaXNwbGF5OmlubGluZS1ibG9jaztsaW5lLWhlaWdodDoxO292ZXJmbG93OmhpZGRlbjtwb2ludGVyLWV2ZW50czpub25lO21hcmdpbi1sZWZ0OjZweDtjb2xvcjp2YXIoLS12bS1tZW51LWl0ZW0tYmFkZ2UtY29sb3IpO2JhY2tncm91bmQ6dmFyKC0tdm0tbWVudS1pdGVtLWJhZGdlLWJnKTtmb250LXNpemU6dmFyKC0tdm0tbWVudS1pdGVtLWJhZGdlLWZvbnQtc2l6ZSl9LnNwYWNlcntmbGV4OjF9LmFycm93e2NvbG9yOnZhcigtLXZtLW1lbnUtaXRlbS1hcnJvdy1jb2xvcik7Ym9yZGVyOjJweCBzb2xpZDtwYWRkaW5nOjJweDtkaXNwbGF5OmlubGluZS1ibG9jaztib3JkZXItd2lkdGg6MCAycHggMnB4IDB9LmFycm93LmxlZnR7bWFyZ2luLXJpZ2h0OjZweDt0cmFuc2Zvcm06cm90YXRlKDEzNWRlZyl9LmFycm93LnJpZ2h0e3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTtvcGFjaXR5OjAuMzh9XCI7XG5cbnZhciBfX2F3YWl0ZXIkYiA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuY29uc3QgTWVudUl0ZW0gPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMudm1Gb2N1cyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1Gb2N1c1wiLCA3KTtcbiAgICB0aGlzLnZtQmx1ciA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1CbHVyXCIsIDcpO1xuICAgIHRoaXMuc2hvd1RhcEhpZ2hsaWdodCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGl0ZW0gaXMgZGlzcGxheWVkIG9yIG5vdC5cbiAgICAgKi9cbiAgICB0aGlzLmhpZGRlbiA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjaGVja21hcmsgaWNvbiB0byByZXNvbHZlIGZyb20gdGhlIGljb24gbGlicmFyeS5cbiAgICAgKi9cbiAgICB0aGlzLmNoZWNrSWNvbiA9ICdjaGVjayc7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNUb3VjaCA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbJ2lzVG91Y2gnXSk7XG4gIH1cbiAgLyoqXG4gICAqIEZvY3VzZXMgdGhlIG1lbnUgaXRlbS5cbiAgICovXG4gIGZvY3VzSXRlbSgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRiKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgKF9hID0gdGhpcy5tZW51SXRlbSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgZm9jdXMgZnJvbSB0aGUgbWVudSBpdGVtLlxuICAgKi9cbiAgYmx1ckl0ZW0oKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkYih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIChfYSA9IHRoaXMubWVudUl0ZW0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ibHVyKCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGhlaWdodCBvZiB0aGUgbWVudSBpdGVtLlxuICAgKi9cbiAgZ2V0SGVpZ2h0KCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkYih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KHRoaXMubWVudUl0ZW0gPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLm1lbnVJdGVtKS5oZWlnaHQgOiAnMCcpO1xuICAgIH0pO1xuICB9XG4gIG9uQ2xpY2soKSB7XG4gICAgaWYgKCFpc05pbCh0aGlzLm1lbnUpKVxuICAgICAgdGhpcy5tZW51LmFjdGl2ZSA9ICF0aGlzLmV4cGFuZGVkO1xuICB9XG4gIG9uRm9jdXMoKSB7XG4gICAgdGhpcy52bUZvY3VzLmVtaXQoKTtcbiAgfVxuICBvbkJsdXIoKSB7XG4gICAgdGhpcy52bUJsdXIuZW1pdCgpO1xuICB9XG4gIG9uVG91Y2hTdGFydCgpIHtcbiAgICB0aGlzLnNob3dUYXBIaWdobGlnaHQgPSB0cnVlO1xuICB9XG4gIG9uVG91Y2hFbmQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnNob3dUYXBIaWdobGlnaHQgPSBmYWxzZTtcbiAgICB9LCAxMDApO1xuICB9XG4gIG9uTW91c2VMZWF2ZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gdGhpcy5tZW51SXRlbSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJsdXIoKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IGlzQ2hlY2tlZERlZmluZWQgPSAhaXNVbmRlZmluZWQodGhpcy5jaGVja2VkKTtcbiAgICBjb25zdCBpc01lbnVEZWZpbmVkID0gIWlzVW5kZWZpbmVkKHRoaXMubWVudSk7XG4gICAgY29uc3QgaGFzRXhwYW5kZWQgPSB0aGlzLmV4cGFuZGVkID8gJ3RydWUnIDogJ2ZhbHNlJztcbiAgICBjb25zdCBpc0NoZWNrZWQgPSB0aGlzLmNoZWNrZWQgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgIGNvbnN0IHNob3dDaGVja2VkSWNvbiA9IGlzQ2hlY2tlZERlZmluZWQgJiYgIWlzVW5kZWZpbmVkKHRoaXMuY2hlY2tJY29uKTtcbiAgICBjb25zdCBzaG93TGVmdE5hdkFycm93ID0gaXNNZW51RGVmaW5lZCAmJiB0aGlzLmV4cGFuZGVkO1xuICAgIGNvbnN0IHNob3dSaWdodE5hdkFycm93ID0gaXNNZW51RGVmaW5lZCAmJiAhdGhpcy5leHBhbmRlZDtcbiAgICBjb25zdCBzaG93SGludCA9ICFpc1VuZGVmaW5lZCh0aGlzLmhpbnQpICYmXG4gICAgICAhaXNDaGVja2VkRGVmaW5lZCAmJlxuICAgICAgKCFpc01lbnVEZWZpbmVkIHx8ICF0aGlzLmV4cGFuZGVkKTtcbiAgICBjb25zdCBzaG93QmFkZ2UgPSAhaXNVbmRlZmluZWQodGhpcy5iYWRnZSkgJiYgIXNob3dIaW50ICYmICFzaG93UmlnaHROYXZBcnJvdztcbiAgICBjb25zdCBoYXNTcGFjZXIgPSBzaG93SGludCB8fCBzaG93UmlnaHROYXZBcnJvdztcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczoge1xuICAgICAgICBtZW51SXRlbTogdHJ1ZSxcbiAgICAgICAgbm90VG91Y2g6ICF0aGlzLmlzVG91Y2gsXG4gICAgICAgIHRhcEhpZ2hsaWdodDogdGhpcy5zaG93VGFwSGlnaGxpZ2h0LFxuICAgICAgICBzaG93RGl2aWRlcjogaXNNZW51RGVmaW5lZCAmJiAoKF9hID0gdGhpcy5leHBhbmRlZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UpLFxuICAgICAgfSwgaWQ6IHRoaXMuaWRlbnRpZmllciwgcm9sZTogaXNDaGVja2VkRGVmaW5lZCA/ICdtZW51aXRlbXJhZGlvJyA6ICdtZW51aXRlbScsIHRhYmluZGV4OiBcIjBcIiwgXCJhcmlhLWxhYmVsXCI6IHRoaXMubGFiZWwsIFwiYXJpYS1oaWRkZW5cIjogdGhpcy5oaWRkZW4gPyAndHJ1ZScgOiAnZmFsc2UnLCBcImFyaWEtaGFzcG9wdXBcIjogaXNNZW51RGVmaW5lZCA/ICd0cnVlJyA6IHVuZGVmaW5lZCwgXCJhcmlhLWNvbnRyb2xzXCI6IChfYyA9IChfYiA9IHRoaXMubWVudSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmlkZW50aWZpZXIpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IChfZCA9IHRoaXMubWVudSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmlkLCBcImFyaWEtZXhwYW5kZWRcIjogaXNNZW51RGVmaW5lZCA/IGhhc0V4cGFuZGVkIDogdW5kZWZpbmVkLCBcImFyaWEtY2hlY2tlZFwiOiBpc0NoZWNrZWREZWZpbmVkID8gaXNDaGVja2VkIDogdW5kZWZpbmVkLCBvbkNsaWNrOiB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSwgb25Gb2N1czogdGhpcy5vbkZvY3VzLmJpbmQodGhpcyksIG9uQmx1cjogdGhpcy5vbkJsdXIuYmluZCh0aGlzKSwgb25Ub3VjaFN0YXJ0OiB0aGlzLm9uVG91Y2hTdGFydC5iaW5kKHRoaXMpLCBvblRvdWNoRW5kOiB0aGlzLm9uVG91Y2hFbmQuYmluZCh0aGlzKSwgb25Nb3VzZUxlYXZlOiB0aGlzLm9uTW91c2VMZWF2ZS5iaW5kKHRoaXMpLCByZWY6IGVsID0+IHtcbiAgICAgICAgdGhpcy5tZW51SXRlbSA9IGVsO1xuICAgICAgfSB9LCBzaG93Q2hlY2tlZEljb24gJiYgKGgoXCJ2bS1pY29uXCIsIHsgbmFtZTogdGhpcy5jaGVja0ljb24sIGxpYnJhcnk6IHRoaXMuaWNvbnMgfSkpLCBzaG93TGVmdE5hdkFycm93ICYmIGgoXCJzcGFuXCIsIHsgY2xhc3M6IFwiYXJyb3cgbGVmdFwiIH0pLCB0aGlzLmxhYmVsLCBoYXNTcGFjZXIgJiYgaChcInNwYW5cIiwgeyBjbGFzczogXCJzcGFjZXJcIiB9KSwgc2hvd0hpbnQgJiYgaChcInNwYW5cIiwgeyBjbGFzczogXCJoaW50XCIgfSwgdGhpcy5oaW50KSwgc2hvd0JhZGdlICYmIGgoXCJzcGFuXCIsIHsgY2xhc3M6IFwiYmFkZ2VcIiB9LCB0aGlzLmJhZGdlKSwgc2hvd1JpZ2h0TmF2QXJyb3cgJiYgaChcInNwYW5cIiwgeyBjbGFzczogXCJhcnJvdyByaWdodFwiIH0pKSk7XG4gIH1cbiAgZ2V0IGhvc3QoKSB7IHJldHVybiB0aGlzOyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBtZW51SXRlbUNzczsgfVxufTtcblxuY29uc3QgTWVudVJhZGlvID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLnZtQ2hlY2sgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQ2hlY2tcIiwgNyk7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgcmFkaW8gaXRlbSBpcyBzZWxlY3RlZCBvciBub3QuXG4gICAgICovXG4gICAgdGhpcy5jaGVja2VkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVGhlIFVSTCB0byBhbiBTVkcgZWxlbWVudCBvciBmcmFnbWVudCB0byBsb2FkLlxuICAgICAqL1xuICAgIHRoaXMuY2hlY2tJY29uID0gJ2NoZWNrJztcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gIH1cbiAgb25DbGljaygpIHtcbiAgICB0aGlzLmNoZWNrZWQgPSB0cnVlO1xuICAgIHRoaXMudm1DaGVjay5lbWl0KCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcInZtLW1lbnUtaXRlbVwiLCB7IGxhYmVsOiB0aGlzLmxhYmVsLCBjaGVja2VkOiB0aGlzLmNoZWNrZWQsIGJhZGdlOiB0aGlzLmJhZGdlLCBjaGVja0ljb246IHRoaXMuY2hlY2tJY29uLCBpY29uczogdGhpcy5pY29ucywgb25DbGljazogdGhpcy5vbkNsaWNrLmJpbmQodGhpcykgfSkpO1xuICB9XG59O1xuXG5jb25zdCBNZW51UmFkaW9Hcm91cCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy52bUNoZWNrID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUNoZWNrXCIsIDcpO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgfVxuICBvblZhbHVlQ2hhbmdlKCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSB0aGlzLmZpbmRSYWRpb3MoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2gocmFkaW8gPT4ge1xuICAgICAgcmFkaW8uY2hlY2tlZCA9IHJhZGlvLnZhbHVlID09PSB0aGlzLnZhbHVlO1xuICAgIH0pO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMub25WYWx1ZUNoYW5nZSgpO1xuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgdGhpcy5vblZhbHVlQ2hhbmdlKCk7XG4gIH1cbiAgb25TZWxlY3Rpb25DaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCByYWRpbyA9IGV2ZW50LnRhcmdldDtcbiAgICB0aGlzLnZhbHVlID0gcmFkaW8udmFsdWU7XG4gIH1cbiAgZmluZFJhZGlvcygpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHRoaXMuaG9zdFxuICAgICAgLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3Rvcignc2xvdCcpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYXNzaWduZWRFbGVtZW50cygpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaChcInNsb3RcIiwgbnVsbCk7XG4gIH1cbiAgZ2V0IGhvc3QoKSB7IHJldHVybiB0aGlzOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJ2YWx1ZVwiOiBbXCJvblZhbHVlQ2hhbmdlXCJdXG4gIH07IH1cbn07XG5cbmNvbnN0IE11dGVDb250cm9sID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLnZtRm9jdXMgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtRm9jdXNcIiwgNyk7XG4gICAgdGhpcy52bUJsdXIgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQmx1clwiLCA3KTtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgbG93IHZvbHVtZSBpY29uIHRvIHJlc29sdmUgZnJvbSB0aGUgaWNvbiBsaWJyYXJ5LlxuICAgICAqL1xuICAgIHRoaXMubG93Vm9sdW1lSWNvbiA9ICd2b2x1bWUtbG93JztcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgaGlnaCB2b2x1bWUgaWNvbiB0byByZXNvbHZlIGZyb20gdGhlIGljb24gbGlicmFyeS5cbiAgICAgKi9cbiAgICB0aGlzLmhpZ2hWb2x1bWVJY29uID0gJ3ZvbHVtZS1oaWdoJztcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgbXV0ZWQgdm9sdW1lIGljb24gdG8gcmVzb2x2ZSBmcm9tIHRoZSBpY29uIGxpYnJhcnkuXG4gICAgICovXG4gICAgdGhpcy5tdXRlZEljb24gPSAndm9sdW1lLW11dGUnO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRvb2x0aXAgaXMgcG9zaXRpb25lZCBhYm92ZS9iZWxvdyB0aGUgY29udHJvbC5cbiAgICAgKi9cbiAgICB0aGlzLnRvb2x0aXBQb3NpdGlvbiA9ICd0b3AnO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRvb2x0aXAgc2hvdWxkIG5vdCBiZSBkaXNwbGF5ZWQuXG4gICAgICovXG4gICAgdGhpcy5oaWRlVG9vbHRpcCA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIHRoaXMua2V5cyA9ICdtJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy52b2x1bWUgPSA1MDtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5tdXRlZCA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmkxOG4gPSB7fTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgWydtdXRlZCcsICd2b2x1bWUnLCAnaTE4biddKTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmRpc3BhdGNoID0gY3JlYXRlRGlzcGF0Y2hlcih0aGlzKTtcbiAgfVxuICBnZXRJY29uKCkge1xuICAgIGNvbnN0IHZvbHVtZUljb24gPSB0aGlzLnZvbHVtZSA8IDUwID8gdGhpcy5sb3dWb2x1bWVJY29uIDogdGhpcy5oaWdoVm9sdW1lSWNvbjtcbiAgICByZXR1cm4gdGhpcy5tdXRlZCB8fCB0aGlzLnZvbHVtZSA9PT0gMCA/IHRoaXMubXV0ZWRJY29uIDogdm9sdW1lSWNvbjtcbiAgfVxuICBvbkNsaWNrKCkge1xuICAgIHRoaXMuZGlzcGF0Y2goJ211dGVkJywgIXRoaXMubXV0ZWQpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy5tdXRlZCA/IHRoaXMuaTE4bi51bm11dGUgOiB0aGlzLmkxOG4ubXV0ZTtcbiAgICBjb25zdCB0b29sdGlwV2l0aEhpbnQgPSAhaXNVbmRlZmluZWQodGhpcy5rZXlzKVxuICAgICAgPyBgJHt0b29sdGlwfSAoJHt0aGlzLmtleXN9KWBcbiAgICAgIDogdG9vbHRpcDtcbiAgICByZXR1cm4gKGgoXCJ2bS1jb250cm9sXCIsIHsgbGFiZWw6IHRoaXMuaTE4bi5tdXRlLCBwcmVzc2VkOiB0aGlzLm11dGVkLCBrZXlzOiB0aGlzLmtleXMsIG9uQ2xpY2s6IHRoaXMub25DbGljay5iaW5kKHRoaXMpIH0sIGgoXCJ2bS1pY29uXCIsIHsgbmFtZTogdGhpcy5nZXRJY29uKCksIGxpYnJhcnk6IHRoaXMuaWNvbnMgfSksIGgoXCJ2bS10b29sdGlwXCIsIHsgaGlkZGVuOiB0aGlzLmhpZGVUb29sdGlwLCBwb3NpdGlvbjogdGhpcy50b29sdGlwUG9zaXRpb24sIGRpcmVjdGlvbjogdGhpcy50b29sdGlwRGlyZWN0aW9uIH0sIHRvb2x0aXBXaXRoSGludCkpKTtcbiAgfVxufTtcblxuY29uc3QgcGlwQ29udHJvbENzcyA9IFwiOmhvc3QoW2hpZGRlbl0pe2Rpc3BsYXk6bm9uZX1cIjtcblxudmFyIF9fYXdhaXRlciRhID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBQaVBDb250cm9sID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLmNhblNldFBpUCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBlbnRlciBwaXAgaWNvbiB0byByZXNvbHZlIGZyb20gdGhlIGljb24gbGlicmFyeS5cbiAgICAgKi9cbiAgICB0aGlzLmVudGVySWNvbiA9ICdwaXAtZW50ZXInO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBleGl0IHBpcCBpY29uIHRvIHJlc29sdmUgZnJvbSB0aGUgaWNvbiBsaWJyYXJ5LlxuICAgICAqL1xuICAgIHRoaXMuZXhpdEljb24gPSAncGlwLWV4aXQnO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRvb2x0aXAgaXMgcG9zaXRpb25lZCBhYm92ZS9iZWxvdyB0aGUgY29udHJvbC5cbiAgICAgKi9cbiAgICB0aGlzLnRvb2x0aXBQb3NpdGlvbiA9ICd0b3AnO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRvb2x0aXAgc2hvdWxkIG5vdCBiZSBkaXNwbGF5ZWQuXG4gICAgICovXG4gICAgdGhpcy5oaWRlVG9vbHRpcCA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIHRoaXMua2V5cyA9ICdwJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc1BpUEFjdGl2ZSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmkxOG4gPSB7fTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5YmFja1JlYWR5ID0gZmFsc2U7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFsnaXNQaVBBY3RpdmUnLCAncGxheWJhY2tSZWFkeScsICdpMThuJ10pO1xuICB9XG4gIG9uUGxheWJhY2tSZWFkeUNoYW5nZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlciRhKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgcGxheWVyID0gZ2V0UGxheWVyRnJvbVJlZ2lzdHJ5KHRoaXMpO1xuICAgICAgdGhpcy5jYW5TZXRQaVAgPSAoX2EgPSAoeWllbGQgKHBsYXllciA9PT0gbnVsbCB8fCBwbGF5ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYXllci5jYW5TZXRQaVAoKSkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIHRoaXMub25QbGF5YmFja1JlYWR5Q2hhbmdlKCk7XG4gIH1cbiAgb25DbGljaygpIHtcbiAgICBjb25zdCBwbGF5ZXIgPSBnZXRQbGF5ZXJGcm9tUmVnaXN0cnkodGhpcyk7XG4gICAgIXRoaXMuaXNQaVBBY3RpdmUgPyBwbGF5ZXIgPT09IG51bGwgfHwgcGxheWVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbGF5ZXIuZW50ZXJQaVAoKSA6IHBsYXllciA9PT0gbnVsbCB8fCBwbGF5ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYXllci5leGl0UGlQKCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLmlzUGlQQWN0aXZlID8gdGhpcy5pMThuLmV4aXRQaVAgOiB0aGlzLmkxOG4uZW50ZXJQaVA7XG4gICAgY29uc3QgdG9vbHRpcFdpdGhIaW50ID0gIWlzVW5kZWZpbmVkKHRoaXMua2V5cylcbiAgICAgID8gYCR7dG9vbHRpcH0gKCR7dGhpcy5rZXlzfSlgXG4gICAgICA6IHRvb2x0aXA7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgaGlkZGVuOiAhdGhpcy5jYW5TZXRQaVAgfSwgaChcInZtLWNvbnRyb2xcIiwgeyBsYWJlbDogdGhpcy5pMThuLnBpcCwga2V5czogdGhpcy5rZXlzLCBwcmVzc2VkOiB0aGlzLmlzUGlQQWN0aXZlLCBoaWRkZW46ICF0aGlzLmNhblNldFBpUCwgb25DbGljazogdGhpcy5vbkNsaWNrLmJpbmQodGhpcykgfSwgaChcInZtLWljb25cIiwgeyBuYW1lOiB0aGlzLmlzUGlQQWN0aXZlID8gdGhpcy5leGl0SWNvbiA6IHRoaXMuZW50ZXJJY29uLCBsaWJyYXJ5OiB0aGlzLmljb25zIH0pLCBoKFwidm0tdG9vbHRpcFwiLCB7IGhpZGRlbjogdGhpcy5oaWRlVG9vbHRpcCwgcG9zaXRpb246IHRoaXMudG9vbHRpcFBvc2l0aW9uLCBkaXJlY3Rpb246IHRoaXMudG9vbHRpcERpcmVjdGlvbiB9LCB0b29sdGlwV2l0aEhpbnQpKSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJwbGF5YmFja1JlYWR5XCI6IFtcIm9uUGxheWJhY2tSZWFkeUNoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBwaXBDb250cm9sQ3NzOyB9XG59O1xuXG5jb25zdCBQbGF5YmFja0NvbnRyb2wgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBwbGF5IGljb24gdG8gcmVzb2x2ZSBmcm9tIHRoZSBpY29uIGxpYnJhcnkuXG4gICAgICovXG4gICAgdGhpcy5wbGF5SWNvbiA9ICdwbGF5JztcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcGF1c2UgaWNvbiB0byByZXNvbHZlIGZyb20gdGhlIGljb24gbGlicmFyeS5cbiAgICAgKi9cbiAgICB0aGlzLnBhdXNlSWNvbiA9ICdwYXVzZSc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBpcyBwb3NpdGlvbmVkIGFib3ZlL2JlbG93IHRoZSBjb250cm9sLlxuICAgICAqL1xuICAgIHRoaXMudG9vbHRpcFBvc2l0aW9uID0gJ3RvcCc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBzaG91bGQgbm90IGJlIGRpc3BsYXllZC5cbiAgICAgKi9cbiAgICB0aGlzLmhpZGVUb29sdGlwID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgdGhpcy5rZXlzID0gJ2snO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaTE4biA9IHt9O1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbJ3BhdXNlZCcsICdpMThuJ10pO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBjcmVhdGVEaXNwYXRjaGVyKHRoaXMpO1xuICB9XG4gIG9uQ2xpY2soKSB7XG4gICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgIXRoaXMucGF1c2VkKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgdG9vbHRpcCA9IHRoaXMucGF1c2VkID8gdGhpcy5pMThuLnBsYXkgOiB0aGlzLmkxOG4ucGF1c2U7XG4gICAgY29uc3QgdG9vbHRpcFdpdGhIaW50ID0gIWlzVW5kZWZpbmVkKHRoaXMua2V5cylcbiAgICAgID8gYCR7dG9vbHRpcH0gKCR7dGhpcy5rZXlzfSlgXG4gICAgICA6IHRvb2x0aXA7XG4gICAgcmV0dXJuIChoKFwidm0tY29udHJvbFwiLCB7IGxhYmVsOiB0aGlzLmkxOG4ucGxheWJhY2ssIGtleXM6IHRoaXMua2V5cywgcHJlc3NlZDogIXRoaXMucGF1c2VkLCBvbkNsaWNrOiB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSB9LCBoKFwidm0taWNvblwiLCB7IG5hbWU6IHRoaXMucGF1c2VkID8gdGhpcy5wbGF5SWNvbiA6IHRoaXMucGF1c2VJY29uLCBsaWJyYXJ5OiB0aGlzLmljb25zIH0pLCBoKFwidm0tdG9vbHRpcFwiLCB7IGhpZGRlbjogdGhpcy5oaWRlVG9vbHRpcCwgcG9zaXRpb246IHRoaXMudG9vbHRpcFBvc2l0aW9uLCBkaXJlY3Rpb246IHRoaXMudG9vbHRpcERpcmVjdGlvbiB9LCB0b29sdGlwV2l0aEhpbnQpKSk7XG4gIH1cbn07XG5cbmNsYXNzIExvZ2dlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2lsZW50ID0gZmFsc2U7XG4gIH1cbiAgbG9nKC4uLmFyZ3MpIHtcbiAgICBpZiAoIXRoaXMuc2lsZW50ICYmICFpc1VuZGVmaW5lZChjb25zb2xlKSlcbiAgICAgIGNvbnNvbGUubG9nKCdbVmltZSB0aXBdOicsIC4uLmFyZ3MpO1xuICB9XG4gIHdhcm4oLi4uYXJncykge1xuICAgIGlmICghdGhpcy5zaWxlbnQgJiYgIWlzVW5kZWZpbmVkKGNvbnNvbGUpKVxuICAgICAgY29uc29sZS5lcnJvcignW1ZpbWUgd2Fybl06JywgLi4uYXJncyk7XG4gIH1cbn1cblxuY29uc3QgcGxheWVycyA9IG5ldyBTZXQoKTtcbmZ1bmN0aW9uIHdpdGhBdXRvcGF1c2UocGxheWVyKSB7XG4gIGNvbnN0IGVsID0gZ2V0RWxlbWVudChwbGF5ZXIpO1xuICBjcmVhdGVTdGVuY2lsSG9vayhwbGF5ZXIsICgpID0+IHtcbiAgICBwbGF5ZXJzLmFkZChlbCk7XG4gIH0sICgpID0+IHtcbiAgICBwbGF5ZXJzLmRlbGV0ZShlbCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gYXV0b3BhdXNlKHBsYXllcikge1xuICBjb25zdCBlbCA9IGdldEVsZW1lbnQocGxheWVyKTtcbiAgcGxheWVycy5mb3JFYWNoKHAgPT4ge1xuICAgIGlmIChwICE9PSBlbCAmJiBwLmF1dG9wYXVzZSlcbiAgICAgIHAucGF1c2VkID0gdHJ1ZTtcbiAgfSk7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIGZ1bmMtbmFtZXMgKi9cbmZ1bmN0aW9uIHdpdGhQbGF5ZXJFdmVudHMocGxheWVyKSB7XG4gIGNvbnN0IGVsID0gZ2V0RWxlbWVudChwbGF5ZXIpO1xuICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgZnVuY3Rpb24gaW5pdENhY2hlKCkge1xuICAgIE9iamVjdC5rZXlzKGluaXRpYWxTdGF0ZSkuZm9yRWFjaChwcm9wID0+IHtcbiAgICAgIGNhY2hlLnNldChwcm9wLCBwbGF5ZXJbcHJvcF0pO1xuICAgIH0pO1xuICB9XG4gIGNyZWF0ZVN0ZW5jaWxIb29rKHBsYXllciwgKCkgPT4ge1xuICAgIGluaXRDYWNoZSgpO1xuICB9LCAoKSA9PiB7XG4gICAgY2FjaGUuY2xlYXIoKTtcbiAgfSk7XG4gIGNvbnN0IHsgY29tcG9uZW50RGlkUmVuZGVyIH0gPSBwbGF5ZXI7XG4gIHBsYXllci5jb21wb25lbnREaWRSZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29tcG9uZW50RGlkUmVuZGVyID09PSBudWxsIHx8IGNvbXBvbmVudERpZFJlbmRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcG9uZW50RGlkUmVuZGVyKCk7XG4gICAgY29uc3QgcHJvcHMgPSBBcnJheS5mcm9tKGNhY2hlLmtleXMoKSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgcHJvcCA9IHByb3BzW2ldO1xuICAgICAgY29uc3Qgb2xkVmFsdWUgPSBjYWNoZS5nZXQocHJvcCk7XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IHBsYXllcltwcm9wXTtcbiAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgZmlyZVBsYXllckV2ZW50KGVsLCBwcm9wLCBuZXdWYWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICBjYWNoZS5zZXQocHJvcCwgbmV3VmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxudmFyIF9fYXdhaXRlciQ5ID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbi8vIFRoZXNlIGNoYW5nZXMgbmVlZCB0byBiZSBjYWxsZWQgaW1tZWRpYXRlbHkgdG8gYXZvaWQgdGhlIGJyb3dzZXIgYmxvY2tpbmcgdGhlIHJlcXVlc3QuXG5jb25zdCBpbW1lZGlhdGVBZGFwdGVyQ2FsbCA9IG5ldyBTZXQoWydjdXJyZW50VGltZScsICdwYXVzZWQnXSk7XG5mdW5jdGlvbiB3aXRoUGxheWVyU2NoZWR1bGVyKHBsYXllcikge1xuICBjb25zdCBlbCA9IGdldEVsZW1lbnQocGxheWVyKTtcbiAgY29uc3QgZGlzcG9zYWwgPSBuZXcgRGlzcG9zYWwoKTtcbiAgY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG4gIGZ1bmN0aW9uIGluaXRDYWNoZSgpIHtcbiAgICBPYmplY3Qua2V5cyhpbml0aWFsU3RhdGUpLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICBjYWNoZS5zZXQocHJvcCwgcGxheWVyW3Byb3BdKTtcbiAgICB9KTtcbiAgfVxuICAvLyBRdWV1ZSBvZiBhZGFwdGVyIGNhbGxzIHRvIGJlIHJ1biB3aGVuIHRoZSBtZWRpYSBpcyByZWFkeSBmb3IgcGxheWJhY2suXG4gIGxldCBhZGFwdGVyQ2FsbHMgPSBbXTtcbiAgZnVuY3Rpb24gZmx1c2hBZGFwdGVyQ2FsbHMoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ5KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgYWRhcHRlciA9IHlpZWxkIHBsYXllci5hZGFwdGVyO1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKGFkYXB0ZXIpKVxuICAgICAgICByZXR1cm47XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkYXB0ZXJDYWxscy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXdhaXQtaW4tbG9vcFxuICAgICAgICB5aWVsZCBhZGFwdGVyQ2FsbHNbaV0oYWRhcHRlcik7XG4gICAgICB9XG4gICAgICBhZGFwdGVyQ2FsbHMgPSBbXTtcbiAgICB9KTtcbiAgfVxuICBsZXQgaGFzTWVkaWFDaGFuZ2VkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIG9uTWVkaWFDaGFuZ2UoZSkge1xuICAgIGUgPT09IG51bGwgfHwgZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAvLyBEb24ndCByZXNldCBmaXJzdCB0aW1lIG90aGVyd2lzZSBwcm9wcyBpbnRpYWxpemVkIGJ5IHRoZSB1c2VyIHdpbGwgYmUgcmVzZXQuXG4gICAgaWYgKCFoYXNNZWRpYUNoYW5nZWQpIHtcbiAgICAgIGhhc01lZGlhQ2hhbmdlZCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFkYXB0ZXJDYWxscyA9IFtdO1xuICAgIHdyaXRlVGFzaygoKSA9PiB7XG4gICAgICBPYmplY3Qua2V5cyhpbml0aWFsU3RhdGUpXG4gICAgICAgIC5maWx0ZXIoc2hvdWxkUHJvcFJlc2V0T25NZWRpYUNoYW5nZSlcbiAgICAgICAgLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgIHBsYXllcltwcm9wXSA9IGluaXRpYWxTdGF0ZVtwcm9wXTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIG9uU3RhdGVDaGFuZ2UoZXZlbnQpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ5KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICBjb25zdCB7IGJ5LCBwcm9wLCB2YWx1ZSB9ID0gZXZlbnQuZGV0YWlsO1xuICAgICAgaWYgKCFpc1dyaXRhYmxlUHJvcChwcm9wKSkge1xuICAgICAgICAoX2EgPSBwbGF5ZXIubG9nZ2VyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eud2FybihgJHtieS5ub2RlTmFtZX0gdHJpZWQgdG8gY2hhbmdlIFxcYCR7cHJvcH1cXGAgYnV0IGl0IGlzIHJlYWRvbmx5LmApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXBsYXllci5wbGF5YmFja1N0YXJ0ZWQgJiYgaW1tZWRpYXRlQWRhcHRlckNhbGwuaGFzKHByb3ApKSB7XG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB5aWVsZCBwbGF5ZXIuYWRhcHRlcjtcbiAgICAgICAgaWYgKHByb3AgPT09ICdwYXVzZWQnICYmICF2YWx1ZSkge1xuICAgICAgICAgIGFkYXB0ZXIgPT09IG51bGwgfHwgYWRhcHRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWRhcHRlci5wbGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3AgPT09ICdjdXJyZW50VGltZScpIHtcbiAgICAgICAgICBhZGFwdGVyID09PSBudWxsIHx8IGFkYXB0ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFkYXB0ZXIucGxheSgpO1xuICAgICAgICAgIGFkYXB0ZXIgPT09IG51bGwgfHwgYWRhcHRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWRhcHRlci5zZXRDdXJyZW50VGltZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdyaXRlVGFzaygoKSA9PiB7XG4gICAgICAgIHBsYXllcltwcm9wXSA9IHZhbHVlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgLy8gQ2FsbGVkIGJ5IFByb3ZpZGVyQ29ubmVjdC5cbiAgY29uc3QgeyBvblByb3ZpZGVyRGlzY29ubmVjdCB9ID0gcGxheWVyO1xuICBwbGF5ZXIub25Qcm92aWRlckRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgb25NZWRpYUNoYW5nZSgpO1xuICAgIGlmIChvblByb3ZpZGVyRGlzY29ubmVjdClcbiAgICAgIG9uUHJvdmlkZXJEaXNjb25uZWN0LmNhbGwocGxheWVyKTtcbiAgfTtcbiAgY3JlYXRlU3RlbmNpbEhvb2socGxheWVyLCAoKSA9PiB7XG4gICAgaW5pdENhY2hlKCk7XG4gICAgZGlzcG9zYWwuYWRkKGxpc3RlbihlbCwgTE9BRF9TVEFSVF9FVkVOVCwgb25NZWRpYUNoYW5nZSkpO1xuICAgIGRpc3Bvc2FsLmFkZChsaXN0ZW4oZWwsIFNUQVRFX0NIQU5HRV9FVkVOVCwgb25TdGF0ZUNoYW5nZSkpO1xuICB9LCAoKSA9PiB7XG4gICAgY2FjaGUuY2xlYXIoKTtcbiAgICBkaXNwb3NhbC5lbXB0eSgpO1xuICB9KTtcbiAgd3JhcFN0ZW5jaWxIb29rKHBsYXllciwgJ2NvbXBvbmVudFdpbGxSZW5kZXInLCAoKSA9PiBfX2F3YWl0ZXIkOSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBpZiAocGxheWVyLnBsYXliYWNrUmVhZHkgJiYgYWRhcHRlckNhbGxzLmxlbmd0aCA+IDApXG4gICAgICB5aWVsZCBmbHVzaEFkYXB0ZXJDYWxscygpO1xuICB9KSk7XG4gIGZ1bmN0aW9uIGlzQWRhcHRlckNhbGxSZXF1aXJlZChwcm9wLCB2YWx1ZSkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gdmFsdWUgIT09ICgoX2EgPSBwbGF5ZXJbUFJPVklERVJfQ0FDSEVfS0VZXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldChwcm9wKSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIHNhZmVBZGFwdGVyQ2FsbChwcm9wLCBtZXRob2QpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJDkodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpZiAoIWlzQWRhcHRlckNhbGxSZXF1aXJlZChwcm9wLCBwbGF5ZXJbcHJvcF0pKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCB2YWx1ZSA9IHBsYXllcltwcm9wXTtcbiAgICAgIGNvbnN0IHNhZmVDYWxsID0gKGFkYXB0ZXIpID0+IF9fYXdhaXRlciQ5KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICB5aWVsZCAoKF9hID0gYWRhcHRlciA9PT0gbnVsbCB8fCBhZGFwdGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZGFwdGVyW21ldGhvZF0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGFkYXB0ZXIsIHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgndm1FcnJvcicsIHsgZGV0YWlsOiBlIH0pKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAocGxheWVyLnBsYXliYWNrUmVhZHkpIHtcbiAgICAgICAgeWllbGQgc2FmZUNhbGwoeWllbGQgcGxheWVyLmFkYXB0ZXIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGFkYXB0ZXJDYWxscy5wdXNoKHNhZmVDYWxsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuY29uc3QgcGxheWVyQ3NzID0gXCIucGxheWVye2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXJlY3Rpb246bHRyO2ZvbnQtZmFtaWx5OnZhcigtLXZtLXBsYXllci1mb250LWZhbWlseSk7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6YXV0bzstd2Via2l0LWZvbnQtc21vb3RoaW5nOnN1YnBpeGVsLWFudGlhbGlhc2VkOy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjp0cmFuc3BhcmVudDtmb250LXZhcmlhbnQtbnVtZXJpYzp0YWJ1bGFyLW51bXM7Zm9udC13ZWlnaHQ6NTAwO2xpbmUtaGVpZ2h0OjEuNzt3aWR0aDoxMDAlO2Rpc3BsYXk6YmxvY2s7bWF4LXdpZHRoOjEwMCU7bWluLXdpZHRoOjI3NXB4O21pbi1oZWlnaHQ6NDBweDtwb3NpdGlvbjpyZWxhdGl2ZTt0ZXh0LXNoYWRvdzpub25lO291dGxpbmU6MDt0cmFuc2l0aW9uOmJveC1zaGFkb3cgMC4zcyBlYXNlO2JveC1zaGFkb3c6dmFyKC0tdm0tcGxheWVyLWJveC1zaGFkb3cpO2JvcmRlci1yYWRpdXM6dmFyKC0tdm0tcGxheWVyLWJvcmRlci1yYWRpdXMpfS5wbGF5ZXIuaWRsZXtjdXJzb3I6bm9uZX0ucGxheWVyLmF1ZGlve2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQgIWltcG9ydGFudH0ucGxheWVyLnZpZGVve2hlaWdodDowO292ZXJmbG93OmhpZGRlbjtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXZtLXBsYXllci1iZywgIzAwMCl9LnBsYXllci5mdWxsc2NyZWVue21hcmdpbjowO2JvcmRlci1yYWRpdXM6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3BhZGRpbmctYm90dG9tOjAgIWltcG9ydGFudH0uYmxvY2tlcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtkaXNwbGF5OmlubGluZS1ibG9jazt6LWluZGV4OnZhcigtLXZtLWJsb2NrZXItei1pbmRleCl9XCI7XG5cbnZhciBfX2F3YWl0ZXIkOCA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xubGV0IGlkQ291bnQkMyA9IDA7XG5jb25zdCBQbGF5ZXIgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMudm1UaGVtZUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1UaGVtZUNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtUGF1c2VkQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVBhdXNlZENoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtUGxheSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1QbGF5XCIsIDcpO1xuICAgIHRoaXMudm1QbGF5aW5nQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVBsYXlpbmdDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bVNlZWtpbmdDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtU2Vla2luZ0NoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtU2Vla2VkID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVNlZWtlZFwiLCA3KTtcbiAgICB0aGlzLnZtQnVmZmVyaW5nQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUJ1ZmZlcmluZ0NoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtRHVyYXRpb25DaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtRHVyYXRpb25DaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bUN1cnJlbnRUaW1lQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUN1cnJlbnRUaW1lQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1SZWFkeSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1SZWFkeVwiLCA3KTtcbiAgICB0aGlzLnZtUGxheWJhY2tSZWFkeSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1QbGF5YmFja1JlYWR5XCIsIDcpO1xuICAgIHRoaXMudm1QbGF5YmFja1N0YXJ0ZWQgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtUGxheWJhY2tTdGFydGVkXCIsIDcpO1xuICAgIHRoaXMudm1QbGF5YmFja0VuZGVkID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVBsYXliYWNrRW5kZWRcIiwgNyk7XG4gICAgdGhpcy52bUJ1ZmZlcmVkQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUJ1ZmZlcmVkQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1FcnJvciA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1FcnJvclwiLCA3KTtcbiAgICB0aGlzLnZtTG9hZFN0YXJ0ID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUxvYWRTdGFydFwiLCA3KTtcbiAgICB0aGlzLnZtQ3VycmVudFByb3ZpZGVyQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUN1cnJlbnRQcm92aWRlckNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtQ3VycmVudFNyY0NoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1DdXJyZW50U3JjQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1DdXJyZW50UG9zdGVyQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUN1cnJlbnRQb3N0ZXJDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bU1lZGlhVGl0bGVDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtTWVkaWFUaXRsZUNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtQ29udHJvbHNDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQ29udHJvbHNDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bVBsYXliYWNrUmF0ZUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1QbGF5YmFja1JhdGVDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bVBsYXliYWNrUmF0ZXNDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtUGxheWJhY2tSYXRlc0NoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtUGxheWJhY2tRdWFsaXR5Q2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVBsYXliYWNrUXVhbGl0eUNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtUGxheWJhY2tRdWFsaXRpZXNDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtUGxheWJhY2tRdWFsaXRpZXNDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bU11dGVkQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bU11dGVkQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1Wb2x1bWVDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtVm9sdW1lQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1WaWV3VHlwZUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1WaWV3VHlwZUNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtTWVkaWFUeXBlQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bU1lZGlhVHlwZUNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtTGl2ZUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1MaXZlQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1Ub3VjaENoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1Ub3VjaENoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtTGFuZ3VhZ2VDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtTGFuZ3VhZ2VDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bUkxOG5DaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtSTE4bkNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtVHJhbnNsYXRpb25zQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVRyYW5zbGF0aW9uc0NoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtTGFuZ3VhZ2VzQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUxhbmd1YWdlc0NoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtRnVsbHNjcmVlbkNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1GdWxsc2NyZWVuQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1QaVBDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtUGlQQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1UZXh0VHJhY2tzQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVRleHRUcmFja3NDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy52bUN1cnJlbnRUZXh0VHJhY2tDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQ3VycmVudFRleHRUcmFja0NoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtVGV4dFRyYWNrVmlzaWJsZUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1UZXh0VHJhY2tWaXNpYmxlQ2hhbmdlXCIsIDcpO1xuICAgIHRoaXMudm1BdWRpb1RyYWNrc0NoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1BdWRpb1RyYWNrc0NoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtQ3VycmVudEF1ZGlvVHJhY2tDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQ3VycmVudEF1ZGlvVHJhY2tDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy5kaXNwb3NhbCA9IG5ldyBEaXNwb3NhbCgpO1xuICAgIC8qKlxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqIFByb3BzXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICovXG4gICAgLyoqIEBpbnRlcm5hbCBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLmxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcbiAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB0aGlzLmljb25zID0gJ3ZpbWUnO1xuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuZHVyYXRpb24gPSAtMTtcbiAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gMDtcbiAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB0aGlzLmF1dG9wbGF5ID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMucmVhZHkgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5wbGF5YmFja1JlYWR5ID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgdGhpcy5sb29wID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgdGhpcy5tdXRlZCA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLmJ1ZmZlcmVkID0gMDtcbiAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB0aGlzLnBsYXliYWNrUmF0ZSA9IDE7XG4gICAgdGhpcy5sYXN0UmF0ZUNoZWNrID0gMTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5wbGF5YmFja1JhdGVzID0gWzFdO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLnBsYXliYWNrUXVhbGl0aWVzID0gW107XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuc2Vla2luZyA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5wbGF5YmFja1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5wbGF5YmFja0VuZGVkID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuYnVmZmVyaW5nID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgdGhpcy5jb250cm9scyA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIHRoaXMuaXNDb250cm9sc0FjdGl2ZSA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLmlzU2V0dGluZ3NBY3RpdmUgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB0aGlzLnZvbHVtZSA9IDUwO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLmlzRnVsbHNjcmVlbkFjdGl2ZSA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIHRoaXMuYXNwZWN0UmF0aW8gPSAnMTY6OSc7XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuaXNBdWRpb1ZpZXcgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5pc1ZpZGVvVmlldyA9IGZhbHNlO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLmlzQXVkaW8gPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5pc1ZpZGVvID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuaXNMaXZlID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuaXNNb2JpbGUgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5pc1RvdWNoID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuaXNQaVBBY3RpdmUgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy50ZXh0VHJhY2tzID0gW107XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuY3VycmVudFRleHRUcmFjayA9IC0xO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLmlzVGV4dFRyYWNrVmlzaWJsZSA9IHRydWU7XG4gICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgdGhpcy5zaG91bGRSZW5kZXJOYXRpdmVUZXh0VHJhY2tzID0gdHJ1ZTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5hdWRpb1RyYWNrcyA9IFtdO1xuICAgIC8qKiBAaW5oZXJpdERvYyBAcmVhZG9ubHkgKi9cbiAgICB0aGlzLmN1cnJlbnRBdWRpb1RyYWNrID0gLTE7XG4gICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgdGhpcy5hdXRvcGF1c2UgPSB0cnVlO1xuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIHRoaXMucGxheXNpbmxpbmUgPSBmYWxzZTtcbiAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB0aGlzLmxhbmd1YWdlID0gJ2VuJztcbiAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB0aGlzLnRyYW5zbGF0aW9ucyA9IHsgZW4gfTtcbiAgICAvKiogQGluaGVyaXREb2MgQHJlYWRvbmx5ICovXG4gICAgdGhpcy5sYW5ndWFnZXMgPSBbJ2VuJ107XG4gICAgLyoqIEBpbmhlcml0RG9jIEByZWFkb25seSAqL1xuICAgIHRoaXMuaTE4biA9IGVuO1xuICAgIHdpdGhGaW5kUGxheWVyKHRoaXMpO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyYXIodGhpcyk7XG4gICAgd2l0aEF1dG9wYXVzZSh0aGlzKTtcbiAgICB3aXRoUHJvdmlkZXJIb3N0KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJFdmVudHModGhpcyk7XG4gICAgdGhpcy5zYWZlQWRhcHRlckNhbGwgPSB3aXRoUGxheWVyU2NoZWR1bGVyKHRoaXMpO1xuICB9XG4gIGdldCBhZGFwdGVyKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gdGhpcy5wcm92aWRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldEFkYXB0ZXIoKTtcbiAgfVxuICBvbkNvbnRhaW5lckNoYW5nZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gdGhpcy5mdWxsc2NyZWVuQ29udHJvbGxlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3koKTtcbiAgICBpZiAoaXNVbmRlZmluZWQodGhpcy5jb250YWluZXIpKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuZnVsbHNjcmVlbkNvbnRyb2xsZXIgPSBuZXcgRnVsbHNjcmVlbkNvbnRyb2xsZXIodGhpcy5jb250YWluZXIpO1xuICAgIHRoaXMuZnVsbHNjcmVlbkNvbnRyb2xsZXIub24oJ2NoYW5nZScsIGlzQWN0aXZlID0+IHtcbiAgICAgIHRoaXMuaXNGdWxsc2NyZWVuQWN0aXZlID0gaXNBY3RpdmU7XG4gICAgICBpZiAoaXNBY3RpdmUpXG4gICAgICAgIHRoaXMucm90YXRlRGV2aWNlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5mdWxsc2NyZWVuQ29udHJvbGxlci5vbignZXJyb3InLCBlcnJvciA9PiB7XG4gICAgICB0aGlzLnZtRXJyb3IuZW1pdChlcnJvcik7XG4gICAgfSk7XG4gIH1cbiAgb25QYXVzZWRDaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMucGF1c2VkKSB7XG4gICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBhdXRvcGF1c2UodGhpcyk7XG4gICAgfVxuICAgIHRoaXMuc2FmZUFkYXB0ZXJDYWxsKCdwYXVzZWQnLCAhdGhpcy5wYXVzZWQgPyAncGxheScgOiAncGF1c2UnKTtcbiAgfVxuICBvbkR1cmF0aW9uQ2hhbmdlKCkge1xuICAgIHRoaXMuaXNMaXZlID0gdGhpcy5kdXJhdGlvbiA9PT0gSW5maW5pdHk7XG4gIH1cbiAgb25DdXJyZW50VGltZUNoYW5nZSgpIHtcbiAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMucGxheWJhY2tSZWFkeSA/IHRoaXMuZHVyYXRpb24gOiBJbmZpbml0eTtcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy5jdXJyZW50VGltZSwgZHVyYXRpb24pKTtcbiAgICB0aGlzLnNhZmVBZGFwdGVyQ2FsbCgnY3VycmVudFRpbWUnLCAnc2V0Q3VycmVudFRpbWUnKTtcbiAgfVxuICBvblBsYXliYWNrUmVhZHlDaGFuZ2UoKSB7XG4gICAgaWYgKCF0aGlzLnJlYWR5KVxuICAgICAgdGhpcy5yZWFkeSA9IHRydWU7XG4gIH1cbiAgb25NdXRlZENoYW5nZSgpIHtcbiAgICB0aGlzLnNhZmVBZGFwdGVyQ2FsbCgnbXV0ZWQnLCAnc2V0TXV0ZWQnKTtcbiAgfVxuICBvblBsYXliYWNrUmF0ZUNoYW5nZShuZXdSYXRlLCBwcmV2UmF0ZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgaWYgKG5ld1JhdGUgPT09IHRoaXMubGFzdFJhdGVDaGVjaylcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKCEoeWllbGQgKChfYiA9IChfYSA9ICh5aWVsZCB0aGlzLmFkYXB0ZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuU2V0UGxheWJhY2tSYXRlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSkpKSkge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ3Byb3ZpZGVyIGNhbm5vdCBjaGFuZ2UgYHBsYXliYWNrUmF0ZWAuJyk7XG4gICAgICAgIHRoaXMubGFzdFJhdGVDaGVjayA9IHByZXZSYXRlO1xuICAgICAgICB0aGlzLnBsYXliYWNrUmF0ZSA9IHByZXZSYXRlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMucGxheWJhY2tSYXRlcy5pbmNsdWRlcyhuZXdSYXRlKSkge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coYGludmFsaWQgXFxgcGxheWJhY2tSYXRlXFxgIG9mICR7bmV3UmF0ZX0sIGAgK1xuICAgICAgICAgIGB2YWxpZCB2YWx1ZXMgYXJlIFske3RoaXMucGxheWJhY2tSYXRlcy5qb2luKCcsICcpfV1gKTtcbiAgICAgICAgdGhpcy5sYXN0UmF0ZUNoZWNrID0gcHJldlJhdGU7XG4gICAgICAgIHRoaXMucGxheWJhY2tSYXRlID0gcHJldlJhdGU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdFJhdGVDaGVjayA9IG5ld1JhdGU7XG4gICAgICB0aGlzLnNhZmVBZGFwdGVyQ2FsbCgncGxheWJhY2tSYXRlJywgJ3NldFBsYXliYWNrUmF0ZScpO1xuICAgIH0pO1xuICB9XG4gIG9uUGxheWJhY2tRdWFsaXR5Q2hhbmdlKG5ld1F1YWxpdHksIHByZXZRdWFsaXR5KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gX19hd2FpdGVyJDgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpZiAoaXNVbmRlZmluZWQobmV3UXVhbGl0eSkgfHwgbmV3UXVhbGl0eSA9PT0gdGhpcy5sYXN0UXVhbGl0eUNoZWNrKVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAoISh5aWVsZCAoKF9iID0gKF9hID0gKHlpZWxkIHRoaXMuYWRhcHRlcikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5TZXRQbGF5YmFja1F1YWxpdHkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKSkpKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygncHJvdmlkZXIgY2Fubm90IGNoYW5nZSBgcGxheWJhY2tRdWFsaXR5YC4nKTtcbiAgICAgICAgdGhpcy5sYXN0UXVhbGl0eUNoZWNrID0gcHJldlF1YWxpdHk7XG4gICAgICAgIHRoaXMucGxheWJhY2tRdWFsaXR5ID0gcHJldlF1YWxpdHk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5wbGF5YmFja1F1YWxpdGllcy5pbmNsdWRlcyhuZXdRdWFsaXR5KSkge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coYGludmFsaWQgXFxgcGxheWJhY2tRdWFsaXR5XFxgIG9mICR7bmV3UXVhbGl0eX0sIGAgK1xuICAgICAgICAgIGB2YWxpZCB2YWx1ZXMgYXJlIFske3RoaXMucGxheWJhY2tRdWFsaXRpZXMuam9pbignLCAnKX1dYCk7XG4gICAgICAgIHRoaXMubGFzdFF1YWxpdHlDaGVjayA9IHByZXZRdWFsaXR5O1xuICAgICAgICB0aGlzLnBsYXliYWNrUXVhbGl0eSA9IHByZXZRdWFsaXR5O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3RRdWFsaXR5Q2hlY2sgPSBuZXdRdWFsaXR5O1xuICAgICAgdGhpcy5zYWZlQWRhcHRlckNhbGwoJ3BsYXliYWNrUXVhbGl0eScsICdzZXRQbGF5YmFja1F1YWxpdHknKTtcbiAgICB9KTtcbiAgfVxuICBvbkRlYnVnQ2hhbmdlKCkge1xuICAgIHRoaXMubG9nZ2VyLnNpbGVudCA9ICF0aGlzLmRlYnVnO1xuICB9XG4gIG9uVm9sdW1lQ2hhbmdlKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHRoaXMudm9sdW1lID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy52b2x1bWUsIDEwMCkpO1xuICAgICAgdGhpcy5zYWZlQWRhcHRlckNhbGwoJ3ZvbHVtZScsICdzZXRWb2x1bWUnKTtcbiAgICB9KTtcbiAgfVxuICBvblZpZXdUeXBlQ2hhbmdlKCkge1xuICAgIHRoaXMuaXNBdWRpb1ZpZXcgPSB0aGlzLnZpZXdUeXBlID09PSBWaWV3VHlwZS5BdWRpbztcbiAgICB0aGlzLmlzVmlkZW9WaWV3ID0gdGhpcy52aWV3VHlwZSA9PT0gVmlld1R5cGUuVmlkZW87XG4gIH1cbiAgb25NZWRpYVR5cGVDaGFuZ2UoKSB7XG4gICAgdGhpcy5pc0F1ZGlvID0gdGhpcy5tZWRpYVR5cGUgPT09IE1lZGlhVHlwZS5BdWRpbztcbiAgICB0aGlzLmlzVmlkZW8gPSB0aGlzLm1lZGlhVHlwZSA9PT0gTWVkaWFUeXBlLlZpZGVvO1xuICB9XG4gIG9uTGFuZ3VhZ2VDaGFuZ2UoXywgcHJldkxhbmd1YWdlKSB7XG4gICAgaWYgKCF0aGlzLmxhbmd1YWdlcy5pbmNsdWRlcyh0aGlzLmxhbmd1YWdlKSkge1xuICAgICAgdGhpcy5sb2dnZXIubG9nKGBpbnZhbGlkIFxcYGxhbmd1YWdlXFxgIG9mICR7dGhpcy5sYW5ndWFnZX0sIGAgK1xuICAgICAgICBgdmFsaWQgdmFsdWVzIGFyZSBbJHt0aGlzLmxhbmd1YWdlcy5qb2luKCcsICcpfV1gKTtcbiAgICAgIHRoaXMubGFuZ3VhZ2UgPSBwcmV2TGFuZ3VhZ2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaTE4biA9IHRoaXMudHJhbnNsYXRpb25zW3RoaXMubGFuZ3VhZ2VdO1xuICB9XG4gIG9uVHJhbnNsYXRpb25zQ2hhbmdlKCkge1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy50cmFuc2xhdGlvbnMsIHsgZW4gfSk7XG4gICAgdGhpcy5sYW5ndWFnZXMgPSBPYmplY3Qua2V5cyh0aGlzLnRyYW5zbGF0aW9ucyk7XG4gICAgdGhpcy5pMThuID0gdGhpcy50cmFuc2xhdGlvbnNbdGhpcy5sYW5ndWFnZV07XG4gIH1cbiAgb25FcnJvcihldmVudCkge1xuICAgIHRoaXMubG9nZ2VyLndhcm4oZXZlbnQuZGV0YWlsKTtcbiAgfVxuICAvKipcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIE1ldGhvZHNcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuICAvKiogQGluaGVyaXREb2MgKi9cbiAgZ2V0UHJvdmlkZXIoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXI7XG4gICAgfSk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXRBZGFwdGVyKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXI7XG4gICAgfSk7XG4gIH1cbiAgLyoqIEBpbmhlcml0RG9jICovXG4gIHBsYXkoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiAoX2EgPSAoeWllbGQgdGhpcy5hZGFwdGVyKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBsYXkoKTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgcGF1c2UoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiAoX2EgPSAoeWllbGQgdGhpcy5hZGFwdGVyKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhdXNlKCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqIEBpbmhlcml0RG9jICovXG4gIGNhblBsYXkodHlwZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIChfYiA9IChfYSA9ICh5aWVsZCB0aGlzLmFkYXB0ZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuUGxheSh0eXBlKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmFsc2U7XG4gICAgfSk7XG4gIH1cbiAgLyoqIEBpbmhlcml0RG9jICovXG4gIGNhbkF1dG9wbGF5KCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiBjYW5BdXRvcGxheSgpO1xuICAgIH0pO1xuICB9XG4gIC8qKiBAaW5oZXJpdERvYyAqL1xuICBjYW5NdXRlZEF1dG9wbGF5KCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiBjYW5BdXRvcGxheSh0cnVlKTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgY2FuU2V0UGxheWJhY2tSYXRlKCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiAoX2MgPSAoX2IgPSAoX2EgPSAoeWllbGQgdGhpcy5hZGFwdGVyKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhblNldFBsYXliYWNrUmF0ZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgY2FuU2V0UGxheWJhY2tRdWFsaXR5KCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiAoX2MgPSAoX2IgPSAoX2EgPSAoeWllbGQgdGhpcy5hZGFwdGVyKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhblNldFBsYXliYWNrUXVhbGl0eSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgY2FuU2V0RnVsbHNjcmVlbigpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICByZXR1cm4gX19hd2FpdGVyJDgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4gKHRoaXMuZnVsbHNjcmVlbkNvbnRyb2xsZXIuaXNTdXBwb3J0ZWQgfHxcbiAgICAgICAgKChfYyA9IChfYiA9IChfYSA9ICh5aWVsZCB0aGlzLmFkYXB0ZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuU2V0RnVsbHNjcmVlbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBmYWxzZSkpO1xuICAgIH0pO1xuICB9XG4gIC8qKiBAaW5oZXJpdERvYyAqL1xuICBlbnRlckZ1bGxzY3JlZW4ob3B0aW9ucykge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGlmICghdGhpcy5pc1ZpZGVvVmlldykge1xuICAgICAgICB0aHJvdyBFcnJvcignQ2Fubm90IGVudGVyIGZ1bGxzY3JlZW4gb24gYW4gYXVkaW8gcGxheWVyIHZpZXcuJyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5mdWxsc2NyZWVuQ29udHJvbGxlci5pc1N1cHBvcnRlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mdWxsc2NyZWVuQ29udHJvbGxlci5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgfVxuICAgICAgY29uc3QgYWRhcHRlciA9IHlpZWxkIHRoaXMuYWRhcHRlcjtcbiAgICAgIGNvbnN0IGNhblByb3ZpZGVyU2V0RnVsbHNjcmVlbiA9IChfYiA9ICh5aWVsZCAoKF9hID0gYWRhcHRlciA9PT0gbnVsbCB8fCBhZGFwdGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZGFwdGVyLmNhblNldEZ1bGxzY3JlZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGFkYXB0ZXIpKSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbHNlO1xuICAgICAgaWYgKGNhblByb3ZpZGVyU2V0RnVsbHNjcmVlbikge1xuICAgICAgICByZXR1cm4gKF9jID0gYWRhcHRlciA9PT0gbnVsbCB8fCBhZGFwdGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZGFwdGVyLmVudGVyRnVsbHNjcmVlbikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoYWRhcHRlciwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICB0aHJvdyBFcnJvcignRnVsbHNjcmVlbiBBUEkgaXMgbm90IGF2YWlsYWJsZS4nKTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgZXhpdEZ1bGxzY3JlZW4oKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gX19hd2FpdGVyJDgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpZiAodGhpcy5mdWxsc2NyZWVuQ29udHJvbGxlci5pc1N1cHBvcnRlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mdWxsc2NyZWVuQ29udHJvbGxlci5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChfYiA9IChfYSA9ICh5aWVsZCB0aGlzLmFkYXB0ZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZXhpdEZ1bGxzY3JlZW4pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgY2FuU2V0UGlQKCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiAoX2MgPSAoX2IgPSAoX2EgPSAoeWllbGQgdGhpcy5hZGFwdGVyKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhblNldFBpUCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBmYWxzZTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgZW50ZXJQaVAoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gX19hd2FpdGVyJDgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpZiAoIXRoaXMuaXNWaWRlb1ZpZXcpXG4gICAgICAgIHRocm93IEVycm9yKCdDYW5ub3QgZW50ZXIgUGlQIG1vZGUgb24gYW4gYXVkaW8gcGxheWVyIHZpZXcuJyk7XG4gICAgICBpZiAoISh5aWVsZCB0aGlzLmNhblNldFBpUCgpKSlcbiAgICAgICAgdGhyb3cgRXJyb3IoJ1BpY3R1cmUtaW4tUGljdHVyZSBBUEkgaXMgbm90IGF2YWlsYWJsZS4nKTtcbiAgICAgIHJldHVybiAoX2IgPSAoX2EgPSAoeWllbGQgdGhpcy5hZGFwdGVyKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVudGVyUGlQKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqIEBpbmhlcml0RG9jICovXG4gIGV4aXRQaVAoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gX19hd2FpdGVyJDgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4gKF9iID0gKF9hID0gKHlpZWxkIHRoaXMuYWRhcHRlcikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5leGl0UGlQKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqIEBpbmhlcml0RG9jICovXG4gIGNhblNldEF1ZGlvVHJhY2soKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiAhaXNVbmRlZmluZWQoKF9hID0gKHlpZWxkIHRoaXMuYWRhcHRlcikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRDdXJyZW50QXVkaW9UcmFjayk7XG4gICAgfSk7XG4gIH1cbiAgLyoqIEBpbmhlcml0RG9jICovXG4gIHNldEN1cnJlbnRBdWRpb1RyYWNrKHRyYWNrSWQpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIChfYiA9IChfYSA9ICh5aWVsZCB0aGlzLmFkYXB0ZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0Q3VycmVudEF1ZGlvVHJhY2spID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCB0cmFja0lkKTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgY2FuU2V0VGV4dFRyYWNrKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJDgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4gIWlzVW5kZWZpbmVkKChfYSA9ICh5aWVsZCB0aGlzLmFkYXB0ZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0Q3VycmVudFRleHRUcmFjayk7XG4gICAgfSk7XG4gIH1cbiAgLyoqIEBpbmhlcml0RG9jICovXG4gIHNldEN1cnJlbnRUZXh0VHJhY2sodHJhY2tJZCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgKF9iID0gKF9hID0gKHlpZWxkIHRoaXMuYWRhcHRlcikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRDdXJyZW50VGV4dFRyYWNrKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgdHJhY2tJZCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqIEBpbmhlcml0RG9jICovXG4gIGNhblNldFRleHRUcmFja1Zpc2liaWxpdHkoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiAhaXNVbmRlZmluZWQoKF9hID0gKHlpZWxkIHRoaXMuYWRhcHRlcikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRUZXh0VHJhY2tWaXNpYmlsaXR5KTtcbiAgICB9KTtcbiAgfVxuICAvKiogQGluaGVyaXREb2MgKi9cbiAgc2V0VGV4dFRyYWNrVmlzaWJpbGl0eShpc1Zpc2libGUpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIChfYiA9IChfYSA9ICh5aWVsZCB0aGlzLmFkYXB0ZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0VGV4dFRyYWNrVmlzaWJpbGl0eSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIGlzVmlzaWJsZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqIEBpbmhlcml0RG9jICovXG4gIGV4dGVuZExhbmd1YWdlKGxhbmd1YWdlLCB0cmFuc2xhdGlvbikge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJDgodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCB0cmFuc2xhdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMudHJhbnNsYXRpb25zKSwgeyBbbGFuZ3VhZ2VdOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICgoX2EgPSB0aGlzLnRyYW5zbGF0aW9uc1tsYW5ndWFnZV0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9KSksIHRyYW5zbGF0aW9uKSB9KTtcbiAgICAgIHRoaXMudHJhbnNsYXRpb25zID0gdHJhbnNsYXRpb25zO1xuICAgIH0pO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMub25QYXVzZWRDaGFuZ2UoKTtcbiAgICB0aGlzLm9uQ3VycmVudFRpbWVDaGFuZ2UoKTtcbiAgICB0aGlzLm9uVm9sdW1lQ2hhbmdlKCk7XG4gICAgdGhpcy5vbk11dGVkQ2hhbmdlKCk7XG4gICAgdGhpcy5vbkRlYnVnQ2hhbmdlKCk7XG4gICAgdGhpcy5vbkNvbnRhaW5lckNoYW5nZSgpO1xuICAgIHRoaXMub25UcmFuc2xhdGlvbnNDaGFuZ2UoKTtcbiAgICB0aGlzLm9uTGFuZ3VhZ2VDaGFuZ2UodGhpcy5sYW5ndWFnZSwgaW5pdGlhbFN0YXRlLmxhbmd1YWdlKTtcbiAgICB0aGlzLmRpc3Bvc2FsLmFkZChvbk1vYmlsZUNoYW5nZShpc01vYmlsZSA9PiB7XG4gICAgICB0aGlzLmlzTW9iaWxlID0gaXNNb2JpbGU7XG4gICAgfSkpO1xuICAgIHRoaXMuZGlzcG9zYWwuYWRkKG9uVG91Y2hJbnB1dENoYW5nZShpc1RvdWNoID0+IHtcbiAgICAgIHRoaXMuaXNUb3VjaCA9IGlzVG91Y2g7XG4gICAgfSkpO1xuICB9XG4gIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIFVuaXZlcnNlLmNyZWF0ZSh0aGlzLCB0aGlzLmdldFBsYXllclN0YXRlKCkpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSB0aGlzLmZ1bGxzY3JlZW5Db250cm9sbGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVzdHJveSgpO1xuICAgIHRoaXMuZGlzcG9zYWwuZW1wdHkoKTtcbiAgfVxuICByb3RhdGVEZXZpY2UoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgaWYgKCF0aGlzLmlzTW9iaWxlIHx8ICFjYW5Sb3RhdGVTY3JlZW4oKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHRoaXMuaXNGdWxsc2NyZWVuQWN0aXZlKSB7XG4gICAgICAgICAgeWllbGQgd2luZG93LnNjcmVlbi5vcmllbnRhdGlvbi5sb2NrKCdsYW5kc2NhcGUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB5aWVsZCB3aW5kb3cuc2NyZWVuLm9yaWVudGF0aW9uLnVubG9jaygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMudm1FcnJvci5lbWl0KGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZ2V0UGxheWVyU3RhdGUoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB7fTtcbiAgICBjb25zdCBwcm9wcyA9IE9iamVjdC5rZXlzKGluaXRpYWxTdGF0ZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgc3RhdGVbcHJvcHNbaV1dID0gdGhpc1twcm9wc1tpXV07XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuICBjYWxjQXNwZWN0UmF0aW8oKSB7XG4gICAgY29uc3QgW3dpZHRoLCBoZWlnaHRdID0gL1xcZHsxLDJ9OlxcZHsxLDJ9Ly50ZXN0KHRoaXMuYXNwZWN0UmF0aW8pXG4gICAgICA/IHRoaXMuYXNwZWN0UmF0aW8uc3BsaXQoJzonKVxuICAgICAgOiBbMTYsIDldO1xuICAgIHJldHVybiAoMTAwIC8gTnVtYmVyKHdpZHRoKSkgKiBOdW1iZXIoaGVpZ2h0KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaW5uZXIgY29udGFpbmVyLlxuICAgKi9cbiAgZ2V0Q29udGFpbmVyKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkOCh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgICB9KTtcbiAgfVxuICAvKiogQGludGVybmFsIEV4cG9zZWQgZm9yIEUyRSB0ZXN0aW5nLiAqL1xuICBjYWxsQWRhcHRlcihtZXRob2QsIHZhbHVlKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ4KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuICh5aWVsZCB0aGlzLmFkYXB0ZXIpW21ldGhvZF0odmFsdWUpO1xuICAgIH0pO1xuICB9XG4gIGhhc0N1c3RvbUNvbnRyb2xzKCkge1xuICAgIHJldHVybiBpc0NvbXBvbmVudFJlZ2lzdGVyZWQodGhpcywgJ3ZtLWNvbnRyb2xzJyk7XG4gIH1cbiAgZ2VuSWQoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGlkID0gKF9hID0gdGhpcy5ob3N0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWQ7XG4gICAgaWYgKGlzU3RyaW5nKGlkKSAmJiBpZC5sZW5ndGggPiAwKVxuICAgICAgcmV0dXJuIGlkO1xuICAgIGlkQ291bnQkMyArPSAxO1xuICAgIHJldHVybiBgdm0tcGxheWVyLSR7aWRDb3VudCQzfWA7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGxhYmVsID0gYCR7dGhpcy5pc0F1ZGlvVmlldyA/ICdBdWRpbyBQbGF5ZXInIDogJ1ZpZGVvIFBsYXllcid9YCArXG4gICAgICBgJHshaXNVbmRlZmluZWQodGhpcy5tZWRpYVRpdGxlKSA/IGAgLSAke3RoaXMubWVkaWFUaXRsZX1gIDogJyd9YDtcbiAgICBjb25zdCBjYW5TaG93Q3VzdG9tVUkgPSAhSVNfSU9TIHx8XG4gICAgICAhdGhpcy5pc1ZpZGVvVmlldyB8fFxuICAgICAgKHRoaXMucGxheXNpbmxpbmUgJiYgIXRoaXMuaXNGdWxsc2NyZWVuQWN0aXZlKTtcbiAgICBpZiAoIWNhblNob3dDdXN0b21VSSkge1xuICAgICAgdGhpcy5jb250cm9scyA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGlzSWRsZSA9IGNhblNob3dDdXN0b21VSSAmJlxuICAgICAgdGhpcy5oYXNDdXN0b21Db250cm9scygpICYmXG4gICAgICB0aGlzLmlzVmlkZW9WaWV3ICYmXG4gICAgICAhdGhpcy5wYXVzZWQgJiZcbiAgICAgICF0aGlzLmlzQ29udHJvbHNBY3RpdmU7XG4gICAgY29uc3QgaXNCbG9ja2VyVmlzaWJsZSA9ICF0aGlzLmNvbnRyb2xzICYmIGNhblNob3dDdXN0b21VSSAmJiB0aGlzLmlzVmlkZW9WaWV3O1xuICAgIHJldHVybiAoaChIb3N0LCB7IGlkOiB0aGlzLmdlbklkKCksIGlkbGU6IGlzSWRsZSwgbW9iaWxlOiB0aGlzLmlzTW9iaWxlLCB0b3VjaDogdGhpcy5pc1RvdWNoLCBsaXZlOiB0aGlzLmlzTGl2ZSwgYXVkaW86IHRoaXMuaXNBdWRpb1ZpZXcsIHZpZGVvOiB0aGlzLmlzVmlkZW9WaWV3LCBwaXA6IHRoaXMuaXNQaVBBY3RpdmUsIGZ1bGxzY3JlZW46IHRoaXMuaXNGdWxsc2NyZWVuQWN0aXZlIH0sIGgoXCJkaXZcIiwgeyBcImFyaWEtbGFiZWxcIjogbGFiZWwsIFwiYXJpYS1oaWRkZW5cIjogIXRoaXMucmVhZHkgPyAndHJ1ZScgOiAnZmFsc2UnLCBcImFyaWEtYnVzeVwiOiAhdGhpcy5wbGF5YmFja1JlYWR5ID8gJ3RydWUnIDogJ2ZhbHNlJywgY2xhc3M6IHtcbiAgICAgICAgcGxheWVyOiB0cnVlLFxuICAgICAgICBpZGxlOiBpc0lkbGUsXG4gICAgICAgIGF1ZGlvOiB0aGlzLmlzQXVkaW9WaWV3LFxuICAgICAgICB2aWRlbzogdGhpcy5pc1ZpZGVvVmlldyxcbiAgICAgICAgZnVsbHNjcmVlbjogdGhpcy5pc0Z1bGxzY3JlZW5BY3RpdmUsXG4gICAgICB9LCBzdHlsZToge1xuICAgICAgICBwYWRkaW5nQm90dG9tOiB0aGlzLmlzVmlkZW9WaWV3XG4gICAgICAgICAgPyBgJHt0aGlzLmNhbGNBc3BlY3RSYXRpbygpfSVgXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICB9LCByZWY6IGVsID0+IHtcbiAgICAgICAgd3JpdGVUYXNrKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGVsO1xuICAgICAgICB9KTtcbiAgICAgIH0gfSwgaXNCbG9ja2VyVmlzaWJsZSAmJiBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiYmxvY2tlclwiIH0pLCBoKFVuaXZlcnNlLlByb3ZpZGVyLCB7IHN0YXRlOiB0aGlzLmdldFBsYXllclN0YXRlKCkgfSwgaChcInNsb3RcIiwgbnVsbCkpKSkpO1xuICB9XG4gIGdldCBob3N0KCkgeyByZXR1cm4gdGhpczsgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwiY29udGFpbmVyXCI6IFtcIm9uQ29udGFpbmVyQ2hhbmdlXCJdLFxuICAgIFwicGF1c2VkXCI6IFtcIm9uUGF1c2VkQ2hhbmdlXCJdLFxuICAgIFwiZHVyYXRpb25cIjogW1wib25EdXJhdGlvbkNoYW5nZVwiXSxcbiAgICBcImN1cnJlbnRUaW1lXCI6IFtcIm9uQ3VycmVudFRpbWVDaGFuZ2VcIl0sXG4gICAgXCJwbGF5YmFja1JlYWR5XCI6IFtcIm9uUGxheWJhY2tSZWFkeUNoYW5nZVwiXSxcbiAgICBcIm11dGVkXCI6IFtcIm9uTXV0ZWRDaGFuZ2VcIl0sXG4gICAgXCJwbGF5YmFja1JhdGVcIjogW1wib25QbGF5YmFja1JhdGVDaGFuZ2VcIl0sXG4gICAgXCJwbGF5YmFja1F1YWxpdHlcIjogW1wib25QbGF5YmFja1F1YWxpdHlDaGFuZ2VcIl0sXG4gICAgXCJkZWJ1Z1wiOiBbXCJvbkRlYnVnQ2hhbmdlXCJdLFxuICAgIFwidm9sdW1lXCI6IFtcIm9uVm9sdW1lQ2hhbmdlXCJdLFxuICAgIFwidmlld1R5cGVcIjogW1wib25WaWV3VHlwZUNoYW5nZVwiXSxcbiAgICBcImlzQXVkaW9WaWV3XCI6IFtcIm9uVmlld1R5cGVDaGFuZ2VcIl0sXG4gICAgXCJpc1ZpZGVvVmlld1wiOiBbXCJvblZpZXdUeXBlQ2hhbmdlXCJdLFxuICAgIFwibWVkaWFUeXBlXCI6IFtcIm9uTWVkaWFUeXBlQ2hhbmdlXCJdLFxuICAgIFwibGFuZ3VhZ2VcIjogW1wib25MYW5ndWFnZUNoYW5nZVwiXSxcbiAgICBcInRyYW5zbGF0aW9uc1wiOiBbXCJvblRyYW5zbGF0aW9uc0NoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBwbGF5ZXJDc3M7IH1cbn07XG5cbmNvbnN0IHBvc3RlckNzcyA9IFwiOmhvc3R7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OnZhcigtLXZtLXBvc3Rlci16LWluZGV4KX0ucG9zdGVye3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZDojMDAwO29wYWNpdHk6MDt2aXNpYmlsaXR5OmhpZGRlbjtwb2ludGVyLWV2ZW50czpub25lO3RyYW5zaXRpb246dmFyKC0tdm0tZmFkZS10cmFuc2l0aW9uKX0ucG9zdGVyLmhpZGRlbntkaXNwbGF5Om5vbmV9LnBvc3Rlci5hY3RpdmV7b3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZX1pbWd7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb2ludGVyLWV2ZW50czpub25lfVwiO1xuXG5jb25zdCBQb3N0ZXIgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMudm1Mb2FkZWQgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtTG9hZGVkXCIsIDMpO1xuICAgIHRoaXMudm1XaWxsU2hvdyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1XaWxsU2hvd1wiLCAzKTtcbiAgICB0aGlzLnZtV2lsbEhpZGUgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtV2lsbEhpZGVcIiwgMyk7XG4gICAgdGhpcy5pc0hpZGRlbiA9IHRydWU7XG4gICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuaGFzTG9hZGVkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogSG93IHRoZSBwb3N0ZXIgaW1hZ2Ugc2hvdWxkIGJlIHJlc2l6ZWQgdG8gZml0IHRoZSBjb250YWluZXIgKHNldHMgdGhlIGBvYmplY3QtZml0YCBwcm9wZXJ0eSkuXG4gICAgICovXG4gICAgdGhpcy5maXQgPSAnY292ZXInO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzVmlkZW9WaWV3ID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGxheWJhY2tTdGFydGVkID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuY3VycmVudFRpbWUgPSAwO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbXG4gICAgICAnbWVkaWFUaXRsZScsXG4gICAgICAnY3VycmVudFBvc3RlcicsXG4gICAgICAncGxheWJhY2tTdGFydGVkJyxcbiAgICAgICdjdXJyZW50VGltZScsXG4gICAgICAnaXNWaWRlb1ZpZXcnLFxuICAgIF0pO1xuICB9XG4gIG9uQ3VycmVudFBvc3RlckNoYW5nZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgdGhpcy5oYXNMb2FkZWQgPSBmYWxzZTtcbiAgICAoX2EgPSB0aGlzLmxhenlMb2FkZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vbk11dGF0aW9uKCk7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5sYXp5TG9hZGVyID0gbmV3IExhenlMb2FkZXIodGhpcy5ob3N0LCBbJ2RhdGEtc3JjJywgJ3NyYyddLCBlbCA9PiB7XG4gICAgICBjb25zdCBzcmMgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJyk7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuICAgICAgaWYgKCFpc051bGwoc3JjKSkge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHNyYyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5vbkVuYWJsZWRDaGFuZ2UoKTtcbiAgICB0aGlzLm9uQWN0aXZlQ2hhbmdlKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5sYXp5TG9hZGVyLmRlc3Ryb3koKTtcbiAgfVxuICBvblZpc2liaWxpdHlDaGFuZ2UoKSB7XG4gICAgIXRoaXMuaXNIaWRkZW4gJiYgdGhpcy5pc0FjdGl2ZVxuICAgICAgPyB0aGlzLnZtV2lsbFNob3cuZW1pdCgpXG4gICAgICA6IHRoaXMudm1XaWxsSGlkZS5lbWl0KCk7XG4gIH1cbiAgb25FbmFibGVkQ2hhbmdlKCkge1xuICAgIHRoaXMuaXNIaWRkZW4gPSAhdGhpcy5pc1ZpZGVvVmlldztcbiAgICB0aGlzLm9uVmlzaWJpbGl0eUNoYW5nZSgpO1xuICB9XG4gIG9uQWN0aXZlQ2hhbmdlKCkge1xuICAgIHRoaXMuaXNBY3RpdmUgPSAhdGhpcy5wbGF5YmFja1N0YXJ0ZWQgfHwgdGhpcy5jdXJyZW50VGltZSA8PSAwLjE7XG4gICAgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UoKTtcbiAgfVxuICBvblBvc3RlckxvYWQoKSB7XG4gICAgdGhpcy52bUxvYWRlZC5lbWl0KCk7XG4gICAgdGhpcy5oYXNMb2FkZWQgPSB0cnVlO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczoge1xuICAgICAgICBwb3N0ZXI6IHRydWUsXG4gICAgICAgIGhpZGRlbjogdGhpcy5pc0hpZGRlbixcbiAgICAgICAgYWN0aXZlOiB0aGlzLmlzQWN0aXZlICYmIHRoaXMuaGFzTG9hZGVkLFxuICAgICAgfSB9LCBoKFwiaW1nXCIsIHsgY2xhc3M6IFwibGF6eVwiLCBcImRhdGEtc3JjXCI6IHRoaXMuY3VycmVudFBvc3RlciwgYWx0OiAhaXNVbmRlZmluZWQodGhpcy5tZWRpYVRpdGxlKVxuICAgICAgICA/IGAke3RoaXMubWVkaWFUaXRsZX0gUG9zdGVyYFxuICAgICAgICA6ICdNZWRpYSBQb3N0ZXInLCBzdHlsZTogeyBvYmplY3RGaXQ6IHRoaXMuZml0IH0sIG9uTG9hZDogdGhpcy5vblBvc3RlckxvYWQuYmluZCh0aGlzKSB9KSkpO1xuICB9XG4gIGdldCBob3N0KCkgeyByZXR1cm4gdGhpczsgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwiY3VycmVudFBvc3RlclwiOiBbXCJvbkN1cnJlbnRQb3N0ZXJDaGFuZ2VcIl0sXG4gICAgXCJpc1ZpZGVvVmlld1wiOiBbXCJvbkVuYWJsZWRDaGFuZ2VcIl0sXG4gICAgXCJjdXJyZW50VGltZVwiOiBbXCJvbkFjdGl2ZUNoYW5nZVwiXSxcbiAgICBcInBsYXliYWNrU3RhcnRlZFwiOiBbXCJvbkFjdGl2ZUNoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBwb3N0ZXJDc3M7IH1cbn07XG5cbmNvbnN0IHNjcmltQ3NzID0gXCI6aG9zdHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6dmFyKC0tdm0tc2NyaW0tei1pbmRleCl9LnNjcmlte3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7YmFja2dyb3VuZDp2YXIoLS12bS1zY3JpbS1iZyk7ZGlzcGxheTppbmxpbmUtYmxvY2s7b3BhY2l0eTowO3Zpc2liaWxpdHk6aGlkZGVuO3RyYW5zaXRpb246dmFyKC0tdm0tZmFkZS10cmFuc2l0aW9uKX0uc2NyaW0uZ3JhZGllbnR7aGVpZ2h0OjI1OHB4O2JhY2tncm91bmQ6bm9uZTtiYWNrZ3JvdW5kLXBvc2l0aW9uOmJvdHRvbTtiYWNrZ3JvdW5kLWltYWdlOnVybCgnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUVDQ0FZQUFBQS85cjJUQUFBQktrbEVRVlE0VDJYSTUwY0ZBQmlGOGR2ZWUrKzY3YjMzdU0xN2IxTWtrU1NTU0JKSkpJa2tra1FTU1NLSjlFZm1lYjhjcjg2SEg4OEpCUDR0aGtmRWtpS09GUEdrU0NDTlJFOFNLWkpKa1VJYXFaNDBVcVNUSW9NVW1hU1I1Y2ttUlE0cGNra2p6NU5QaWdKU0ZKS2lpRFNLUFNXa0tDVkZHV21VZXlwSVVVbUtLbEpVazBhTkowaUtXbExVa1VhOXA0RVVqYVJvSWtVemFiUjRXa25SUm9wMjB1andkSktpaXhUZHBPZ2hqVjVQSHluNlNURkFHb09lSVZJTWsyS0VGS09rTWVZWko4VUVLVUtrTWVtWklzVTBLV1pJTVVzYWM1NHdLU0traUpMR3ZHZUJGSXVrV0NMRk1ya0NxN0FHNjdBQm03QUYyN0FEdTdBSCszQUFoM0FFeDNBQ3AzQUc1M0FCbDNBRjEzQUR0M0FIOS9BQWovQUV6L0FDci9BRzcvQUJuL0FGMy9BRHYzOUx1alN5SlBWSjBRQUFBQUJKUlU1RXJrSmdnZz09Jyl9LnNjcmltLmdyYWRpZW50VXB7dG9wOnVuc2V0O2JvdHRvbTowfS5zY3JpbS5ncmFkaWVudERvd257dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpfS5zY3JpbS5oaWRkZW57ZGlzcGxheTpub25lfS5zY3JpbS5hY3RpdmV7b3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZX1cIjtcblxuY29uc3QgU2NyaW0gPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzVmlkZW9WaWV3ID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNDb250cm9sc0FjdGl2ZSA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbJ2lzVmlkZW9WaWV3JywgJ2lzQ29udHJvbHNBY3RpdmUnXSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiB7XG4gICAgICAgIHNjcmltOiB0cnVlLFxuICAgICAgICBncmFkaWVudDogIWlzVW5kZWZpbmVkKHRoaXMuZ3JhZGllbnQpLFxuICAgICAgICBncmFkaWVudFVwOiB0aGlzLmdyYWRpZW50ID09PSAndXAnLFxuICAgICAgICBncmFkaWVudERvd246IHRoaXMuZ3JhZGllbnQgPT09ICdkb3duJyxcbiAgICAgICAgaGlkZGVuOiAhdGhpcy5pc1ZpZGVvVmlldyxcbiAgICAgICAgYWN0aXZlOiB0aGlzLmlzQ29udHJvbHNBY3RpdmUsXG4gICAgICB9IH0pKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gc2NyaW1Dc3M7IH1cbn07XG5cbmNvbnN0IGdldEhvdXJzID0gKHZhbHVlKSA9PiBNYXRoLnRydW5jKCh2YWx1ZSAvIDYwIC8gNjApICUgNjApO1xuY29uc3QgZ2V0TWludXRlcyA9ICh2YWx1ZSkgPT4gTWF0aC50cnVuYygodmFsdWUgLyA2MCkgJSA2MCk7XG5jb25zdCBnZXRTZWNvbmRzID0gKHZhbHVlKSA9PiBNYXRoLnRydW5jKHZhbHVlICUgNjApO1xuY29uc3QgZm9ybWF0VGltZSA9IChzZWNvbmRzID0gMCwgYWx3YXlzU2hvd0hvdXJzID0gZmFsc2UpID0+IHtcbiAgLy8gRm9ybWF0IHRpbWUgY29tcG9uZW50IHRvIGFkZCBsZWFkaW5nIHplcm8uXG4gIGNvbnN0IGZvcm1hdCA9ICh2YWx1ZSkgPT4gYDAke3ZhbHVlfWAuc2xpY2UoLTIpO1xuICBjb25zdCBob3VycyA9IGdldEhvdXJzKHNlY29uZHMpO1xuICBjb25zdCBtaW5zID0gZ2V0TWludXRlcyhzZWNvbmRzKTtcbiAgY29uc3Qgc2VjcyA9IGdldFNlY29uZHMoc2Vjb25kcyk7XG4gIHJldHVybiBgJHthbHdheXNTaG93SG91cnMgfHwgaG91cnMgPiAwID8gYCR7aG91cnN9OmAgOiAnJ30ke2Zvcm1hdChtaW5zKX06JHtmb3JtYXQoc2Vjcyl9YDtcbn07XG5cbmNvbnN0IHNjcnViYmVyQ29udHJvbENzcyA9IFwiOmhvc3R7LS12bS10b29sdGlwLXNwYWNpbmc6dmFyKC0tdm0tc2NydWJiZXItdG9vbHRpcC1zcGFjaW5nKTtmbGV4OjE7cG9zaXRpb246cmVsYXRpdmU7Y3Vyc29yOnBvaW50ZXI7cG9pbnRlci1ldmVudHM6YXV0bztib3gtc2l6aW5nOmJvcmRlci1ib3g7bGVmdDpjYWxjKHZhcigtLXZtLXNsaWRlci10aHVtYi13aWR0aCkgLyAyKTttYXJnaW4tcmlnaHQ6dmFyKC0tdm0tc2xpZGVyLXRodW1iLXdpZHRoKTttYXJnaW4tYm90dG9tOnZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpfUBrZXlmcmFtZXMgcHJvZ3Jlc3N7dG97YmFja2dyb3VuZC1wb3NpdGlvbjp2YXIoLS12bS1zY3J1YmJlci1sb2FkaW5nLXN0cmlwZS1zaXplKSAwfX0uc2NydWJiZXJ7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJX12bS1zbGlkZXIscHJvZ3Jlc3N7bWFyZ2luLWxlZnQ6Y2FsYyhjYWxjKHZhcigtLXZtLXNsaWRlci10aHVtYi13aWR0aCkgLyAyKSAqIC0xKTttYXJnaW4tcmlnaHQ6Y2FsYyhjYWxjKHZhcigtLXZtLXNsaWRlci10aHVtYi13aWR0aCkgLyAyKSAqIC0xKTt3aWR0aDpjYWxjKDEwMCUgKyB2YXIoLS12bS1zbGlkZXItdGh1bWItd2lkdGgpKTtoZWlnaHQ6dmFyKC0tdm0tc2xpZGVyLXRyYWNrLWhlaWdodCl9dm0tc2xpZGVyOmhvdmVyLHByb2dyZXNzOmhvdmVye2N1cnNvcjpwb2ludGVyfXZtLXNsaWRlcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7ei1pbmRleDozfXByb2dyZXNzey13ZWJraXQtYXBwZWFyYW5jZTpub25lO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czoxMDBweDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjUwJTtwYWRkaW5nOjA7Y29sb3I6dmFyKC0tdm0tc2NydWJiZXItYnVmZmVyZWQtYmcpO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KX1wcm9ncmVzczo6LXdlYmtpdC1wcm9ncmVzcy1iYXJ7YmFja2dyb3VuZDp0cmFuc3BhcmVudH1wcm9ncmVzczo6LXdlYmtpdC1wcm9ncmVzcy12YWx1ZXtiYWNrZ3JvdW5kOmN1cnJlbnRDb2xvcjtib3JkZXItcmFkaXVzOjEwMHB4O21pbi13aWR0aDp2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KTt0cmFuc2l0aW9uOndpZHRoIDAuMnMgZWFzZX1wcm9ncmVzczo6LW1vei1wcm9ncmVzcy1iYXJ7YmFja2dyb3VuZDpjdXJyZW50Q29sb3I7Ym9yZGVyLXJhZGl1czoxMDBweDttaW4td2lkdGg6dmFyKC0tdm0tc2xpZGVyLXRyYWNrLWhlaWdodCk7dHJhbnNpdGlvbjp3aWR0aCAwLjJzIGVhc2V9cHJvZ3Jlc3M6Oi1tcy1maWxse2JvcmRlci1yYWRpdXM6MTAwcHg7dHJhbnNpdGlvbjp3aWR0aCAwLjJzIGVhc2V9cHJvZ3Jlc3MubG9hZGluZ3thbmltYXRpb246cHJvZ3Jlc3MgMXMgbGluZWFyIGluZmluaXRlO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KFxcbiAgICAtNDVkZWcsXFxuICAgIHZhcigtLXZtLXNjcnViYmVyLWxvYWRpbmctc3RyaXBlLWNvbG9yKSAyNSUsXFxuICAgIHRyYW5zcGFyZW50IDI1JSxcXG4gICAgdHJhbnNwYXJlbnQgNTAlLFxcbiAgICB2YXIoLS12bS1zY3J1YmJlci1sb2FkaW5nLXN0cmlwZS1jb2xvcikgNTAlLFxcbiAgICB2YXIoLS12bS1zY3J1YmJlci1sb2FkaW5nLXN0cmlwZS1jb2xvcikgNzUlLFxcbiAgICB0cmFuc3BhcmVudCA3NSUsXFxuICAgIHRyYW5zcGFyZW50XFxuICApO2JhY2tncm91bmQtcmVwZWF0OnJlcGVhdC14O2JhY2tncm91bmQtc2l6ZTp2YXIoLS12bS1zY3J1YmJlci1sb2FkaW5nLXN0cmlwZS1zaXplKVxcbiAgICB2YXIoLS12bS1zY3J1YmJlci1sb2FkaW5nLXN0cmlwZS1zaXplKTtjb2xvcjp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fVwiO1xuXG52YXIgX19hd2FpdGVyJDcgPSAodW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufTtcbmNvbnN0IFNjcnViYmVyQ29udHJvbCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy5rZXlib2FyZERpc3Bvc2FsID0gbmV3IERpc3Bvc2FsKCk7XG4gICAgdGhpcy50aW1lc3RhbXAgPSAnJztcbiAgICB0aGlzLmVuZFRpbWUgPSAwO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRpbWVzdGFtcCBpbiB0aGUgdG9vbHRpcCBzaG91bGQgc2hvdyB0aGUgaG91cnMgdW5pdCwgZXZlbiBpZiB0aGUgdGltZSBpcyBsZXNzIHRoYW5cbiAgICAgKiAxIGhvdXIgKGVnOiBgMjA6MzVgIC0+IGAwMDoyMDozNWApLlxuICAgICAqL1xuICAgIHRoaXMuYWx3YXlzU2hvd0hvdXJzID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBzaG91bGQgbm90IGJlIGRpc3BsYXllZC5cbiAgICAgKi9cbiAgICB0aGlzLmhpZGVUb29sdGlwID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuY3VycmVudFRpbWUgPSAwO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmR1cmF0aW9uID0gLTE7XG4gICAgLyoqXG4gICAgICogUHJldmVudHMgc2Vla2luZyBmb3J3YXJkL2JhY2t3YXJkIGJ5IHVzaW5nIHRoZSBMZWZ0L1JpZ2h0IGFycm93IGtleXMuXG4gICAgICovXG4gICAgdGhpcy5ub0tleWJvYXJkID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuYnVmZmVyaW5nID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuYnVmZmVyZWQgPSAwO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmkxOG4gPSB7fTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgW1xuICAgICAgJ2kxOG4nLFxuICAgICAgJ2N1cnJlbnRUaW1lJyxcbiAgICAgICdkdXJhdGlvbicsXG4gICAgICAnYnVmZmVyaW5nJyxcbiAgICAgICdidWZmZXJlZCcsXG4gICAgXSk7XG4gIH1cbiAgb25Ob0tleWJvYXJkQ2hhbmdlKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkNyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHRoaXMua2V5Ym9hcmREaXNwb3NhbC5lbXB0eSgpO1xuICAgICAgaWYgKHRoaXMubm9LZXlib2FyZClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgcGxheWVyID0geWllbGQgZmluZFBsYXllcih0aGlzKTtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChwbGF5ZXIpKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBvbktleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSAhPT0gJ0Fycm93TGVmdCcgJiYgZXZlbnQua2V5ICE9PSAnQXJyb3dSaWdodCcpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBpc0xlZnRBcnJvdyA9IGV2ZW50LmtleSA9PT0gJ0Fycm93TGVmdCc7XG4gICAgICAgIGNvbnN0IHNlZWtUbyA9IGlzTGVmdEFycm93XG4gICAgICAgICAgPyBNYXRoLm1heCgwLCB0aGlzLmN1cnJlbnRUaW1lIC0gNSlcbiAgICAgICAgICA6IE1hdGgubWluKHRoaXMuZHVyYXRpb24sIHRoaXMuY3VycmVudFRpbWUgKyA1KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFRpbWUnLCBzZWVrVG8pO1xuICAgICAgfTtcbiAgICAgIHRoaXMua2V5Ym9hcmREaXNwb3NhbC5hZGQobGlzdGVuKHBsYXllciwgJ2tleWRvd24nLCBvbktleURvd24pKTtcbiAgICB9KTtcbiAgfVxuICBvbkR1cmF0aW9uQ2hhbmdlKCkge1xuICAgIC8vIEF2b2lkIC0xLlxuICAgIHRoaXMuZW5kVGltZSA9IE1hdGgubWF4KDAsIHRoaXMuZHVyYXRpb24pO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBjcmVhdGVEaXNwYXRjaGVyKHRoaXMpO1xuICAgIHRoaXMudGltZXN0YW1wID0gZm9ybWF0VGltZSh0aGlzLmN1cnJlbnRUaW1lLCB0aGlzLmFsd2F5c1Nob3dIb3Vycyk7XG4gICAgdGhpcy5vbk5vS2V5Ym9hcmRDaGFuZ2UoKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmtleWJvYXJkRGlzcG9zYWwuZW1wdHkoKTtcbiAgfVxuICBzZXRUb29sdGlwUG9zaXRpb24odmFsdWUpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHRvb2x0aXBSZWN0ID0gKF9iID0gKF9hID0gdGhpcy50b29sdGlwLnNoYWRvd1Jvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5xdWVyeVNlbGVjdG9yKCcudG9vbHRpcCcpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgYm91bmRzID0gdGhpcy5zbGlkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgdGh1bWJXaWR0aCA9IHBhcnNlRmxvYXQod2luZG93XG4gICAgICAuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnNsaWRlcilcbiAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKCctLXZtLXNsaWRlci10aHVtYi13aWR0aCcpKTtcbiAgICBjb25zdCBsZWZ0TGltaXQgPSB0b29sdGlwUmVjdC53aWR0aCAvIDIgLSB0aHVtYldpZHRoIC8gMjtcbiAgICBjb25zdCByaWdodExpbWl0ID0gYm91bmRzLndpZHRoIC0gdG9vbHRpcFJlY3Qud2lkdGggLyAyIC0gdGh1bWJXaWR0aCAvIDI7XG4gICAgY29uc3QgeFBvcyA9IE1hdGgubWF4KGxlZnRMaW1pdCwgTWF0aC5taW4odmFsdWUsIHJpZ2h0TGltaXQpKTtcbiAgICB0aGlzLnRvb2x0aXAuc3R5bGUgPSBgLS12bS10b29sdGlwLWxlZnQ6ICR7eFBvc31weGA7XG4gIH1cbiAgb25TZWVrKGV2ZW50KSB7XG4gICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFRpbWUnLCBldmVudC5kZXRhaWwpO1xuICB9XG4gIG9uU2Vla2luZyhldmVudCkge1xuICAgIGlmICh0aGlzLmR1cmF0aW9uIDwgMCB8fCB0aGlzLnRvb2x0aXAuaGlkZGVuKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChldmVudC50eXBlID09PSAnbW91c2VsZWF2ZScpIHtcbiAgICAgIHRoaXMuZ2V0U2xpZGVySW5wdXQoKS5ibHVyKCk7XG4gICAgICB0aGlzLnRvb2x0aXAuYWN0aXZlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlY3QgPSB0aGlzLmhvc3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgcGVyY2VudCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgKDEwMCAvIHJlY3Qud2lkdGgpICogKGV2ZW50LnBhZ2VYIC0gcmVjdC5sZWZ0KSkpO1xuICAgIHRoaXMudGltZXN0YW1wID0gZm9ybWF0VGltZSgodGhpcy5kdXJhdGlvbiAvIDEwMCkgKiBwZXJjZW50LCB0aGlzLmFsd2F5c1Nob3dIb3Vycyk7XG4gICAgdGhpcy5zZXRUb29sdGlwUG9zaXRpb24oKHBlcmNlbnQgLyAxMDApICogcmVjdC53aWR0aCk7XG4gICAgaWYgKCF0aGlzLnRvb2x0aXAuYWN0aXZlKSB7XG4gICAgICB0aGlzLmdldFNsaWRlcklucHV0KCkuZm9jdXMoKTtcbiAgICAgIHRoaXMudG9vbHRpcC5hY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBnZXRTbGlkZXJJbnB1dCgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHRoaXMuc2xpZGVyLnNoYWRvd1Jvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzbGlkZXJWYWx1ZVRleHQgPSB0aGlzLmkxOG4uc2NydWJiZXJMYWJlbFxuICAgICAgLnJlcGxhY2UoL3tjdXJyZW50VGltZX0vLCBmb3JtYXRUaW1lKHRoaXMuY3VycmVudFRpbWUpKVxuICAgICAgLnJlcGxhY2UoL3tkdXJhdGlvbn0vLCBmb3JtYXRUaW1lKHRoaXMuZW5kVGltZSkpO1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBcInNjcnViYmVyXCIsIG9uTW91c2VFbnRlcjogdGhpcy5vblNlZWtpbmcuYmluZCh0aGlzKSwgb25Nb3VzZUxlYXZlOiB0aGlzLm9uU2Vla2luZy5iaW5kKHRoaXMpLCBvbk1vdXNlTW92ZTogdGhpcy5vblNlZWtpbmcuYmluZCh0aGlzKSwgb25Ub3VjaE1vdmU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5nZXRTbGlkZXJJbnB1dCgpLmZvY3VzKCk7XG4gICAgICB9LCBvblRvdWNoRW5kOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuZ2V0U2xpZGVySW5wdXQoKS5ibHVyKCk7XG4gICAgICB9IH0sIGgoXCJ2bS1zbGlkZXJcIiwgeyBzdGVwOiAwLjAxLCBtYXg6IHRoaXMuZW5kVGltZSwgdmFsdWU6IHRoaXMuY3VycmVudFRpbWUsIGxhYmVsOiB0aGlzLmkxOG4uc2NydWJiZXIsIHZhbHVlVGV4dDogc2xpZGVyVmFsdWVUZXh0LCBvblZtVmFsdWVDaGFuZ2U6IHRoaXMub25TZWVrLmJpbmQodGhpcyksIHJlZjogKGVsKSA9PiB7XG4gICAgICAgIHRoaXMuc2xpZGVyID0gZWw7XG4gICAgICB9IH0pLCBoKFwicHJvZ3Jlc3NcIiwgeyBjbGFzczoge1xuICAgICAgICBsb2FkaW5nOiB0aGlzLmJ1ZmZlcmluZyxcbiAgICAgIH0sXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBtaW46IDAsIG1heDogdGhpcy5lbmRUaW1lLCB2YWx1ZTogdGhpcy5idWZmZXJlZCwgXCJhcmlhLWxhYmVsXCI6IHRoaXMuaTE4bi5idWZmZXJlZCwgXCJhcmlhLXZhbHVlbWluXCI6IFwiMFwiLCBcImFyaWEtdmFsdWVtYXhcIjogdGhpcy5lbmRUaW1lLCBcImFyaWEtdmFsdWVub3dcIjogdGhpcy5idWZmZXJlZCwgXCJhcmlhLXZhbHVldGV4dFwiOiBgJHsodGhpcy5lbmRUaW1lID4gMFxuICAgICAgICA/IHRoaXMuYnVmZmVyZWQgLyB0aGlzLmVuZFRpbWVcbiAgICAgICAgOiAwKS50b0ZpeGVkKDApfSVgIH0sIFwiJSBidWZmZXJlZFwiKSwgaChcInZtLXRvb2x0aXBcIiwgeyBoaWRkZW46IHRoaXMuaGlkZVRvb2x0aXAsIHJlZjogKGVsKSA9PiB7XG4gICAgICAgIHRoaXMudG9vbHRpcCA9IGVsO1xuICAgICAgfSB9LCB0aGlzLnRpbWVzdGFtcCkpKTtcbiAgfVxuICBnZXQgaG9zdCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcIm5vS2V5Ym9hcmRcIjogW1wib25Ob0tleWJvYXJkQ2hhbmdlXCJdLFxuICAgIFwiZHVyYXRpb25cIjogW1wib25EdXJhdGlvbkNoYW5nZVwiXVxuICB9OyB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiBzY3J1YmJlckNvbnRyb2xDc3M7IH1cbn07XG5cbmNvbnN0IHNldHRpbmdzQ3NzID0gXCI6aG9zdHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6dmFyKC0tdm0tbWVudS16LWluZGV4KX0uc2V0dGluZ3N7cG9zaXRpb246YWJzb2x1dGU7b3BhY2l0eTowO3BvaW50ZXItZXZlbnRzOm5vbmU7b3ZlcmZsb3cteDpoaWRkZW47b3ZlcmZsb3cteTphdXRvO2JhY2tncm91bmQtY29sb3I6dmFyKC0tdm0tbWVudS1iZyk7bWF4LWhlaWdodDp2YXIoLS12bS1zZXR0aW5ncy1tYXgtaGVpZ2h0KTtib3JkZXItcmFkaXVzOnZhcigtLXZtLXNldHRpbmdzLWJvcmRlci1yYWRpdXMpO3BhZGRpbmc6dmFyKC0tdm0tc2V0dGluZ3MtcGFkZGluZyk7Ym94LXNoYWRvdzp2YXIoLS12bS1zZXR0aW5ncy1zaGFkb3cpO2JveC1zaXppbmc6Ym9yZGVyLWJveDtzY3JvbGxiYXItd2lkdGg6dGhpbjtzY3JvbGwtYmVoYXZpb3I6c21vb3RoO3Njcm9sbGJhci1jb2xvcjp2YXIoLS12bS1zZXR0aW5ncy1zY3JvbGwtdGh1bWItY29sb3IpXFxuICAgIHZhcigtLXZtLXNldHRpbmdzLXNjcm9sbC10cmFjay1jb2xvcik7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoOHB4KTt0cmFuc2l0aW9uOnZhcigtLXZtLXNldHRpbmdzLXRyYW5zaXRpb24pfS5jb250YWluZXJ7ZGlzcGxheTpibG9jazt3aWR0aDp2YXIoLS12bS1zZXR0aW5ncy13aWR0aCk7aGVpZ2h0OjEwMCU7cG9zaXRpb246cmVsYXRpdmU7dHJhbnNpdGlvbjp3aWR0aCAwLjI1cyBlYXNlLWluLCBoZWlnaHQgMC4yNXMgZWFzZS1pbn0uc2V0dGluZ3MuaHlkcmF0ZWR7dmlzaWJpbGl0eTpoaWRkZW4gIWltcG9ydGFudH0uc2V0dGluZ3M6Oi13ZWJraXQtc2Nyb2xsYmFye3dpZHRoOnZhcigtLXZtLXNldHRpbmdzLXNjcm9sbC13aWR0aCl9LnNldHRpbmdzOjotd2Via2l0LXNjcm9sbGJhci10cmFja3tiYWNrZ3JvdW5kOnZhcigtLXZtLXNldHRpbmdzLXNjcm9sbC10cmFjay1jb2xvcil9LnNldHRpbmdzOjotd2Via2l0LXNjcm9sbGJhci10aHVtYntib3JkZXItcmFkaXVzOnZhcigtLXZtLXNldHRpbmdzLXNjcm9sbC13aWR0aCk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS12bS1zZXR0aW5ncy1zY3JvbGwtdGh1bWItY29sb3IpO2JvcmRlcjoycHggc29saWQgdmFyKC0tdm0tbWVudS1iZyl9LnNldHRpbmdzLmFjdGl2ZXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTtvcGFjaXR5OjE7cG9pbnRlci1ldmVudHM6YXV0bzt2aXNpYmlsaXR5OnZpc2libGUgIWltcG9ydGFudH0uc2V0dGluZ3MubW9iaWxle3Bvc2l0aW9uOmZpeGVkO3RvcDphdXRvICFpbXBvcnRhbnQ7bGVmdDowICFpbXBvcnRhbnQ7cmlnaHQ6MCAhaW1wb3J0YW50O2JvdHRvbTowICFpbXBvcnRhbnQ7d2lkdGg6MTAwJTttaW4taGVpZ2h0OjU2cHg7bWF4LWhlaWdodDo1MCU7Ym9yZGVyLXJhZGl1czowO3otaW5kZXg6MjE0NzQ4MzY0Nzt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKX0uc2V0dGluZ3MubW9iaWxlLmFjdGl2ZXt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX0uc2V0dGluZ3MubW9iaWxlPnZtLW1lbnV7aGVpZ2h0OjEwMCUgIWltcG9ydGFudDtvdmVyZmxvdzphdXRvICFpbXBvcnRhbnR9XCI7XG5cbnZhciBfX2F3YWl0ZXIkNiA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xubGV0IGlkQ291bnQkMiA9IDA7XG5jb25zdCBTZXR0aW5ncyA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy5kaXNwb3NhbCA9IG5ldyBEaXNwb3NhbCgpO1xuICAgIHRoaXMubWVudUhlaWdodCA9IDA7XG4gICAgLyoqXG4gICAgICogUGlucyB0aGUgc2V0dGluZ3MgdG8gdGhlIGRlZmluZWQgcG9zaXRpb24gaW5zaWRlIHRoZSB2aWRlbyBwbGF5ZXIuIFRoaXMgaGFzIG5vIGVmZmVjdCB3aGVuXG4gICAgICogdGhlIHZpZXcgaXMgb2YgdHlwZSBgYXVkaW9gIChhbHdheXMgYGJvdHRvbVJpZ2h0YCkgYW5kIG9uIG1vYmlsZSBkZXZpY2VzIChhbHdheXMgYm90dG9tIHNoZWV0KS5cbiAgICAgKi9cbiAgICB0aGlzLnBpbiA9ICdib3R0b21SaWdodCc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgc2V0dGluZ3MgbWVudSBpcyBvcGVuZWQvY2xvc2VkLlxuICAgICAqL1xuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNNb2JpbGUgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc0F1ZGlvVmlldyA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoQ29udHJvbHNDb2xsaXNpb25EZXRlY3Rpb24odGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgWydpc01vYmlsZScsICdpc0F1ZGlvVmlldyddKTtcbiAgfVxuICBvbkFjdGl2ZUNoYW5nZSgpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdpc1NldHRpbmdzQWN0aXZlJywgdGhpcy5hY3RpdmUpO1xuICAgIGlmIChpc1VuZGVmaW5lZCh0aGlzLmNvbnRyb2xsZXIpKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuY29udHJvbGxlci5leHBhbmRlZCA9IHRoaXMuYWN0aXZlO1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBjcmVhdGVEaXNwYXRjaGVyKHRoaXMpO1xuICAgIGlkQ291bnQkMiArPSAxO1xuICAgIHRoaXMuaWQgPSBgdm0tc2V0dGluZ3MtJHtpZENvdW50JDJ9YDtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmRpc3Bvc2FsLmVtcHR5KCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNvbnRyb2xsZXIgcmVzcG9uc2libGUgZm9yIG9wZW5pbmcvY2xvc2luZyB0aGlzIHNldHRpbmdzIG1lbnUuXG4gICAqL1xuICBzZXRDb250cm9sbGVyKGNvbnRyb2xsZXIpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJDYodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgdGhpcy5jb250cm9sbGVyLm1lbnUgPSB0aGlzLmlkO1xuICAgICAgdGhpcy5kaXNwb3NhbC5lbXB0eSgpO1xuICAgICAgdGhpcy5kaXNwb3NhbC5hZGQobGlzdGVuKHRoaXMuY29udHJvbGxlciwgJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmFjdGl2ZSA9ICF0aGlzLmFjdGl2ZTtcbiAgICAgIH0pKTtcbiAgICAgIHRoaXMuZGlzcG9zYWwuYWRkKGxpc3Rlbih0aGlzLmNvbnRyb2xsZXIsICdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5rZXkgIT09ICdFbnRlcicpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyBXZSdyZSBsb29raW5nIGZvciAhYWN0aXZlIGJlY2F1c2UgdGhlIGBjbGlja2AgZXZlbnQgYWJvdmUgd2lsbCB0b2dnbGUgaXQgdG8gYWN0aXZlLlxuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKVxuICAgICAgICAgIHRoaXMubWVudS5mb2N1c01lbnUoKTtcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfVxuICBnZXRQb3NpdGlvbigpIHtcbiAgICBpZiAodGhpcy5pc0F1ZGlvVmlldykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmlnaHQ6ICcwJyxcbiAgICAgICAgYm90dG9tOiAnY2FsYyh2YXIoLS12bS1jb250cm9scy1oZWlnaHQsIDApICsgNHB4KScsXG4gICAgICB9O1xuICAgIH1cbiAgICAvLyB0b3BMZWZ0ID0+IHsgdG9wOiAwLCBsZWZ0OiAwIH1cbiAgICBjb25zdCBwb3MgPSB0aGlzLnBpbi5zcGxpdCgvKD89W0x8Ul0pLykubWFwKHMgPT4gcy50b0xvd2VyQ2FzZSgpKTtcbiAgICByZXR1cm4ge1xuICAgICAgW3Bvcy5pbmNsdWRlcygndG9wJykgPyAndG9wJyA6ICdib3R0b20nXTogJ3ZhcigtLXZtLWNvbnRyb2xzLWhlaWdodCwgMCknLFxuICAgICAgW3Bvcy5pbmNsdWRlcygnbGVmdCcpID8gJ2xlZnQnIDogJ3JpZ2h0J106ICc4cHgnLFxuICAgIH07XG4gIH1cbiAgb25PcGVuKGV2ZW50KSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICgoKF9hID0gZXZlbnQuZGV0YWlsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWRlbnRpZmllcikgIT09IHRoaXMuaWQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICB9XG4gIG9uQ2xvc2UoZXZlbnQpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCgoX2EgPSBldmVudC5kZXRhaWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pZGVudGlmaWVyKSAhPT0gdGhpcy5pZClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICB9XG4gIG9uSGVpZ2h0Q2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5tZW51SGVpZ2h0ID0gZXZlbnQuZGV0YWlsO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBzdHlsZTogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5nZXRQb3NpdGlvbigpKSwgY2xhc3M6IHtcbiAgICAgICAgc2V0dGluZ3M6IHRydWUsXG4gICAgICAgIGFjdGl2ZTogdGhpcy5hY3RpdmUsXG4gICAgICAgIG1vYmlsZTogdGhpcy5pc01vYmlsZSxcbiAgICAgIH0gfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImNvbnRhaW5lclwiLCBzdHlsZTogeyBoZWlnaHQ6IGAke3RoaXMubWVudUhlaWdodH1weGAgfSB9LCBoKFwidm0tbWVudVwiLCB7IGlkZW50aWZpZXI6IHRoaXMuaWQsIGFjdGl2ZTogdGhpcy5hY3RpdmUsIGNvbnRyb2xsZXI6IHRoaXMuY29udHJvbGxlciwgb25WbU9wZW46IHRoaXMub25PcGVuLmJpbmQodGhpcyksIG9uVm1DbG9zZTogdGhpcy5vbkNsb3NlLmJpbmQodGhpcyksIG9uVm1NZW51SGVpZ2h0Q2hhbmdlOiB0aGlzLm9uSGVpZ2h0Q2hhbmdlLmJpbmQodGhpcyksIHJlZjogKGVsKSA9PiB7XG4gICAgICAgIHRoaXMubWVudSA9IGVsO1xuICAgICAgfSB9LCBoKFwic2xvdFwiLCBudWxsKSkpKSk7XG4gIH1cbiAgZ2V0IGhvc3QoKSB7IHJldHVybiB0aGlzOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJhY3RpdmVcIjogW1wib25BY3RpdmVDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gc2V0dGluZ3NDc3M7IH1cbn07XG5cbmNvbnN0IHNldHRpbmdzQ29udHJvbENzcyA9IFwiLnNldHRpbmdzQ29udHJvbC5oaWRkZW57ZGlzcGxheTpub25lfS5zZXR0aW5nc0NvbnRyb2x7LS12bS1pY29uLXRyYW5zaXRpb246dHJhbnNmb3JtIDAuM3MgZWFzZX0uc2V0dGluZ3NDb250cm9sLmFjdGl2ZXstLXZtLWljb24tdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyl9XCI7XG5cbnZhciBfX2F3YWl0ZXIkNSA9ICh1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7XG4gICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSB9XG4gICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59O1xubGV0IGlkQ291bnQkMSA9IDA7XG5jb25zdCBTZXR0aW5nc0NvbnRyb2wgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBzZXR0aW5ncyBpY29uIHRvIHJlc29sdmUgZnJvbSB0aGUgaWNvbiBsaWJyYXJ5LlxuICAgICAqL1xuICAgIHRoaXMuaWNvbiA9ICdzZXR0aW5ncyc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdG9vbHRpcCBpcyBwb3NpdGlvbmVkIGFib3ZlL2JlbG93IHRoZSBjb250cm9sLlxuICAgICAqL1xuICAgIHRoaXMudG9vbHRpcFBvc2l0aW9uID0gJ3RvcCc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgc2V0dGluZ3MgbWVudSB0aGlzIGNvbnRyb2wgbWFuYWdlcyBpcyBvcGVuLlxuICAgICAqL1xuICAgIHRoaXMuZXhwYW5kZWQgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pMThuID0ge307XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFsnaTE4biddKTtcbiAgfVxuICBvbkNvbXBvbmVudHNDaGFuZ2UoKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLnZtU2V0dGluZ3MpKSB7XG4gICAgICB0aGlzLnZtU2V0dGluZ3Muc2V0Q29udHJvbGxlcih0aGlzLmhvc3QpO1xuICAgIH1cbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBpZENvdW50JDEgKz0gMTtcbiAgICB0aGlzLmlkID0gYHZtLXNldHRpbmdzLWNvbnRyb2wtJHtpZENvdW50JDF9YDtcbiAgICB3YXRjaENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMsICd2bS1zZXR0aW5ncycsIHJlZ3MgPT4ge1xuICAgICAgW3RoaXMudm1TZXR0aW5nc10gPSByZWdzO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBGb2N1c2VzIHRoZSBjb250cm9sLlxuICAgKi9cbiAgZm9jdXNDb250cm9sKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyJDUodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAoX2EgPSB0aGlzLmNvbnRyb2wpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1c0NvbnRyb2woKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBmb2N1cyBmcm9tIHRoZSBjb250cm9sLlxuICAgKi9cbiAgYmx1ckNvbnRyb2woKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkNSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIChfYSA9IHRoaXMuY29udHJvbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJsdXJDb250cm9sKCk7XG4gICAgfSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGhhc1NldHRpbmdzID0gIWlzVW5kZWZpbmVkKHRoaXMubWVudSk7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IHtcbiAgICAgICAgc2V0dGluZ3NDb250cm9sOiB0cnVlLFxuICAgICAgICBoaWRkZW46ICFoYXNTZXR0aW5ncyxcbiAgICAgICAgYWN0aXZlOiBoYXNTZXR0aW5ncyAmJiB0aGlzLmV4cGFuZGVkLFxuICAgICAgfSB9LCBoKFwidm0tY29udHJvbFwiLCB7IGlkZW50aWZpZXI6IHRoaXMuaWQsIG1lbnU6IHRoaXMubWVudSwgaGlkZGVuOiAhaGFzU2V0dGluZ3MsIGV4cGFuZGVkOiB0aGlzLmV4cGFuZGVkLCBsYWJlbDogdGhpcy5pMThuLnNldHRpbmdzLCByZWY6IGNvbnRyb2wgPT4ge1xuICAgICAgICB0aGlzLmNvbnRyb2wgPSBjb250cm9sO1xuICAgICAgfSB9LCBoKFwidm0taWNvblwiLCB7IG5hbWU6IHRoaXMuaWNvbiwgbGlicmFyeTogdGhpcy5pY29ucyB9KSwgaChcInZtLXRvb2x0aXBcIiwgeyBoaWRkZW46IHRoaXMuZXhwYW5kZWQsIHBvc2l0aW9uOiB0aGlzLnRvb2x0aXBQb3NpdGlvbiwgZGlyZWN0aW9uOiB0aGlzLnRvb2x0aXBEaXJlY3Rpb24gfSwgdGhpcy5pMThuLnNldHRpbmdzKSkpKTtcbiAgfVxuICBnZXQgaG9zdCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInZtU2V0dGluZ3NcIjogW1wib25Db21wb25lbnRzQ2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIHNldHRpbmdzQ29udHJvbENzczsgfVxufTtcblxuY29uc3Qgc2tlbGV0b25Dc3MgPSBcIjpob3N0e3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDp2YXIoLS12bS1za2VsZXRvbi16LWluZGV4KX1Aa2V5ZnJhbWVzIHNoZWVuezAle2JhY2tncm91bmQtcG9zaXRpb246MjAwJSAwfXRve2JhY2tncm91bmQtcG9zaXRpb246LTIwMCUgMH19LnNrZWxldG9ue3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ZGlzcGxheTpmbGV4O21pbi1oZWlnaHQ6MXJlbTtwb2ludGVyLWV2ZW50czphdXRvfS5zaGVlbi5oaWRkZW57b3BhY2l0eTowO3Zpc2liaWxpdHk6aGlkZGVuO3RyYW5zaXRpb246dmFyKC0tdm0tZmFkZS10cmFuc2l0aW9uKTtwb2ludGVyLWV2ZW50czpub25lfS5pbmRpY2F0b3J7ZmxleDoxIDEgYXV0bztiYWNrZ3JvdW5kOnZhcigtLXZtLXNrZWxldG9uLWNvbG9yKX0uc2tlbGV0b24uc2hlZW4gLmluZGljYXRvcntiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudChcXG4gICAgMjcwZGVnLFxcbiAgICB2YXIoLS12bS1za2VsZXRvbi1zaGVlbi1jb2xvciksXFxuICAgIHZhcigtLXZtLXNrZWxldG9uLWNvbG9yKSxcXG4gICAgdmFyKC0tdm0tc2tlbGV0b24tY29sb3IpLFxcbiAgICB2YXIoLS12bS1za2VsZXRvbi1zaGVlbi1jb2xvcilcXG4gICk7YmFja2dyb3VuZC1zaXplOjQwMCUgMTAwJTtiYWNrZ3JvdW5kLXNpemU6NDAwJSAxMDAlO2FuaW1hdGlvbjpzaGVlbiA4cyBlYXNlLWluLW91dCBpbmZpbml0ZX1cIjtcblxuY29uc3QgU2tlbGV0b24gPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGljaCBhbmltYXRpb24gZWZmZWN0IHRoZSBza2VsZXRvbiB3aWxsIHVzZS5cbiAgICAgKiAqL1xuICAgIHRoaXMuZWZmZWN0ID0gJ3NoZWVuJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5yZWFkeSA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbJ3JlYWR5J10pO1xuICB9XG4gIG9uUmVhZHlDaGFuZ2UoKSB7XG4gICAgaWYgKCF0aGlzLnJlYWR5KSB7XG4gICAgICB0aGlzLmhpZGRlbiA9IGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmhpZGRlbiA9IHRydWU7XG4gICAgICB9LCA1MDApO1xuICAgIH1cbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IHtcbiAgICAgICAgc2tlbGV0b246IHRydWUsXG4gICAgICAgIGhpZGRlbjogdGhpcy5oaWRkZW4sXG4gICAgICAgIHNoZWVuOiB0aGlzLmVmZmVjdCA9PT0gJ3NoZWVuJyxcbiAgICAgIH0gfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImluZGljYXRvclwiIH0pKSk7XG4gIH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInJlYWR5XCI6IFtcIm9uUmVhZHlDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gc2tlbGV0b25Dc3M7IH1cbn07XG5cbmNvbnN0IHNsaWRlckNzcyA9IFwiOmhvc3R7d2lkdGg6MTAwJX0uc2xpZGVye3dpZHRoOjEwMCV9aW5wdXR7d2lkdGg6MTAwJTstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowO291dGxpbmU6MDtjdXJzb3I6cG9pbnRlcjtib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym9yZGVyLXJhZGl1czpjYWxjKHZhcigtLXZtLXNsaWRlci10aHVtYi1oZWlnaHQpICogMik7dXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dG91Y2gtYWN0aW9uOm1hbmlwdWxhdGlvbjtjb2xvcjp2YXIoLS12bS1zbGlkZXItdmFsdWUtY29sb3IpO2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OnZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpO21hcmdpbjowO3BhZGRpbmc6MDt0cmFuc2l0aW9uOmJveC1zaGFkb3cgMC4zcyBlYXNlfWlucHV0Ojotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFja3tiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlcjowO2JvcmRlci1yYWRpdXM6Y2FsYyh2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KSAvIDIpO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdHJhY2staGVpZ2h0KTt0cmFuc2l0aW9uOmJveC1zaGFkb3cgMC4zcyBlYXNlO3VzZXItc2VsZWN0Om5vbmU7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoXFxuICAgIHRvIHJpZ2h0LFxcbiAgICBjdXJyZW50Q29sb3IgdmFyKC0tdm0tdmFsdWUsIDAlKSxcXG4gICAgdHJhbnNwYXJlbnQgdmFyKC0tdm0tdmFsdWUsIDAlKVxcbiAgKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXZtLXNsaWRlci10cmFjay1jb2xvcil9aW5wdXQ6Oi13ZWJraXQtc2xpZGVyLXRodW1ie29wYWNpdHk6MDtiYWNrZ3JvdW5kOnZhcigtLXZtLXNsaWRlci10aHVtYi1iZyk7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czoxMDAlO3Bvc2l0aW9uOnJlbGF0aXZlO3RyYW5zaXRpb246YWxsIDAuMnMgZWFzZTt3aWR0aDp2YXIoLS12bS1zbGlkZXItdGh1bWItd2lkdGgpO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdGh1bWItaGVpZ2h0KTtib3gtc2hhZG93OnZhcigtLXZtLXNsaWRlci10aHVtYi1zaGFkb3cpOy13ZWJraXQtYXBwZWFyYW5jZTpub25lO21hcmdpbi10b3A6Y2FsYyhcXG4gICAgMHB4IC1cXG4gICAgICBjYWxjKFxcbiAgICAgICAgY2FsYyh2YXIoLS12bS1zbGlkZXItdGh1bWItaGVpZ2h0KSAtIHZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpKSAvIDJcXG4gICAgICApXFxuICApfWlucHV0OjotbW96LXJhbmdlLXRyYWNre2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czpjYWxjKHZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpIC8gMik7aGVpZ2h0OnZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpO3RyYW5zaXRpb246Ym94LXNoYWRvdyAwLjNzIGVhc2U7dXNlci1zZWxlY3Q6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXZtLXNsaWRlci10cmFjay1jb2xvcil9aW5wdXQ6Oi1tb3otcmFuZ2UtdGh1bWJ7b3BhY2l0eTowO2JhY2tncm91bmQ6dmFyKC0tdm0tc2xpZGVyLXRodW1iLWJnKTtib3JkZXI6MDtib3JkZXItcmFkaXVzOjEwMCU7cG9zaXRpb246cmVsYXRpdmU7dHJhbnNpdGlvbjphbGwgMC4ycyBlYXNlO3dpZHRoOnZhcigtLXZtLXNsaWRlci10aHVtYi13aWR0aCk7aGVpZ2h0OnZhcigtLXZtLXNsaWRlci10aHVtYi1oZWlnaHQpO2JveC1zaGFkb3c6dmFyKC0tdm0tc2xpZGVyLXRodW1iLXNoYWRvdyl9aW5wdXQ6Oi1tb3otcmFuZ2UtcHJvZ3Jlc3N7YmFja2dyb3VuZDpjdXJyZW50Q29sb3I7Ym9yZGVyLXJhZGl1czpjYWxjKHZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpIC8gMik7aGVpZ2h0OnZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpfWlucHV0OjotbXMtdHJhY2t7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czpjYWxjKHZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpIC8gMik7aGVpZ2h0OnZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpO3RyYW5zaXRpb246Ym94LXNoYWRvdyAwLjNzIGVhc2U7dXNlci1zZWxlY3Q6bm9uZTtjb2xvcjp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLXZtLXNsaWRlci10cmFjay1jb2xvcil9aW5wdXQ6Oi1tcy1maWxsLXVwcGVye2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czpjYWxjKHZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpIC8gMik7aGVpZ2h0OnZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpO3RyYW5zaXRpb246Ym94LXNoYWRvdyAwLjNzIGVhc2U7dXNlci1zZWxlY3Q6bm9uZX1pbnB1dDo6LW1zLWZpbGwtbG93ZXJ7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czpjYWxjKHZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpIC8gMik7aGVpZ2h0OnZhcigtLXZtLXNsaWRlci10cmFjay1oZWlnaHQpO3RyYW5zaXRpb246Ym94LXNoYWRvdyAwLjNzIGVhc2U7dXNlci1zZWxlY3Q6bm9uZTtiYWNrZ3JvdW5kOmN1cnJlbnRDb2xvcn1pbnB1dDo6LW1zLXRodW1ie29wYWNpdHk6MDtiYWNrZ3JvdW5kOnZhcigtLXZtLXNsaWRlci10aHVtYi1iZyk7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czoxMDAlO3Bvc2l0aW9uOnJlbGF0aXZlO3RyYW5zaXRpb246YWxsIDAuMnMgZWFzZTt3aWR0aDp2YXIoLS12bS1zbGlkZXItdGh1bWItd2lkdGgpO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdGh1bWItaGVpZ2h0KTtib3gtc2hhZG93OnZhcigtLXZtLXNsaWRlci10aHVtYi1zaGFkb3cpO21hcmdpbi10b3A6MH1pbnB1dDo6LW1zLXRvb2x0aXB7ZGlzcGxheTpub25lfWlucHV0OmhvdmVyOjotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFja3toZWlnaHQ6dmFyKC0tdm0tc2xpZGVyLXRyYWNrLWZvY3VzZWQtaGVpZ2h0KX1pbnB1dDpob3Zlcjo6LW1vei1yYW5nZS10cmFja3toZWlnaHQ6dmFyKC0tdm0tc2xpZGVyLXRyYWNrLWZvY3VzZWQtaGVpZ2h0KX1pbnB1dDpob3Zlcjo6LW1zLXRyYWNre2hlaWdodDp2YXIoLS12bS1zbGlkZXItdHJhY2stZm9jdXNlZC1oZWlnaHQpfWlucHV0OmhvdmVyOjotbXMtZmlsbC11cHBlcntoZWlnaHQ6dmFyKC0tdm0tc2xpZGVyLXRyYWNrLWZvY3VzZWQtaGVpZ2h0KX1pbnB1dDpob3Zlcjo6LW1zLWZpbGwtbG93ZXJ7aGVpZ2h0OnZhcigtLXZtLXNsaWRlci10cmFjay1mb2N1c2VkLWhlaWdodCl9aW5wdXQ6aG92ZXI6Oi13ZWJraXQtc2xpZGVyLXRodW1ie29wYWNpdHk6MX1pbnB1dDpob3Zlcjo6LW1vei1yYW5nZS10aHVtYntvcGFjaXR5OjF9aW5wdXQ6aG92ZXI6Oi1tcy10aHVtYntvcGFjaXR5OjF9aW5wdXQ6Zm9jdXN7b3V0bGluZTowfWlucHV0OmZvY3VzOjotd2Via2l0LXNsaWRlci1ydW5uYWJsZS10cmFja3tvdXRsaW5lOjA7aGVpZ2h0OnZhcigtLXZtLXNsaWRlci10cmFjay1mb2N1c2VkLWhlaWdodCl9aW5wdXQ6Zm9jdXM6Oi1tb3otcmFuZ2UtdHJhY2t7b3V0bGluZTowO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdHJhY2stZm9jdXNlZC1oZWlnaHQpfWlucHV0OmZvY3VzOjotbXMtdHJhY2t7b3V0bGluZTowO2hlaWdodDp2YXIoLS12bS1zbGlkZXItdHJhY2stZm9jdXNlZC1oZWlnaHQpfWlucHV0OjotbW96LWZvY3VzLW91dGVye2JvcmRlcjowfVwiO1xuXG5jb25zdCBTbGlkZXIgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMudm1WYWx1ZUNoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1WYWx1ZUNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLnZtRm9jdXMgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtRm9jdXNcIiwgNyk7XG4gICAgdGhpcy52bUJsdXIgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtQmx1clwiLCA3KTtcbiAgICAvKipcbiAgICAgKiBBIG51bWJlciB0aGF0IHNwZWNpZmllcyB0aGUgZ3JhbnVsYXJpdHkgdGhhdCB0aGUgdmFsdWUgbXVzdCBhZGhlcmUgdG8uXG4gICAgICovXG4gICAgdGhpcy5zdGVwID0gMTtcbiAgICAvKipcbiAgICAgKiBUaGUgbG93ZXN0IHZhbHVlIGluIHRoZSByYW5nZSBvZiBwZXJtaXR0ZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIHRoaXMubWluID0gMDtcbiAgICAvKipcbiAgICAgKiBUaGUgZ3JlYXRlc3QgcGVybWl0dGVkIHZhbHVlLlxuICAgICAqL1xuICAgIHRoaXMubWF4ID0gMTA7XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgdmFsdWUuXG4gICAgICovXG4gICAgdGhpcy52YWx1ZSA9IDU7XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICB9XG4gIGdldFBlcmNlbnRhZ2UoKSB7XG4gICAgcmV0dXJuIGAkeyh0aGlzLnZhbHVlIC8gdGhpcy5tYXgpICogMTAwfSVgO1xuICB9XG4gIG9uVmFsdWVDaGFuZ2UoZXZlbnQpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUZsb2F0KChfYSA9IGV2ZW50LnRhcmdldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhbHVlKTtcbiAgICB0aGlzLnZtVmFsdWVDaGFuZ2UuZW1pdCh2YWx1ZSk7XG4gIH1cbiAgY2FsY1RvdWNoZWRWYWx1ZShldmVudCkge1xuICAgIGNvbnN0IGlucHV0ID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgY29uc3QgbWluID0gcGFyc2VGbG9hdChpbnB1dC5nZXRBdHRyaWJ1dGUoJ21pbicpKTtcbiAgICBjb25zdCBtYXggPSBwYXJzZUZsb2F0KGlucHV0LmdldEF0dHJpYnV0ZSgnbWF4JykpO1xuICAgIGNvbnN0IHN0ZXAgPSBwYXJzZUZsb2F0KGlucHV0LmdldEF0dHJpYnV0ZSgnc3RlcCcpKTtcbiAgICBjb25zdCBkZWx0YSA9IG1heCAtIG1pbjtcbiAgICAvLyBDYWxjdWxhdGUgcGVyY2VudGFnZS5cbiAgICBsZXQgcGVyY2VudDtcbiAgICBjb25zdCBjbGllbnRSZWN0ID0gaW5wdXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3Qgc2xpZGVyVGh1bWJXaWR0aCA9IHBhcnNlRmxvYXQod2luZG93XG4gICAgICAuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmhvc3QpXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZSgnLS12bS1zbGlkZXItdGh1bWItd2lkdGgnKSk7XG4gICAgY29uc3QgdGh1bWJXaWR0aCA9ICgoMTAwIC8gY2xpZW50UmVjdC53aWR0aCkgKiAoc2xpZGVyVGh1bWJXaWR0aCAvIDIpKSAvIDEwMDtcbiAgICBwZXJjZW50ID0gKDEwMCAvIGNsaWVudFJlY3Qud2lkdGgpICogKHRvdWNoLmNsaWVudFggLSBjbGllbnRSZWN0LmxlZnQpO1xuICAgIC8vIERvbid0IGFsbG93IG91dHNpZGUgYm91bmRzLlxuICAgIHBlcmNlbnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihwZXJjZW50LCAxMDApKTtcbiAgICAvLyBGYWN0b3IgaW4gdGhlIHRodW1iIG9mZnNldC5cbiAgICBpZiAocGVyY2VudCA8IDUwKSB7XG4gICAgICBwZXJjZW50IC09ICgxMDAgLSBwZXJjZW50ICogMikgKiB0aHVtYldpZHRoO1xuICAgIH1cbiAgICBlbHNlIGlmIChwZXJjZW50ID4gNTApIHtcbiAgICAgIHBlcmNlbnQgKz0gKHBlcmNlbnQgLSA1MCkgKiAyICogdGh1bWJXaWR0aDtcbiAgICB9XG4gICAgY29uc3QgcG9zaXRpb24gPSBkZWx0YSAqIChwZXJjZW50IC8gMTAwKTtcbiAgICBpZiAoc3RlcCA+PSAxKSB7XG4gICAgICByZXR1cm4gbWluICsgTWF0aC5yb3VuZChwb3NpdGlvbiAvIHN0ZXApICogc3RlcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBwYXJ0IGRpZmZlcnMgZnJvbSBvcmlnaW5hbCBpbXBsZW1lbnRhdGlvbiB0byBzYXZlIHNwYWNlLiBPbmx5IHN1cHBvcnRzIDIgZGVjaW1hbFxuICAgICAqIHBsYWNlcyAoMC4wMSkgYXMgdGhlIHN0ZXAuXG4gICAgICovXG4gICAgcmV0dXJuIG1pbiArIHBhcnNlRmxvYXQocG9zaXRpb24udG9GaXhlZCgyKSk7XG4gIH1cbiAgLyoqXG4gICAqIEJhc2ljYWxseSBpbnB1dFtyYW5nZT1cInR5cGVcIl0gb24gdG91Y2ggZGV2aWNlcyBzdWNrcyAocGFydGljdWxhcmx5IGlPUyksIHNvIHRoaXMgaGVscHMgbWFrZSBpdFxuICAgKiBiZXR0ZXIuXG4gICAqXG4gICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3NhbXBvdHRzL3JhbmdldG91Y2hcbiAgICovXG4gIG9uVG91Y2goZXZlbnQpIHtcbiAgICBjb25zdCBpbnB1dCA9IGV2ZW50LnRhcmdldDtcbiAgICBpZiAoaW5wdXQuZGlzYWJsZWQpXG4gICAgICByZXR1cm47XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnZhbHVlID0gdGhpcy5jYWxjVG91Y2hlZFZhbHVlKGV2ZW50KTtcbiAgICB0aGlzLnZtVmFsdWVDaGFuZ2UuZW1pdCh0aGlzLnZhbHVlKTtcbiAgICBpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyB3aW5kb3cuRXZlbnQoZXZlbnQudHlwZSA9PT0gJ3RvdWNoZW5kJyA/ICdjaGFuZ2UnIDogJ2lucHV0Jywge1xuICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICB9KSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogXCJzbGlkZXJcIiwgc3R5bGU6IHtcbiAgICAgICAgJy0tdm0tdmFsdWUnOiB0aGlzLmdldFBlcmNlbnRhZ2UoKSxcbiAgICAgIH0gfSwgaChcImlucHV0XCIsIHsgdHlwZTogXCJyYW5nZVwiLCBzdGVwOiB0aGlzLnN0ZXAsIG1pbjogdGhpcy5taW4sIG1heDogdGhpcy5tYXgsIHZhbHVlOiB0aGlzLnZhbHVlLCBhdXRvY29tcGxldGU6IFwib2ZmXCIsIFwiYXJpYS1sYWJlbFwiOiB0aGlzLmxhYmVsLCBcImFyaWEtdmFsdWVtaW5cIjogdGhpcy5taW4sIFwiYXJpYS12YWx1ZW1heFwiOiB0aGlzLm1heCwgXCJhcmlhLXZhbHVlbm93XCI6IHRoaXMudmFsdWUsIFwiYXJpYS12YWx1ZXRleHRcIjogKF9hID0gdGhpcy52YWx1ZVRleHQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuZ2V0UGVyY2VudGFnZSgpLCBcImFyaWEtb3JpZW50YXRpb25cIjogXCJob3Jpem9udGFsXCIsIG9uSW5wdXQ6IHRoaXMub25WYWx1ZUNoYW5nZS5iaW5kKHRoaXMpLCBvbkZvY3VzOiAoKSA9PiB7XG4gICAgICAgIHRoaXMudm1Gb2N1cy5lbWl0KCk7XG4gICAgICB9LCBvbkJsdXI6ICgpID0+IHtcbiAgICAgICAgdGhpcy52bUJsdXIuZW1pdCgpO1xuICAgICAgfSwgb25Ub3VjaFN0YXJ0OiB0aGlzLm9uVG91Y2guYmluZCh0aGlzKSwgb25Ub3VjaE1vdmU6IHRoaXMub25Ub3VjaC5iaW5kKHRoaXMpLCBvblRvdWNoRW5kOiB0aGlzLm9uVG91Y2guYmluZCh0aGlzKSB9KSkpO1xuICB9XG4gIGdldCBob3N0KCkgeyByZXR1cm4gdGhpczsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gc2xpZGVyQ3NzOyB9XG59O1xuXG5jb25zdCBzcGlubmVyQ3NzID0gXCI6aG9zdHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6dmFyKC0tdm0tc3Bpbm5lci16LWluZGV4KX0uc3Bpbm5lcnt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtvcGFjaXR5OjA7dmlzaWJpbGl0eTpoaWRkZW47cG9pbnRlci1ldmVudHM6bm9uZTt0cmFuc2l0aW9uOnZhcigtLXZtLWZhZGUtdHJhbnNpdGlvbil9LnNwaW5uZXIuaGlkZGVue2Rpc3BsYXk6bm9uZX0uc3Bpbm5lci5hY3RpdmV7b3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZX1Aa2V5ZnJhbWVzIHNwaW57MCV7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKX0xMDAle3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19LnNwaW57YmFja2dyb3VuZDp0cmFuc3BhcmVudDttYXJnaW46NjBweCBhdXRvO2ZvbnQtc2l6ZToxMHB4O3Bvc2l0aW9uOnJlbGF0aXZlO3RleHQtaW5kZW50Oi05OTk5ZW07cG9pbnRlci1ldmVudHM6bm9uZTtib3JkZXItdG9wOnZhcigtLXZtLXNwaW5uZXItdGhpY2tuZXNzKSBzb2xpZCB2YXIoLS12bS1zcGlubmVyLWZpbGwtY29sb3IpO2JvcmRlci1sZWZ0OnZhcigtLXZtLXNwaW5uZXItdGhpY2tuZXNzKSBzb2xpZCB2YXIoLS12bS1zcGlubmVyLWZpbGwtY29sb3IpO2JvcmRlci1yaWdodDp2YXIoLS12bS1zcGlubmVyLXRoaWNrbmVzcykgc29saWQgdmFyKC0tdm0tc3Bpbm5lci10cmFjay1jb2xvcik7Ym9yZGVyLWJvdHRvbTp2YXIoLS12bS1zcGlubmVyLXRoaWNrbmVzcykgc29saWQgdmFyKC0tdm0tc3Bpbm5lci10cmFjay1jb2xvcik7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9LnNwaW4uYWN0aXZle2FuaW1hdGlvbjpzcGluIHZhcigtLXZtLXNwaW5uZXItc3Bpbi1kdXJhdGlvbikgaW5maW5pdGVcXG4gICAgdmFyKC0tdm0tc3Bpbm5lci1zcGluLXRpbWluZy1mdW5jKX0uc3Bpbiwuc3Bpbjo6YWZ0ZXJ7Ym9yZGVyLXJhZGl1czo1MCU7d2lkdGg6dmFyKC0tdm0tc3Bpbm5lci13aWR0aCk7aGVpZ2h0OnZhcigtLXZtLXNwaW5uZXItaGVpZ2h0KX1cIjtcblxuY29uc3QgU3Bpbm5lciA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICBhdHRhY2hTaGFkb3codGhpcyk7XG4gICAgdGhpcy52bVdpbGxTaG93ID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bVdpbGxTaG93XCIsIDMpO1xuICAgIHRoaXMudm1XaWxsSGlkZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1XaWxsSGlkZVwiLCAzKTtcbiAgICB0aGlzLmJsYWNrbGlzdCA9IFtQcm92aWRlci5Zb3VUdWJlXTtcbiAgICB0aGlzLmlzSGlkZGVuID0gdHJ1ZTtcbiAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNWaWRlb1ZpZXcgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBzcGlubmVyIHNob3VsZCBiZSBhY3RpdmUgd2hlbiB0aGUgcGxheWVyIGlzIGJvb3Rpbmcgb3IgbWVkaWEgaXMgbG9hZGluZy5cbiAgICAgKi9cbiAgICB0aGlzLnNob3dXaGVuTWVkaWFMb2FkaW5nID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGxheWJhY2tSZWFkeSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmJ1ZmZlcmluZyA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbXG4gICAgICAnaXNWaWRlb1ZpZXcnLFxuICAgICAgJ2J1ZmZlcmluZycsXG4gICAgICAncGxheWJhY2tSZWFkeScsXG4gICAgICAnY3VycmVudFByb3ZpZGVyJyxcbiAgICBdKTtcbiAgfVxuICBvblZpZGVvVmlld0NoYW5nZSgpIHtcbiAgICB0aGlzLmlzSGlkZGVuID0gIXRoaXMuaXNWaWRlb1ZpZXc7XG4gICAgdGhpcy5vblZpc2libGl0eUNoYW5nZSgpO1xuICB9XG4gIG9uQWN0aXZlQ2hhbmdlKCkge1xuICAgIHRoaXMuaXNBY3RpdmUgPVxuICAgICAgdGhpcy5idWZmZXJpbmcgfHwgKHRoaXMuc2hvd1doZW5NZWRpYUxvYWRpbmcgJiYgIXRoaXMucGxheWJhY2tSZWFkeSk7XG4gICAgdGhpcy5vblZpc2libGl0eUNoYW5nZSgpO1xuICB9XG4gIG9uVmlzaWJsaXR5Q2hhbmdlKCkge1xuICAgICF0aGlzLmlzSGlkZGVuICYmIHRoaXMuaXNBY3RpdmVcbiAgICAgID8gdGhpcy52bVdpbGxTaG93LmVtaXQoKVxuICAgICAgOiB0aGlzLnZtV2lsbEhpZGUuZW1pdCgpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczoge1xuICAgICAgICBzcGlubmVyOiB0cnVlLFxuICAgICAgICBoaWRkZW46IHRoaXMuaXNIaWRkZW4gfHwgdGhpcy5ibGFja2xpc3QuaW5jbHVkZXModGhpcy5jdXJyZW50UHJvdmlkZXIpLFxuICAgICAgICBhY3RpdmU6IHRoaXMuaXNBY3RpdmUsXG4gICAgICB9IH0sIGgoXCJkaXZcIiwgeyBjbGFzczoge1xuICAgICAgICBzcGluOiB0cnVlLFxuICAgICAgICBhY3RpdmU6IHRoaXMuaXNBY3RpdmUsXG4gICAgICB9IH0sIFwiTG9hZGluZy4uLlwiKSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJpc1ZpZGVvVmlld1wiOiBbXCJvblZpZGVvVmlld0NoYW5nZVwiXSxcbiAgICBcImJ1ZmZlcmluZ1wiOiBbXCJvbkFjdGl2ZUNoYW5nZVwiXSxcbiAgICBcInBsYXliYWNrUmVhZHlcIjogW1wib25BY3RpdmVDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gc3Bpbm5lckNzczsgfVxufTtcblxudmFyIF9fYXdhaXRlciQ0ID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5sZXQgaWRDb3VudCA9IDA7XG5jb25zdCBTdWJtZW51ID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLnZtT3BlblN1Ym1lbnUgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtT3BlblN1Ym1lbnVcIiwgNyk7XG4gICAgdGhpcy52bUNsb3NlU3VibWVudSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwidm1DbG9zZVN1Ym1lbnVcIiwgNyk7XG4gICAgLyoqXG4gICAgICogVGhlIGRpcmVjdGlvbiB0aGUgc3VibWVudSBzaG91bGQgc2xpZGUgaW4gZnJvbS5cbiAgICAgKi9cbiAgICB0aGlzLnNsaWRlSW5EaXJlY3Rpb24gPSAncmlnaHQnO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHN1Ym1lbnUgaXMgb3Blbi9jbG9zZWQuXG4gICAgICovXG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5nZW5JZCgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjb250cm9sbGVyIChgdm0tbWVudS1pdGVtYCkgZm9yIHRoaXMgc3VibWVudS5cbiAgICovXG4gIGdldENvbnRyb2xsZXIoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQ0KHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlcjtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbWVudSAoYHZtLW1lbnVgKSBmb3IgdGhpcyBzdWJtZW51LlxuICAgKi9cbiAgZ2V0TWVudSgpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyJDQodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tZW51O1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBoZWlnaHQgb2YgdGhlIHN1Ym1lbnUgY29udHJvbGxlci5cbiAgICovXG4gIGdldENvbnRyb2xsZXJIZWlnaHQoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gX19hd2FpdGVyJDQodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jb250cm9sbGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0SGVpZ2h0KCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDA7XG4gICAgfSk7XG4gIH1cbiAgZ2V0Q29udHJvbGxlckhlaWdodFN5bmMoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGVsID0gKF9hID0gdGhpcy5jb250cm9sbGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiW3JvbGU9J21lbnVpdGVtJ11cIik7XG4gICAgcmV0dXJuIGVsID8gcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuaGVpZ2h0KSA6IDA7XG4gIH1cbiAgb25NZW51T3BlbigpIHtcbiAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgdGhpcy52bU9wZW5TdWJtZW51LmVtaXQodGhpcy5ob3N0KTtcbiAgfVxuICBvbk1lbnVDbG9zZSgpIHtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMudm1DbG9zZVN1Ym1lbnUuZW1pdCh0aGlzLmhvc3QpO1xuICB9XG4gIGdlbklkKCkge1xuICAgIGlkQ291bnQgKz0gMTtcbiAgICB0aGlzLmlkID0gYHZtLXN1Ym1lbnUtJHtpZENvdW50fWA7XG4gIH1cbiAgZ2V0Q29udHJvbGxlcklkKCkge1xuICAgIHJldHVybiBgJHt0aGlzLmlkfS1jb250cm9sbGVyYDtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIG51bGwsIGgoXCJ2bS1tZW51LWl0ZW1cIiwgeyBpZGVudGlmaWVyOiB0aGlzLmdldENvbnRyb2xsZXJJZCgpLCBtZW51OiB0aGlzLm1lbnUsIGxhYmVsOiB0aGlzLmxhYmVsLCBoaW50OiB0aGlzLmhpbnQsIGV4cGFuZGVkOiB0aGlzLmFjdGl2ZSwgcmVmOiBlbCA9PiB7XG4gICAgICAgIHdyaXRlVGFzaygoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jb250cm9sbGVyID0gZWw7XG4gICAgICAgIH0pO1xuICAgICAgfSB9KSwgaChcInZtLW1lbnVcIiwgeyBpZGVudGlmaWVyOiB0aGlzLmlkLCBjb250cm9sbGVyOiB0aGlzLmNvbnRyb2xsZXIsIGFjdGl2ZTogdGhpcy5hY3RpdmUsIHNsaWRlSW5EaXJlY3Rpb246IHRoaXMuc2xpZGVJbkRpcmVjdGlvbiwgb25WbU9wZW46IHRoaXMub25NZW51T3Blbi5iaW5kKHRoaXMpLCBvblZtQ2xvc2U6IHRoaXMub25NZW51Q2xvc2UuYmluZCh0aGlzKSwgcmVmOiBlbCA9PiB7XG4gICAgICAgIHdyaXRlVGFzaygoKSA9PiB7XG4gICAgICAgICAgdGhpcy5tZW51ID0gZWw7XG4gICAgICAgIH0pO1xuICAgICAgfSwgc3R5bGU6IHsgdG9wOiBgJHt0aGlzLmdldENvbnRyb2xsZXJIZWlnaHRTeW5jKCkgKyAxfXB4YCB9IH0sIGgoXCJzbG90XCIsIG51bGwpKSkpO1xuICB9XG4gIGdldCBob3N0KCkgeyByZXR1cm4gdGhpczsgfVxufTtcblxuY29uc3QgdGltZUNzcyA9IFwiLnRpbWV7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtjb2xvcjp2YXIoLS12bS10aW1lLWNvbG9yKTtmb250LXNpemU6dmFyKC0tdm0tdGltZS1mb250LXNpemUpO2ZvbnQtd2VpZ2h0OnZhcigtLXZtLXRpbWUtZm9udC13ZWlnaHQpfVwiO1xuXG5jb25zdCBUaW1lID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBUaGUgbGVuZ3RoIG9mIHRpbWUgaW4gc2Vjb25kcy5cbiAgICAgKi9cbiAgICB0aGlzLnNlY29uZHMgPSAwO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRpbWUgc2hvdWxkIGFsd2F5cyBzaG93IHRoZSBob3VycyB1bml0LCBldmVuIGlmIHRoZSB0aW1lIGlzIGxlc3MgdGhhblxuICAgICAqIDEgaG91ciAoZWc6IGAyMDozNWAgLT4gYDAwOjIwOjM1YCkuXG4gICAgICovXG4gICAgdGhpcy5hbHdheXNTaG93SG91cnMgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBcInRpbWVcIiwgXCJhcmlhLWxhYmVsXCI6IHRoaXMubGFiZWwgfSwgZm9ybWF0VGltZShNYXRoLm1heCgwLCB0aGlzLnNlY29uZHMpLCB0aGlzLmFsd2F5c1Nob3dIb3VycykpKTtcbiAgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gdGltZUNzczsgfVxufTtcblxuY29uc3QgdGltZVByb2dyZXNzQ3NzID0gXCIudGltZVByb2dyZXNze2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2FsaWduLWl0ZW1zOmNlbnRlcjtjb2xvcjp2YXIoLS12bS10aW1lLWNvbG9yKX0uc2VwYXJhdG9ye21hcmdpbjowIDRweH1cIjtcblxuY29uc3QgVGltZVByb2dyZXNzID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBUaGUgc3RyaW5nIHVzZWQgdG8gc2VwYXJhdGUgdGhlIGN1cnJlbnQgdGltZSBhbmQgZW5kIHRpbWUuXG4gICAgICovXG4gICAgdGhpcy5zZXBhcmF0b3IgPSAnLyc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdGltZXMgc2hvdWxkIGFsd2F5cyBzaG93IHRoZSBob3VycyB1bml0LCBldmVuIGlmIHRoZSB0aW1lIGlzIGxlc3MgdGhhblxuICAgICAqIDEgaG91ciAoZWc6IGAyMDozNWAgLT4gYDAwOjIwOjM1YCkuXG4gICAgICovXG4gICAgdGhpcy5hbHdheXNTaG93SG91cnMgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBcInRpbWVQcm9ncmVzc1wiIH0sIGgoXCJ2bS1jdXJyZW50LXRpbWVcIiwgeyBhbHdheXNTaG93SG91cnM6IHRoaXMuYWx3YXlzU2hvd0hvdXJzIH0pLCBoKFwic3BhblwiLCB7IGNsYXNzOiBcInNlcGFyYXRvclwiIH0sIHRoaXMuc2VwYXJhdG9yKSwgaChcInZtLWVuZC10aW1lXCIsIHsgYWx3YXlzU2hvd0hvdXJzOiB0aGlzLmFsd2F5c1Nob3dIb3VycyB9KSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiB0aW1lUHJvZ3Jlc3NDc3M7IH1cbn07XG5cbmNvbnN0IHRvb2x0aXBDc3MgPSBcIjpob3N0e2Rpc3BsYXk6Y29udGVudHM7ei1pbmRleDp2YXIoLS12bS10b29sdGlwLXotaW5kZXgpfS50b29sdGlwe2xlZnQ6dmFyKC0tdm0tdG9vbHRpcC1sZWZ0LCA1MCUpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO2xpbmUtaGVpZ2h0OjEuMztwb2ludGVyLWV2ZW50czpub25lO3Bvc2l0aW9uOmFic29sdXRlO29wYWNpdHk6MDt3aGl0ZS1zcGFjZTpub3dyYXA7dmlzaWJpbGl0eTpoaWRkZW47YmFja2dyb3VuZDp2YXIoLS12bS10b29sdGlwLWJnKTtib3JkZXItcmFkaXVzOnZhcigtLXZtLXRvb2x0aXAtYm9yZGVyLXJhZGl1cyk7Ym94LXNpemluZzpib3JkZXItYm94O2JveC1zaGFkb3c6dmFyKC0tdm0tdG9vbHRpcC1ib3gtc2hhZG93KTtjb2xvcjp2YXIoLS12bS10b29sdGlwLWNvbG9yKTtmb250LXNpemU6dmFyKC0tdm0tdG9vbHRpcC1mb250LXNpemUpO3BhZGRpbmc6dmFyKC0tdm0tdG9vbHRpcC1wYWRkaW5nKTt0cmFuc2l0aW9uOm9wYWNpdHkgdmFyKC0tdm0tdG9vbHRpcC1mYWRlLWR1cmF0aW9uKVxcbiAgICB2YXIoLS12bS10b29sdGlwLWZhZGUtdGltaW5nLWZ1bmMpfS50b29sdGlwW2FyaWEtaGlkZGVuPSdmYWxzZSdde29wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGV9LnRvb2x0aXAuaGlkZGVue2Rpc3BsYXk6bm9uZX0udG9vbHRpcC5vblRvcHtib3R0b206MTAwJTttYXJnaW4tYm90dG9tOnZhcigtLXZtLXRvb2x0aXAtc3BhY2luZyl9LnRvb2x0aXAub25Cb3R0b217dG9wOjEwMCU7bWFyZ2luLXRvcDp2YXIoLS12bS10b29sdGlwLXNwYWNpbmcpfS50b29sdGlwLmdyb3dMZWZ0e2xlZnQ6YXV0bztyaWdodDowO3RyYW5zZm9ybTpub25lfS50b29sdGlwLmdyb3dSaWdodHtsZWZ0OjA7dHJhbnNmb3JtOm5vbmV9XCI7XG5cbmxldCB0b29sdGlwSWRDb3VudCA9IDA7XG5jb25zdCBUb29sdGlwID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICAvLyBBdm9pZCB0b29sdGlwcyBmbGFzaGluZyB3aGVuIHBsYXllciBpbml0aWFsaXppbmcuXG4gICAgdGhpcy5oYXNMb2FkZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB0b29sdGlwIGlzIGRpc3BsYXllZCBvciBub3QuXG4gICAgICovXG4gICAgdGhpcy5oaWRkZW4gPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB0b29sdGlwIGlzIHZpc2libGUgb3Igbm90LlxuICAgICAqL1xuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgdG9vbHRpcCBhcHBlYXJzIG9uIHRvcC9ib3R0b20gb2YgaXQncyBwYXJlbnQuXG4gICAgICovXG4gICAgdGhpcy5wb3NpdGlvbiA9ICd0b3AnO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzVG91Y2ggPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc01vYmlsZSA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUGxheWVyQ29udGV4dCh0aGlzLCBbJ2lzVG91Y2gnLCAnaXNNb2JpbGUnXSk7XG4gIH1cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICB0aGlzLmhhc0xvYWRlZCA9IHRydWU7XG4gIH1cbiAgZ2V0SWQoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgY29uc3QgaWQgPSB0aGlzLmhvc3QuaWQ7XG4gICAgaWYgKGlzU3RyaW5nKGlkKSAmJiBpZC5sZW5ndGggPiAwKVxuICAgICAgcmV0dXJuIGlkO1xuICAgIHRvb2x0aXBJZENvdW50ICs9IDE7XG4gICAgcmV0dXJuIGB2bS10b29sdGlwLSR7dG9vbHRpcElkQ291bnR9YDtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgaWQ6IHRoaXMuZ2V0SWQoKSwgcm9sZTogXCJ0b29sdGlwXCIsIFwiYXJpYS1oaWRkZW5cIjogIXRoaXMuYWN0aXZlIHx8IHRoaXMuaXNUb3VjaCB8fCB0aGlzLmlzTW9iaWxlID8gJ3RydWUnIDogJ2ZhbHNlJywgY2xhc3M6IHtcbiAgICAgICAgdG9vbHRpcDogdHJ1ZSxcbiAgICAgICAgaGlkZGVuOiAhdGhpcy5oYXNMb2FkZWQgfHwgdGhpcy5oaWRkZW4sXG4gICAgICAgIG9uVG9wOiB0aGlzLnBvc2l0aW9uID09PSAndG9wJyxcbiAgICAgICAgb25Cb3R0b206IHRoaXMucG9zaXRpb24gPT09ICdib3R0b20nLFxuICAgICAgICBncm93TGVmdDogdGhpcy5kaXJlY3Rpb24gPT09ICdsZWZ0JyxcbiAgICAgICAgZ3Jvd1JpZ2h0OiB0aGlzLmRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyxcbiAgICAgIH0gfSwgaChcInNsb3RcIiwgbnVsbCkpKTtcbiAgfVxuICBnZXQgaG9zdCgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIHRvb2x0aXBDc3M7IH1cbn07XG5cbmNvbnN0IHVpQ3NzID0gXCI6aG9zdHt6LWluZGV4OnZhcigtLXZtLXVpLXotaW5kZXgpfS51aXt3aWR0aDoxMDAlO3BvaW50ZXItZXZlbnRzOm5vbmV9LnVpLmhpZGRlbntkaXNwbGF5Om5vbmV9LnVpLnZpZGVve3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtoZWlnaHQ6MTAwJX1cIjtcblxuY29uc3QgVUkgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmlzVmlkZW9WaWV3ID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGxheXNpbmxpbmUgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pc0Z1bGxzY3JlZW5BY3RpdmUgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFBsYXllckNvbnRleHQodGhpcywgW1xuICAgICAgJ2lzVmlkZW9WaWV3JyxcbiAgICAgICdwbGF5c2lubGluZScsXG4gICAgICAnaXNGdWxsc2NyZWVuQWN0aXZlJyxcbiAgICBdKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgY2FuU2hvd0N1c3RvbVVJID0gIUlTX0lPUyB8fFxuICAgICAgIXRoaXMuaXNWaWRlb1ZpZXcgfHxcbiAgICAgICh0aGlzLnBsYXlzaW5saW5lICYmICF0aGlzLmlzRnVsbHNjcmVlbkFjdGl2ZSk7XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IHtcbiAgICAgICAgdWk6IHRydWUsXG4gICAgICAgIGhpZGRlbjogIWNhblNob3dDdXN0b21VSSxcbiAgICAgICAgdmlkZW86IHRoaXMuaXNWaWRlb1ZpZXcsXG4gICAgICB9IH0sIGNhblNob3dDdXN0b21VSSAmJiBoKFwic2xvdFwiLCBudWxsKSkpO1xuICB9XG4gIHN0YXRpYyBnZXQgc3R5bGUoKSB7IHJldHVybiB1aUNzczsgfVxufTtcblxudmFyIF9fYXdhaXRlciQzID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBWaWRlbyA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19yZWdpc3Rlckhvc3QoKTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWwgV2hldGhlciBhbiBleHRlcm5hbCBTREsgd2lsbCBhdHRhY2ggaXRzZWxmIHRvIHRoZSBtZWRpYSBwbGF5ZXIgYW5kIGNvbnRyb2wgaXQuXG4gICAgICovXG4gICAgdGhpcy53aWxsQXR0YWNoID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsIFdoZXRoZXIgYW4gZXh0ZXJuYWwgU0RLIHdpbGwgbWFuYWdlIHRoZSB0ZXh0IHRyYWNrcy5cbiAgICAgKi9cbiAgICB0aGlzLmhhc0N1c3RvbVRleHRNYW5hZ2VyID0gZmFsc2U7XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgdGhpcy5wcmVsb2FkID0gJ21ldGFkYXRhJztcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFByb3ZpZGVyQ29ubmVjdCh0aGlzKTtcbiAgfVxuICBvblByb3ZpZGVyQ29ubmVjdChldmVudCkge1xuICAgIGlmICh0aGlzLndpbGxBdHRhY2gpXG4gICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgfVxuICBvblByb3ZpZGVyRGlzY29ubmVjdChldmVudCkge1xuICAgIGlmICh0aGlzLndpbGxBdHRhY2gpXG4gICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGdldEFkYXB0ZXIoKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBfX2F3YWl0ZXIkMyh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHJldHVybiAoX2EgPSB0aGlzLmZpbGVQcm92aWRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldEFkYXB0ZXIoKTtcbiAgICB9KTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwidm0tZmlsZVwiLCB7IG5vQ29ubmVjdDogdHJ1ZSwgd2lsbEF0dGFjaDogdGhpcy53aWxsQXR0YWNoLCBjcm9zc09yaWdpbjogdGhpcy5jcm9zc09yaWdpbiwgcG9zdGVyOiB0aGlzLnBvc3RlciwgcHJlbG9hZDogdGhpcy5wcmVsb2FkLCBjb250cm9sc0xpc3Q6IHRoaXMuY29udHJvbHNMaXN0LCBhdXRvUGlQOiB0aGlzLmF1dG9QaVAsIGRpc2FibGVQaVA6IHRoaXMuZGlzYWJsZVBpUCwgZGlzYWJsZVJlbW90ZVBsYXliYWNrOiB0aGlzLmRpc2FibGVSZW1vdGVQbGF5YmFjaywgaGFzQ3VzdG9tVGV4dE1hbmFnZXI6IHRoaXMuaGFzQ3VzdG9tVGV4dE1hbmFnZXIsIG1lZGlhVGl0bGU6IHRoaXMubWVkaWFUaXRsZSwgdmlld1R5cGU6IFZpZXdUeXBlLlZpZGVvLCByZWY6IChlbCkgPT4ge1xuICAgICAgICB0aGlzLmZpbGVQcm92aWRlciA9IGVsO1xuICAgICAgfSB9LCBoKFwic2xvdFwiLCBudWxsKSkpO1xuICB9XG59O1xuXG4vKipcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIudmltZW8uY29tL3BsYXllci9zZGsvcmVmZXJlbmNlI2V2ZW50cy1mb3ItcGxheWJhY2stY29udHJvbHNcbiAqL1xudmFyIFZpbWVvRXZlbnQ7XG4oZnVuY3Rpb24gKFZpbWVvRXZlbnQpIHtcbiAgVmltZW9FdmVudFtcIlBsYXlcIl0gPSBcInBsYXlcIjtcbiAgVmltZW9FdmVudFtcIlBhdXNlXCJdID0gXCJwYXVzZVwiO1xuICBWaW1lb0V2ZW50W1wiU2Vla2luZ1wiXSA9IFwic2Vla2luZ1wiO1xuICBWaW1lb0V2ZW50W1wiU2Vla2VkXCJdID0gXCJzZWVrZWRcIjtcbiAgVmltZW9FdmVudFtcIlRpbWVVcGRhdGVcIl0gPSBcInRpbWV1cGRhdGVcIjtcbiAgVmltZW9FdmVudFtcIlZvbHVtZUNoYW5nZVwiXSA9IFwidm9sdW1lY2hhbmdlXCI7XG4gIFZpbWVvRXZlbnRbXCJEdXJhdGlvbkNoYW5nZVwiXSA9IFwiZHVyYXRpb25jaGFuZ2VcIjtcbiAgVmltZW9FdmVudFtcIkZ1bGxzY3JlZW5DaGFuZ2VcIl0gPSBcImZ1bGxzY3JlZW5jaGFuZ2VcIjtcbiAgVmltZW9FdmVudFtcIkN1ZUNoYW5nZVwiXSA9IFwiY3VlY2hhbmdlXCI7XG4gIFZpbWVvRXZlbnRbXCJQcm9ncmVzc1wiXSA9IFwicHJvZ3Jlc3NcIjtcbiAgVmltZW9FdmVudFtcIkVycm9yXCJdID0gXCJlcnJvclwiO1xuICBWaW1lb0V2ZW50W1wiUGxheWJhY2tSYXRlQ2hhbmdlXCJdID0gXCJwbGF5YmFja3JhdGVjaGFuZ2VcIjtcbiAgVmltZW9FdmVudFtcIkxvYWRlZFwiXSA9IFwibG9hZGVkXCI7XG4gIFZpbWVvRXZlbnRbXCJCdWZmZXJTdGFydFwiXSA9IFwiYnVmZmVyc3RhcnRcIjtcbiAgVmltZW9FdmVudFtcIkJ1ZmZlckVuZFwiXSA9IFwiYnVmZmVyZW5kXCI7XG4gIFZpbWVvRXZlbnRbXCJUZXh0VHJhY2tDaGFuZ2VcIl0gPSBcInRleHR0cmFja2NoYW5nZVwiO1xuICBWaW1lb0V2ZW50W1wiV2FpdGluZ1wiXSA9IFwid2FpdGluZ1wiO1xuICBWaW1lb0V2ZW50W1wiRW5kZWRcIl0gPSBcImVuZGVkXCI7XG59KShWaW1lb0V2ZW50IHx8IChWaW1lb0V2ZW50ID0ge30pKTtcblxuY29uc3QgdmltZW9Dc3MgPSBcIjpob3N0e3otaW5kZXg6dmFyKC0tdm0tbWVkaWEtei1pbmRleCl9dm0tZW1iZWR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9dm0tZW1iZWQuaGlkZUNvbnRyb2xze2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJTtoZWlnaHQ6YXV0bztwb3NpdGlvbjpyZWxhdGl2ZX1cIjtcblxudmFyIF9fYXdhaXRlciQyID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCB2aWRlb0luZm9DYWNoZSA9IG5ldyBNYXAoKTtcbmNvbnN0IFZpbWVvID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLnZtTG9hZFN0YXJ0ID0gY3JlYXRlRXZlbnQodGhpcywgXCJ2bUxvYWRTdGFydFwiLCA3KTtcbiAgICB0aGlzLnZtRXJyb3IgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtRXJyb3JcIiwgNyk7XG4gICAgdGhpcy5kZWZhdWx0SW50ZXJuYWxTdGF0ZSA9IHt9O1xuICAgIHRoaXMudm9sdW1lID0gNTA7XG4gICAgdGhpcy5oYXNMb2FkZWQgPSBmYWxzZTtcbiAgICB0aGlzLmludGVybmFsU3RhdGUgPSB7XG4gICAgICBwYXVzZWQ6IHRydWUsXG4gICAgICBwbGF5aW5nOiBmYWxzZSxcbiAgICAgIHNlZWtpbmc6IGZhbHNlLFxuICAgICAgY3VycmVudFRpbWU6IDAsXG4gICAgICBidWZmZXJlZDogMCxcbiAgICAgIHBsYXliYWNrU3RhcnRlZDogZmFsc2UsXG4gICAgICBwbGF5UmVxdWVzdDogZmFsc2UsXG4gICAgfTtcbiAgICB0aGlzLmVtYmVkU3JjID0gJyc7XG4gICAgdGhpcy5tZWRpYVRpdGxlID0gJyc7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBkaXNwbGF5IHRoZSB2aWRlbyBvd25lcidzIG5hbWUuXG4gICAgICovXG4gICAgdGhpcy5ieWxpbmUgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gZGlzcGxheSB0aGUgdmlkZW8gb3duZXIncyBwb3J0cmFpdC5cbiAgICAgKi9cbiAgICB0aGlzLnBvcnRyYWl0ID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBUdXJucyBvZmYgYXV0b21hdGljYWxseSBkZXRlcm1pbmluZyB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSBjdXJyZW50IHZpZGVvLlxuICAgICAqL1xuICAgIHRoaXMubm9BdXRvQXNwZWN0UmF0aW8gPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGNvb2tpZXMgc2hvdWxkIGJlIGVuYWJsZWQgb24gdGhlIGVtYmVkLlxuICAgICAqL1xuICAgIHRoaXMuY29va2llcyA9IHRydWU7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMubGFuZ3VhZ2UgPSAnZW4nO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmFzcGVjdFJhdGlvID0gJzE2OjknO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmF1dG9wbGF5ID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuY29udHJvbHMgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5sb29wID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMubXV0ZWQgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5wbGF5c2lubGluZSA9IGZhbHNlO1xuICAgIHdpdGhDb21wb25lbnRSZWdpc3RyeSh0aGlzKTtcbiAgICB3aXRoUHJvdmlkZXJDb25uZWN0KHRoaXMpO1xuICAgIHdpdGhQcm92aWRlckNvbnRleHQodGhpcyk7XG4gIH1cbiAgb25WaWRlb0lkQ2hhbmdlKCkge1xuICAgIHRoaXMuY2FuY2VsVGltZVVwZGF0ZXMoKTtcbiAgICBpZiAoIXRoaXMudmlkZW9JZCkge1xuICAgICAgdGhpcy5lbWJlZFNyYyA9ICcnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmVtYmVkU3JjID0gYCR7dGhpcy5nZXRPcmlnaW4oKX0vdmlkZW8vJHt0aGlzLnZpZGVvSWR9YDtcbiAgICB0aGlzLnBlbmRpbmdEdXJhdGlvbkNhbGwgPSBkZWZlcnJlZFByb21pc2UoKTtcbiAgICB0aGlzLnBlbmRpbmdNZWRpYVRpdGxlQ2FsbCA9IGRlZmVycmVkUHJvbWlzZSgpO1xuICAgIHRoaXMuZmV0Y2hWaWRlb0luZm8gPSB0aGlzLmdldFZpZGVvSW5mbygpO1xuICB9XG4gIG9uQ3VzdG9tUG9zdGVyQ2hhbmdlKCkge1xuICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRQb3N0ZXInLCB0aGlzLnBvc3Rlcik7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5kaXNwYXRjaCA9IGNyZWF0ZVByb3ZpZGVyRGlzcGF0Y2hlcih0aGlzKTtcbiAgICB0aGlzLmRpc3BhdGNoKCd2aWV3VHlwZScsIFZpZXdUeXBlLlZpZGVvKTtcbiAgICB0aGlzLm9uVmlkZW9JZENoYW5nZSgpO1xuICAgIHRoaXMuZGVmYXVsdEludGVybmFsU3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmludGVybmFsU3RhdGUpO1xuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgdGhpcy5pbml0aWFsTXV0ZWQgPSB0aGlzLm11dGVkO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuY2FuY2VsVGltZVVwZGF0ZXMoKTtcbiAgICB0aGlzLnBlbmRpbmdQbGF5UmVxdWVzdCA9IHVuZGVmaW5lZDtcbiAgfVxuICBnZXRPcmlnaW4oKSB7XG4gICAgcmV0dXJuICdodHRwczovL3BsYXllci52aW1lby5jb20nO1xuICB9XG4gIGdldFByZWNvbm5lY3Rpb25zKCkge1xuICAgIHJldHVybiBbXG4gICAgICB0aGlzLmdldE9yaWdpbigpLFxuICAgICAgJ2h0dHBzOi8vaS52aW1lb2Nkbi5jb20nLFxuICAgICAgJ2h0dHBzOi8vZi52aW1lb2Nkbi5jb20nLFxuICAgICAgJ2h0dHBzOi8vZnJlc25lbC52aW1lb2Nkbi5jb20nLFxuICAgIF07XG4gIH1cbiAgcmVtb3RlQ29udHJvbChjb21tYW5kLCBhcmcpIHtcbiAgICByZXR1cm4gdGhpcy5lbWJlZC5wb3N0TWVzc2FnZSh7XG4gICAgICBtZXRob2Q6IGNvbW1hbmQsXG4gICAgICB2YWx1ZTogYXJnLFxuICAgIH0pO1xuICB9XG4gIGJ1aWxkUGFyYW1zKCkge1xuICAgIHJldHVybiB7XG4gICAgICBieWxpbmU6IHRoaXMuYnlsaW5lLFxuICAgICAgY29sb3I6IHRoaXMuY29sb3IsXG4gICAgICBwb3J0cmFpdDogdGhpcy5wb3J0cmFpdCxcbiAgICAgIGF1dG9wYXVzZTogZmFsc2UsXG4gICAgICB0cmFuc3BhcmVudDogZmFsc2UsXG4gICAgICBhdXRvcGxheTogdGhpcy5hdXRvcGxheSxcbiAgICAgIG11dGVkOiB0aGlzLmluaXRpYWxNdXRlZCxcbiAgICAgIHBsYXlzaW5saW5lOiB0aGlzLnBsYXlzaW5saW5lLFxuICAgICAgZG50OiAhdGhpcy5jb29raWVzLFxuICAgIH07XG4gIH1cbiAgZ2V0VmlkZW9JbmZvKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkMih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGlmICh2aWRlb0luZm9DYWNoZS5oYXModGhpcy52aWRlb0lkKSlcbiAgICAgICAgcmV0dXJuIHZpZGVvSW5mb0NhY2hlLmdldCh0aGlzLnZpZGVvSWQpO1xuICAgICAgcmV0dXJuIHdpbmRvd1xuICAgICAgICAuZmV0Y2goYGh0dHBzOi8vdmltZW8uY29tL2FwaS9vZW1iZWQuanNvbj91cmw9JHt0aGlzLmVtYmVkU3JjfWApXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgdGh1bW5haWxSZWdleCA9IC92aW1lb2Nkbi5jb21cXC92aWRlb1xcLyguKik/Xy87XG4gICAgICAgIGNvbnN0IHRodW1ibmFpbElkID0gKF9hID0gZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnRodW1ibmFpbF91cmwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXRjaCh0aHVtbmFpbFJlZ2V4KVsxXTtcbiAgICAgICAgY29uc3QgcG9zdGVyID0gYGh0dHBzOi8vaS52aW1lb2Nkbi5jb20vdmlkZW8vJHt0aHVtYm5haWxJZH1fMTkyMHgxMDgwLmpwZ2A7XG4gICAgICAgIGNvbnN0IGluZm8gPSB7IHBvc3Rlciwgd2lkdGg6IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS53aWR0aCwgaGVpZ2h0OiBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEuaGVpZ2h0IH07XG4gICAgICAgIHZpZGVvSW5mb0NhY2hlLnNldCh0aGlzLnZpZGVvSWQsIGluZm8pO1xuICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIG9uVGltZUNoYW5nZSh0aW1lKSB7XG4gICAgaWYgKHRoaXMuaW50ZXJuYWxTdGF0ZS5jdXJyZW50VGltZSA9PT0gdGltZSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50VGltZScsIHRpbWUpO1xuICAgIC8vIFRoaXMgaXMgaG93IHdlIGRldGVjdCBgc2Vla2luZ2AgZWFybHkuXG4gICAgaWYgKE1hdGguYWJzKHRoaXMuaW50ZXJuYWxTdGF0ZS5jdXJyZW50VGltZSAtIHRpbWUpID4gMS41KSB7XG4gICAgICB0aGlzLmludGVybmFsU3RhdGUuc2Vla2luZyA9IHRydWU7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdzZWVraW5nJywgdHJ1ZSk7XG4gICAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLnBsYXlpbmcgJiYgdGhpcy5pbnRlcm5hbFN0YXRlLmJ1ZmZlcmVkIDwgdGltZSkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdidWZmZXJpbmcnLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIC8vIFBsYXllciBkb2Vzbid0IHJlc3VtZSBwbGF5YmFjayBvbmNlIHNlZWtlZC5cbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5wZW5kaW5nUGxheVJlcXVlc3QpO1xuICAgICAgaWYgKCF0aGlzLmludGVybmFsU3RhdGUucGF1c2VkKSB7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5wbGF5UmVxdWVzdCA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLnJlbW90ZUNvbnRyb2wodGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrU3RhcnRlZFxuICAgICAgICA/IFwicGF1c2VcIiAvKiBQYXVzZSAqL1xuICAgICAgICA6IFwicGxheVwiIC8qIFBsYXkgKi8pO1xuICAgIH1cbiAgICB0aGlzLmludGVybmFsU3RhdGUuY3VycmVudFRpbWUgPSB0aW1lO1xuICB9XG4gIGNhbmNlbFRpbWVVcGRhdGVzKCkge1xuICAgIGlmIChpc051bWJlcih0aGlzLnRpbWVSQUYpKVxuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudGltZVJBRik7XG4gIH1cbiAgcmVxdWVzdFRpbWVVcGRhdGVzKCkge1xuICAgIHRoaXMucmVtb3RlQ29udHJvbChcImdldEN1cnJlbnRUaW1lXCIgLyogR2V0Q3VycmVudFRpbWUgKi8pO1xuICAgIHRoaXMudGltZVJBRiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgdGhpcy5yZXF1ZXN0VGltZVVwZGF0ZXMoKTtcbiAgICB9KTtcbiAgfVxuICBvblNlZWtlZCgpIHtcbiAgICBpZiAoIXRoaXMuaW50ZXJuYWxTdGF0ZS5zZWVraW5nKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuZGlzcGF0Y2goJ3NlZWtpbmcnLCBmYWxzZSk7XG4gICAgdGhpcy5pbnRlcm5hbFN0YXRlLnNlZWtpbmcgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLnBsYXlSZXF1ZXN0KSB7XG4gICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcInBsYXlcIiAvKiBQbGF5ICovKTtcbiAgICAgIH0sIDE1MCk7XG4gICAgfVxuICB9XG4gIG9uVmltZW9NZXRob2QobWV0aG9kLCBhcmcpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICBjYXNlIFwiZ2V0Q3VycmVudFRpbWVcIiAvKiBHZXRDdXJyZW50VGltZSAqLzpcbiAgICAgICAgaWYgKCF0aGlzLmludGVybmFsU3RhdGUuc2Vla2luZylcbiAgICAgICAgICB0aGlzLm9uVGltZUNoYW5nZShhcmcpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJnZXREdXJhdGlvblwiIC8qIEdldER1cmF0aW9uICovOlxuICAgICAgICAoX2EgPSB0aGlzLnBlbmRpbmdEdXJhdGlvbkNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZXNvbHZlKGFyZyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImdldFZpZGVvVGl0bGVcIiAvKiBHZXRWaWRlb1RpdGxlICovOlxuICAgICAgICAoX2IgPSB0aGlzLnBlbmRpbmdNZWRpYVRpdGxlQ2FsbCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJlc29sdmUoYXJnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIG9uTG9hZGVkKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKHRoaXMuaGFzTG9hZGVkKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMucGVuZGluZ1BsYXlSZXF1ZXN0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaW50ZXJuYWxTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdEludGVybmFsU3RhdGUpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRTcmMnLCB0aGlzLmVtYmVkU3JjKTtcbiAgICB0aGlzLmRpc3BhdGNoKCdtZWRpYVR5cGUnLCBNZWRpYVR5cGUuVmlkZW8pO1xuICAgIHRoaXMucmVtb3RlQ29udHJvbChcImdldER1cmF0aW9uXCIgLyogR2V0RHVyYXRpb24gKi8pO1xuICAgIHRoaXMucmVtb3RlQ29udHJvbChcImdldFZpZGVvVGl0bGVcIiAvKiBHZXRWaWRlb1RpdGxlICovKTtcbiAgICBQcm9taXNlLmFsbChbXG4gICAgICB0aGlzLmZldGNoVmlkZW9JbmZvLFxuICAgICAgKF9hID0gdGhpcy5wZW5kaW5nRHVyYXRpb25DYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJvbWlzZSxcbiAgICAgIChfYiA9IHRoaXMucGVuZGluZ01lZGlhVGl0bGVDYWxsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucHJvbWlzZSxcbiAgICBdKS50aGVuKChbaW5mbywgZHVyYXRpb24sIG1lZGlhVGl0bGVdKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgIHRoaXMucmVxdWVzdFRpbWVVcGRhdGVzKCk7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdhc3BlY3RSYXRpbycsIGAkeyhfYSA9IGluZm8gPT09IG51bGwgfHwgaW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5mby53aWR0aCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMTZ9OiR7KF9iID0gaW5mbyA9PT0gbnVsbCB8fCBpbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvLmhlaWdodCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogOX1gKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ2N1cnJlbnRQb3N0ZXInLCAoX2MgPSB0aGlzLnBvc3RlcikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogaW5mbyA9PT0gbnVsbCB8fCBpbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvLnBvc3Rlcik7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdkdXJhdGlvbicsIGR1cmF0aW9uICE9PSBudWxsICYmIGR1cmF0aW9uICE9PSB2b2lkIDAgPyBkdXJhdGlvbiA6IC0xKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ21lZGlhVGl0bGUnLCBtZWRpYVRpdGxlKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrUmVhZHknLCB0cnVlKTtcbiAgICB9KTtcbiAgICB0aGlzLmhhc0xvYWRlZCA9IHRydWU7XG4gIH1cbiAgb25WaW1lb0V2ZW50KGV2ZW50LCBwYXlsb2FkKSB7XG4gICAgc3dpdGNoIChldmVudCkge1xuICAgICAgY2FzZSBcInJlYWR5XCIgLyogUmVhZHkgKi86XG4gICAgICAgIE9iamVjdC52YWx1ZXMoVmltZW9FdmVudCkuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJhZGRFdmVudExpc3RlbmVyXCIgLyogQWRkRXZlbnRMaXN0ZW5lciAqLywgZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsb2FkZWRcIiAvKiBMb2FkZWQgKi86XG4gICAgICAgIHRoaXMub25Mb2FkZWQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGxheVwiIC8qIFBsYXkgKi86XG4gICAgICAgIC8vIEluY2FzZSBvZiBhdXRvcGxheSB3aGljaCBtaWdodCBza2lwIGBMb2FkZWRgIGV2ZW50LlxuICAgICAgICB0aGlzLm9uTG9hZGVkKCk7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgZmFsc2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwbGF5UHJvZ3Jlc3NcIiAvKiBQbGF5UHJvZ3Jlc3MgKi86XG4gICAgICAgIGlmICghdGhpcy5pbnRlcm5hbFN0YXRlLnBsYXlpbmcpIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5aW5nJywgdHJ1ZSk7XG4gICAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBsYXlpbmcgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5wbGF5YmFja1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucGVuZGluZ1BsYXlSZXF1ZXN0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBsYXlSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdQbGF5UmVxdWVzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdidWZmZXJpbmcnLCBmYWxzZSk7XG4gICAgICAgIHRoaXMub25TZWVrZWQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGF1c2VcIiAvKiBQYXVzZSAqLzpcbiAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BhdXNlZCcsIHRydWUpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdidWZmZXJpbmcnLCBmYWxzZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxvYWRQcm9ncmVzc1wiIC8qIExvYWRQcm9ncmVzcyAqLzpcbiAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLmJ1ZmZlcmVkID0gcGF5bG9hZC5zZWNvbmRzO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdidWZmZXJlZCcsIHBheWxvYWQuc2Vjb25kcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImJ1ZmZlcnN0YXJ0XCIgLyogQnVmZmVyU3RhcnQgKi86XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ2J1ZmZlcmluZycsIHRydWUpO1xuICAgICAgICAvLyBBdHRlbXB0IHRvIGRldGVjdCBgcGxheWAgZXZlbnRzIGVhcmx5LlxuICAgICAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLnBhdXNlZCkge1xuICAgICAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdwYXVzZWQnLCBmYWxzZSk7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tTdGFydGVkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYnVmZmVyZW5kXCIgLyogQnVmZmVyRW5kICovOlxuICAgICAgICB0aGlzLmRpc3BhdGNoKCdidWZmZXJpbmcnLCBmYWxzZSk7XG4gICAgICAgIGlmICh0aGlzLmludGVybmFsU3RhdGUucGF1c2VkKVxuICAgICAgICAgIHRoaXMub25TZWVrZWQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidm9sdW1lY2hhbmdlXCIgLyogVm9sdW1lQ2hhbmdlICovOlxuICAgICAgICBpZiAocGF5bG9hZC52b2x1bWUgPiAwKSB7XG4gICAgICAgICAgY29uc3QgbmV3Vm9sdW1lID0gTWF0aC5mbG9vcihwYXlsb2FkLnZvbHVtZSAqIDEwMCk7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCgnbXV0ZWQnLCBmYWxzZSk7XG4gICAgICAgICAgaWYgKHRoaXMudm9sdW1lICE9PSBuZXdWb2x1bWUpIHtcbiAgICAgICAgICAgIHRoaXMudm9sdW1lID0gbmV3Vm9sdW1lO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaCgndm9sdW1lJywgdGhpcy52b2x1bWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdtdXRlZCcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImR1cmF0aW9uY2hhbmdlXCIgLyogRHVyYXRpb25DaGFuZ2UgKi86XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ2R1cmF0aW9uJywgcGF5bG9hZC5kdXJhdGlvbik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBsYXliYWNrcmF0ZWNoYW5nZVwiIC8qIFBsYXliYWNrUmF0ZUNoYW5nZSAqLzpcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgncGxheWJhY2tSYXRlJywgcGF5bG9hZC5wbGF5YmFja1JhdGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJmdWxsc2NyZWVuY2hhbmdlXCIgLyogRnVsbHNjcmVlbkNoYW5nZSAqLzpcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgnaXNGdWxsc2NyZWVuQWN0aXZlJywgcGF5bG9hZC5mdWxsc2NyZWVuKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZmluaXNoXCIgLyogRmluaXNoICovOlxuICAgICAgICBpZiAodGhpcy5sb29wKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwic2V0Q3VycmVudFRpbWVcIiAvKiBTZXRDdXJyZW50VGltZSAqLywgMCk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJwbGF5XCIgLyogUGxheSAqLyk7XG4gICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja0VuZGVkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZXJyb3JcIiAvKiBFcnJvciAqLzpcbiAgICAgICAgdGhpcy52bUVycm9yLmVtaXQocGF5bG9hZCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBvbkVtYmVkU3JjQ2hhbmdlKCkge1xuICAgIHRoaXMuaGFzTG9hZGVkID0gZmFsc2U7XG4gICAgdGhpcy52bUxvYWRTdGFydC5lbWl0KCk7XG4gICAgdGhpcy5kaXNwYXRjaCgndmlld1R5cGUnLCBWaWV3VHlwZS5WaWRlbyk7XG4gIH1cbiAgb25FbWJlZE1lc3NhZ2UoZXZlbnQpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZXZlbnQuZGV0YWlsO1xuICAgIGlmICghaXNVbmRlZmluZWQobWVzc2FnZS5ldmVudCkpXG4gICAgICB0aGlzLm9uVmltZW9FdmVudChtZXNzYWdlLmV2ZW50LCBtZXNzYWdlLmRhdGEpO1xuICAgIGlmICghaXNVbmRlZmluZWQobWVzc2FnZS5tZXRob2QpKVxuICAgICAgdGhpcy5vblZpbWVvTWV0aG9kKG1lc3NhZ2UubWV0aG9kLCBtZXNzYWdlLnZhbHVlKTtcbiAgfVxuICBhZGp1c3RQb3NpdGlvbigpIHtcbiAgICBpZiAodGhpcy5jb250cm9scykge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCBbYXcsIGFoXSA9IHRoaXMuYXNwZWN0UmF0aW8uc3BsaXQoJzonKS5tYXAociA9PiBwYXJzZUludChyLCAxMCkpO1xuICAgIGNvbnN0IGhlaWdodCA9IDI0MDtcbiAgICBjb25zdCBwYWRkaW5nID0gKDEwMCAvIGF3KSAqIGFoO1xuICAgIGNvbnN0IG9mZnNldCA9IChoZWlnaHQgLSBwYWRkaW5nKSAvIChoZWlnaHQgLyA1MCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhZGRpbmdCb3R0b206IGAke2hlaWdodH0lYCxcbiAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoLSR7b2Zmc2V0ICsgMC4wMn0lKWAsXG4gICAgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGdldEFkYXB0ZXIoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlciQyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgY29uc3QgY2FuUGxheVJlZ2V4ID0gL3ZpbWVvKD86XFwuY29tfClcXC8oWzAtOV17OSx9KS87XG4gICAgICBjb25zdCBmaWxlUmVnZXggPSAvdmltZW9cXC5jb21cXC9leHRlcm5hbFxcL1swLTldK1xcLi4rLztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldEludGVybmFsUGxheWVyOiAoKSA9PiBfX2F3YWl0ZXIkMih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIHRoaXMuZW1iZWQ7IH0pLFxuICAgICAgICBwbGF5OiAoKSA9PiBfX2F3YWl0ZXIkMih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJwbGF5XCIgLyogUGxheSAqLyk7XG4gICAgICAgIH0pLFxuICAgICAgICBwYXVzZTogKCkgPT4gX19hd2FpdGVyJDIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwicGF1c2VcIiAvKiBQYXVzZSAqLyk7XG4gICAgICAgIH0pLFxuICAgICAgICBjYW5QbGF5OiAodHlwZSkgPT4gX19hd2FpdGVyJDIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiBpc1N0cmluZyh0eXBlKSAmJiAhZmlsZVJlZ2V4LnRlc3QodHlwZSkgJiYgY2FuUGxheVJlZ2V4LnRlc3QodHlwZSk7IH0pLFxuICAgICAgICBzZXRDdXJyZW50VGltZTogKHRpbWUpID0+IF9fYXdhaXRlciQyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIGlmICh0aW1lICE9PSB0aGlzLmludGVybmFsU3RhdGUuY3VycmVudFRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcInNldEN1cnJlbnRUaW1lXCIgLyogU2V0Q3VycmVudFRpbWUgKi8sIHRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIHNldE11dGVkOiAobXV0ZWQpID0+IF9fYXdhaXRlciQyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIGlmICghbXV0ZWQpXG4gICAgICAgICAgICB0aGlzLnZvbHVtZSA9IHRoaXMudm9sdW1lID4gMCA/IHRoaXMudm9sdW1lIDogMzA7XG4gICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwic2V0Vm9sdW1lXCIgLyogU2V0Vm9sdW1lICovLCBtdXRlZCA/IDAgOiB0aGlzLnZvbHVtZSAvIDEwMCk7XG4gICAgICAgIH0pLFxuICAgICAgICBzZXRWb2x1bWU6ICh2b2x1bWUpID0+IF9fYXdhaXRlciQyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIGlmICghdGhpcy5tdXRlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwic2V0Vm9sdW1lXCIgLyogU2V0Vm9sdW1lICovLCB2b2x1bWUgLyAxMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIENvbmZpcm0gdm9sdW1lIHdhcyBzZXQuXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoKCd2b2x1bWUnLCB2b2x1bWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIC8vIEBUT0RPIGhvdyB0byBjaGVjayBpZiBWaW1lbyBwcm8/XG4gICAgICAgIGNhblNldFBsYXliYWNrUmF0ZTogKCkgPT4gX19hd2FpdGVyJDIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiBmYWxzZTsgfSksXG4gICAgICAgIHNldFBsYXliYWNrUmF0ZTogKHJhdGUpID0+IF9fYXdhaXRlciQyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcInNldFBsYXliYWNrUmF0ZVwiIC8qIFNldFBsYXliYWNrUmF0ZSAqLywgcmF0ZSk7XG4gICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKFwidm0tZW1iZWRcIiwgeyBjbGFzczogeyBoaWRlQ29udHJvbHM6ICF0aGlzLmNvbnRyb2xzIH0sIHN0eWxlOiB0aGlzLmFkanVzdFBvc2l0aW9uKCksIGVtYmVkU3JjOiB0aGlzLmVtYmVkU3JjLCBtZWRpYVRpdGxlOiB0aGlzLm1lZGlhVGl0bGUsIG9yaWdpbjogdGhpcy5nZXRPcmlnaW4oKSwgcGFyYW1zOiB0aGlzLmJ1aWxkUGFyYW1zKCksIGRlY29kZXI6IGRlY29kZUpTT04sIHByZWNvbm5lY3Rpb25zOiB0aGlzLmdldFByZWNvbm5lY3Rpb25zKCksIG9uVm1FbWJlZE1lc3NhZ2U6IHRoaXMub25FbWJlZE1lc3NhZ2UuYmluZCh0aGlzKSwgb25WbUVtYmVkU3JjQ2hhbmdlOiB0aGlzLm9uRW1iZWRTcmNDaGFuZ2UuYmluZCh0aGlzKSwgcmVmOiAoZWwpID0+IHtcbiAgICAgICAgdGhpcy5lbWJlZCA9IGVsO1xuICAgICAgfSB9KSk7XG4gIH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInZpZGVvSWRcIjogW1wib25WaWRlb0lkQ2hhbmdlXCJdLFxuICAgIFwicG9zdGVyXCI6IFtcIm9uQ3VzdG9tUG9zdGVyQ2hhbmdlXCJdXG4gIH07IH1cbiAgc3RhdGljIGdldCBzdHlsZSgpIHsgcmV0dXJuIHZpbWVvQ3NzOyB9XG59O1xuXG5jb25zdCB2b2x1bWVDb250cm9sQ3NzID0gXCIudm9sdW1lQ29udHJvbHthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOnJlbGF0aXZlO3BvaW50ZXItZXZlbnRzOmF1dG87Ym94LXNpemluZzpib3JkZXItYm94fXZtLXNsaWRlcnt3aWR0aDo3NXB4O2hlaWdodDoxMDAlO21hcmdpbjowO21heC13aWR0aDowO3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6Mzt0cmFuc2l0aW9uOm1hcmdpbiAwLjJzIGN1YmljLWJlemllcigwLjQsIDAsIDEsIDEpLFxcbiAgICBtYXgtd2lkdGggMC4ycyBjdWJpYy1iZXppZXIoMC40LCAwLCAxLCAxKTttYXJnaW4tbGVmdDpjYWxjKHZhcigtLXZtLWNvbnRyb2wtc3BhY2luZykgLyAyKSAhaW1wb3J0YW50O3Zpc2liaWxpdHk6aGlkZGVufXZtLXNsaWRlcjpob3ZlcntjdXJzb3I6cG9pbnRlcn12bS1zbGlkZXIuaGlkZGVue2Rpc3BsYXk6bm9uZX12bS1zbGlkZXIuYWN0aXZle21heC13aWR0aDo3NXB4O3Zpc2liaWxpdHk6dmlzaWJsZTttYXJnaW46MCBjYWxjKHZhcigtLXZtLWNvbnRyb2wtc3BhY2luZykgLyAyKX1cIjtcblxudmFyIF9fYXdhaXRlciQxID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBWb2x1bWVDb250cm9sID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlZ2lzdGVySG9zdCgpO1xuICAgIGF0dGFjaFNoYWRvdyh0aGlzKTtcbiAgICB0aGlzLmtleWJvYXJkRGlzcG9zYWwgPSBuZXcgRGlzcG9zYWwoKTtcbiAgICB0aGlzLnByZXZNdXRlZCA9IGZhbHNlO1xuICAgIHRoaXMuY3VycmVudFZvbHVtZSA9IDUwO1xuICAgIHRoaXMuaXNTbGlkZXJBY3RpdmUgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgbG93IHZvbHVtZSBpY29uIHRvIHJlc29sdmUgZnJvbSB0aGUgaWNvbiBsaWJyYXJ5LlxuICAgICAqL1xuICAgIHRoaXMubG93Vm9sdW1lSWNvbiA9ICd2b2x1bWUtbG93JztcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgaGlnaCB2b2x1bWUgaWNvbiB0byByZXNvbHZlIGZyb20gdGhlIGljb24gbGlicmFyeS5cbiAgICAgKi9cbiAgICB0aGlzLmhpZ2hWb2x1bWVJY29uID0gJ3ZvbHVtZS1oaWdoJztcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgbXV0ZWQgdm9sdW1lIGljb24gdG8gcmVzb2x2ZSBmcm9tIHRoZSBpY29uIGxpYnJhcnkuXG4gICAgICovXG4gICAgdGhpcy5tdXRlZEljb24gPSAndm9sdW1lLW11dGUnO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRvb2x0aXAgaXMgcG9zaXRpb25lZCBhYm92ZS9iZWxvdyB0aGUgY29udHJvbC5cbiAgICAgKi9cbiAgICB0aGlzLnRvb2x0aXBQb3NpdGlvbiA9ICd0b3AnO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRvb2x0aXAgc2hvdWxkIGJlIGhpZGRlbi5cbiAgICAgKi9cbiAgICB0aGlzLmhpZGVUb29sdGlwID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQSBwaXBlIChgL2ApIHNlcGFyYXRlZCBzdHJpbmcgb2YgSlMga2V5Ym9hcmQga2V5cywgdGhhdCB3aGVuIGNhdWdodCBpbiBhIGBrZXlkb3duYCBldmVudCwgd2lsbFxuICAgICAqIHRvZ2dsZSB0aGUgbXV0ZWQgc3RhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKi9cbiAgICB0aGlzLm11dGVLZXlzID0gJ20nO1xuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIHRoZSB2b2x1bWUgYmVpbmcgY2hhbmdlZCB1c2luZyB0aGUgVXAvRG93biBhcnJvdyBrZXlzLlxuICAgICAqL1xuICAgIHRoaXMubm9LZXlib2FyZCA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLm11dGVkID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMudm9sdW1lID0gNTA7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaXNNb2JpbGUgPSBmYWxzZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5pMThuID0ge307XG4gICAgd2l0aENvbXBvbmVudFJlZ2lzdHJ5KHRoaXMpO1xuICAgIHdpdGhQbGF5ZXJDb250ZXh0KHRoaXMsIFsndm9sdW1lJywgJ211dGVkJywgJ2lzTW9iaWxlJywgJ2kxOG4nXSk7XG4gIH1cbiAgb25Ob0tleWJvYXJkQ2hhbmdlKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIkMSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHRoaXMua2V5Ym9hcmREaXNwb3NhbC5lbXB0eSgpO1xuICAgICAgaWYgKHRoaXMubm9LZXlib2FyZClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgcGxheWVyID0geWllbGQgZmluZFBsYXllcih0aGlzKTtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChwbGF5ZXIpKVxuICAgICAgICByZXR1cm47XG4gICAgICB0aGlzLmtleWJvYXJkRGlzcG9zYWwuYWRkKGxpc3RlbihwbGF5ZXIsICdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5rZXkgIT09ICdBcnJvd1VwJyAmJiBldmVudC5rZXkgIT09ICdBcnJvd0Rvd24nKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaXNVcEFycm93ID0gZXZlbnQua2V5ID09PSAnQXJyb3dVcCc7XG4gICAgICAgIGNvbnN0IG5ld1ZvbHVtZSA9IGlzVXBBcnJvd1xuICAgICAgICAgID8gTWF0aC5taW4oMTAwLCB0aGlzLnZvbHVtZSArIDUpXG4gICAgICAgICAgOiBNYXRoLm1heCgwLCB0aGlzLnZvbHVtZSAtIDUpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCd2b2x1bWUnLCBwYXJzZUludChgJHtuZXdWb2x1bWV9YCwgMTApKTtcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfVxuICBvblBsYXllclZvbHVtZUNoYW5nZSgpIHtcbiAgICB0aGlzLmN1cnJlbnRWb2x1bWUgPSB0aGlzLm11dGVkID8gMCA6IHRoaXMudm9sdW1lO1xuICAgIGlmICghdGhpcy5tdXRlZCAmJiB0aGlzLnByZXZNdXRlZCAmJiB0aGlzLnZvbHVtZSA9PT0gMCkge1xuICAgICAgdGhpcy5kaXNwYXRjaCgndm9sdW1lJywgMzApO1xuICAgIH1cbiAgICB0aGlzLnByZXZNdXRlZCA9IHRoaXMubXV0ZWQ7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5wcmV2TXV0ZWQgPSB0aGlzLm11dGVkO1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBjcmVhdGVEaXNwYXRjaGVyKHRoaXMpO1xuICAgIHRoaXMub25Ob0tleWJvYXJkQ2hhbmdlKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5rZXlib2FyZERpc3Bvc2FsLmVtcHR5KCk7XG4gIH1cbiAgb25TaG93U2xpZGVyKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmhpZGVTbGlkZXJUaW1lb3V0KTtcbiAgICB0aGlzLmlzU2xpZGVyQWN0aXZlID0gdHJ1ZTtcbiAgfVxuICBvbkhpZGVTbGlkZXIoKSB7XG4gICAgdGhpcy5oaWRlU2xpZGVyVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5pc1NsaWRlckFjdGl2ZSA9IGZhbHNlO1xuICAgIH0sIDEwMCk7XG4gIH1cbiAgb25Wb2x1bWVDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCBuZXdWb2x1bWUgPSBldmVudC5kZXRhaWw7XG4gICAgdGhpcy5jdXJyZW50Vm9sdW1lID0gbmV3Vm9sdW1lO1xuICAgIHRoaXMuZGlzcGF0Y2goJ3ZvbHVtZScsIG5ld1ZvbHVtZSk7XG4gICAgdGhpcy5kaXNwYXRjaCgnbXV0ZWQnLCBuZXdWb2x1bWUgPT09IDApO1xuICB9XG4gIG9uS2V5RG93bihldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgIT09ICdBcnJvd0xlZnQnICYmIGV2ZW50LmtleSAhPT0gJ0Fycm93UmlnaHQnKVxuICAgICAgcmV0dXJuO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogXCJ2b2x1bWVDb250cm9sXCIsIG9uTW91c2VFbnRlcjogdGhpcy5vblNob3dTbGlkZXIuYmluZCh0aGlzKSwgb25Nb3VzZUxlYXZlOiB0aGlzLm9uSGlkZVNsaWRlci5iaW5kKHRoaXMpIH0sIGgoXCJ2bS1tdXRlLWNvbnRyb2xcIiwgeyBrZXlzOiB0aGlzLm11dGVLZXlzLCBsb3dWb2x1bWVJY29uOiB0aGlzLmxvd1ZvbHVtZUljb24sIGhpZ2hWb2x1bWVJY29uOiB0aGlzLmhpZ2hWb2x1bWVJY29uLCBtdXRlZEljb246IHRoaXMubXV0ZWRJY29uLCBpY29uczogdGhpcy5pY29ucywgdG9vbHRpcFBvc2l0aW9uOiB0aGlzLnRvb2x0aXBQb3NpdGlvbiwgdG9vbHRpcERpcmVjdGlvbjogdGhpcy50b29sdGlwRGlyZWN0aW9uLCBoaWRlVG9vbHRpcDogdGhpcy5oaWRlVG9vbHRpcCwgb25WbUZvY3VzOiB0aGlzLm9uU2hvd1NsaWRlci5iaW5kKHRoaXMpLCBvblZtQmx1cjogdGhpcy5vbkhpZGVTbGlkZXIuYmluZCh0aGlzKSB9KSwgaChcInZtLXNsaWRlclwiLCB7IGNsYXNzOiB7XG4gICAgICAgIGhpZGRlbjogdGhpcy5pc01vYmlsZSxcbiAgICAgICAgYWN0aXZlOiB0aGlzLmlzU2xpZGVyQWN0aXZlLFxuICAgICAgfSwgc3RlcDogNSwgbWF4OiAxMDAsIHZhbHVlOiB0aGlzLmN1cnJlbnRWb2x1bWUsIGxhYmVsOiB0aGlzLmkxOG4udm9sdW1lLCBvbktleURvd246IHRoaXMub25LZXlEb3duLmJpbmQodGhpcyksIG9uVm1Gb2N1czogdGhpcy5vblNob3dTbGlkZXIuYmluZCh0aGlzKSwgb25WbUJsdXI6IHRoaXMub25IaWRlU2xpZGVyLmJpbmQodGhpcyksIG9uVm1WYWx1ZUNoYW5nZTogdGhpcy5vblZvbHVtZUNoYW5nZS5iaW5kKHRoaXMpIH0pKSk7XG4gIH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcIm5vS2V5Ym9hcmRcIjogW1wib25Ob0tleWJvYXJkQ2hhbmdlXCJdLFxuICAgIFwibXV0ZWRcIjogW1wib25QbGF5ZXJWb2x1bWVDaGFuZ2VcIl0sXG4gICAgXCJ2b2x1bWVcIjogW1wib25QbGF5ZXJWb2x1bWVDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4gdm9sdW1lQ29udHJvbENzczsgfVxufTtcblxuY29uc3QgbWFwWW91VHViZVBsYXliYWNrUXVhbGl0eSA9IChxdWFsaXR5KSA9PiB7XG4gIHN3aXRjaCAocXVhbGl0eSkge1xuICAgIGNhc2UgXCJ1bmtub3duXCIgLyogVW5rbm93biAqLzpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY2FzZSBcInRpbnlcIiAvKiBUaW55ICovOlxuICAgICAgcmV0dXJuICcxNDRwJztcbiAgICBjYXNlIFwic21hbGxcIiAvKiBTbWFsbCAqLzpcbiAgICAgIHJldHVybiAnMjQwcCc7XG4gICAgY2FzZSBcIm1lZGl1bVwiIC8qIE1lZGl1bSAqLzpcbiAgICAgIHJldHVybiAnMzYwcCc7XG4gICAgY2FzZSBcImxhcmdlXCIgLyogTGFyZ2UgKi86XG4gICAgICByZXR1cm4gJzQ4MHAnO1xuICAgIGNhc2UgXCJoZDcyMFwiIC8qIEhkNzIwICovOlxuICAgICAgcmV0dXJuICc3MjBwJztcbiAgICBjYXNlIFwiaGQxMDgwXCIgLyogSGQxMDgwICovOlxuICAgICAgcmV0dXJuICcxMDgwcCc7XG4gICAgY2FzZSBcImhpZ2hyZXNcIiAvKiBIaWdocmVzICovOlxuICAgICAgcmV0dXJuICcxNDQwcCc7XG4gICAgY2FzZSBcIm1heFwiIC8qIE1heCAqLzpcbiAgICAgIHJldHVybiAnMjE2MHAnO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59O1xuXG5jb25zdCB5b3V0dWJlQ3NzID0gXCI6aG9zdHt6LWluZGV4OnZhcigtLXZtLW1lZGlhLXotaW5kZXgpfVwiO1xuXG52YXIgX19hd2FpdGVyID0gKHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHtcbiAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKTtcbiAgICB9IH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkge1xuICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVqZWN0KGUpO1xuICAgIH0gfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn07XG5jb25zdCBwb3N0ZXJDYWNoZSA9IG5ldyBNYXAoKTtcbmNvbnN0IFlvdVR1YmUgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVnaXN0ZXJIb3N0KCk7XG4gICAgYXR0YWNoU2hhZG93KHRoaXMpO1xuICAgIHRoaXMudm1Mb2FkU3RhcnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcInZtTG9hZFN0YXJ0XCIsIDcpO1xuICAgIHRoaXMuZGVmYXVsdEludGVybmFsU3RhdGUgPSB7fTtcbiAgICB0aGlzLmludGVybmFsU3RhdGUgPSB7XG4gICAgICBwYXVzZWQ6IHRydWUsXG4gICAgICBkdXJhdGlvbjogMCxcbiAgICAgIHNlZWtpbmc6IGZhbHNlLFxuICAgICAgcGxheWJhY2tSZWFkeTogZmFsc2UsXG4gICAgICBwbGF5YmFja1N0YXJ0ZWQ6IGZhbHNlLFxuICAgICAgY3VycmVudFRpbWU6IDAsXG4gICAgICBsYXN0VGltZVVwZGF0ZTogMCxcbiAgICAgIHBsYXliYWNrUmF0ZTogMSxcbiAgICAgIHN0YXRlOiAtMSxcbiAgICB9O1xuICAgIHRoaXMuZW1iZWRTcmMgPSAnJztcbiAgICB0aGlzLm1lZGlhVGl0bGUgPSAnJztcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGNvb2tpZXMgc2hvdWxkIGJlIGVuYWJsZWQgb24gdGhlIGVtYmVkLlxuICAgICAqL1xuICAgIHRoaXMuY29va2llcyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGZ1bGxzY3JlZW4gY29udHJvbCBzaG91bGQgYmUgc2hvd24uXG4gICAgICovXG4gICAgdGhpcy5zaG93RnVsbHNjcmVlbkNvbnRyb2wgPSB0cnVlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmxhbmd1YWdlID0gJ2VuJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgdGhpcy5hdXRvcGxheSA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLmNvbnRyb2xzID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMubG9vcCA9IGZhbHNlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICB0aGlzLm11dGVkID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMucGxheXNpbmxpbmUgPSBmYWxzZTtcbiAgICB3aXRoQ29tcG9uZW50UmVnaXN0cnkodGhpcyk7XG4gICAgd2l0aFByb3ZpZGVyQ29ubmVjdCh0aGlzKTtcbiAgICB3aXRoUHJvdmlkZXJDb250ZXh0KHRoaXMpO1xuICB9XG4gIG9uVmlkZW9JZENoYW5nZSgpIHtcbiAgICBpZiAoIXRoaXMudmlkZW9JZCkge1xuICAgICAgdGhpcy5lbWJlZFNyYyA9ICcnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmVtYmVkU3JjID0gYCR7dGhpcy5nZXRPcmlnaW4oKX0vZW1iZWQvJHt0aGlzLnZpZGVvSWR9YDtcbiAgICB0aGlzLmZldGNoUG9zdGVyVVJMID0gdGhpcy5maW5kUG9zdGVyVVJMKCk7XG4gIH1cbiAgb25DdXN0b21Qb3N0ZXJDaGFuZ2UoKSB7XG4gICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFBvc3RlcicsIHRoaXMucG9zdGVyKTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmRpc3BhdGNoID0gY3JlYXRlUHJvdmlkZXJEaXNwYXRjaGVyKHRoaXMpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ3ZpZXdUeXBlJywgVmlld1R5cGUuVmlkZW8pO1xuICAgIHRoaXMub25WaWRlb0lkQ2hhbmdlKCk7XG4gICAgdGhpcy5kZWZhdWx0SW50ZXJuYWxTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaW50ZXJuYWxTdGF0ZSk7XG4gIH1cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICB0aGlzLmluaXRpYWxNdXRlZCA9IHRoaXMubXV0ZWQ7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXRBZGFwdGVyKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCBjYW5QbGF5UmVnZXggPSAvKD86eW91dHVcXC5iZXx5b3V0dWJlfHlvdXR1YmVcXC5jb218eW91dHViZS1ub2Nvb2tpZVxcLmNvbSlcXC8oPzplbWJlZFxcL3x2XFwvfHdhdGNoXFw/dj18d2F0Y2hcXD8uKyZ2PXwpKCg/Olxcd3wtKXsxMX0pLztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldEludGVybmFsUGxheWVyOiAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0aGlzLmVtYmVkOyB9KSxcbiAgICAgICAgcGxheTogKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcInBsYXlWaWRlb1wiIC8qIFBsYXkgKi8pO1xuICAgICAgICB9KSxcbiAgICAgICAgcGF1c2U6ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB0aGlzLnJlbW90ZUNvbnRyb2woXCJwYXVzZVZpZGVvXCIgLyogUGF1c2UgKi8pO1xuICAgICAgICB9KSxcbiAgICAgICAgY2FuUGxheTogKHR5cGUpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIGlzU3RyaW5nKHR5cGUpICYmIGNhblBsYXlSZWdleC50ZXN0KHR5cGUpOyB9KSxcbiAgICAgICAgc2V0Q3VycmVudFRpbWU6ICh0aW1lKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgaWYgKHRpbWUgIT09IHRoaXMuaW50ZXJuYWxTdGF0ZS5jdXJyZW50VGltZSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwic2Vla1RvXCIgLyogU2VlayAqLywgdGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgc2V0TXV0ZWQ6IChtdXRlZCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIG11dGVkXG4gICAgICAgICAgICA/IHRoaXMucmVtb3RlQ29udHJvbChcIm11dGVcIiAvKiBNdXRlICovKVxuICAgICAgICAgICAgOiB0aGlzLnJlbW90ZUNvbnRyb2woXCJ1bk11dGVcIiAvKiBVbm11dGUgKi8pO1xuICAgICAgICB9KSxcbiAgICAgICAgc2V0Vm9sdW1lOiAodm9sdW1lKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwic2V0Vm9sdW1lXCIgLyogU2V0Vm9sdW1lICovLCB2b2x1bWUpO1xuICAgICAgICB9KSxcbiAgICAgICAgY2FuU2V0UGxheWJhY2tSYXRlOiAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiB0cnVlOyB9KSxcbiAgICAgICAgc2V0UGxheWJhY2tSYXRlOiAocmF0ZSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgIHRoaXMucmVtb3RlQ29udHJvbChcInNldFBsYXliYWNrUmF0ZVwiIC8qIFNldFBsYXliYWNrUmF0ZSAqLywgcmF0ZSk7XG4gICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICBnZXRPcmlnaW4oKSB7XG4gICAgcmV0dXJuICF0aGlzLmNvb2tpZXNcbiAgICAgID8gJ2h0dHBzOi8vd3d3LnlvdXR1YmUtbm9jb29raWUuY29tJ1xuICAgICAgOiAnaHR0cHM6Ly93d3cueW91dHViZS5jb20nO1xuICB9XG4gIGdldFByZWNvbm5lY3Rpb25zKCkge1xuICAgIHJldHVybiBbXG4gICAgICB0aGlzLmdldE9yaWdpbigpLFxuICAgICAgJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20nLFxuICAgICAgJ2h0dHBzOi8vZ29vZ2xlYWRzLmcuZG91YmxlY2xpY2submV0JyxcbiAgICAgICdodHRwczovL3N0YXRpYy5kb3VibGVjbGljay5uZXQnLFxuICAgICAgJ2h0dHBzOi8vcy55dGltZy5jb20nLFxuICAgICAgJ2h0dHBzOi8vaS55dGltZy5jb20nLFxuICAgIF07XG4gIH1cbiAgcmVtb3RlQ29udHJvbChjb21tYW5kLCBhcmcpIHtcbiAgICByZXR1cm4gdGhpcy5lbWJlZC5wb3N0TWVzc2FnZSh7XG4gICAgICBldmVudDogJ2NvbW1hbmQnLFxuICAgICAgZnVuYzogY29tbWFuZCxcbiAgICAgIGFyZ3M6IGFyZyA/IFthcmddIDogdW5kZWZpbmVkLFxuICAgIH0pO1xuICB9XG4gIGJ1aWxkUGFyYW1zKCkge1xuICAgIHJldHVybiB7XG4gICAgICBlbmFibGVqc2FwaTogMSxcbiAgICAgIGNjX2xhbmdfcHJlZjogdGhpcy5sYW5ndWFnZSxcbiAgICAgIGhsOiB0aGlzLmxhbmd1YWdlLFxuICAgICAgZnM6IHRoaXMuc2hvd0Z1bGxzY3JlZW5Db250cm9sID8gMSA6IDAsXG4gICAgICBjb250cm9sczogdGhpcy5jb250cm9scyA/IDEgOiAwLFxuICAgICAgZGlzYWJsZWtiOiAhdGhpcy5jb250cm9scyA/IDEgOiAwLFxuICAgICAgaXZfbG9hZF9wb2xpY3k6IHRoaXMuY29udHJvbHMgPyAxIDogMyxcbiAgICAgIG11dGU6IHRoaXMuaW5pdGlhbE11dGVkID8gMSA6IDAsXG4gICAgICBwbGF5c2lubGluZTogdGhpcy5wbGF5c2lubGluZSA/IDEgOiAwLFxuICAgICAgYXV0b3BsYXk6IHRoaXMuYXV0b3BsYXkgPyAxIDogMCxcbiAgICB9O1xuICB9XG4gIG9uRW1iZWRTcmNDaGFuZ2UoKSB7XG4gICAgdGhpcy52bUxvYWRTdGFydC5lbWl0KCk7XG4gICAgdGhpcy5kaXNwYXRjaCgndmlld1R5cGUnLCBWaWV3VHlwZS5WaWRlbyk7XG4gIH1cbiAgb25FbWJlZExvYWRlZCgpIHtcbiAgICAvLyBTZWVtcyBsaWtlIHdlIGhhdmUgdG8gd2FpdCBhIHJhbmRvbSBzbWFsbCBkZWxheSBvciBlbHNlIFlUIHBsYXllciBpc24ndCByZWFkeS5cbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLmVtYmVkLnBvc3RNZXNzYWdlKHsgZXZlbnQ6ICdsaXN0ZW5pbmcnIH0pLCAxMDApO1xuICB9XG4gIGZpbmRQb3N0ZXJVUkwoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGlmIChwb3N0ZXJDYWNoZS5oYXModGhpcy52aWRlb0lkKSlcbiAgICAgICAgcmV0dXJuIHBvc3RlckNhY2hlLmdldCh0aGlzLnZpZGVvSWQpO1xuICAgICAgY29uc3QgcG9zdGVyVVJMID0gKHF1YWxpdHkpID0+IGBodHRwczovL2kueXRpbWcuY29tL3ZpLyR7dGhpcy52aWRlb0lkfS8ke3F1YWxpdHl9LmpwZ2A7XG4gICAgICAvKipcbiAgICAgICAqIFdlIGFyZSB0ZXN0aW5nIGEgdGhhdCB0aGUgaW1hZ2UgaGFzIGEgbWluLXdpZHRoIG9mIDEyMXB4IGJlY2F1c2UgaWYgdGhlIHRodW1ibmFpbCBkb2VzIG5vdFxuICAgICAgICogZXhpc3QgWW91VHViZSByZXR1cm5zIGEgYmxhbmsvZXJyb3IgaW1hZ2UgdGhhdCBpcyAxMjBweCB3aWRlLlxuICAgICAgICovXG4gICAgICByZXR1cm4gbG9hZEltYWdlKHBvc3RlclVSTCgnbWF4cmVzZGVmYXVsdCcpLCAxMjEpIC8vIDEwODBwIChubyBwYWRkaW5nKVxuICAgICAgICAuY2F0Y2goKCkgPT4gbG9hZEltYWdlKHBvc3RlclVSTCgnc2RkZWZhdWx0JyksIDEyMSkpIC8vIDY0MHAgKHBhZGRlZCA0OjMpXG4gICAgICAgIC5jYXRjaCgoKSA9PiBsb2FkSW1hZ2UocG9zdGVyVVJMKCdocWRlZmF1bHQnKSwgMTIxKSkgLy8gNDgwcCAocGFkZGVkIDQ6MylcbiAgICAgICAgLnRoZW4oaW1nID0+IHtcbiAgICAgICAgY29uc3QgcG9zdGVyID0gaW1nLnNyYztcbiAgICAgICAgcG9zdGVyQ2FjaGUuc2V0KHRoaXMudmlkZW9JZCwgcG9zdGVyKTtcbiAgICAgICAgcmV0dXJuIHBvc3RlcjtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIG9uQ3VlZCgpIHtcbiAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrUmVhZHkpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5pbnRlcm5hbFN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SW50ZXJuYWxTdGF0ZSk7XG4gICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFNyYycsIHRoaXMuZW1iZWRTcmMpO1xuICAgIHRoaXMuZGlzcGF0Y2goJ21lZGlhVHlwZScsIE1lZGlhVHlwZS5WaWRlbyk7XG4gICAgdGhpcy5mZXRjaFBvc3RlclVSTC50aGVuKHBvc3RlciA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdjdXJyZW50UG9zdGVyJywgKF9hID0gdGhpcy5wb3N0ZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHBvc3Rlcik7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1JlYWR5JywgdHJ1ZSk7XG4gICAgfSk7XG4gICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrUmVhZHkgPSB0cnVlO1xuICB9XG4gIG9uUGxheWVyU3RhdGVDaGFuZ2Uoc3RhdGUpIHtcbiAgICAvLyBTb21ldGltZXMgdGhlIGVtYmVkIGZhbGxzIGJhY2sgdG8gYW4gdW5zdGFydGVkIHN0YXRlIGZvciBzb21lIHVua25vd24gcmVhc29uLCB0aGlzIHdpbGxcbiAgICAvLyBtYWtlIHN1cmUgdGhlIHBsYXllciBpcyBjb25maWd1cmVkIHRvIHRoZSByaWdodCBzdGFydGluZyBzdGF0ZS5cbiAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrUmVhZHkgJiZcbiAgICAgIHN0YXRlID09PSAtMSAvKiBVbnN0YXJ0ZWQgKi8pIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5wYXVzZWQgPSB0cnVlO1xuICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5kaXNwYXRjaCgnYnVmZmVyaW5nJywgZmFsc2UpO1xuICAgICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgdHJ1ZSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1N0YXJ0ZWQnLCBmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlzUGxheWluZyA9IHN0YXRlID09PSAxIC8qIFBsYXlpbmcgKi87XG4gICAgY29uc3QgaXNCdWZmZXJpbmcgPSBzdGF0ZSA9PT0gMyAvKiBCdWZmZXJpbmcgKi87XG4gICAgdGhpcy5kaXNwYXRjaCgnYnVmZmVyaW5nJywgaXNCdWZmZXJpbmcpO1xuICAgIC8vIEF0dGVtcHQgdG8gZGV0ZWN0IGBwbGF5YCBldmVudHMgZWFybHkuXG4gICAgaWYgKHRoaXMuaW50ZXJuYWxTdGF0ZS5wYXVzZWQgJiYgKGlzQnVmZmVyaW5nIHx8IGlzUGxheWluZykpIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5wYXVzZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ3BhdXNlZCcsIGZhbHNlKTtcbiAgICAgIGlmICghdGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrU3RhcnRlZCkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1N0YXJ0ZWQnLCB0cnVlKTtcbiAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBsYXliYWNrU3RhcnRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgIGNhc2UgNSAvKiBDdWVkICovOlxuICAgICAgICB0aGlzLm9uQ3VlZCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMSAvKiBQbGF5aW5nICovOlxuICAgICAgICAvLyBJbmNhc2Ugb2YgYXV0b3BsYXkgd2hpY2ggbWlnaHQgc2tpcCBgQ3VlZGAgZXZlbnQuXG4gICAgICAgIHRoaXMub25DdWVkKCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXlpbmcnLCB0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDIgLyogUGF1c2VkICovOlxuICAgICAgICB0aGlzLmludGVybmFsU3RhdGUucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgdHJ1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAwIC8qIEVuZGVkICovOlxuICAgICAgICBpZiAodGhpcy5sb29wKSB7XG4gICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVDb250cm9sKFwicGxheVZpZGVvXCIgLyogUGxheSAqLyk7XG4gICAgICAgICAgfSwgMTUwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja0VuZGVkJywgdHJ1ZSk7XG4gICAgICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLnBhdXNlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCgncGF1c2VkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5zdGF0ZSA9IHN0YXRlO1xuICB9XG4gIGNhbGNDdXJyZW50VGltZSh0aW1lKSB7XG4gICAgbGV0IGN1cnJlbnRUaW1lID0gdGltZTtcbiAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLnN0YXRlID09PSAwIC8qIEVuZGVkICovKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbFN0YXRlLmR1cmF0aW9uO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLnN0YXRlID09PSAxIC8qIFBsYXlpbmcgKi8pIHtcbiAgICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gKERhdGUubm93KCkgLyAxZTMgLSB0aGlzLmRlZmF1bHRJbnRlcm5hbFN0YXRlLmxhc3RUaW1lVXBkYXRlKSAqXG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5wbGF5YmFja1JhdGU7XG4gICAgICBpZiAoZWxhcHNlZFRpbWUgPiAwKVxuICAgICAgICBjdXJyZW50VGltZSArPSBNYXRoLm1pbihlbGFwc2VkVGltZSwgMSk7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50VGltZTtcbiAgfVxuICBvblRpbWVDaGFuZ2UodGltZSkge1xuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gdGhpcy5jYWxjQ3VycmVudFRpbWUodGltZSk7XG4gICAgdGhpcy5kaXNwYXRjaCgnY3VycmVudFRpbWUnLCBjdXJyZW50VGltZSk7XG4gICAgLy8gVGhpcyBpcyB0aGUgb25seSB3YXkgdG8gZGV0ZWN0IGBzZWVraW5nYC5cbiAgICBpZiAoTWF0aC5hYnModGhpcy5pbnRlcm5hbFN0YXRlLmN1cnJlbnRUaW1lIC0gY3VycmVudFRpbWUpID4gMS41KSB7XG4gICAgICB0aGlzLmludGVybmFsU3RhdGUuc2Vla2luZyA9IHRydWU7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdzZWVraW5nJywgdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5jdXJyZW50VGltZSA9IGN1cnJlbnRUaW1lO1xuICB9XG4gIG9uQnVmZmVyZWRDaGFuZ2UoYnVmZmVyZWQpIHtcbiAgICB0aGlzLmRpc3BhdGNoKCdidWZmZXJlZCcsIGJ1ZmZlcmVkKTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBvbmx5IHdheSB0byBkZXRlY3QgYHNlZWtlZGAuIFVuZm9ydHVuYXRlbHkgd2hpbGUgdGhlIHBsYXllciBpcyBgcGF1c2VkYCBgc2Vla2luZ2BcbiAgICAgKiBhbmQgYHNlZWtlZGAgd2lsbCBmaXJlIGF0IHRoZSBzYW1lIHRpbWUsIHRoZXJlIGFyZSBubyB1cGRhdGVzIGluYmV0d2VlbiAtXy0uIFdlIG5lZWQgYW5cbiAgICAgKiBhcnRpZmljYWwgZGVsYXkgYmV0d2VlbiB0aGUgdHdvIGV2ZW50cy5cbiAgICAgKi9cbiAgICBpZiAodGhpcy5pbnRlcm5hbFN0YXRlLnNlZWtpbmcgJiZcbiAgICAgIGJ1ZmZlcmVkID4gdGhpcy5pbnRlcm5hbFN0YXRlLmN1cnJlbnRUaW1lKSB7XG4gICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdGF0ZS5zZWVraW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ3NlZWtpbmcnLCBmYWxzZSk7XG4gICAgICB9LCB0aGlzLmludGVybmFsU3RhdGUucGF1c2VkID8gMTAwIDogMCk7XG4gICAgfVxuICB9XG4gIG9uRW1iZWRNZXNzYWdlKGV2ZW50KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRldGFpbDtcbiAgICBjb25zdCB7IGluZm8gfSA9IG1lc3NhZ2U7XG4gICAgaWYgKCFpbmZvKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChpc09iamVjdChpbmZvLnZpZGVvRGF0YSkpXG4gICAgICB0aGlzLmRpc3BhdGNoKCdtZWRpYVRpdGxlJywgaW5mby52aWRlb0RhdGEudGl0bGUpO1xuICAgIGlmIChpc051bWJlcihpbmZvLmR1cmF0aW9uKSkge1xuICAgICAgdGhpcy5pbnRlcm5hbFN0YXRlLmR1cmF0aW9uID0gaW5mby5kdXJhdGlvbjtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ2R1cmF0aW9uJywgaW5mby5kdXJhdGlvbik7XG4gICAgfVxuICAgIGlmIChpc0FycmF5KGluZm8uYXZhaWxhYmxlUGxheWJhY2tSYXRlcykpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrUmF0ZXMnLCBpbmZvLmF2YWlsYWJsZVBsYXliYWNrUmF0ZXMpO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoaW5mby5wbGF5YmFja1JhdGUpKSB7XG4gICAgICB0aGlzLmludGVybmFsU3RhdGUucGxheWJhY2tSYXRlID0gaW5mby5wbGF5YmFja1JhdGU7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1JhdGUnLCBpbmZvLnBsYXliYWNrUmF0ZSk7XG4gICAgfVxuICAgIGlmIChpc051bWJlcihpbmZvLmN1cnJlbnRUaW1lKSlcbiAgICAgIHRoaXMub25UaW1lQ2hhbmdlKGluZm8uY3VycmVudFRpbWUpO1xuICAgIGlmIChpc051bWJlcihpbmZvLmN1cnJlbnRUaW1lTGFzdFVwZGF0ZWQpKSB7XG4gICAgICB0aGlzLmludGVybmFsU3RhdGUubGFzdFRpbWVVcGRhdGUgPSBpbmZvLmN1cnJlbnRUaW1lTGFzdFVwZGF0ZWQ7XG4gICAgfVxuICAgIGlmIChpc051bWJlcihpbmZvLnZpZGVvTG9hZGVkRnJhY3Rpb24pKSB7XG4gICAgICB0aGlzLm9uQnVmZmVyZWRDaGFuZ2UoaW5mby52aWRlb0xvYWRlZEZyYWN0aW9uICogdGhpcy5pbnRlcm5hbFN0YXRlLmR1cmF0aW9uKTtcbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKGluZm8udm9sdW1lKSlcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ3ZvbHVtZScsIGluZm8udm9sdW1lKTtcbiAgICBpZiAoaXNCb29sZWFuKGluZm8ubXV0ZWQpKVxuICAgICAgdGhpcy5kaXNwYXRjaCgnbXV0ZWQnLCBpbmZvLm11dGVkKTtcbiAgICBpZiAoaXNBcnJheShpbmZvLmF2YWlsYWJsZVF1YWxpdHlMZXZlbHMpKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoKCdwbGF5YmFja1F1YWxpdGllcycsIGluZm8uYXZhaWxhYmxlUXVhbGl0eUxldmVscy5tYXAocSA9PiBtYXBZb3VUdWJlUGxheWJhY2tRdWFsaXR5KHEpKSk7XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhpbmZvLnBsYXliYWNrUXVhbGl0eSkpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ3BsYXliYWNrUXVhbGl0eScsIG1hcFlvdVR1YmVQbGF5YmFja1F1YWxpdHkoaW5mby5wbGF5YmFja1F1YWxpdHkpKTtcbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKGluZm8ucGxheWVyU3RhdGUpKVxuICAgICAgdGhpcy5vblBsYXllclN0YXRlQ2hhbmdlKGluZm8ucGxheWVyU3RhdGUpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoXCJ2bS1lbWJlZFwiLCB7IGVtYmVkU3JjOiB0aGlzLmVtYmVkU3JjLCBtZWRpYVRpdGxlOiB0aGlzLm1lZGlhVGl0bGUsIG9yaWdpbjogdGhpcy5nZXRPcmlnaW4oKSwgcGFyYW1zOiB0aGlzLmJ1aWxkUGFyYW1zKCksIGRlY29kZXI6IGRlY29kZUpTT04sIHByZWNvbm5lY3Rpb25zOiB0aGlzLmdldFByZWNvbm5lY3Rpb25zKCksIG9uVm1FbWJlZExvYWRlZDogdGhpcy5vbkVtYmVkTG9hZGVkLmJpbmQodGhpcyksIG9uVm1FbWJlZE1lc3NhZ2U6IHRoaXMub25FbWJlZE1lc3NhZ2UuYmluZCh0aGlzKSwgb25WbUVtYmVkU3JjQ2hhbmdlOiB0aGlzLm9uRW1iZWRTcmNDaGFuZ2UuYmluZCh0aGlzKSwgcmVmOiAoZWwpID0+IHtcbiAgICAgICAgdGhpcy5lbWJlZCA9IGVsO1xuICAgICAgfSB9KSk7XG4gIH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcImNvb2tpZXNcIjogW1wib25WaWRlb0lkQ2hhbmdlXCJdLFxuICAgIFwidmlkZW9JZFwiOiBbXCJvblZpZGVvSWRDaGFuZ2VcIl0sXG4gICAgXCJwb3N0ZXJcIjogW1wib25DdXN0b21Qb3N0ZXJDaGFuZ2VcIl1cbiAgfTsgfVxuICBzdGF0aWMgZ2V0IHN0eWxlKCkgeyByZXR1cm4geW91dHViZUNzczsgfVxufTtcblxuY29uc3QgVm1BdWRpbyA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoQXVkaW8sIFs0LFwidm0tYXVkaW9cIix7XCJ3aWxsQXR0YWNoXCI6WzQsXCJ3aWxsLWF0dGFjaFwiXSxcImNyb3NzT3JpZ2luXCI6WzEsXCJjcm9zcy1vcmlnaW5cIl0sXCJwcmVsb2FkXCI6WzFdLFwiZGlzYWJsZVJlbW90ZVBsYXliYWNrXCI6WzQsXCJkaXNhYmxlLXJlbW90ZS1wbGF5YmFja1wiXSxcIm1lZGlhVGl0bGVcIjpbMSxcIm1lZGlhLXRpdGxlXCJdfV0pO1xuY29uc3QgVm1DYXB0aW9uQ29udHJvbCA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoQ2FwdGlvbkNvbnRyb2wsIFsxLFwidm0tY2FwdGlvbi1jb250cm9sXCIse1wic2hvd0ljb25cIjpbMSxcInNob3ctaWNvblwiXSxcImhpZGVJY29uXCI6WzEsXCJoaWRlLWljb25cIl0sXCJ0b29sdGlwUG9zaXRpb25cIjpbMSxcInRvb2x0aXAtcG9zaXRpb25cIl0sXCJ0b29sdGlwRGlyZWN0aW9uXCI6WzEsXCJ0b29sdGlwLWRpcmVjdGlvblwiXSxcImhpZGVUb29sdGlwXCI6WzQsXCJoaWRlLXRvb2x0aXBcIl0sXCJpY29uc1wiOlsxXSxcImtleXNcIjpbMV0sXCJpMThuXCI6WzE2XSxcInBsYXliYWNrUmVhZHlcIjpbNCxcInBsYXliYWNrLXJlYWR5XCJdLFwidGV4dFRyYWNrc1wiOlsxNl0sXCJpc1RleHRUcmFja1Zpc2libGVcIjpbNCxcImlzLXRleHQtdHJhY2stdmlzaWJsZVwiXSxcImNhblRvZ2dsZUNhcHRpb25WaXNpYmlsaXR5XCI6WzMyXX1dKTtcbmNvbnN0IFZtQ2FwdGlvbnMgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KENhcHRpb25zLCBbMSxcInZtLWNhcHRpb25zXCIse1wiaGlkZGVuXCI6WzRdLFwiaXNDb250cm9sc0FjdGl2ZVwiOls0LFwiaXMtY29udHJvbHMtYWN0aXZlXCJdLFwiaXNWaWRlb1ZpZXdcIjpbNCxcImlzLXZpZGVvLXZpZXdcIl0sXCJwbGF5YmFja1N0YXJ0ZWRcIjpbNCxcInBsYXliYWNrLXN0YXJ0ZWRcIl0sXCJ0ZXh0VHJhY2tzXCI6WzE2XSxcImN1cnJlbnRUZXh0VHJhY2tcIjpbMixcImN1cnJlbnQtdGV4dC10cmFja1wiXSxcImlzVGV4dFRyYWNrVmlzaWJsZVwiOls0LFwiaXMtdGV4dC10cmFjay12aXNpYmxlXCJdLFwiaXNFbmFibGVkXCI6WzMyXSxcImN1ZVwiOlszMl0sXCJmb250U2l6ZVwiOlszMl19XSk7XG5jb25zdCBWbUNsaWNrVG9QbGF5ID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChDbGlja1RvUGxheSwgWzEsXCJ2bS1jbGljay10by1wbGF5XCIse1widXNlT25Nb2JpbGVcIjpbNCxcInVzZS1vbi1tb2JpbGVcIl0sXCJwYXVzZWRcIjpbNF0sXCJpc1ZpZGVvVmlld1wiOls0LFwiaXMtdmlkZW8tdmlld1wiXSxcImlzTW9iaWxlXCI6WzQsXCJpcy1tb2JpbGVcIl19XSk7XG5jb25zdCBWbUNvbnRyb2wgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KENvbnRyb2wsIFsxLFwidm0tY29udHJvbFwiLHtcImtleXNcIjpbMV0sXCJpZGVudGlmaWVyXCI6WzFdLFwiaGlkZGVuXCI6WzRdLFwibGFiZWxcIjpbMV0sXCJtZW51XCI6WzFdLFwiZXhwYW5kZWRcIjpbNF0sXCJwcmVzc2VkXCI6WzRdLFwiaXNUb3VjaFwiOls0LFwiaXMtdG91Y2hcIl0sXCJkZXNjcmliZWRCeVwiOlszMl0sXCJzaG93VGFwSGlnaGxpZ2h0XCI6WzMyXX1dKTtcbmNvbnN0IFZtQ29udHJvbEdyb3VwID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChDb250cm9sTmV3TGluZSwgWzEsXCJ2bS1jb250cm9sLWdyb3VwXCIse1wic3BhY2VcIjpbMV19XSk7XG5jb25zdCBWbUNvbnRyb2xTcGFjZXIgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KENvbnRyb2xTcGFjZXIsIFsxLFwidm0tY29udHJvbC1zcGFjZXJcIl0pO1xuY29uc3QgVm1Db250cm9scyA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoQ29udHJvbHMsIFsxLFwidm0tY29udHJvbHNcIix7XCJoaWRkZW5cIjpbNF0sXCJmdWxsV2lkdGhcIjpbNCxcImZ1bGwtd2lkdGhcIl0sXCJmdWxsSGVpZ2h0XCI6WzQsXCJmdWxsLWhlaWdodFwiXSxcImRpcmVjdGlvblwiOlsxXSxcImFsaWduXCI6WzFdLFwianVzdGlmeVwiOlsxXSxcInBpblwiOls1MTNdLFwiYWN0aXZlRHVyYXRpb25cIjpbMixcImFjdGl2ZS1kdXJhdGlvblwiXSxcIndhaXRGb3JQbGF5YmFja1N0YXJ0XCI6WzQsXCJ3YWl0LWZvci1wbGF5YmFjay1zdGFydFwiXSxcImhpZGVXaGVuUGF1c2VkXCI6WzQsXCJoaWRlLXdoZW4tcGF1c2VkXCJdLFwiaGlkZU9uTW91c2VMZWF2ZVwiOls0LFwiaGlkZS1vbi1tb3VzZS1sZWF2ZVwiXSxcImlzQXVkaW9WaWV3XCI6WzQsXCJpcy1hdWRpby12aWV3XCJdLFwiaXNTZXR0aW5nc0FjdGl2ZVwiOls0LFwiaXMtc2V0dGluZ3MtYWN0aXZlXCJdLFwicGxheWJhY2tSZWFkeVwiOls0LFwicGxheWJhY2stcmVhZHlcIl0sXCJpc0NvbnRyb2xzQWN0aXZlXCI6WzQsXCJpcy1jb250cm9scy1hY3RpdmVcIl0sXCJwYXVzZWRcIjpbNF0sXCJwbGF5YmFja1N0YXJ0ZWRcIjpbNCxcInBsYXliYWNrLXN0YXJ0ZWRcIl0sXCJpc0ludGVyYWN0aW5nXCI6WzMyXX1dKTtcbmNvbnN0IFZtQ3VycmVudFRpbWUgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KEN1cnJlbnRUaW1lLCBbMSxcInZtLWN1cnJlbnQtdGltZVwiLHtcImN1cnJlbnRUaW1lXCI6WzIsXCJjdXJyZW50LXRpbWVcIl0sXCJpMThuXCI6WzE2XSxcImFsd2F5c1Nob3dIb3Vyc1wiOls0LFwiYWx3YXlzLXNob3ctaG91cnNcIl19XSk7XG5jb25zdCBWbURhaWx5bW90aW9uID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChEYWlseW1vdGlvbiwgWzEsXCJ2bS1kYWlseW1vdGlvblwiLHtcInZpZGVvSWRcIjpbMSxcInZpZGVvLWlkXCJdLFwic2hvdWxkQXV0b3BsYXlRdWV1ZVwiOls0LFwic2hvdWxkLWF1dG9wbGF5LXF1ZXVlXCJdLFwic2hvd1VwTmV4dFF1ZXVlXCI6WzQsXCJzaG93LXVwLW5leHQtcXVldWVcIl0sXCJzaG93U2hhcmVCdXR0b25zXCI6WzQsXCJzaG93LXNoYXJlLWJ1dHRvbnNcIl0sXCJjb2xvclwiOlsxXSxcInN5bmRpY2F0aW9uXCI6WzFdLFwic2hvd0RhaWx5bW90aW9uTG9nb1wiOls0LFwic2hvdy1kYWlseW1vdGlvbi1sb2dvXCJdLFwic2hvd1ZpZGVvSW5mb1wiOls0LFwic2hvdy12aWRlby1pbmZvXCJdLFwibGFuZ3VhZ2VcIjpbMV0sXCJhdXRvcGxheVwiOls0XSxcImNvbnRyb2xzXCI6WzRdLFwicG9zdGVyXCI6WzFdLFwibG9nZ2VyXCI6WzE2XSxcImxvb3BcIjpbNF0sXCJtdXRlZFwiOls0XSxcInBsYXlzaW5saW5lXCI6WzRdLFwiZW1iZWRTcmNcIjpbMzJdLFwibWVkaWFUaXRsZVwiOlszMl19XSk7XG5jb25zdCBWbURhc2ggPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KERhc2gsIFsxLFwidm0tZGFzaFwiLHtcInNyY1wiOlsxXSxcInZlcnNpb25cIjpbMV0sXCJsaWJTcmNcIjpbMSxcImxpYi1zcmNcIl0sXCJjb25maWdcIjpbMTZdLFwiYXV0b3BsYXlcIjpbNF0sXCJjcm9zc09yaWdpblwiOlsxLFwiY3Jvc3Mtb3JpZ2luXCJdLFwicHJlbG9hZFwiOlsxXSxcInBvc3RlclwiOlsxXSxcImNvbnRyb2xzTGlzdFwiOlsxLFwiY29udHJvbHMtbGlzdFwiXSxcImF1dG9QaVBcIjpbNCxcImF1dG8tcGlwXCJdLFwiZGlzYWJsZVBpUFwiOls0LFwiZGlzYWJsZS1waXBcIl0sXCJkaXNhYmxlUmVtb3RlUGxheWJhY2tcIjpbNCxcImRpc2FibGUtcmVtb3RlLXBsYXliYWNrXCJdLFwibWVkaWFUaXRsZVwiOlsxLFwibWVkaWEtdGl0bGVcIl0sXCJlbmFibGVUZXh0VHJhY2tzQnlEZWZhdWx0XCI6WzQsXCJlbmFibGUtdGV4dC10cmFja3MtYnktZGVmYXVsdFwiXSxcInNob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3NcIjpbNCxcInNob3VsZC1yZW5kZXItbmF0aXZlLXRleHQtdHJhY2tzXCJdLFwiaXNUZXh0VHJhY2tWaXNpYmxlXCI6WzQsXCJpcy10ZXh0LXRyYWNrLXZpc2libGVcIl0sXCJjdXJyZW50VGV4dFRyYWNrXCI6WzIsXCJjdXJyZW50LXRleHQtdHJhY2tcIl0sXCJoYXNBdHRhY2hlZFwiOlszMl19LFtbMCxcInZtTWVkaWFFbENoYW5nZVwiLFwib25NZWRpYUVsQ2hhbmdlXCJdXV0pO1xuY29uc3QgVm1EYmxDbGlja0Z1bGxzY3JlZW4gPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KERibENsaWNrRnVsbHNjcmVlbiwgWzEsXCJ2bS1kYmwtY2xpY2stZnVsbHNjcmVlblwiLHtcInVzZU9uTW9iaWxlXCI6WzQsXCJ1c2Utb24tbW9iaWxlXCJdLFwiaXNGdWxsc2NyZWVuQWN0aXZlXCI6WzQsXCJpcy1mdWxsc2NyZWVuLWFjdGl2ZVwiXSxcImlzVmlkZW9WaWV3XCI6WzQsXCJpcy12aWRlby12aWV3XCJdLFwicGxheWJhY2tSZWFkeVwiOls0LFwicGxheWJhY2stcmVhZHlcIl0sXCJpc01vYmlsZVwiOls0LFwiaXMtbW9iaWxlXCJdLFwiY2FuU2V0RnVsbHNjcmVlblwiOlszMl19XSk7XG5jb25zdCBWbURlZmF1bHRDb250cm9scyA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoRGVmYXVsdENvbnRyb2xzLCBbMSxcInZtLWRlZmF1bHQtY29udHJvbHNcIix7XCJhY3RpdmVEdXJhdGlvblwiOlsyLFwiYWN0aXZlLWR1cmF0aW9uXCJdLFwid2FpdEZvclBsYXliYWNrU3RhcnRcIjpbNCxcIndhaXQtZm9yLXBsYXliYWNrLXN0YXJ0XCJdLFwiaGlkZVdoZW5QYXVzZWRcIjpbNCxcImhpZGUtd2hlbi1wYXVzZWRcIl0sXCJoaWRlT25Nb3VzZUxlYXZlXCI6WzQsXCJoaWRlLW9uLW1vdXNlLWxlYXZlXCJdLFwidGhlbWVcIjpbMV0sXCJpc01vYmlsZVwiOls0LFwiaXMtbW9iaWxlXCJdLFwiaXNMaXZlXCI6WzQsXCJpcy1saXZlXCJdLFwiaXNBdWRpb1ZpZXdcIjpbNCxcImlzLWF1ZGlvLXZpZXdcIl0sXCJpc1ZpZGVvVmlld1wiOls0LFwiaXMtdmlkZW8tdmlld1wiXX1dKTtcbmNvbnN0IFZtRGVmYXVsdFNldHRpbmdzID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChEZWZhdWx0U2V0dGluZ3MsIFsxLFwidm0tZGVmYXVsdC1zZXR0aW5nc1wiLHtcInBpblwiOls1MTNdLFwiaTE4blwiOlsxNl0sXCJwbGF5YmFja1JlYWR5XCI6WzQsXCJwbGF5YmFjay1yZWFkeVwiXSxcInBsYXliYWNrUmF0ZVwiOlsyLFwicGxheWJhY2stcmF0ZVwiXSxcInBsYXliYWNrUmF0ZXNcIjpbMTZdLFwiaXNWaWRlb1ZpZXdcIjpbNCxcImlzLXZpZGVvLXZpZXdcIl0sXCJwbGF5YmFja1F1YWxpdHlcIjpbMSxcInBsYXliYWNrLXF1YWxpdHlcIl0sXCJwbGF5YmFja1F1YWxpdGllc1wiOlsxNl0sXCJ0ZXh0VHJhY2tzXCI6WzE2XSxcImN1cnJlbnRUZXh0VHJhY2tcIjpbMixcImN1cnJlbnQtdGV4dC10cmFja1wiXSxcImF1ZGlvVHJhY2tzXCI6WzE2XSxcImN1cnJlbnRBdWRpb1RyYWNrXCI6WzIsXCJjdXJyZW50LWF1ZGlvLXRyYWNrXCJdLFwiaXNUZXh0VHJhY2tWaXNpYmxlXCI6WzQsXCJpcy10ZXh0LXRyYWNrLXZpc2libGVcIl0sXCJjYW5TZXRQbGF5YmFja1JhdGVcIjpbMzJdLFwiY2FuU2V0UGxheWJhY2tRdWFsaXR5XCI6WzMyXSxcImNhblNldFRleHRUcmFja1wiOlszMl0sXCJjYW5TZXRBdWRpb1RyYWNrXCI6WzMyXX1dKTtcbmNvbnN0IFZtRGVmYXVsdFVpID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChEZWZhdWx0VUksIFsxLFwidm0tZGVmYXVsdC11aVwiLHtcIm5vQ2xpY2tUb1BsYXlcIjpbNCxcIm5vLWNsaWNrLXRvLXBsYXlcIl0sXCJub0RibENsaWNrRnVsbHNjcmVlblwiOls0LFwibm8tZGJsLWNsaWNrLWZ1bGxzY3JlZW5cIl0sXCJub0NhcHRpb25zXCI6WzQsXCJuby1jYXB0aW9uc1wiXSxcIm5vUG9zdGVyXCI6WzQsXCJuby1wb3N0ZXJcIl0sXCJub1NwaW5uZXJcIjpbNCxcIm5vLXNwaW5uZXJcIl0sXCJub0NvbnRyb2xzXCI6WzQsXCJuby1jb250cm9sc1wiXSxcIm5vU2V0dGluZ3NcIjpbNCxcIm5vLXNldHRpbmdzXCJdLFwibm9Mb2FkaW5nU2NyZWVuXCI6WzQsXCJuby1sb2FkaW5nLXNjcmVlblwiXX1dKTtcbmNvbnN0IFZtRW1iZWQgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KEVtYmVkLCBbMSxcInZtLWVtYmVkXCIse1wiZW1iZWRTcmNcIjpbMSxcImVtYmVkLXNyY1wiXSxcIm1lZGlhVGl0bGVcIjpbMSxcIm1lZGlhLXRpdGxlXCJdLFwicGFyYW1zXCI6WzFdLFwib3JpZ2luXCI6WzFdLFwicHJlY29ubmVjdGlvbnNcIjpbMTZdLFwiZGVjb2RlclwiOlsxNl0sXCJzcmNXaXRoUGFyYW1zXCI6WzMyXSxcImhhc0VudGVyZWRWaWV3cG9ydFwiOlszMl19LFtbOCxcIm1lc3NhZ2VcIixcIm9uV2luZG93TWVzc2FnZVwiXV1dKTtcbmNvbnN0IFZtRW5kVGltZSA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoRW5kVGltZSwgWzEsXCJ2bS1lbmQtdGltZVwiLHtcImR1cmF0aW9uXCI6WzJdLFwiaTE4blwiOlsxNl0sXCJhbHdheXNTaG93SG91cnNcIjpbNCxcImFsd2F5cy1zaG93LWhvdXJzXCJdfV0pO1xuY29uc3QgVm1GaWxlID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChGaWxlLCBbNixcInZtLWZpbGVcIix7XCJ3aWxsQXR0YWNoXCI6WzQsXCJ3aWxsLWF0dGFjaFwiXSxcImNyb3NzT3JpZ2luXCI6WzEsXCJjcm9zcy1vcmlnaW5cIl0sXCJwcmVsb2FkXCI6WzFdLFwicG9zdGVyXCI6WzFdLFwibWVkaWFUaXRsZVwiOlsxLFwibWVkaWEtdGl0bGVcIl0sXCJjb250cm9sc0xpc3RcIjpbMSxcImNvbnRyb2xzLWxpc3RcIl0sXCJhdXRvUGlQXCI6WzQsXCJhdXRvLXBpcFwiXSxcImRpc2FibGVQaVBcIjpbNCxcImRpc2FibGUtcGlwXCJdLFwiZGlzYWJsZVJlbW90ZVBsYXliYWNrXCI6WzQsXCJkaXNhYmxlLXJlbW90ZS1wbGF5YmFja1wiXSxcInZpZXdUeXBlXCI6WzEsXCJ2aWV3LXR5cGVcIl0sXCJwbGF5YmFja1JhdGVzXCI6WzE2XSxcImxhbmd1YWdlXCI6WzFdLFwiYXV0b3BsYXlcIjpbNF0sXCJjb250cm9sc1wiOls0XSxcImxvZ2dlclwiOlsxNl0sXCJsb29wXCI6WzRdLFwibXV0ZWRcIjpbNF0sXCJwbGF5c2lubGluZVwiOls0XSxcIm5vQ29ubmVjdFwiOls0LFwibm8tY29ubmVjdFwiXSxcInBhdXNlZFwiOls0XSxcImN1cnJlbnRUaW1lXCI6WzIsXCJjdXJyZW50LXRpbWVcIl0sXCJ2b2x1bWVcIjpbMl0sXCJwbGF5YmFja1JlYWR5XCI6WzQsXCJwbGF5YmFjay1yZWFkeVwiXSxcInBsYXliYWNrU3RhcnRlZFwiOls0LFwicGxheWJhY2stc3RhcnRlZFwiXSxcImN1cnJlbnRUZXh0VHJhY2tcIjpbMixcImN1cnJlbnQtdGV4dC10cmFja1wiXSxcImhhc0N1c3RvbVRleHRNYW5hZ2VyXCI6WzQsXCJoYXMtY3VzdG9tLXRleHQtbWFuYWdlclwiXSxcImlzVGV4dFRyYWNrVmlzaWJsZVwiOls0LFwiaXMtdGV4dC10cmFjay12aXNpYmxlXCJdLFwic2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrc1wiOls0LFwic2hvdWxkLXJlbmRlci1uYXRpdmUtdGV4dC10cmFja3NcIl0sXCJ2bVBvc3RlclwiOlszMl19LFtbMCxcInZtTWVkaWFQcm92aWRlckNvbm5lY3RcIixcIm9uUHJvdmlkZXJDb25uZWN0XCJdLFswLFwidm1NZWRpYVByb3ZpZGVyRGlzY29ubmVjdFwiLFwib25Qcm92aWRlckRpc2Nvbm5lY3RcIl1dXSk7XG5jb25zdCBWbUZ1bGxzY3JlZW5Db250cm9sID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChGdWxsc2NyZWVuQ29udHJvbCwgWzEsXCJ2bS1mdWxsc2NyZWVuLWNvbnRyb2xcIix7XCJlbnRlckljb25cIjpbMSxcImVudGVyLWljb25cIl0sXCJleGl0SWNvblwiOlsxLFwiZXhpdC1pY29uXCJdLFwiaWNvbnNcIjpbMV0sXCJ0b29sdGlwUG9zaXRpb25cIjpbMSxcInRvb2x0aXAtcG9zaXRpb25cIl0sXCJ0b29sdGlwRGlyZWN0aW9uXCI6WzEsXCJ0b29sdGlwLWRpcmVjdGlvblwiXSxcImhpZGVUb29sdGlwXCI6WzQsXCJoaWRlLXRvb2x0aXBcIl0sXCJrZXlzXCI6WzFdLFwiaXNGdWxsc2NyZWVuQWN0aXZlXCI6WzQsXCJpcy1mdWxsc2NyZWVuLWFjdGl2ZVwiXSxcImkxOG5cIjpbMTZdLFwicGxheWJhY2tSZWFkeVwiOls0LFwicGxheWJhY2stcmVhZHlcIl0sXCJjYW5TZXRGdWxsc2NyZWVuXCI6WzMyXX1dKTtcbmNvbnN0IFZtSGxzID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChITFMsIFs0LFwidm0taGxzXCIse1widmVyc2lvblwiOlsxXSxcImxpYlNyY1wiOlsxLFwibGliLXNyY1wiXSxcImNvbmZpZ1wiOls4XSxcImNyb3NzT3JpZ2luXCI6WzEsXCJjcm9zcy1vcmlnaW5cIl0sXCJwcmVsb2FkXCI6WzFdLFwicG9zdGVyXCI6WzFdLFwiY29udHJvbHNMaXN0XCI6WzEsXCJjb250cm9scy1saXN0XCJdLFwiYXV0b1BpUFwiOls0LFwiYXV0by1waXBcIl0sXCJkaXNhYmxlUGlQXCI6WzQsXCJkaXNhYmxlLXBpcFwiXSxcImRpc2FibGVSZW1vdGVQbGF5YmFja1wiOls0LFwiZGlzYWJsZS1yZW1vdGUtcGxheWJhY2tcIl0sXCJwbGF5YmFja1JlYWR5XCI6WzQsXCJwbGF5YmFjay1yZWFkeVwiXSxcIm1lZGlhVGl0bGVcIjpbMSxcIm1lZGlhLXRpdGxlXCJdLFwiaGFzQXR0YWNoZWRcIjpbMzJdfSxbWzAsXCJ2bU1lZGlhRWxDaGFuZ2VcIixcIm9uTWVkaWFFbENoYW5nZVwiXSxbMCxcInZtU3JjU2V0Q2hhbmdlXCIsXCJvblNyY0NoYW5nZVwiXV1dKTtcbmNvbnN0IFZtSWNvbiA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoSWNvbiwgWzEsXCJ2bS1pY29uXCIse1wibmFtZVwiOlsxXSxcInNyY1wiOlsxXSxcImxhYmVsXCI6WzFdLFwibGlicmFyeVwiOlsxXSxcImljb25zXCI6WzFdLFwic3ZnXCI6WzMyXX1dKTtcbmNvbnN0IFZtSWNvbkxpYnJhcnkgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KEljb25MaWJyYXJ5LCBbMSxcInZtLWljb24tbGlicmFyeVwiLHtcIm5hbWVcIjpbMV0sXCJyZXNvbHZlclwiOlsxNl0sXCJpY29uc1wiOlsxXX1dKTtcbmNvbnN0IFZtTGl2ZUluZGljYXRvciA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoTGl2ZUluZGljYXRvciwgWzEsXCJ2bS1saXZlLWluZGljYXRvclwiLHtcImlzTGl2ZVwiOls0LFwiaXMtbGl2ZVwiXSxcImkxOG5cIjpbMTZdfV0pO1xuY29uc3QgVm1Mb2FkaW5nU2NyZWVuID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChMb2FkaW5nU2NyZWVuLCBbMSxcInZtLWxvYWRpbmctc2NyZWVuXCIse1wicGxheWJhY2tSZWFkeVwiOls0LFwicGxheWJhY2stcmVhZHlcIl0sXCJoaWRlRG90c1wiOls0LFwiaGlkZS1kb3RzXCJdfV0pO1xuY29uc3QgVm1NZW51ID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChNZW51LCBbMSxcInZtLW1lbnVcIix7XCJhY3RpdmVcIjpbMTU0MF0sXCJpZGVudGlmaWVyXCI6WzFdLFwiY29udHJvbGxlclwiOlsxNl0sXCJzbGlkZUluRGlyZWN0aW9uXCI6WzEsXCJzbGlkZS1pbi1kaXJlY3Rpb25cIl0sXCJhY3RpdmVNZW51SXRlbVwiOlszMl0sXCJhY3RpdmVTdWJtZW51XCI6WzMyXX0sW1swLFwidm1PcGVuU3VibWVudVwiLFwib25PcGVuU3VibWVudVwiXSxbMCxcInZtQ2xvc2VTdWJtZW51XCIsXCJvbkNsb3NlU3VibWVudVwiXSxbOCxcImNsaWNrXCIsXCJvbldpbmRvd0NsaWNrXCJdLFs4LFwia2V5ZG93blwiLFwib25XaW5kb3dLZXlEb3duXCJdXV0pO1xuY29uc3QgVm1NZW51SXRlbSA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoTWVudUl0ZW0sIFsxLFwidm0tbWVudS1pdGVtXCIse1wiaWRlbnRpZmllclwiOlsxXSxcImhpZGRlblwiOls0XSxcImxhYmVsXCI6WzFdLFwibWVudVwiOlsxNl0sXCJleHBhbmRlZFwiOls0XSxcImNoZWNrZWRcIjpbNF0sXCJoaW50XCI6WzFdLFwiYmFkZ2VcIjpbMV0sXCJjaGVja0ljb25cIjpbMSxcImNoZWNrLWljb25cIl0sXCJpY29uc1wiOlsxXSxcImlzVG91Y2hcIjpbNCxcImlzLXRvdWNoXCJdLFwic2hvd1RhcEhpZ2hsaWdodFwiOlszMl19XSk7XG5jb25zdCBWbU1lbnVSYWRpbyA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoTWVudVJhZGlvLCBbMSxcInZtLW1lbnUtcmFkaW9cIix7XCJsYWJlbFwiOlsxXSxcInZhbHVlXCI6WzFdLFwiY2hlY2tlZFwiOlsxMDI4XSxcImJhZGdlXCI6WzFdLFwiY2hlY2tJY29uXCI6WzEsXCJjaGVjay1pY29uXCJdLFwiaWNvbnNcIjpbMV19XSk7XG5jb25zdCBWbU1lbnVSYWRpb0dyb3VwID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChNZW51UmFkaW9Hcm91cCwgWzEsXCJ2bS1tZW51LXJhZGlvLWdyb3VwXCIse1widmFsdWVcIjpbMTAyNV19LFtbMCxcInZtQ2hlY2tcIixcIm9uU2VsZWN0aW9uQ2hhbmdlXCJdXV0pO1xuY29uc3QgVm1NdXRlQ29udHJvbCA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoTXV0ZUNvbnRyb2wsIFsxLFwidm0tbXV0ZS1jb250cm9sXCIse1wibG93Vm9sdW1lSWNvblwiOlsxLFwibG93LXZvbHVtZS1pY29uXCJdLFwiaGlnaFZvbHVtZUljb25cIjpbMSxcImhpZ2gtdm9sdW1lLWljb25cIl0sXCJtdXRlZEljb25cIjpbMSxcIm11dGVkLWljb25cIl0sXCJpY29uc1wiOlsxXSxcInRvb2x0aXBQb3NpdGlvblwiOlsxLFwidG9vbHRpcC1wb3NpdGlvblwiXSxcInRvb2x0aXBEaXJlY3Rpb25cIjpbMSxcInRvb2x0aXAtZGlyZWN0aW9uXCJdLFwiaGlkZVRvb2x0aXBcIjpbNCxcImhpZGUtdG9vbHRpcFwiXSxcImtleXNcIjpbMV0sXCJ2b2x1bWVcIjpbMl0sXCJtdXRlZFwiOls0XSxcImkxOG5cIjpbMTZdfV0pO1xuY29uc3QgVm1QaXBDb250cm9sID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChQaVBDb250cm9sLCBbMSxcInZtLXBpcC1jb250cm9sXCIse1wiZW50ZXJJY29uXCI6WzEsXCJlbnRlci1pY29uXCJdLFwiZXhpdEljb25cIjpbMSxcImV4aXQtaWNvblwiXSxcImljb25zXCI6WzFdLFwidG9vbHRpcFBvc2l0aW9uXCI6WzEsXCJ0b29sdGlwLXBvc2l0aW9uXCJdLFwidG9vbHRpcERpcmVjdGlvblwiOlsxLFwidG9vbHRpcC1kaXJlY3Rpb25cIl0sXCJoaWRlVG9vbHRpcFwiOls0LFwiaGlkZS10b29sdGlwXCJdLFwia2V5c1wiOlsxXSxcImlzUGlQQWN0aXZlXCI6WzQsXCJpcy1waS1wLWFjdGl2ZVwiXSxcImkxOG5cIjpbMTZdLFwicGxheWJhY2tSZWFkeVwiOls0LFwicGxheWJhY2stcmVhZHlcIl0sXCJjYW5TZXRQaVBcIjpbMzJdfV0pO1xuY29uc3QgVm1QbGF5YmFja0NvbnRyb2wgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFBsYXliYWNrQ29udHJvbCwgWzEsXCJ2bS1wbGF5YmFjay1jb250cm9sXCIse1wicGxheUljb25cIjpbMSxcInBsYXktaWNvblwiXSxcInBhdXNlSWNvblwiOlsxLFwicGF1c2UtaWNvblwiXSxcImljb25zXCI6WzFdLFwidG9vbHRpcFBvc2l0aW9uXCI6WzEsXCJ0b29sdGlwLXBvc2l0aW9uXCJdLFwidG9vbHRpcERpcmVjdGlvblwiOlsxLFwidG9vbHRpcC1kaXJlY3Rpb25cIl0sXCJoaWRlVG9vbHRpcFwiOls0LFwiaGlkZS10b29sdGlwXCJdLFwia2V5c1wiOlsxXSxcInBhdXNlZFwiOls0XSxcImkxOG5cIjpbMTZdfV0pO1xuY29uc3QgVm1QbGF5ZXIgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFBsYXllciwgWzEsXCJ2bS1wbGF5ZXJcIix7XCJsb2dnZXJcIjpbMTZdLFwidGhlbWVcIjpbNTEzXSxcImljb25zXCI6WzUxM10sXCJwYXVzZWRcIjpbMTAyOF0sXCJwbGF5aW5nXCI6WzEwMjhdLFwiZHVyYXRpb25cIjpbMTAyNl0sXCJtZWRpYVRpdGxlXCI6WzEwMjUsXCJtZWRpYS10aXRsZVwiXSxcImN1cnJlbnRQcm92aWRlclwiOlsxMDI1LFwiY3VycmVudC1wcm92aWRlclwiXSxcImN1cnJlbnRTcmNcIjpbMTAyNSxcImN1cnJlbnQtc3JjXCJdLFwiY3VycmVudFBvc3RlclwiOlsxMDI1LFwiY3VycmVudC1wb3N0ZXJcIl0sXCJjdXJyZW50VGltZVwiOlsxMDI2LFwiY3VycmVudC10aW1lXCJdLFwiYXV0b3BsYXlcIjpbNF0sXCJyZWFkeVwiOlsxNTQwXSxcInBsYXliYWNrUmVhZHlcIjpbMTAyOCxcInBsYXliYWNrLXJlYWR5XCJdLFwibG9vcFwiOls0XSxcIm11dGVkXCI6WzEwMjhdLFwiYnVmZmVyZWRcIjpbMTAyNl0sXCJwbGF5YmFja1JhdGVcIjpbMTAyNixcInBsYXliYWNrLXJhdGVcIl0sXCJwbGF5YmFja1JhdGVzXCI6WzEwNDBdLFwicGxheWJhY2tRdWFsaXR5XCI6WzEwMjUsXCJwbGF5YmFjay1xdWFsaXR5XCJdLFwicGxheWJhY2tRdWFsaXRpZXNcIjpbMTA0MF0sXCJzZWVraW5nXCI6WzEwMjhdLFwiZGVidWdcIjpbNF0sXCJwbGF5YmFja1N0YXJ0ZWRcIjpbMTAyOCxcInBsYXliYWNrLXN0YXJ0ZWRcIl0sXCJwbGF5YmFja0VuZGVkXCI6WzEwMjgsXCJwbGF5YmFjay1lbmRlZFwiXSxcImJ1ZmZlcmluZ1wiOlsxMDI4XSxcImNvbnRyb2xzXCI6WzRdLFwiaXNDb250cm9sc0FjdGl2ZVwiOls0LFwiaXMtY29udHJvbHMtYWN0aXZlXCJdLFwiaXNTZXR0aW5nc0FjdGl2ZVwiOlsxMDI4LFwiaXMtc2V0dGluZ3MtYWN0aXZlXCJdLFwidm9sdW1lXCI6WzEwMjZdLFwiaXNGdWxsc2NyZWVuQWN0aXZlXCI6WzEwMjgsXCJpcy1mdWxsc2NyZWVuLWFjdGl2ZVwiXSxcImFzcGVjdFJhdGlvXCI6WzEwMjUsXCJhc3BlY3QtcmF0aW9cIl0sXCJ2aWV3VHlwZVwiOlsxMDI1LFwidmlldy10eXBlXCJdLFwiaXNBdWRpb1ZpZXdcIjpbMTAyOCxcImlzLWF1ZGlvLXZpZXdcIl0sXCJpc1ZpZGVvVmlld1wiOlsxMDI4LFwiaXMtdmlkZW8tdmlld1wiXSxcIm1lZGlhVHlwZVwiOlsxMDI1LFwibWVkaWEtdHlwZVwiXSxcImlzQXVkaW9cIjpbMTAyOCxcImlzLWF1ZGlvXCJdLFwiaXNWaWRlb1wiOlsxMDI4LFwiaXMtdmlkZW9cIl0sXCJpc0xpdmVcIjpbMTAyOCxcImlzLWxpdmVcIl0sXCJpc01vYmlsZVwiOlsxMDI4LFwiaXMtbW9iaWxlXCJdLFwiaXNUb3VjaFwiOlsxMDI4LFwiaXMtdG91Y2hcIl0sXCJpc1BpUEFjdGl2ZVwiOlsxMDI4LFwiaXMtcGktcC1hY3RpdmVcIl0sXCJ0ZXh0VHJhY2tzXCI6WzE2XSxcImN1cnJlbnRUZXh0VHJhY2tcIjpbMixcImN1cnJlbnQtdGV4dC10cmFja1wiXSxcImlzVGV4dFRyYWNrVmlzaWJsZVwiOls0LFwiaXMtdGV4dC10cmFjay12aXNpYmxlXCJdLFwic2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrc1wiOls0LFwic2hvdWxkLXJlbmRlci1uYXRpdmUtdGV4dC10cmFja3NcIl0sXCJhdWRpb1RyYWNrc1wiOlsxNl0sXCJjdXJyZW50QXVkaW9UcmFja1wiOlsyLFwiY3VycmVudC1hdWRpby10cmFja1wiXSxcImF1dG9wYXVzZVwiOls0XSxcInBsYXlzaW5saW5lXCI6WzRdLFwibGFuZ3VhZ2VcIjpbMTAyNV0sXCJ0cmFuc2xhdGlvbnNcIjpbMTA0MF0sXCJsYW5ndWFnZXNcIjpbMTA0MF0sXCJpMThuXCI6WzEwNDBdLFwiY29udGFpbmVyXCI6WzMyXX0sW1swLFwidm1FcnJvclwiLFwib25FcnJvclwiXV1dKTtcbmNvbnN0IFZtUG9zdGVyID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChQb3N0ZXIsIFsxLFwidm0tcG9zdGVyXCIse1wiZml0XCI6WzFdLFwiaXNWaWRlb1ZpZXdcIjpbNCxcImlzLXZpZGVvLXZpZXdcIl0sXCJjdXJyZW50UG9zdGVyXCI6WzEsXCJjdXJyZW50LXBvc3RlclwiXSxcIm1lZGlhVGl0bGVcIjpbMSxcIm1lZGlhLXRpdGxlXCJdLFwicGxheWJhY2tTdGFydGVkXCI6WzQsXCJwbGF5YmFjay1zdGFydGVkXCJdLFwiY3VycmVudFRpbWVcIjpbMixcImN1cnJlbnQtdGltZVwiXSxcImlzSGlkZGVuXCI6WzMyXSxcImlzQWN0aXZlXCI6WzMyXSxcImhhc0xvYWRlZFwiOlszMl19XSk7XG5jb25zdCBWbVNjcmltID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChTY3JpbSwgWzEsXCJ2bS1zY3JpbVwiLHtcImdyYWRpZW50XCI6WzFdLFwiaXNWaWRlb1ZpZXdcIjpbNCxcImlzLXZpZGVvLXZpZXdcIl0sXCJpc0NvbnRyb2xzQWN0aXZlXCI6WzQsXCJpcy1jb250cm9scy1hY3RpdmVcIl19XSk7XG5jb25zdCBWbVNjcnViYmVyQ29udHJvbCA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoU2NydWJiZXJDb250cm9sLCBbMSxcInZtLXNjcnViYmVyLWNvbnRyb2xcIix7XCJhbHdheXNTaG93SG91cnNcIjpbNCxcImFsd2F5cy1zaG93LWhvdXJzXCJdLFwiaGlkZVRvb2x0aXBcIjpbNCxcImhpZGUtdG9vbHRpcFwiXSxcImN1cnJlbnRUaW1lXCI6WzIsXCJjdXJyZW50LXRpbWVcIl0sXCJkdXJhdGlvblwiOlsyXSxcIm5vS2V5Ym9hcmRcIjpbNCxcIm5vLWtleWJvYXJkXCJdLFwiYnVmZmVyaW5nXCI6WzRdLFwiYnVmZmVyZWRcIjpbMl0sXCJpMThuXCI6WzE2XSxcInRpbWVzdGFtcFwiOlszMl0sXCJlbmRUaW1lXCI6WzMyXX1dKTtcbmNvbnN0IFZtU2V0dGluZ3MgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFNldHRpbmdzLCBbMSxcInZtLXNldHRpbmdzXCIse1wicGluXCI6WzUxM10sXCJhY3RpdmVcIjpbMTU0MF0sXCJpc01vYmlsZVwiOls0LFwiaXMtbW9iaWxlXCJdLFwiaXNBdWRpb1ZpZXdcIjpbNCxcImlzLWF1ZGlvLXZpZXdcIl0sXCJtZW51SGVpZ2h0XCI6WzMyXX1dKTtcbmNvbnN0IFZtU2V0dGluZ3NDb250cm9sID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChTZXR0aW5nc0NvbnRyb2wsIFsxLFwidm0tc2V0dGluZ3MtY29udHJvbFwiLHtcImljb25cIjpbMV0sXCJpY29uc1wiOlsxXSxcInRvb2x0aXBQb3NpdGlvblwiOlsxLFwidG9vbHRpcC1wb3NpdGlvblwiXSxcInRvb2x0aXBEaXJlY3Rpb25cIjpbMSxcInRvb2x0aXAtZGlyZWN0aW9uXCJdLFwibWVudVwiOlsxXSxcImV4cGFuZGVkXCI6WzRdLFwiaTE4blwiOlsxNl0sXCJ2bVNldHRpbmdzXCI6WzMyXX1dKTtcbmNvbnN0IFZtU2tlbGV0b24gPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFNrZWxldG9uLCBbMSxcInZtLXNrZWxldG9uXCIse1wiZWZmZWN0XCI6WzFdLFwicmVhZHlcIjpbNF0sXCJoaWRkZW5cIjpbMzJdfV0pO1xuY29uc3QgVm1TbGlkZXIgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFNsaWRlciwgWzEsXCJ2bS1zbGlkZXJcIix7XCJzdGVwXCI6WzJdLFwibWluXCI6WzJdLFwibWF4XCI6WzJdLFwidmFsdWVcIjpbMl0sXCJ2YWx1ZVRleHRcIjpbMSxcInZhbHVlLXRleHRcIl0sXCJsYWJlbFwiOlsxXX1dKTtcbmNvbnN0IFZtU3Bpbm5lciA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoU3Bpbm5lciwgWzEsXCJ2bS1zcGlubmVyXCIse1wiaXNWaWRlb1ZpZXdcIjpbNCxcImlzLXZpZGVvLXZpZXdcIl0sXCJjdXJyZW50UHJvdmlkZXJcIjpbMSxcImN1cnJlbnQtcHJvdmlkZXJcIl0sXCJzaG93V2hlbk1lZGlhTG9hZGluZ1wiOls0LFwic2hvdy13aGVuLW1lZGlhLWxvYWRpbmdcIl0sXCJwbGF5YmFja1JlYWR5XCI6WzQsXCJwbGF5YmFjay1yZWFkeVwiXSxcImJ1ZmZlcmluZ1wiOls0XSxcImlzSGlkZGVuXCI6WzMyXSxcImlzQWN0aXZlXCI6WzMyXX1dKTtcbmNvbnN0IFZtU3VibWVudSA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoU3VibWVudSwgWzEsXCJ2bS1zdWJtZW51XCIse1wibGFiZWxcIjpbMV0sXCJoaW50XCI6WzFdLFwic2xpZGVJbkRpcmVjdGlvblwiOlsxLFwic2xpZGUtaW4tZGlyZWN0aW9uXCJdLFwiYWN0aXZlXCI6WzE1NDBdLFwibWVudVwiOlszMl0sXCJjb250cm9sbGVyXCI6WzMyXX1dKTtcbmNvbnN0IFZtVGltZSA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoVGltZSwgWzEsXCJ2bS10aW1lXCIse1wibGFiZWxcIjpbMV0sXCJzZWNvbmRzXCI6WzJdLFwiYWx3YXlzU2hvd0hvdXJzXCI6WzQsXCJhbHdheXMtc2hvdy1ob3Vyc1wiXX1dKTtcbmNvbnN0IFZtVGltZVByb2dyZXNzID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChUaW1lUHJvZ3Jlc3MsIFsxLFwidm0tdGltZS1wcm9ncmVzc1wiLHtcInNlcGFyYXRvclwiOlsxXSxcImFsd2F5c1Nob3dIb3Vyc1wiOls0LFwiYWx3YXlzLXNob3ctaG91cnNcIl19XSk7XG5jb25zdCBWbVRvb2x0aXAgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFRvb2x0aXAsIFsxLFwidm0tdG9vbHRpcFwiLHtcImhpZGRlblwiOls0XSxcImFjdGl2ZVwiOls0XSxcInBvc2l0aW9uXCI6WzFdLFwiZGlyZWN0aW9uXCI6WzFdLFwiaXNUb3VjaFwiOls0LFwiaXMtdG91Y2hcIl0sXCJpc01vYmlsZVwiOls0LFwiaXMtbW9iaWxlXCJdfV0pO1xuY29uc3QgVm1VaSA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoVUksIFsxLFwidm0tdWlcIix7XCJpc1ZpZGVvVmlld1wiOls0LFwiaXMtdmlkZW8tdmlld1wiXSxcInBsYXlzaW5saW5lXCI6WzRdLFwiaXNGdWxsc2NyZWVuQWN0aXZlXCI6WzQsXCJpcy1mdWxsc2NyZWVuLWFjdGl2ZVwiXX1dKTtcbmNvbnN0IFZtVmlkZW8gPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFZpZGVvLCBbNCxcInZtLXZpZGVvXCIse1wid2lsbEF0dGFjaFwiOls0LFwid2lsbC1hdHRhY2hcIl0sXCJoYXNDdXN0b21UZXh0TWFuYWdlclwiOls0LFwiaGFzLWN1c3RvbS10ZXh0LW1hbmFnZXJcIl0sXCJjcm9zc09yaWdpblwiOlsxLFwiY3Jvc3Mtb3JpZ2luXCJdLFwicHJlbG9hZFwiOlsxXSxcInBvc3RlclwiOlsxXSxcImNvbnRyb2xzTGlzdFwiOlsxLFwiY29udHJvbHMtbGlzdFwiXSxcImF1dG9QaVBcIjpbNCxcImF1dG8tcGlwXCJdLFwiZGlzYWJsZVBpUFwiOls0LFwiZGlzYWJsZS1waXBcIl0sXCJkaXNhYmxlUmVtb3RlUGxheWJhY2tcIjpbNCxcImRpc2FibGUtcmVtb3RlLXBsYXliYWNrXCJdLFwibWVkaWFUaXRsZVwiOlsxLFwibWVkaWEtdGl0bGVcIl19LFtbMCxcInZtTWVkaWFQcm92aWRlckNvbm5lY3RcIixcIm9uUHJvdmlkZXJDb25uZWN0XCJdLFswLFwidm1NZWRpYVByb3ZpZGVyRGlzY29ubmVjdFwiLFwib25Qcm92aWRlckRpc2Nvbm5lY3RcIl1dXSk7XG5jb25zdCBWbVZpbWVvID0gLypAX19QVVJFX18qL3Byb3h5Q3VzdG9tRWxlbWVudChWaW1lbywgWzEsXCJ2bS12aW1lb1wiLHtcInZpZGVvSWRcIjpbMSxcInZpZGVvLWlkXCJdLFwiYnlsaW5lXCI6WzRdLFwiY29sb3JcIjpbMV0sXCJwb3J0cmFpdFwiOls0XSxcIm5vQXV0b0FzcGVjdFJhdGlvXCI6WzQsXCJuby1hdXRvLWFzcGVjdC1yYXRpb1wiXSxcInBvc3RlclwiOlsxXSxcImNvb2tpZXNcIjpbNF0sXCJsYW5ndWFnZVwiOlsxXSxcImFzcGVjdFJhdGlvXCI6WzEsXCJhc3BlY3QtcmF0aW9cIl0sXCJhdXRvcGxheVwiOls0XSxcImNvbnRyb2xzXCI6WzRdLFwibG9nZ2VyXCI6WzE2XSxcImxvb3BcIjpbNF0sXCJtdXRlZFwiOls0XSxcInBsYXlzaW5saW5lXCI6WzRdLFwiZW1iZWRTcmNcIjpbMzJdLFwibWVkaWFUaXRsZVwiOlszMl19XSk7XG5jb25zdCBWbVZvbHVtZUNvbnRyb2wgPSAvKkBfX1BVUkVfXyovcHJveHlDdXN0b21FbGVtZW50KFZvbHVtZUNvbnRyb2wsIFsxLFwidm0tdm9sdW1lLWNvbnRyb2xcIix7XCJsb3dWb2x1bWVJY29uXCI6WzEsXCJsb3ctdm9sdW1lLWljb25cIl0sXCJoaWdoVm9sdW1lSWNvblwiOlsxLFwiaGlnaC12b2x1bWUtaWNvblwiXSxcIm11dGVkSWNvblwiOlsxLFwibXV0ZWQtaWNvblwiXSxcImljb25zXCI6WzFdLFwidG9vbHRpcFBvc2l0aW9uXCI6WzEsXCJ0b29sdGlwLXBvc2l0aW9uXCJdLFwidG9vbHRpcERpcmVjdGlvblwiOlsxLFwidG9vbHRpcC1kaXJlY3Rpb25cIl0sXCJoaWRlVG9vbHRpcFwiOls0LFwiaGlkZS10b29sdGlwXCJdLFwibXV0ZUtleXNcIjpbMSxcIm11dGUta2V5c1wiXSxcIm5vS2V5Ym9hcmRcIjpbNCxcIm5vLWtleWJvYXJkXCJdLFwibXV0ZWRcIjpbNF0sXCJ2b2x1bWVcIjpbMl0sXCJpc01vYmlsZVwiOls0LFwiaXMtbW9iaWxlXCJdLFwiaTE4blwiOlsxNl0sXCJjdXJyZW50Vm9sdW1lXCI6WzMyXSxcImlzU2xpZGVyQWN0aXZlXCI6WzMyXX1dKTtcbmNvbnN0IFZtWW91dHViZSA9IC8qQF9fUFVSRV9fKi9wcm94eUN1c3RvbUVsZW1lbnQoWW91VHViZSwgWzEsXCJ2bS15b3V0dWJlXCIse1wiY29va2llc1wiOls0XSxcInZpZGVvSWRcIjpbMSxcInZpZGVvLWlkXCJdLFwic2hvd0Z1bGxzY3JlZW5Db250cm9sXCI6WzQsXCJzaG93LWZ1bGxzY3JlZW4tY29udHJvbFwiXSxcInBvc3RlclwiOlsxXSxcImxhbmd1YWdlXCI6WzFdLFwiYXV0b3BsYXlcIjpbNF0sXCJjb250cm9sc1wiOls0XSxcImxvZ2dlclwiOlsxNl0sXCJsb29wXCI6WzRdLFwibXV0ZWRcIjpbNF0sXCJwbGF5c2lubGluZVwiOls0XSxcImVtYmVkU3JjXCI6WzMyXSxcIm1lZGlhVGl0bGVcIjpbMzJdfV0pO1xuY29uc3QgZGVmaW5lQ3VzdG9tRWxlbWVudHMgPSAob3B0cykgPT4ge1xuICBpZiAodHlwZW9mIGN1c3RvbUVsZW1lbnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIFtcbiAgICAgIFZtQXVkaW8sXG4gIFZtQ2FwdGlvbkNvbnRyb2wsXG4gIFZtQ2FwdGlvbnMsXG4gIFZtQ2xpY2tUb1BsYXksXG4gIFZtQ29udHJvbCxcbiAgVm1Db250cm9sR3JvdXAsXG4gIFZtQ29udHJvbFNwYWNlcixcbiAgVm1Db250cm9scyxcbiAgVm1DdXJyZW50VGltZSxcbiAgVm1EYWlseW1vdGlvbixcbiAgVm1EYXNoLFxuICBWbURibENsaWNrRnVsbHNjcmVlbixcbiAgVm1EZWZhdWx0Q29udHJvbHMsXG4gIFZtRGVmYXVsdFNldHRpbmdzLFxuICBWbURlZmF1bHRVaSxcbiAgVm1FbWJlZCxcbiAgVm1FbmRUaW1lLFxuICBWbUZpbGUsXG4gIFZtRnVsbHNjcmVlbkNvbnRyb2wsXG4gIFZtSGxzLFxuICBWbUljb24sXG4gIFZtSWNvbkxpYnJhcnksXG4gIFZtTGl2ZUluZGljYXRvcixcbiAgVm1Mb2FkaW5nU2NyZWVuLFxuICBWbU1lbnUsXG4gIFZtTWVudUl0ZW0sXG4gIFZtTWVudVJhZGlvLFxuICBWbU1lbnVSYWRpb0dyb3VwLFxuICBWbU11dGVDb250cm9sLFxuICBWbVBpcENvbnRyb2wsXG4gIFZtUGxheWJhY2tDb250cm9sLFxuICBWbVBsYXllcixcbiAgVm1Qb3N0ZXIsXG4gIFZtU2NyaW0sXG4gIFZtU2NydWJiZXJDb250cm9sLFxuICBWbVNldHRpbmdzLFxuICBWbVNldHRpbmdzQ29udHJvbCxcbiAgVm1Ta2VsZXRvbixcbiAgVm1TbGlkZXIsXG4gIFZtU3Bpbm5lcixcbiAgVm1TdWJtZW51LFxuICBWbVRpbWUsXG4gIFZtVGltZVByb2dyZXNzLFxuICBWbVRvb2x0aXAsXG4gIFZtVWksXG4gIFZtVmlkZW8sXG4gIFZtVmltZW8sXG4gIFZtVm9sdW1lQ29udHJvbCxcbiAgVm1Zb3V0dWJlXG4gICAgXS5mb3JFYWNoKGNtcCA9PiB7XG4gICAgICBpZiAoIWN1c3RvbUVsZW1lbnRzLmdldChjbXAuaXMpKSB7XG4gICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZShjbXAuaXMsIGNtcCwgb3B0cyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IENPTVBPTkVOVF9OQU1FX0tFWSwgTWVkaWFUeXBlLCBQTEFZRVJfS0VZLCBQcm92aWRlciwgUkVHSVNUUkFUSU9OX0tFWSwgUkVHSVNUUllfS0VZLCBWaWV3VHlwZSwgVm1BdWRpbywgVm1DYXB0aW9uQ29udHJvbCwgVm1DYXB0aW9ucywgVm1DbGlja1RvUGxheSwgVm1Db250cm9sLCBWbUNvbnRyb2xHcm91cCwgVm1Db250cm9sU3BhY2VyLCBWbUNvbnRyb2xzLCBWbUN1cnJlbnRUaW1lLCBWbURhaWx5bW90aW9uLCBWbURhc2gsIFZtRGJsQ2xpY2tGdWxsc2NyZWVuLCBWbURlZmF1bHRDb250cm9scywgVm1EZWZhdWx0U2V0dGluZ3MsIFZtRGVmYXVsdFVpLCBWbUVtYmVkLCBWbUVuZFRpbWUsIFZtRmlsZSwgVm1GdWxsc2NyZWVuQ29udHJvbCwgVm1IbHMsIFZtSWNvbiwgVm1JY29uTGlicmFyeSwgVm1MaXZlSW5kaWNhdG9yLCBWbUxvYWRpbmdTY3JlZW4sIFZtTWVudSwgVm1NZW51SXRlbSwgVm1NZW51UmFkaW8sIFZtTWVudVJhZGlvR3JvdXAsIFZtTXV0ZUNvbnRyb2wsIFZtUGlwQ29udHJvbCwgVm1QbGF5YmFja0NvbnRyb2wsIFZtUGxheWVyLCBWbVBvc3RlciwgVm1TY3JpbSwgVm1TY3J1YmJlckNvbnRyb2wsIFZtU2V0dGluZ3MsIFZtU2V0dGluZ3NDb250cm9sLCBWbVNrZWxldG9uLCBWbVNsaWRlciwgVm1TcGlubmVyLCBWbVN1Ym1lbnUsIFZtVGltZSwgVm1UaW1lUHJvZ3Jlc3MsIFZtVG9vbHRpcCwgVm1VaSwgVm1WaWRlbywgVm1WaW1lbywgVm1Wb2x1bWVDb250cm9sLCBWbVlvdXR1YmUsIGNyZWF0ZURpc3BhdGNoZXIsIGRlZmluZUN1c3RvbUVsZW1lbnRzLCBmaW5kUGxheWVyLCBnZXRDb21wb25lbnRGcm9tUmVnaXN0cnksIGdldFBsYXllckZyb21SZWdpc3RyeSwgaW5pdGlhbFN0YXRlLCBpc0NvbXBvbmVudFJlZ2lzdGVyZWQsIGlzV3JpdGFibGVQcm9wLCB1c2VQbGF5ZXJDb250ZXh0LCB3YXRjaENvbXBvbmVudFJlZ2lzdHJ5LCB3aXRoQ29tcG9uZW50UmVnaXN0cnksIHdpdGhQbGF5ZXJDb250ZXh0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/core/dist/custom-elements/index.js\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Audio.jsx":
/*!****************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Audio.jsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-audio', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmAudio);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-file', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFile);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-audio', new Set(['willAttach', 'crossOrigin', 'preload', 'disableRemotePlayback', 'mediaTitle'])));\n//# sourceMappingURL=Audio.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9BdWRpby5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0k7QUFDYjtBQUNoQyw0Q0FBTSxhQUFhLCtDQUFPO0FBQzFCLDRDQUFNLFlBQVksOENBQU07QUFDeEI7QUFDQSwrREFBZSxxREFBZSxzR0FBc0csRUFBQztBQUNySSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9BdWRpby5qc3g/NjJlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1BdWRpbywgVm1GaWxlIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1hdWRpbycsIFZtQXVkaW8pO1xuZGVmaW5lKCd2bS1maWxlJywgVm1GaWxlKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tYXVkaW8nLCBuZXcgU2V0KFsnd2lsbEF0dGFjaCcsICdjcm9zc09yaWdpbicsICdwcmVsb2FkJywgJ2Rpc2FibGVSZW1vdGVQbGF5YmFjaycsICdtZWRpYVRpdGxlJ10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF1ZGlvLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Audio.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/CaptionControl.jsx":
/*!*************************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/CaptionControl.jsx ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-caption-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCaptionControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-caption-control', new Set(['showIcon', 'hideIcon', 'tooltipPosition', 'tooltipDirection', 'hideTooltip', 'icons', 'keys', 'i18n', 'playbackReady', 'textTracks', 'isTextTrackVisible'])));\n//# sourceMappingURL=CaptionControl.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9DYXB0aW9uQ29udHJvbC5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ21DO0FBQzVDO0FBQ2hDLDRDQUFNLHVCQUF1Qix3REFBZ0I7QUFDN0MsNENBQU0sZUFBZSxpREFBUztBQUM5Qiw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLGVBQWUsaURBQVM7QUFDOUI7QUFDQSwrREFBZSxxREFBZSw2TEFBNkwsRUFBQztBQUM1TiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9DYXB0aW9uQ29udHJvbC5qc3g/NDVmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1DYXB0aW9uQ29udHJvbCwgVm1Db250cm9sLCBWbUljb24sIFZtVG9vbHRpcCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tY2FwdGlvbi1jb250cm9sJywgVm1DYXB0aW9uQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWNvbnRyb2wnLCBWbUNvbnRyb2wpO1xuZGVmaW5lKCd2bS1pY29uJywgVm1JY29uKTtcbmRlZmluZSgndm0tdG9vbHRpcCcsIFZtVG9vbHRpcCk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWNhcHRpb24tY29udHJvbCcsIG5ldyBTZXQoWydzaG93SWNvbicsICdoaWRlSWNvbicsICd0b29sdGlwUG9zaXRpb24nLCAndG9vbHRpcERpcmVjdGlvbicsICdoaWRlVG9vbHRpcCcsICdpY29ucycsICdrZXlzJywgJ2kxOG4nLCAncGxheWJhY2tSZWFkeScsICd0ZXh0VHJhY2tzJywgJ2lzVGV4dFRyYWNrVmlzaWJsZSddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYXB0aW9uQ29udHJvbC5qc3gubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/CaptionControl.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Captions.jsx":
/*!*******************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Captions.jsx ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-captions', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCaptions);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-captions', new Set(['hidden', 'isControlsActive', 'isVideoView', 'playbackStarted', 'textTracks', 'currentTextTrack', 'isTextTrackVisible'])));\n//# sourceMappingURL=Captions.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9DYXB0aW9ucy5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0Q7QUFDUjtBQUNoQyw0Q0FBTSxnQkFBZ0Isa0RBQVU7QUFDaEM7QUFDQSwrREFBZSxxREFBZSxrSkFBa0osRUFBQztBQUNqTCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9DYXB0aW9ucy5qc3g/ODFiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1DYXB0aW9ucyB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tY2FwdGlvbnMnLCBWbUNhcHRpb25zKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tY2FwdGlvbnMnLCBuZXcgU2V0KFsnaGlkZGVuJywgJ2lzQ29udHJvbHNBY3RpdmUnLCAnaXNWaWRlb1ZpZXcnLCAncGxheWJhY2tTdGFydGVkJywgJ3RleHRUcmFja3MnLCAnY3VycmVudFRleHRUcmFjaycsICdpc1RleHRUcmFja1Zpc2libGUnXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FwdGlvbnMuanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Captions.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/ClickToPlay.jsx":
/*!**********************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/ClickToPlay.jsx ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-click-to-play', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmClickToPlay);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-click-to-play', new Set(['useOnMobile', 'paused', 'isVideoView', 'isMobile'])));\n//# sourceMappingURL=ClickToPlay.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9DbGlja1RvUGxheS5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0U7QUFDWDtBQUNoQyw0Q0FBTSxxQkFBcUIscURBQWE7QUFDeEM7QUFDQSwrREFBZSxxREFBZSxtRkFBbUYsRUFBQztBQUNsSCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9DbGlja1RvUGxheS5qc3g/MzNmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1DbGlja1RvUGxheSB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tY2xpY2stdG8tcGxheScsIFZtQ2xpY2tUb1BsYXkpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1jbGljay10by1wbGF5JywgbmV3IFNldChbJ3VzZU9uTW9iaWxlJywgJ3BhdXNlZCcsICdpc1ZpZGVvVmlldycsICdpc01vYmlsZSddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DbGlja1RvUGxheS5qc3gubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/ClickToPlay.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Control.jsx":
/*!******************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Control.jsx ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-control', new Set(['keys', 'identifier', 'hidden', 'label', 'menu', 'expanded', 'pressed', 'isTouch'])));\n//# sourceMappingURL=Control.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Db250cm9sLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDRjtBQUNQO0FBQ2hDLDRDQUFNLGVBQWUsaURBQVM7QUFDOUI7QUFDQSwrREFBZSxxREFBZSw0R0FBNEcsRUFBQztBQUMzSSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Db250cm9sLmpzeD9jZjliIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbUNvbnRyb2wgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLWNvbnRyb2wnLCBWbUNvbnRyb2wpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1jb250cm9sJywgbmV3IFNldChbJ2tleXMnLCAnaWRlbnRpZmllcicsICdoaWRkZW4nLCAnbGFiZWwnLCAnbWVudScsICdleHBhbmRlZCcsICdwcmVzc2VkJywgJ2lzVG91Y2gnXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udHJvbC5qc3gubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Control.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/ControlGroup.jsx":
/*!***********************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/ControlGroup.jsx ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control-group', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControlGroup);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-control-group', new Set(['space'])));\n//# sourceMappingURL=ControlGroup.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Db250cm9sR3JvdXAuanN4LmpzIiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNHO0FBQ1o7QUFDaEMsNENBQU0scUJBQXFCLHNEQUFjO0FBQ3pDO0FBQ0EsK0RBQWUscURBQWUsd0NBQXdDLEVBQUM7QUFDdkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvQ29udHJvbEdyb3VwLmpzeD81MjY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbUNvbnRyb2xHcm91cCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tY29udHJvbC1ncm91cCcsIFZtQ29udHJvbEdyb3VwKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tY29udHJvbC1ncm91cCcsIG5ldyBTZXQoWydzcGFjZSddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db250cm9sR3JvdXAuanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/ControlGroup.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/ControlSpacer.jsx":
/*!************************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/ControlSpacer.jsx ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control-spacer', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControlSpacer);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-control-spacer', new Set([])));\n//# sourceMappingURL=ControlSpacer.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Db250cm9sU3BhY2VyLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDSTtBQUNiO0FBQ2hDLDRDQUFNLHNCQUFzQix1REFBZTtBQUMzQztBQUNBLCtEQUFlLHFEQUFlLGtDQUFrQyxFQUFDO0FBQ2pFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0NvbnRyb2xTcGFjZXIuanN4P2JiMTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtQ29udHJvbFNwYWNlciB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tY29udHJvbC1zcGFjZXInLCBWbUNvbnRyb2xTcGFjZXIpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1jb250cm9sLXNwYWNlcicsIG5ldyBTZXQoW10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbnRyb2xTcGFjZXIuanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/ControlSpacer.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Controls.jsx":
/*!*******************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Controls.jsx ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-controls', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControls);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-controls', new Set(['hidden', 'fullWidth', 'fullHeight', 'direction', 'align', 'justify', 'pin', 'activeDuration', 'waitForPlaybackStart', 'hideWhenPaused', 'hideOnMouseLeave', 'isAudioView', 'isSettingsActive', 'playbackReady', 'isControlsActive', 'paused', 'playbackStarted'])));\n//# sourceMappingURL=Controls.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Db250cm9scy5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0Q7QUFDUjtBQUNoQyw0Q0FBTSxnQkFBZ0Isa0RBQVU7QUFDaEM7QUFDQSwrREFBZSxxREFBZSw0UkFBNFIsRUFBQztBQUMzVCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Db250cm9scy5qc3g/ZWZlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1Db250cm9scyB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tY29udHJvbHMnLCBWbUNvbnRyb2xzKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tY29udHJvbHMnLCBuZXcgU2V0KFsnaGlkZGVuJywgJ2Z1bGxXaWR0aCcsICdmdWxsSGVpZ2h0JywgJ2RpcmVjdGlvbicsICdhbGlnbicsICdqdXN0aWZ5JywgJ3BpbicsICdhY3RpdmVEdXJhdGlvbicsICd3YWl0Rm9yUGxheWJhY2tTdGFydCcsICdoaWRlV2hlblBhdXNlZCcsICdoaWRlT25Nb3VzZUxlYXZlJywgJ2lzQXVkaW9WaWV3JywgJ2lzU2V0dGluZ3NBY3RpdmUnLCAncGxheWJhY2tSZWFkeScsICdpc0NvbnRyb2xzQWN0aXZlJywgJ3BhdXNlZCcsICdwbGF5YmFja1N0YXJ0ZWQnXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udHJvbHMuanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Controls.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/CurrentTime.jsx":
/*!**********************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/CurrentTime.jsx ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-current-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCurrentTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTime);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-current-time', new Set(['currentTime', 'i18n', 'alwaysShowHours'])));\n//# sourceMappingURL=CurrentTime.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9DdXJyZW50VGltZS5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ1U7QUFDbkI7QUFDaEMsNENBQU0sb0JBQW9CLHFEQUFhO0FBQ3ZDLDRDQUFNLFlBQVksOENBQU07QUFDeEI7QUFDQSwrREFBZSxxREFBZSx3RUFBd0UsRUFBQztBQUN2RyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9DdXJyZW50VGltZS5qc3g/YjExZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1DdXJyZW50VGltZSwgVm1UaW1lIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1jdXJyZW50LXRpbWUnLCBWbUN1cnJlbnRUaW1lKTtcbmRlZmluZSgndm0tdGltZScsIFZtVGltZSk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWN1cnJlbnQtdGltZScsIG5ldyBTZXQoWydjdXJyZW50VGltZScsICdpMThuJywgJ2Fsd2F5c1Nob3dIb3VycyddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DdXJyZW50VGltZS5qc3gubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/CurrentTime.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Dailymotion.jsx":
/*!**********************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Dailymotion.jsx ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-dailymotion', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDailymotion);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-embed', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEmbed);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-dailymotion', new Set(['videoId', 'shouldAutoplayQueue', 'showUpNextQueue', 'showShareButtons', 'color', 'syndication', 'showDailymotionLogo', 'showVideoInfo', 'language', 'autoplay', 'controls', 'poster', 'logger', 'loop', 'muted', 'playsinline'])));\n//# sourceMappingURL=Dailymotion.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9EYWlseW1vdGlvbi5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ1c7QUFDcEI7QUFDaEMsNENBQU0sbUJBQW1CLHFEQUFhO0FBQ3RDLDRDQUFNLGFBQWEsK0NBQU87QUFDMUI7QUFDQSwrREFBZSxxREFBZSw4UEFBOFAsRUFBQztBQUM3UiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9EYWlseW1vdGlvbi5qc3g/ZjJlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1EYWlseW1vdGlvbiwgVm1FbWJlZCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tZGFpbHltb3Rpb24nLCBWbURhaWx5bW90aW9uKTtcbmRlZmluZSgndm0tZW1iZWQnLCBWbUVtYmVkKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tZGFpbHltb3Rpb24nLCBuZXcgU2V0KFsndmlkZW9JZCcsICdzaG91bGRBdXRvcGxheVF1ZXVlJywgJ3Nob3dVcE5leHRRdWV1ZScsICdzaG93U2hhcmVCdXR0b25zJywgJ2NvbG9yJywgJ3N5bmRpY2F0aW9uJywgJ3Nob3dEYWlseW1vdGlvbkxvZ28nLCAnc2hvd1ZpZGVvSW5mbycsICdsYW5ndWFnZScsICdhdXRvcGxheScsICdjb250cm9scycsICdwb3N0ZXInLCAnbG9nZ2VyJywgJ2xvb3AnLCAnbXV0ZWQnLCAncGxheXNpbmxpbmUnXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGFpbHltb3Rpb24uanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Dailymotion.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Dash.jsx":
/*!***************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Dash.jsx ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-dash', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDash);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-file', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFile);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-video', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmVideo);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-dash', new Set(['src', 'version', 'libSrc', 'config', 'autoplay', 'crossOrigin', 'preload', 'poster', 'controlsList', 'autoPiP', 'disablePiP', 'disableRemotePlayback', 'mediaTitle', 'enableTextTracksByDefault', 'shouldRenderNativeTextTracks', 'isTextTrackVisible', 'currentTextTrack'])));\n//# sourceMappingURL=Dash.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9EYXNoLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDWTtBQUNyQjtBQUNoQyw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLFlBQVksOENBQU07QUFDeEIsNENBQU0sYUFBYSwrQ0FBTztBQUMxQjtBQUNBLCtEQUFlLHFEQUFlLG1TQUFtUyxFQUFDO0FBQ2xVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0Rhc2guanN4PzNjNTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtRGFzaCwgVm1GaWxlLCBWbVZpZGVvIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1kYXNoJywgVm1EYXNoKTtcbmRlZmluZSgndm0tZmlsZScsIFZtRmlsZSk7XG5kZWZpbmUoJ3ZtLXZpZGVvJywgVm1WaWRlbyk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWRhc2gnLCBuZXcgU2V0KFsnc3JjJywgJ3ZlcnNpb24nLCAnbGliU3JjJywgJ2NvbmZpZycsICdhdXRvcGxheScsICdjcm9zc09yaWdpbicsICdwcmVsb2FkJywgJ3Bvc3RlcicsICdjb250cm9sc0xpc3QnLCAnYXV0b1BpUCcsICdkaXNhYmxlUGlQJywgJ2Rpc2FibGVSZW1vdGVQbGF5YmFjaycsICdtZWRpYVRpdGxlJywgJ2VuYWJsZVRleHRUcmFja3NCeURlZmF1bHQnLCAnc2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrcycsICdpc1RleHRUcmFja1Zpc2libGUnLCAnY3VycmVudFRleHRUcmFjayddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EYXNoLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Dash.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/DblClickFullscreen.jsx":
/*!*****************************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/DblClickFullscreen.jsx ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-dbl-click-fullscreen', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDblClickFullscreen);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-dbl-click-fullscreen', new Set(['useOnMobile', 'isFullscreenActive', 'isVideoView', 'playbackReady', 'isMobile'])));\n//# sourceMappingURL=DblClickFullscreen.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9EYmxDbGlja0Z1bGxzY3JlZW4uanN4LmpzIiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNTO0FBQ2xCO0FBQ2hDLDRDQUFNLDRCQUE0Qiw0REFBb0I7QUFDdEQ7QUFDQSwrREFBZSxxREFBZSx1SEFBdUgsRUFBQztBQUN0SiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9EYmxDbGlja0Z1bGxzY3JlZW4uanN4P2Q3MzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtRGJsQ2xpY2tGdWxsc2NyZWVuIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1kYmwtY2xpY2stZnVsbHNjcmVlbicsIFZtRGJsQ2xpY2tGdWxsc2NyZWVuKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tZGJsLWNsaWNrLWZ1bGxzY3JlZW4nLCBuZXcgU2V0KFsndXNlT25Nb2JpbGUnLCAnaXNGdWxsc2NyZWVuQWN0aXZlJywgJ2lzVmlkZW9WaWV3JywgJ3BsYXliYWNrUmVhZHknLCAnaXNNb2JpbGUnXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGJsQ2xpY2tGdWxsc2NyZWVuLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/DblClickFullscreen.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/DefaultControls.jsx":
/*!**************************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/DefaultControls.jsx ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-default-controls', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDefaultControls);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-caption-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCaptionControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control-group', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControlGroup);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control-spacer', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControlSpacer);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-controls', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControls);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-current-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCurrentTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-end-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEndTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-fullscreen-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFullscreenControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-live-indicator', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmLiveIndicator);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-mute-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMuteControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-pip-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPipControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-playback-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPlaybackControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-scrim', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmScrim);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-scrubber-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmScrubberControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-slider', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSlider);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-settings-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSettingsControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time-progress', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTimeProgress);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-volume-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmVolumeControl);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-default-controls', new Set(['activeDuration', 'waitForPlaybackStart', 'hideWhenPaused', 'hideOnMouseLeave', 'theme', 'isMobile', 'isLive', 'isAudioView', 'isVideoView'])));\n//# sourceMappingURL=DefaultControls.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9EZWZhdWx0Q29udHJvbHMuanN4LmpzIiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNxVDtBQUM5VDtBQUNoQyw0Q0FBTSx3QkFBd0IseURBQWlCO0FBQy9DLDRDQUFNLHVCQUF1Qix3REFBZ0I7QUFDN0MsNENBQU0sZUFBZSxpREFBUztBQUM5Qiw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLGVBQWUsaURBQVM7QUFDOUIsNENBQU0scUJBQXFCLHNEQUFjO0FBQ3pDLDRDQUFNLHNCQUFzQix1REFBZTtBQUMzQyw0Q0FBTSxnQkFBZ0Isa0RBQVU7QUFDaEMsNENBQU0sb0JBQW9CLHFEQUFhO0FBQ3ZDLDRDQUFNLFlBQVksOENBQU07QUFDeEIsNENBQU0sZ0JBQWdCLGlEQUFTO0FBQy9CLDRDQUFNLDBCQUEwQiwyREFBbUI7QUFDbkQsNENBQU0sc0JBQXNCLHVEQUFlO0FBQzNDLDRDQUFNLG9CQUFvQixxREFBYTtBQUN2Qyw0Q0FBTSxtQkFBbUIsb0RBQVk7QUFDckMsNENBQU0sd0JBQXdCLHlEQUFpQjtBQUMvQyw0Q0FBTSxhQUFhLCtDQUFPO0FBQzFCLDRDQUFNLHdCQUF3Qix5REFBaUI7QUFDL0MsNENBQU0sY0FBYyxnREFBUTtBQUM1Qiw0Q0FBTSx3QkFBd0IseURBQWlCO0FBQy9DLDRDQUFNLHFCQUFxQixzREFBYztBQUN6Qyw0Q0FBTSxzQkFBc0IsdURBQWU7QUFDM0M7QUFDQSwrREFBZSxxREFBZSwrS0FBK0ssRUFBQztBQUM5TSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9EZWZhdWx0Q29udHJvbHMuanN4P2I2ODIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtRGVmYXVsdENvbnRyb2xzLCBWbUNhcHRpb25Db250cm9sLCBWbUNvbnRyb2wsIFZtSWNvbiwgVm1Ub29sdGlwLCBWbUNvbnRyb2xHcm91cCwgVm1Db250cm9sU3BhY2VyLCBWbUNvbnRyb2xzLCBWbUN1cnJlbnRUaW1lLCBWbVRpbWUsIFZtRW5kVGltZSwgVm1GdWxsc2NyZWVuQ29udHJvbCwgVm1MaXZlSW5kaWNhdG9yLCBWbU11dGVDb250cm9sLCBWbVBpcENvbnRyb2wsIFZtUGxheWJhY2tDb250cm9sLCBWbVNjcmltLCBWbVNjcnViYmVyQ29udHJvbCwgVm1TbGlkZXIsIFZtU2V0dGluZ3NDb250cm9sLCBWbVRpbWVQcm9ncmVzcywgVm1Wb2x1bWVDb250cm9sIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1kZWZhdWx0LWNvbnRyb2xzJywgVm1EZWZhdWx0Q29udHJvbHMpO1xuZGVmaW5lKCd2bS1jYXB0aW9uLWNvbnRyb2wnLCBWbUNhcHRpb25Db250cm9sKTtcbmRlZmluZSgndm0tY29udHJvbCcsIFZtQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWljb24nLCBWbUljb24pO1xuZGVmaW5lKCd2bS10b29sdGlwJywgVm1Ub29sdGlwKTtcbmRlZmluZSgndm0tY29udHJvbC1ncm91cCcsIFZtQ29udHJvbEdyb3VwKTtcbmRlZmluZSgndm0tY29udHJvbC1zcGFjZXInLCBWbUNvbnRyb2xTcGFjZXIpO1xuZGVmaW5lKCd2bS1jb250cm9scycsIFZtQ29udHJvbHMpO1xuZGVmaW5lKCd2bS1jdXJyZW50LXRpbWUnLCBWbUN1cnJlbnRUaW1lKTtcbmRlZmluZSgndm0tdGltZScsIFZtVGltZSk7XG5kZWZpbmUoJ3ZtLWVuZC10aW1lJywgVm1FbmRUaW1lKTtcbmRlZmluZSgndm0tZnVsbHNjcmVlbi1jb250cm9sJywgVm1GdWxsc2NyZWVuQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWxpdmUtaW5kaWNhdG9yJywgVm1MaXZlSW5kaWNhdG9yKTtcbmRlZmluZSgndm0tbXV0ZS1jb250cm9sJywgVm1NdXRlQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLXBpcC1jb250cm9sJywgVm1QaXBDb250cm9sKTtcbmRlZmluZSgndm0tcGxheWJhY2stY29udHJvbCcsIFZtUGxheWJhY2tDb250cm9sKTtcbmRlZmluZSgndm0tc2NyaW0nLCBWbVNjcmltKTtcbmRlZmluZSgndm0tc2NydWJiZXItY29udHJvbCcsIFZtU2NydWJiZXJDb250cm9sKTtcbmRlZmluZSgndm0tc2xpZGVyJywgVm1TbGlkZXIpO1xuZGVmaW5lKCd2bS1zZXR0aW5ncy1jb250cm9sJywgVm1TZXR0aW5nc0NvbnRyb2wpO1xuZGVmaW5lKCd2bS10aW1lLXByb2dyZXNzJywgVm1UaW1lUHJvZ3Jlc3MpO1xuZGVmaW5lKCd2bS12b2x1bWUtY29udHJvbCcsIFZtVm9sdW1lQ29udHJvbCk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWRlZmF1bHQtY29udHJvbHMnLCBuZXcgU2V0KFsnYWN0aXZlRHVyYXRpb24nLCAnd2FpdEZvclBsYXliYWNrU3RhcnQnLCAnaGlkZVdoZW5QYXVzZWQnLCAnaGlkZU9uTW91c2VMZWF2ZScsICd0aGVtZScsICdpc01vYmlsZScsICdpc0xpdmUnLCAnaXNBdWRpb1ZpZXcnLCAnaXNWaWRlb1ZpZXcnXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVmYXVsdENvbnRyb2xzLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/DefaultControls.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/DefaultSettings.jsx":
/*!**************************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/DefaultSettings.jsx ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-default-settings', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDefaultSettings);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenu);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-item', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuItem);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-radio', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuRadio);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-radio-group', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuRadioGroup);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-settings', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSettings);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-submenu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSubmenu);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-default-settings', new Set(['pin', 'i18n', 'playbackReady', 'playbackRate', 'playbackRates', 'isVideoView', 'playbackQuality', 'playbackQualities', 'textTracks', 'currentTextTrack', 'audioTracks', 'currentAudioTrack', 'isTextTrackVisible'])));\n//# sourceMappingURL=DefaultSettings.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9EZWZhdWx0U2V0dGluZ3MuanN4LmpzIiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUN3RjtBQUNqRztBQUNoQyw0Q0FBTSx3QkFBd0IseURBQWlCO0FBQy9DLDRDQUFNLFlBQVksOENBQU07QUFDeEIsNENBQU0sWUFBWSw4Q0FBTTtBQUN4Qiw0Q0FBTSxpQkFBaUIsa0RBQVU7QUFDakMsNENBQU0sa0JBQWtCLG1EQUFXO0FBQ25DLDRDQUFNLHdCQUF3Qix3REFBZ0I7QUFDOUMsNENBQU0sZ0JBQWdCLGtEQUFVO0FBQ2hDLDRDQUFNLGVBQWUsaURBQVM7QUFDOUI7QUFDQSwrREFBZSxxREFBZSxzUEFBc1AsRUFBQztBQUNyUiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9EZWZhdWx0U2V0dGluZ3MuanN4PzlmYjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtRGVmYXVsdFNldHRpbmdzLCBWbUljb24sIFZtTWVudSwgVm1NZW51SXRlbSwgVm1NZW51UmFkaW8sIFZtTWVudVJhZGlvR3JvdXAsIFZtU2V0dGluZ3MsIFZtU3VibWVudSB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tZGVmYXVsdC1zZXR0aW5ncycsIFZtRGVmYXVsdFNldHRpbmdzKTtcbmRlZmluZSgndm0taWNvbicsIFZtSWNvbik7XG5kZWZpbmUoJ3ZtLW1lbnUnLCBWbU1lbnUpO1xuZGVmaW5lKCd2bS1tZW51LWl0ZW0nLCBWbU1lbnVJdGVtKTtcbmRlZmluZSgndm0tbWVudS1yYWRpbycsIFZtTWVudVJhZGlvKTtcbmRlZmluZSgndm0tbWVudS1yYWRpby1ncm91cCcsIFZtTWVudVJhZGlvR3JvdXApO1xuZGVmaW5lKCd2bS1zZXR0aW5ncycsIFZtU2V0dGluZ3MpO1xuZGVmaW5lKCd2bS1zdWJtZW51JywgVm1TdWJtZW51KTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tZGVmYXVsdC1zZXR0aW5ncycsIG5ldyBTZXQoWydwaW4nLCAnaTE4bicsICdwbGF5YmFja1JlYWR5JywgJ3BsYXliYWNrUmF0ZScsICdwbGF5YmFja1JhdGVzJywgJ2lzVmlkZW9WaWV3JywgJ3BsYXliYWNrUXVhbGl0eScsICdwbGF5YmFja1F1YWxpdGllcycsICd0ZXh0VHJhY2tzJywgJ2N1cnJlbnRUZXh0VHJhY2snLCAnYXVkaW9UcmFja3MnLCAnY3VycmVudEF1ZGlvVHJhY2snLCAnaXNUZXh0VHJhY2tWaXNpYmxlJ10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlZmF1bHRTZXR0aW5ncy5qc3gubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/DefaultSettings.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/DefaultUi.jsx":
/*!********************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/DefaultUi.jsx ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-default-ui', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDefaultUi);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-caption-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCaptionControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-captions', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCaptions);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-click-to-play', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmClickToPlay);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control-group', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControlGroup);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control-spacer', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControlSpacer);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-controls', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControls);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-current-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCurrentTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-dbl-click-fullscreen', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDblClickFullscreen);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-default-controls', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDefaultControls);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-end-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEndTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-fullscreen-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFullscreenControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-live-indicator', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmLiveIndicator);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-mute-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMuteControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-pip-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPipControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-playback-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPlaybackControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-scrim', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmScrim);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-scrubber-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmScrubberControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-slider', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSlider);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-settings-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSettingsControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time-progress', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTimeProgress);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-volume-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmVolumeControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-default-settings', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmDefaultSettings);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenu);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-item', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuItem);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-radio', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuRadio);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-radio-group', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuRadioGroup);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-settings', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSettings);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-submenu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSubmenu);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-loading-screen', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmLoadingScreen);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-poster', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPoster);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-spinner', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSpinner);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-ui', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmUi);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-default-ui', new Set(['noClickToPlay', 'noDblClickFullscreen', 'noCaptions', 'noPoster', 'noSpinner', 'noControls', 'noSettings', 'noLoadingScreen'])));\n//# sourceMappingURL=DefaultUi.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9EZWZhdWx0VWkuanN4LmpzIiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUM0ZjtBQUNyZ0I7QUFDaEMsNENBQU0sa0JBQWtCLG1EQUFXO0FBQ25DLDRDQUFNLHVCQUF1Qix3REFBZ0I7QUFDN0MsNENBQU0sZUFBZSxpREFBUztBQUM5Qiw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLGVBQWUsaURBQVM7QUFDOUIsNENBQU0sZ0JBQWdCLGtEQUFVO0FBQ2hDLDRDQUFNLHFCQUFxQixxREFBYTtBQUN4Qyw0Q0FBTSxxQkFBcUIsc0RBQWM7QUFDekMsNENBQU0sc0JBQXNCLHVEQUFlO0FBQzNDLDRDQUFNLGdCQUFnQixrREFBVTtBQUNoQyw0Q0FBTSxvQkFBb0IscURBQWE7QUFDdkMsNENBQU0sWUFBWSw4Q0FBTTtBQUN4Qiw0Q0FBTSw0QkFBNEIsNERBQW9CO0FBQ3RELDRDQUFNLHdCQUF3Qix5REFBaUI7QUFDL0MsNENBQU0sZ0JBQWdCLGlEQUFTO0FBQy9CLDRDQUFNLDBCQUEwQiwyREFBbUI7QUFDbkQsNENBQU0sc0JBQXNCLHVEQUFlO0FBQzNDLDRDQUFNLG9CQUFvQixxREFBYTtBQUN2Qyw0Q0FBTSxtQkFBbUIsb0RBQVk7QUFDckMsNENBQU0sd0JBQXdCLHlEQUFpQjtBQUMvQyw0Q0FBTSxhQUFhLCtDQUFPO0FBQzFCLDRDQUFNLHdCQUF3Qix5REFBaUI7QUFDL0MsNENBQU0sY0FBYyxnREFBUTtBQUM1Qiw0Q0FBTSx3QkFBd0IseURBQWlCO0FBQy9DLDRDQUFNLHFCQUFxQixzREFBYztBQUN6Qyw0Q0FBTSxzQkFBc0IsdURBQWU7QUFDM0MsNENBQU0sd0JBQXdCLHlEQUFpQjtBQUMvQyw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLGlCQUFpQixrREFBVTtBQUNqQyw0Q0FBTSxrQkFBa0IsbURBQVc7QUFDbkMsNENBQU0sd0JBQXdCLHdEQUFnQjtBQUM5Qyw0Q0FBTSxnQkFBZ0Isa0RBQVU7QUFDaEMsNENBQU0sZUFBZSxpREFBUztBQUM5Qiw0Q0FBTSxzQkFBc0IsdURBQWU7QUFDM0MsNENBQU0sY0FBYyxnREFBUTtBQUM1Qiw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCLDRDQUFNLFVBQVUsNENBQUk7QUFDcEI7QUFDQSwrREFBZSxxREFBZSwySkFBMkosRUFBQztBQUMxTCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9EZWZhdWx0VWkuanN4PzRjYmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtRGVmYXVsdFVpLCBWbUNhcHRpb25Db250cm9sLCBWbUNvbnRyb2wsIFZtSWNvbiwgVm1Ub29sdGlwLCBWbUNhcHRpb25zLCBWbUNsaWNrVG9QbGF5LCBWbUNvbnRyb2xHcm91cCwgVm1Db250cm9sU3BhY2VyLCBWbUNvbnRyb2xzLCBWbUN1cnJlbnRUaW1lLCBWbVRpbWUsIFZtRGJsQ2xpY2tGdWxsc2NyZWVuLCBWbURlZmF1bHRDb250cm9scywgVm1FbmRUaW1lLCBWbUZ1bGxzY3JlZW5Db250cm9sLCBWbUxpdmVJbmRpY2F0b3IsIFZtTXV0ZUNvbnRyb2wsIFZtUGlwQ29udHJvbCwgVm1QbGF5YmFja0NvbnRyb2wsIFZtU2NyaW0sIFZtU2NydWJiZXJDb250cm9sLCBWbVNsaWRlciwgVm1TZXR0aW5nc0NvbnRyb2wsIFZtVGltZVByb2dyZXNzLCBWbVZvbHVtZUNvbnRyb2wsIFZtRGVmYXVsdFNldHRpbmdzLCBWbU1lbnUsIFZtTWVudUl0ZW0sIFZtTWVudVJhZGlvLCBWbU1lbnVSYWRpb0dyb3VwLCBWbVNldHRpbmdzLCBWbVN1Ym1lbnUsIFZtTG9hZGluZ1NjcmVlbiwgVm1Qb3N0ZXIsIFZtU3Bpbm5lciwgVm1VaSB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tZGVmYXVsdC11aScsIFZtRGVmYXVsdFVpKTtcbmRlZmluZSgndm0tY2FwdGlvbi1jb250cm9sJywgVm1DYXB0aW9uQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWNvbnRyb2wnLCBWbUNvbnRyb2wpO1xuZGVmaW5lKCd2bS1pY29uJywgVm1JY29uKTtcbmRlZmluZSgndm0tdG9vbHRpcCcsIFZtVG9vbHRpcCk7XG5kZWZpbmUoJ3ZtLWNhcHRpb25zJywgVm1DYXB0aW9ucyk7XG5kZWZpbmUoJ3ZtLWNsaWNrLXRvLXBsYXknLCBWbUNsaWNrVG9QbGF5KTtcbmRlZmluZSgndm0tY29udHJvbC1ncm91cCcsIFZtQ29udHJvbEdyb3VwKTtcbmRlZmluZSgndm0tY29udHJvbC1zcGFjZXInLCBWbUNvbnRyb2xTcGFjZXIpO1xuZGVmaW5lKCd2bS1jb250cm9scycsIFZtQ29udHJvbHMpO1xuZGVmaW5lKCd2bS1jdXJyZW50LXRpbWUnLCBWbUN1cnJlbnRUaW1lKTtcbmRlZmluZSgndm0tdGltZScsIFZtVGltZSk7XG5kZWZpbmUoJ3ZtLWRibC1jbGljay1mdWxsc2NyZWVuJywgVm1EYmxDbGlja0Z1bGxzY3JlZW4pO1xuZGVmaW5lKCd2bS1kZWZhdWx0LWNvbnRyb2xzJywgVm1EZWZhdWx0Q29udHJvbHMpO1xuZGVmaW5lKCd2bS1lbmQtdGltZScsIFZtRW5kVGltZSk7XG5kZWZpbmUoJ3ZtLWZ1bGxzY3JlZW4tY29udHJvbCcsIFZtRnVsbHNjcmVlbkNvbnRyb2wpO1xuZGVmaW5lKCd2bS1saXZlLWluZGljYXRvcicsIFZtTGl2ZUluZGljYXRvcik7XG5kZWZpbmUoJ3ZtLW11dGUtY29udHJvbCcsIFZtTXV0ZUNvbnRyb2wpO1xuZGVmaW5lKCd2bS1waXAtY29udHJvbCcsIFZtUGlwQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLXBsYXliYWNrLWNvbnRyb2wnLCBWbVBsYXliYWNrQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLXNjcmltJywgVm1TY3JpbSk7XG5kZWZpbmUoJ3ZtLXNjcnViYmVyLWNvbnRyb2wnLCBWbVNjcnViYmVyQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLXNsaWRlcicsIFZtU2xpZGVyKTtcbmRlZmluZSgndm0tc2V0dGluZ3MtY29udHJvbCcsIFZtU2V0dGluZ3NDb250cm9sKTtcbmRlZmluZSgndm0tdGltZS1wcm9ncmVzcycsIFZtVGltZVByb2dyZXNzKTtcbmRlZmluZSgndm0tdm9sdW1lLWNvbnRyb2wnLCBWbVZvbHVtZUNvbnRyb2wpO1xuZGVmaW5lKCd2bS1kZWZhdWx0LXNldHRpbmdzJywgVm1EZWZhdWx0U2V0dGluZ3MpO1xuZGVmaW5lKCd2bS1tZW51JywgVm1NZW51KTtcbmRlZmluZSgndm0tbWVudS1pdGVtJywgVm1NZW51SXRlbSk7XG5kZWZpbmUoJ3ZtLW1lbnUtcmFkaW8nLCBWbU1lbnVSYWRpbyk7XG5kZWZpbmUoJ3ZtLW1lbnUtcmFkaW8tZ3JvdXAnLCBWbU1lbnVSYWRpb0dyb3VwKTtcbmRlZmluZSgndm0tc2V0dGluZ3MnLCBWbVNldHRpbmdzKTtcbmRlZmluZSgndm0tc3VibWVudScsIFZtU3VibWVudSk7XG5kZWZpbmUoJ3ZtLWxvYWRpbmctc2NyZWVuJywgVm1Mb2FkaW5nU2NyZWVuKTtcbmRlZmluZSgndm0tcG9zdGVyJywgVm1Qb3N0ZXIpO1xuZGVmaW5lKCd2bS1zcGlubmVyJywgVm1TcGlubmVyKTtcbmRlZmluZSgndm0tdWknLCBWbVVpKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tZGVmYXVsdC11aScsIG5ldyBTZXQoWydub0NsaWNrVG9QbGF5JywgJ25vRGJsQ2xpY2tGdWxsc2NyZWVuJywgJ25vQ2FwdGlvbnMnLCAnbm9Qb3N0ZXInLCAnbm9TcGlubmVyJywgJ25vQ29udHJvbHMnLCAnbm9TZXR0aW5ncycsICdub0xvYWRpbmdTY3JlZW4nXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVmYXVsdFVpLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/DefaultUi.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Embed.jsx":
/*!****************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Embed.jsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-embed', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEmbed);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-embed', new Set(['embedSrc', 'mediaTitle', 'params', 'origin', 'preconnections', 'decoder'])));\n//# sourceMappingURL=Embed.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9FbWJlZC5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0o7QUFDTDtBQUNoQyw0Q0FBTSxhQUFhLCtDQUFPO0FBQzFCO0FBQ0EsK0RBQWUscURBQWUsa0dBQWtHLEVBQUM7QUFDakkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvRW1iZWQuanN4P2VjYzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtRW1iZWQgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLWVtYmVkJywgVm1FbWJlZCk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWVtYmVkJywgbmV3IFNldChbJ2VtYmVkU3JjJywgJ21lZGlhVGl0bGUnLCAncGFyYW1zJywgJ29yaWdpbicsICdwcmVjb25uZWN0aW9ucycsICdkZWNvZGVyJ10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVtYmVkLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Embed.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/EndTime.jsx":
/*!******************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/EndTime.jsx ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-end-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEndTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTime);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-end-time', new Set(['duration', 'i18n', 'alwaysShowHours'])));\n//# sourceMappingURL=EndTime.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9FbmRUaW1lLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDTTtBQUNmO0FBQ2hDLDRDQUFNLGdCQUFnQixpREFBUztBQUMvQiw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCO0FBQ0EsK0RBQWUscURBQWUsaUVBQWlFLEVBQUM7QUFDaEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvRW5kVGltZS5qc3g/ZjIzMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1FbmRUaW1lLCBWbVRpbWUgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLWVuZC10aW1lJywgVm1FbmRUaW1lKTtcbmRlZmluZSgndm0tdGltZScsIFZtVGltZSk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWVuZC10aW1lJywgbmV3IFNldChbJ2R1cmF0aW9uJywgJ2kxOG4nLCAnYWx3YXlzU2hvd0hvdXJzJ10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVuZFRpbWUuanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/EndTime.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/File.jsx":
/*!***************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/File.jsx ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-file', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFile);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-file', new Set(['willAttach', 'crossOrigin', 'preload', 'poster', 'mediaTitle', 'controlsList', 'autoPiP', 'disablePiP', 'disableRemotePlayback', 'viewType', 'playbackRates', 'language', 'autoplay', 'controls', 'logger', 'loop', 'muted', 'playsinline', 'noConnect', 'paused', 'currentTime', 'volume', 'playbackReady', 'playbackStarted', 'currentTextTrack', 'hasCustomTextManager', 'isTextTrackVisible', 'shouldRenderNativeTextTracks'])));\n//# sourceMappingURL=File.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9GaWxlLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDTDtBQUNKO0FBQ2hDLDRDQUFNLFlBQVksOENBQU07QUFDeEI7QUFDQSwrREFBZSxxREFBZSx5YkFBeWIsRUFBQztBQUN4ZCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9GaWxlLmpzeD8xZDVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbUZpbGUgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLWZpbGUnLCBWbUZpbGUpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1maWxlJywgbmV3IFNldChbJ3dpbGxBdHRhY2gnLCAnY3Jvc3NPcmlnaW4nLCAncHJlbG9hZCcsICdwb3N0ZXInLCAnbWVkaWFUaXRsZScsICdjb250cm9sc0xpc3QnLCAnYXV0b1BpUCcsICdkaXNhYmxlUGlQJywgJ2Rpc2FibGVSZW1vdGVQbGF5YmFjaycsICd2aWV3VHlwZScsICdwbGF5YmFja1JhdGVzJywgJ2xhbmd1YWdlJywgJ2F1dG9wbGF5JywgJ2NvbnRyb2xzJywgJ2xvZ2dlcicsICdsb29wJywgJ211dGVkJywgJ3BsYXlzaW5saW5lJywgJ25vQ29ubmVjdCcsICdwYXVzZWQnLCAnY3VycmVudFRpbWUnLCAndm9sdW1lJywgJ3BsYXliYWNrUmVhZHknLCAncGxheWJhY2tTdGFydGVkJywgJ2N1cnJlbnRUZXh0VHJhY2snLCAnaGFzQ3VzdG9tVGV4dE1hbmFnZXInLCAnaXNUZXh0VHJhY2tWaXNpYmxlJywgJ3Nob3VsZFJlbmRlck5hdGl2ZVRleHRUcmFja3MnXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsZS5qc3gubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/File.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/FullscreenControl.jsx":
/*!****************************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/FullscreenControl.jsx ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-fullscreen-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFullscreenControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-fullscreen-control', new Set(['enterIcon', 'exitIcon', 'icons', 'tooltipPosition', 'tooltipDirection', 'hideTooltip', 'keys', 'isFullscreenActive', 'i18n', 'playbackReady'])));\n//# sourceMappingURL=FullscreenControl.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9GdWxsc2NyZWVuQ29udHJvbC5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ3NDO0FBQy9DO0FBQ2hDLDRDQUFNLDBCQUEwQiwyREFBbUI7QUFDbkQsNENBQU0sZUFBZSxpREFBUztBQUM5Qiw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLGVBQWUsaURBQVM7QUFDOUI7QUFDQSwrREFBZSxxREFBZSxtTEFBbUwsRUFBQztBQUNsTiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9GdWxsc2NyZWVuQ29udHJvbC5qc3g/YTQ0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1GdWxsc2NyZWVuQ29udHJvbCwgVm1Db250cm9sLCBWbUljb24sIFZtVG9vbHRpcCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tZnVsbHNjcmVlbi1jb250cm9sJywgVm1GdWxsc2NyZWVuQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWNvbnRyb2wnLCBWbUNvbnRyb2wpO1xuZGVmaW5lKCd2bS1pY29uJywgVm1JY29uKTtcbmRlZmluZSgndm0tdG9vbHRpcCcsIFZtVG9vbHRpcCk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWZ1bGxzY3JlZW4tY29udHJvbCcsIG5ldyBTZXQoWydlbnRlckljb24nLCAnZXhpdEljb24nLCAnaWNvbnMnLCAndG9vbHRpcFBvc2l0aW9uJywgJ3Rvb2x0aXBEaXJlY3Rpb24nLCAnaGlkZVRvb2x0aXAnLCAna2V5cycsICdpc0Z1bGxzY3JlZW5BY3RpdmUnLCAnaTE4bicsICdwbGF5YmFja1JlYWR5J10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZ1bGxzY3JlZW5Db250cm9sLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/FullscreenControl.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Hls.jsx":
/*!**************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Hls.jsx ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-hls', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmHls);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-file', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFile);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-video', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmVideo);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-hls', new Set(['version', 'libSrc', 'config', 'crossOrigin', 'preload', 'poster', 'controlsList', 'autoPiP', 'disablePiP', 'disableRemotePlayback', 'playbackReady', 'mediaTitle'])));\n//# sourceMappingURL=Hls.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9IbHMuanN4LmpzIiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNXO0FBQ3BCO0FBQ2hDLDRDQUFNLFdBQVcsNkNBQUs7QUFDdEIsNENBQU0sWUFBWSw4Q0FBTTtBQUN4Qiw0Q0FBTSxhQUFhLCtDQUFPO0FBQzFCO0FBQ0EsK0RBQWUscURBQWUseUxBQXlMLEVBQUM7QUFDeE4iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvSGxzLmpzeD9kMDZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbUhscywgVm1GaWxlLCBWbVZpZGVvIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1obHMnLCBWbUhscyk7XG5kZWZpbmUoJ3ZtLWZpbGUnLCBWbUZpbGUpO1xuZGVmaW5lKCd2bS12aWRlbycsIFZtVmlkZW8pO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1obHMnLCBuZXcgU2V0KFsndmVyc2lvbicsICdsaWJTcmMnLCAnY29uZmlnJywgJ2Nyb3NzT3JpZ2luJywgJ3ByZWxvYWQnLCAncG9zdGVyJywgJ2NvbnRyb2xzTGlzdCcsICdhdXRvUGlQJywgJ2Rpc2FibGVQaVAnLCAnZGlzYWJsZVJlbW90ZVBsYXliYWNrJywgJ3BsYXliYWNrUmVhZHknLCAnbWVkaWFUaXRsZSddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IbHMuanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Hls.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Icon.jsx":
/*!***************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Icon.jsx ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-icon', new Set(['name', 'src', 'label', 'library', 'icons'])));\n//# sourceMappingURL=Icon.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9JY29uLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDTDtBQUNKO0FBQ2hDLDRDQUFNLFlBQVksOENBQU07QUFDeEI7QUFDQSwrREFBZSxxREFBZSxrRUFBa0UsRUFBQztBQUNqRyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9JY29uLmpzeD81ZTdjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbUljb24gfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLWljb24nLCBWbUljb24pO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1pY29uJywgbmV3IFNldChbJ25hbWUnLCAnc3JjJywgJ2xhYmVsJywgJ2xpYnJhcnknLCAnaWNvbnMnXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SWNvbi5qc3gubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Icon.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/IconLibrary.jsx":
/*!**********************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/IconLibrary.jsx ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon-library', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIconLibrary);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-icon-library', new Set(['name', 'resolver', 'icons'])));\n//# sourceMappingURL=IconLibrary.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9JY29uTGlicmFyeS5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0U7QUFDWDtBQUNoQyw0Q0FBTSxvQkFBb0IscURBQWE7QUFDdkM7QUFDQSwrREFBZSxxREFBZSwyREFBMkQsRUFBQztBQUMxRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9JY29uTGlicmFyeS5qc3g/OTBhYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1JY29uTGlicmFyeSB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0taWNvbi1saWJyYXJ5JywgVm1JY29uTGlicmFyeSk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLWljb24tbGlicmFyeScsIG5ldyBTZXQoWyduYW1lJywgJ3Jlc29sdmVyJywgJ2ljb25zJ10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUljb25MaWJyYXJ5LmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/IconLibrary.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/LiveIndicator.jsx":
/*!************************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/LiveIndicator.jsx ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-live-indicator', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmLiveIndicator);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-live-indicator', new Set(['isLive', 'i18n'])));\n//# sourceMappingURL=LiveIndicator.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9MaXZlSW5kaWNhdG9yLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDSTtBQUNiO0FBQ2hDLDRDQUFNLHNCQUFzQix1REFBZTtBQUMzQztBQUNBLCtEQUFlLHFEQUFlLGtEQUFrRCxFQUFDO0FBQ2pGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0xpdmVJbmRpY2F0b3IuanN4P2JiNzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtTGl2ZUluZGljYXRvciB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tbGl2ZS1pbmRpY2F0b3InLCBWbUxpdmVJbmRpY2F0b3IpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1saXZlLWluZGljYXRvcicsIG5ldyBTZXQoWydpc0xpdmUnLCAnaTE4biddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MaXZlSW5kaWNhdG9yLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/LiveIndicator.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/LoadingScreen.jsx":
/*!************************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/LoadingScreen.jsx ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-loading-screen', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmLoadingScreen);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-loading-screen', new Set(['playbackReady', 'hideDots'])));\n//# sourceMappingURL=LoadingScreen.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Mb2FkaW5nU2NyZWVuLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDSTtBQUNiO0FBQ2hDLDRDQUFNLHNCQUFzQix1REFBZTtBQUMzQztBQUNBLCtEQUFlLHFEQUFlLDZEQUE2RCxFQUFDO0FBQzVGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL0xvYWRpbmdTY3JlZW4uanN4P2Q2NWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtTG9hZGluZ1NjcmVlbiB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tbG9hZGluZy1zY3JlZW4nLCBWbUxvYWRpbmdTY3JlZW4pO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1sb2FkaW5nLXNjcmVlbicsIG5ldyBTZXQoWydwbGF5YmFja1JlYWR5JywgJ2hpZGVEb3RzJ10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxvYWRpbmdTY3JlZW4uanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/LoadingScreen.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Menu.jsx":
/*!***************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Menu.jsx ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenu);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-menu', new Set(['active', 'identifier', 'controller', 'slideInDirection'])));\n//# sourceMappingURL=Menu.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9NZW51LmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDTDtBQUNKO0FBQ2hDLDRDQUFNLFlBQVksOENBQU07QUFDeEI7QUFDQSwrREFBZSxxREFBZSxnRkFBZ0YsRUFBQztBQUMvRyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9NZW51LmpzeD9kMTE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbU1lbnUgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLW1lbnUnLCBWbU1lbnUpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1tZW51JywgbmV3IFNldChbJ2FjdGl2ZScsICdpZGVudGlmaWVyJywgJ2NvbnRyb2xsZXInLCAnc2xpZGVJbkRpcmVjdGlvbiddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZW51LmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Menu.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/MenuItem.jsx":
/*!*******************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/MenuItem.jsx ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-item', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuItem);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-menu-item', new Set(['identifier', 'hidden', 'label', 'menu', 'expanded', 'checked', 'hint', 'badge', 'checkIcon', 'icons', 'isTouch'])));\n//# sourceMappingURL=MenuItem.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9NZW51SXRlbS5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ087QUFDaEI7QUFDaEMsNENBQU0saUJBQWlCLGtEQUFVO0FBQ2pDLDRDQUFNLFlBQVksOENBQU07QUFDeEI7QUFDQSwrREFBZSxxREFBZSw2SUFBNkksRUFBQztBQUM1SyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9NZW51SXRlbS5qc3g/ZDViYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1NZW51SXRlbSwgVm1JY29uIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1tZW51LWl0ZW0nLCBWbU1lbnVJdGVtKTtcbmRlZmluZSgndm0taWNvbicsIFZtSWNvbik7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLW1lbnUtaXRlbScsIG5ldyBTZXQoWydpZGVudGlmaWVyJywgJ2hpZGRlbicsICdsYWJlbCcsICdtZW51JywgJ2V4cGFuZGVkJywgJ2NoZWNrZWQnLCAnaGludCcsICdiYWRnZScsICdjaGVja0ljb24nLCAnaWNvbnMnLCAnaXNUb3VjaCddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZW51SXRlbS5qc3gubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/MenuItem.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/MenuRadio.jsx":
/*!********************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/MenuRadio.jsx ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-radio', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuRadio);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-item', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuItem);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-menu-radio', new Set(['label', 'value', 'checked', 'badge', 'checkIcon', 'icons'])));\n//# sourceMappingURL=MenuRadio.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9NZW51UmFkaW8uanN4LmpzIiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNvQjtBQUM3QjtBQUNoQyw0Q0FBTSxrQkFBa0IsbURBQVc7QUFDbkMsNENBQU0sWUFBWSw4Q0FBTTtBQUN4Qiw0Q0FBTSxpQkFBaUIsa0RBQVU7QUFDakM7QUFDQSwrREFBZSxxREFBZSx3RkFBd0YsRUFBQztBQUN2SCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9NZW51UmFkaW8uanN4PzMxM2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtTWVudVJhZGlvLCBWbUljb24sIFZtTWVudUl0ZW0gfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLW1lbnUtcmFkaW8nLCBWbU1lbnVSYWRpbyk7XG5kZWZpbmUoJ3ZtLWljb24nLCBWbUljb24pO1xuZGVmaW5lKCd2bS1tZW51LWl0ZW0nLCBWbU1lbnVJdGVtKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tbWVudS1yYWRpbycsIG5ldyBTZXQoWydsYWJlbCcsICd2YWx1ZScsICdjaGVja2VkJywgJ2JhZGdlJywgJ2NoZWNrSWNvbicsICdpY29ucyddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZW51UmFkaW8uanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/MenuRadio.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/MenuRadioGroup.jsx":
/*!*************************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/MenuRadioGroup.jsx ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-radio-group', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuRadioGroup);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-menu-radio-group', new Set(['value'])));\n//# sourceMappingURL=MenuRadioGroup.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9NZW51UmFkaW9Hcm91cC5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0s7QUFDZDtBQUNoQyw0Q0FBTSx3QkFBd0Isd0RBQWdCO0FBQzlDO0FBQ0EsK0RBQWUscURBQWUsMkNBQTJDLEVBQUM7QUFDMUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvTWVudVJhZGlvR3JvdXAuanN4PzgxZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtTWVudVJhZGlvR3JvdXAgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLW1lbnUtcmFkaW8tZ3JvdXAnLCBWbU1lbnVSYWRpb0dyb3VwKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tbWVudS1yYWRpby1ncm91cCcsIG5ldyBTZXQoWyd2YWx1ZSddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZW51UmFkaW9Hcm91cC5qc3gubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/MenuRadioGroup.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/MuteControl.jsx":
/*!**********************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/MuteControl.jsx ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-mute-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMuteControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-mute-control', new Set(['lowVolumeIcon', 'highVolumeIcon', 'mutedIcon', 'icons', 'tooltipPosition', 'tooltipDirection', 'hideTooltip', 'keys', 'volume', 'muted', 'i18n'])));\n//# sourceMappingURL=MuteControl.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9NdXRlQ29udHJvbC5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ2dDO0FBQ3pDO0FBQ2hDLDRDQUFNLG9CQUFvQixxREFBYTtBQUN2Qyw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCLDRDQUFNLFlBQVksOENBQU07QUFDeEIsNENBQU0sZUFBZSxpREFBUztBQUM5QjtBQUNBLCtEQUFlLHFEQUFlLGdMQUFnTCxFQUFDO0FBQy9NIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL011dGVDb250cm9sLmpzeD83ZTZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbU11dGVDb250cm9sLCBWbUNvbnRyb2wsIFZtSWNvbiwgVm1Ub29sdGlwIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1tdXRlLWNvbnRyb2wnLCBWbU11dGVDb250cm9sKTtcbmRlZmluZSgndm0tY29udHJvbCcsIFZtQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWljb24nLCBWbUljb24pO1xuZGVmaW5lKCd2bS10b29sdGlwJywgVm1Ub29sdGlwKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tbXV0ZS1jb250cm9sJywgbmV3IFNldChbJ2xvd1ZvbHVtZUljb24nLCAnaGlnaFZvbHVtZUljb24nLCAnbXV0ZWRJY29uJywgJ2ljb25zJywgJ3Rvb2x0aXBQb3NpdGlvbicsICd0b29sdGlwRGlyZWN0aW9uJywgJ2hpZGVUb29sdGlwJywgJ2tleXMnLCAndm9sdW1lJywgJ211dGVkJywgJ2kxOG4nXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXV0ZUNvbnRyb2wuanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/MuteControl.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/PipControl.jsx":
/*!*********************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/PipControl.jsx ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-pip-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPipControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-pip-control', new Set(['enterIcon', 'exitIcon', 'icons', 'tooltipPosition', 'tooltipDirection', 'hideTooltip', 'keys', 'isPiPActive', 'i18n', 'playbackReady'])));\n//# sourceMappingURL=PipControl.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9QaXBDb250cm9sLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDK0I7QUFDeEM7QUFDaEMsNENBQU0sbUJBQW1CLG9EQUFZO0FBQ3JDLDRDQUFNLGVBQWUsaURBQVM7QUFDOUIsNENBQU0sWUFBWSw4Q0FBTTtBQUN4Qiw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCO0FBQ0EsK0RBQWUscURBQWUscUtBQXFLLEVBQUM7QUFDcE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvUGlwQ29udHJvbC5qc3g/MDg3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1QaXBDb250cm9sLCBWbUNvbnRyb2wsIFZtSWNvbiwgVm1Ub29sdGlwIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1waXAtY29udHJvbCcsIFZtUGlwQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWNvbnRyb2wnLCBWbUNvbnRyb2wpO1xuZGVmaW5lKCd2bS1pY29uJywgVm1JY29uKTtcbmRlZmluZSgndm0tdG9vbHRpcCcsIFZtVG9vbHRpcCk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLXBpcC1jb250cm9sJywgbmV3IFNldChbJ2VudGVySWNvbicsICdleGl0SWNvbicsICdpY29ucycsICd0b29sdGlwUG9zaXRpb24nLCAndG9vbHRpcERpcmVjdGlvbicsICdoaWRlVG9vbHRpcCcsICdrZXlzJywgJ2lzUGlQQWN0aXZlJywgJ2kxOG4nLCAncGxheWJhY2tSZWFkeSddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QaXBDb250cm9sLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/PipControl.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/PlaybackControl.jsx":
/*!**************************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/PlaybackControl.jsx ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-playback-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPlaybackControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-playback-control', new Set(['playIcon', 'pauseIcon', 'icons', 'tooltipPosition', 'tooltipDirection', 'hideTooltip', 'keys', 'paused', 'i18n'])));\n//# sourceMappingURL=PlaybackControl.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9QbGF5YmFja0NvbnRyb2wuanN4LmpzIiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNvQztBQUM3QztBQUNoQyw0Q0FBTSx3QkFBd0IseURBQWlCO0FBQy9DLDRDQUFNLGVBQWUsaURBQVM7QUFDOUIsNENBQU0sWUFBWSw4Q0FBTTtBQUN4Qiw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCO0FBQ0EsK0RBQWUscURBQWUsb0pBQW9KLEVBQUM7QUFDbkwiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvUGxheWJhY2tDb250cm9sLmpzeD8zOGI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVBsYXliYWNrQ29udHJvbCwgVm1Db250cm9sLCBWbUljb24sIFZtVG9vbHRpcCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tcGxheWJhY2stY29udHJvbCcsIFZtUGxheWJhY2tDb250cm9sKTtcbmRlZmluZSgndm0tY29udHJvbCcsIFZtQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWljb24nLCBWbUljb24pO1xuZGVmaW5lKCd2bS10b29sdGlwJywgVm1Ub29sdGlwKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tcGxheWJhY2stY29udHJvbCcsIG5ldyBTZXQoWydwbGF5SWNvbicsICdwYXVzZUljb24nLCAnaWNvbnMnLCAndG9vbHRpcFBvc2l0aW9uJywgJ3Rvb2x0aXBEaXJlY3Rpb24nLCAnaGlkZVRvb2x0aXAnLCAna2V5cycsICdwYXVzZWQnLCAnaTE4biddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QbGF5YmFja0NvbnRyb2wuanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/PlaybackControl.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Player.jsx":
/*!*****************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Player.jsx ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-player', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPlayer);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-player', new Set(['logger', 'theme', 'icons', 'paused', 'playing', 'duration', 'mediaTitle', 'currentProvider', 'currentSrc', 'currentPoster', 'currentTime', 'autoplay', 'ready', 'playbackReady', 'loop', 'muted', 'buffered', 'playbackRate', 'playbackRates', 'playbackQuality', 'playbackQualities', 'seeking', 'debug', 'playbackStarted', 'playbackEnded', 'buffering', 'controls', 'isControlsActive', 'isSettingsActive', 'volume', 'isFullscreenActive', 'aspectRatio', 'viewType', 'isAudioView', 'isVideoView', 'mediaType', 'isAudio', 'isVideo', 'isLive', 'isMobile', 'isTouch', 'isPiPActive', 'textTracks', 'currentTextTrack', 'isTextTrackVisible', 'shouldRenderNativeTextTracks', 'audioTracks', 'currentAudioTrack', 'autopause', 'playsinline', 'language', 'translations', 'languages', 'i18n'])));\n//# sourceMappingURL=Player.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9QbGF5ZXIuanN4LmpzIiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNIO0FBQ047QUFDaEMsNENBQU0sY0FBYyxnREFBUTtBQUM1QjtBQUNBLCtEQUFlLHFEQUFlLDh4QkFBOHhCLEVBQUM7QUFDN3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1BsYXllci5qc3g/MmJmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1QbGF5ZXIgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLXBsYXllcicsIFZtUGxheWVyKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tcGxheWVyJywgbmV3IFNldChbJ2xvZ2dlcicsICd0aGVtZScsICdpY29ucycsICdwYXVzZWQnLCAncGxheWluZycsICdkdXJhdGlvbicsICdtZWRpYVRpdGxlJywgJ2N1cnJlbnRQcm92aWRlcicsICdjdXJyZW50U3JjJywgJ2N1cnJlbnRQb3N0ZXInLCAnY3VycmVudFRpbWUnLCAnYXV0b3BsYXknLCAncmVhZHknLCAncGxheWJhY2tSZWFkeScsICdsb29wJywgJ211dGVkJywgJ2J1ZmZlcmVkJywgJ3BsYXliYWNrUmF0ZScsICdwbGF5YmFja1JhdGVzJywgJ3BsYXliYWNrUXVhbGl0eScsICdwbGF5YmFja1F1YWxpdGllcycsICdzZWVraW5nJywgJ2RlYnVnJywgJ3BsYXliYWNrU3RhcnRlZCcsICdwbGF5YmFja0VuZGVkJywgJ2J1ZmZlcmluZycsICdjb250cm9scycsICdpc0NvbnRyb2xzQWN0aXZlJywgJ2lzU2V0dGluZ3NBY3RpdmUnLCAndm9sdW1lJywgJ2lzRnVsbHNjcmVlbkFjdGl2ZScsICdhc3BlY3RSYXRpbycsICd2aWV3VHlwZScsICdpc0F1ZGlvVmlldycsICdpc1ZpZGVvVmlldycsICdtZWRpYVR5cGUnLCAnaXNBdWRpbycsICdpc1ZpZGVvJywgJ2lzTGl2ZScsICdpc01vYmlsZScsICdpc1RvdWNoJywgJ2lzUGlQQWN0aXZlJywgJ3RleHRUcmFja3MnLCAnY3VycmVudFRleHRUcmFjaycsICdpc1RleHRUcmFja1Zpc2libGUnLCAnc2hvdWxkUmVuZGVyTmF0aXZlVGV4dFRyYWNrcycsICdhdWRpb1RyYWNrcycsICdjdXJyZW50QXVkaW9UcmFjaycsICdhdXRvcGF1c2UnLCAncGxheXNpbmxpbmUnLCAnbGFuZ3VhZ2UnLCAndHJhbnNsYXRpb25zJywgJ2xhbmd1YWdlcycsICdpMThuJ10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBsYXllci5qc3gubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Player.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Poster.jsx":
/*!*****************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Poster.jsx ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-poster', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmPoster);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-poster', new Set(['fit', 'isVideoView', 'currentPoster', 'mediaTitle', 'playbackStarted', 'currentTime'])));\n//# sourceMappingURL=Poster.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Qb3N0ZXIuanN4LmpzIiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNIO0FBQ047QUFDaEMsNENBQU0sY0FBYyxnREFBUTtBQUM1QjtBQUNBLCtEQUFlLHFEQUFlLCtHQUErRyxFQUFDO0FBQzlJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1Bvc3Rlci5qc3g/YjcwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1Qb3N0ZXIgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLXBvc3RlcicsIFZtUG9zdGVyKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tcG9zdGVyJywgbmV3IFNldChbJ2ZpdCcsICdpc1ZpZGVvVmlldycsICdjdXJyZW50UG9zdGVyJywgJ21lZGlhVGl0bGUnLCAncGxheWJhY2tTdGFydGVkJywgJ2N1cnJlbnRUaW1lJ10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvc3Rlci5qc3gubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Poster.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Scrim.jsx":
/*!****************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Scrim.jsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-scrim', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmScrim);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-scrim', new Set(['gradient', 'isVideoView', 'isControlsActive'])));\n//# sourceMappingURL=Scrim.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9TY3JpbS5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0o7QUFDTDtBQUNoQyw0Q0FBTSxhQUFhLCtDQUFPO0FBQzFCO0FBQ0EsK0RBQWUscURBQWUsc0VBQXNFLEVBQUM7QUFDckciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvU2NyaW0uanN4PzFhOWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtU2NyaW0gfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLXNjcmltJywgVm1TY3JpbSk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLXNjcmltJywgbmV3IFNldChbJ2dyYWRpZW50JywgJ2lzVmlkZW9WaWV3JywgJ2lzQ29udHJvbHNBY3RpdmUnXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NyaW0uanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Scrim.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/ScrubberControl.jsx":
/*!**************************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/ScrubberControl.jsx ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-scrubber-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmScrubberControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-slider', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSlider);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-scrubber-control', new Set(['alwaysShowHours', 'hideTooltip', 'currentTime', 'duration', 'noKeyboard', 'buffering', 'buffered', 'i18n'])));\n//# sourceMappingURL=ScrubberControl.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9TY3J1YmJlckNvbnRyb2wuanN4LmpzIiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUMyQjtBQUNwQztBQUNoQyw0Q0FBTSx3QkFBd0IseURBQWlCO0FBQy9DLDRDQUFNLGNBQWMsZ0RBQVE7QUFDNUIsNENBQU0sZUFBZSxpREFBUztBQUM5QjtBQUNBLCtEQUFlLHFEQUFlLDhJQUE4SSxFQUFDO0FBQzdLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1NjcnViYmVyQ29udHJvbC5qc3g/MzEzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1TY3J1YmJlckNvbnRyb2wsIFZtU2xpZGVyLCBWbVRvb2x0aXAgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLXNjcnViYmVyLWNvbnRyb2wnLCBWbVNjcnViYmVyQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLXNsaWRlcicsIFZtU2xpZGVyKTtcbmRlZmluZSgndm0tdG9vbHRpcCcsIFZtVG9vbHRpcCk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLXNjcnViYmVyLWNvbnRyb2wnLCBuZXcgU2V0KFsnYWx3YXlzU2hvd0hvdXJzJywgJ2hpZGVUb29sdGlwJywgJ2N1cnJlbnRUaW1lJywgJ2R1cmF0aW9uJywgJ25vS2V5Ym9hcmQnLCAnYnVmZmVyaW5nJywgJ2J1ZmZlcmVkJywgJ2kxOG4nXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NydWJiZXJDb250cm9sLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/ScrubberControl.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Settings.jsx":
/*!*******************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Settings.jsx ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-settings', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSettings);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenu);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-settings', new Set(['pin', 'active', 'isMobile', 'isAudioView'])));\n//# sourceMappingURL=Settings.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9TZXR0aW5ncy5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ087QUFDaEI7QUFDaEMsNENBQU0sZ0JBQWdCLGtEQUFVO0FBQ2hDLDRDQUFNLFlBQVksOENBQU07QUFDeEI7QUFDQSwrREFBZSxxREFBZSxzRUFBc0UsRUFBQztBQUNyRyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9TZXR0aW5ncy5qc3g/MTYyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1TZXR0aW5ncywgVm1NZW51IH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS1zZXR0aW5ncycsIFZtU2V0dGluZ3MpO1xuZGVmaW5lKCd2bS1tZW51JywgVm1NZW51KTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tc2V0dGluZ3MnLCBuZXcgU2V0KFsncGluJywgJ2FjdGl2ZScsICdpc01vYmlsZScsICdpc0F1ZGlvVmlldyddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TZXR0aW5ncy5qc3gubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Settings.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/SettingsControl.jsx":
/*!**************************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/SettingsControl.jsx ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-settings-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSettingsControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-settings-control', new Set(['icon', 'icons', 'tooltipPosition', 'tooltipDirection', 'menu', 'expanded', 'i18n'])));\n//# sourceMappingURL=SettingsControl.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9TZXR0aW5nc0NvbnRyb2wuanN4LmpzIiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNvQztBQUM3QztBQUNoQyw0Q0FBTSx3QkFBd0IseURBQWlCO0FBQy9DLDRDQUFNLGVBQWUsaURBQVM7QUFDOUIsNENBQU0sWUFBWSw4Q0FBTTtBQUN4Qiw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCO0FBQ0EsK0RBQWUscURBQWUsc0hBQXNILEVBQUM7QUFDckoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvU2V0dGluZ3NDb250cm9sLmpzeD9hNWE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVNldHRpbmdzQ29udHJvbCwgVm1Db250cm9sLCBWbUljb24sIFZtVG9vbHRpcCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tc2V0dGluZ3MtY29udHJvbCcsIFZtU2V0dGluZ3NDb250cm9sKTtcbmRlZmluZSgndm0tY29udHJvbCcsIFZtQ29udHJvbCk7XG5kZWZpbmUoJ3ZtLWljb24nLCBWbUljb24pO1xuZGVmaW5lKCd2bS10b29sdGlwJywgVm1Ub29sdGlwKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tc2V0dGluZ3MtY29udHJvbCcsIG5ldyBTZXQoWydpY29uJywgJ2ljb25zJywgJ3Rvb2x0aXBQb3NpdGlvbicsICd0b29sdGlwRGlyZWN0aW9uJywgJ21lbnUnLCAnZXhwYW5kZWQnLCAnaTE4biddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TZXR0aW5nc0NvbnRyb2wuanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/SettingsControl.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Skeleton.jsx":
/*!*******************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Skeleton.jsx ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-skeleton', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSkeleton);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-skeleton', new Set(['effect', 'ready'])));\n//# sourceMappingURL=Skeleton.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Ta2VsZXRvbi5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0Q7QUFDUjtBQUNoQyw0Q0FBTSxnQkFBZ0Isa0RBQVU7QUFDaEM7QUFDQSwrREFBZSxxREFBZSw2Q0FBNkMsRUFBQztBQUM1RSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Ta2VsZXRvbi5qc3g/NWE2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1Ta2VsZXRvbiB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tc2tlbGV0b24nLCBWbVNrZWxldG9uKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tc2tlbGV0b24nLCBuZXcgU2V0KFsnZWZmZWN0JywgJ3JlYWR5J10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNrZWxldG9uLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Skeleton.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Slider.jsx":
/*!*****************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Slider.jsx ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-slider', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSlider);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-slider', new Set(['step', 'min', 'max', 'value', 'valueText', 'label'])));\n//# sourceMappingURL=Slider.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9TbGlkZXIuanN4LmpzIiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNIO0FBQ047QUFDaEMsNENBQU0sY0FBYyxnREFBUTtBQUM1QjtBQUNBLCtEQUFlLHFEQUFlLDZFQUE2RSxFQUFDO0FBQzVHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdmltZS9yZWFjdC9kaXN0L2VzbS9jb21wb25lbnRzL1NsaWRlci5qc3g/NDMxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1TbGlkZXIgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLXNsaWRlcicsIFZtU2xpZGVyKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tc2xpZGVyJywgbmV3IFNldChbJ3N0ZXAnLCAnbWluJywgJ21heCcsICd2YWx1ZScsICd2YWx1ZVRleHQnLCAnbGFiZWwnXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2xpZGVyLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Slider.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Spinner.jsx":
/*!******************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Spinner.jsx ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-spinner', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSpinner);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-spinner', new Set(['isVideoView', 'currentProvider', 'showWhenMediaLoading', 'playbackReady', 'buffering'])));\n//# sourceMappingURL=Spinner.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9TcGlubmVyLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDRjtBQUNQO0FBQ2hDLDRDQUFNLGVBQWUsaURBQVM7QUFDOUI7QUFDQSwrREFBZSxxREFBZSxpSEFBaUgsRUFBQztBQUNoSiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9TcGlubmVyLmpzeD8yN2Y0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVNwaW5uZXIgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLXNwaW5uZXInLCBWbVNwaW5uZXIpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS1zcGlubmVyJywgbmV3IFNldChbJ2lzVmlkZW9WaWV3JywgJ2N1cnJlbnRQcm92aWRlcicsICdzaG93V2hlbk1lZGlhTG9hZGluZycsICdwbGF5YmFja1JlYWR5JywgJ2J1ZmZlcmluZyddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcGlubmVyLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Spinner.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Submenu.jsx":
/*!******************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Submenu.jsx ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-submenu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSubmenu);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenu);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-menu-item', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMenuItem);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-submenu', new Set(['label', 'hint', 'slideInDirection', 'active'])));\n//# sourceMappingURL=Submenu.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9TdWJtZW51LmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDMEI7QUFDbkM7QUFDaEMsNENBQU0sZUFBZSxpREFBUztBQUM5Qiw0Q0FBTSxZQUFZLDhDQUFNO0FBQ3hCLDRDQUFNLFlBQVksOENBQU07QUFDeEIsNENBQU0saUJBQWlCLGtEQUFVO0FBQ2pDO0FBQ0EsK0RBQWUscURBQWUsd0VBQXdFLEVBQUM7QUFDdkciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvU3VibWVudS5qc3g/NGEzMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1TdWJtZW51LCBWbUljb24sIFZtTWVudSwgVm1NZW51SXRlbSB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tc3VibWVudScsIFZtU3VibWVudSk7XG5kZWZpbmUoJ3ZtLWljb24nLCBWbUljb24pO1xuZGVmaW5lKCd2bS1tZW51JywgVm1NZW51KTtcbmRlZmluZSgndm0tbWVudS1pdGVtJywgVm1NZW51SXRlbSk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLXN1Ym1lbnUnLCBuZXcgU2V0KFsnbGFiZWwnLCAnaGludCcsICdzbGlkZUluRGlyZWN0aW9uJywgJ2FjdGl2ZSddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJtZW51LmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Submenu.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Time.jsx":
/*!***************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Time.jsx ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTime);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-time', new Set(['label', 'seconds', 'alwaysShowHours'])));\n//# sourceMappingURL=Time.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9UaW1lLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDTDtBQUNKO0FBQ2hDLDRDQUFNLFlBQVksOENBQU07QUFDeEI7QUFDQSwrREFBZSxxREFBZSw2REFBNkQsRUFBQztBQUM1RiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9UaW1lLmpzeD9kYjA3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVRpbWUgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLXRpbWUnLCBWbVRpbWUpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS10aW1lJywgbmV3IFNldChbJ2xhYmVsJywgJ3NlY29uZHMnLCAnYWx3YXlzU2hvd0hvdXJzJ10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbWUuanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Time.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/TimeProgress.jsx":
/*!***********************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/TimeProgress.jsx ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time-progress', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTimeProgress);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-current-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmCurrentTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTime);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-end-time', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEndTime);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-time-progress', new Set(['separator', 'alwaysShowHours'])));\n//# sourceMappingURL=TimeProgress.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9UaW1lUHJvZ3Jlc3MuanN4LmpzIiwibWFwcGluZ3MiOiI7OztBQUF5QztBQUNxQztBQUM5QztBQUNoQyw0Q0FBTSxxQkFBcUIsc0RBQWM7QUFDekMsNENBQU0sb0JBQW9CLHFEQUFhO0FBQ3ZDLDRDQUFNLFlBQVksOENBQU07QUFDeEIsNENBQU0sZ0JBQWdCLGlEQUFTO0FBQy9CO0FBQ0EsK0RBQWUscURBQWUsK0RBQStELEVBQUM7QUFDOUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvVGltZVByb2dyZXNzLmpzeD9hMzM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVRpbWVQcm9ncmVzcywgVm1DdXJyZW50VGltZSwgVm1UaW1lLCBWbUVuZFRpbWUgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLXRpbWUtcHJvZ3Jlc3MnLCBWbVRpbWVQcm9ncmVzcyk7XG5kZWZpbmUoJ3ZtLWN1cnJlbnQtdGltZScsIFZtQ3VycmVudFRpbWUpO1xuZGVmaW5lKCd2bS10aW1lJywgVm1UaW1lKTtcbmRlZmluZSgndm0tZW5kLXRpbWUnLCBWbUVuZFRpbWUpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS10aW1lLXByb2dyZXNzJywgbmV3IFNldChbJ3NlcGFyYXRvcicsICdhbHdheXNTaG93SG91cnMnXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGltZVByb2dyZXNzLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/TimeProgress.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Tooltip.jsx":
/*!******************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Tooltip.jsx ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-tooltip', new Set(['hidden', 'active', 'position', 'direction', 'isTouch', 'isMobile'])));\n//# sourceMappingURL=Tooltip.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Ub29sdGlwLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDRjtBQUNQO0FBQ2hDLDRDQUFNLGVBQWUsaURBQVM7QUFDOUI7QUFDQSwrREFBZSxxREFBZSw2RkFBNkYsRUFBQztBQUM1SCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Ub29sdGlwLmpzeD9mNmYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVRvb2x0aXAgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLXRvb2x0aXAnLCBWbVRvb2x0aXApO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS10b29sdGlwJywgbmV3IFNldChbJ2hpZGRlbicsICdhY3RpdmUnLCAncG9zaXRpb24nLCAnZGlyZWN0aW9uJywgJ2lzVG91Y2gnLCAnaXNNb2JpbGUnXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VG9vbHRpcC5qc3gubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Tooltip.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Ui.jsx":
/*!*************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Ui.jsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-ui', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmUi);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-ui', new Set(['isVideoView', 'playsinline', 'isFullscreenActive'])));\n//# sourceMappingURL=Ui.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9VaS5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ1A7QUFDRjtBQUNoQyw0Q0FBTSxVQUFVLDRDQUFJO0FBQ3BCO0FBQ0EsK0RBQWUscURBQWUsd0VBQXdFLEVBQUM7QUFDdkciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvVWkuanN4PzYxMDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vbGliJztcbmltcG9ydCB7IFZtVWkgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLXVpJywgVm1VaSk7XG47XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoJ3ZtLXVpJywgbmV3IFNldChbJ2lzVmlkZW9WaWV3JywgJ3BsYXlzaW5saW5lJywgJ2lzRnVsbHNjcmVlbkFjdGl2ZSddKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VaS5qc3gubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Ui.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Video.jsx":
/*!****************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Video.jsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-video', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmVideo);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-file', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmFile);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-video', new Set(['willAttach', 'hasCustomTextManager', 'crossOrigin', 'preload', 'poster', 'controlsList', 'autoPiP', 'disablePiP', 'disableRemotePlayback', 'mediaTitle'])));\n//# sourceMappingURL=Video.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9WaWRlby5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0k7QUFDYjtBQUNoQyw0Q0FBTSxhQUFhLCtDQUFPO0FBQzFCLDRDQUFNLFlBQVksOENBQU07QUFDeEI7QUFDQSwrREFBZSxxREFBZSxpTEFBaUwsRUFBQztBQUNoTiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9WaWRlby5qc3g/Mzk4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1WaWRlbywgVm1GaWxlIH0gZnJvbSAnQHZpbWUvY29yZSc7XG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi9saWInO1xuZGVmaW5lKCd2bS12aWRlbycsIFZtVmlkZW8pO1xuZGVmaW5lKCd2bS1maWxlJywgVm1GaWxlKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tdmlkZW8nLCBuZXcgU2V0KFsnd2lsbEF0dGFjaCcsICdoYXNDdXN0b21UZXh0TWFuYWdlcicsICdjcm9zc09yaWdpbicsICdwcmVsb2FkJywgJ3Bvc3RlcicsICdjb250cm9sc0xpc3QnLCAnYXV0b1BpUCcsICdkaXNhYmxlUGlQJywgJ2Rpc2FibGVSZW1vdGVQbGF5YmFjaycsICdtZWRpYVRpdGxlJ10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZGVvLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Video.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Vimeo.jsx":
/*!****************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Vimeo.jsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-vimeo', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmVimeo);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-embed', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEmbed);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-vimeo', new Set(['videoId', 'byline', 'color', 'portrait', 'noAutoAspectRatio', 'poster', 'cookies', 'language', 'aspectRatio', 'autoplay', 'controls', 'logger', 'loop', 'muted', 'playsinline'])));\n//# sourceMappingURL=Vimeo.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9WaW1lby5qc3guanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXlDO0FBQ0s7QUFDZDtBQUNoQyw0Q0FBTSxhQUFhLCtDQUFPO0FBQzFCLDRDQUFNLGFBQWEsK0NBQU87QUFDMUI7QUFDQSwrREFBZSxxREFBZSx3TUFBd00sRUFBQztBQUN2TyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9WaW1lby5qc3g/MzNlOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1WaW1lbywgVm1FbWJlZCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tdmltZW8nLCBWbVZpbWVvKTtcbmRlZmluZSgndm0tZW1iZWQnLCBWbUVtYmVkKTtcbjtcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUNvbXBvbmVudCgndm0tdmltZW8nLCBuZXcgU2V0KFsndmlkZW9JZCcsICdieWxpbmUnLCAnY29sb3InLCAncG9ydHJhaXQnLCAnbm9BdXRvQXNwZWN0UmF0aW8nLCAncG9zdGVyJywgJ2Nvb2tpZXMnLCAnbGFuZ3VhZ2UnLCAnYXNwZWN0UmF0aW8nLCAnYXV0b3BsYXknLCAnY29udHJvbHMnLCAnbG9nZ2VyJywgJ2xvb3AnLCAnbXV0ZWQnLCAncGxheXNpbmxpbmUnXSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmltZW8uanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Vimeo.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/VolumeControl.jsx":
/*!************************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/VolumeControl.jsx ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-volume-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmVolumeControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-icon', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmIcon);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-mute-control', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmMuteControl);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-tooltip', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmTooltip);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-slider', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmSlider);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-volume-control', new Set(['lowVolumeIcon', 'highVolumeIcon', 'mutedIcon', 'icons', 'tooltipPosition', 'tooltipDirection', 'hideTooltip', 'muteKeys', 'noKeyboard', 'muted', 'volume', 'isMobile', 'i18n'])));\n//# sourceMappingURL=VolumeControl.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Wb2x1bWVDb250cm9sLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDMkQ7QUFDcEU7QUFDaEMsNENBQU0sc0JBQXNCLHVEQUFlO0FBQzNDLDRDQUFNLGVBQWUsaURBQVM7QUFDOUIsNENBQU0sWUFBWSw4Q0FBTTtBQUN4Qiw0Q0FBTSxvQkFBb0IscURBQWE7QUFDdkMsNENBQU0sZUFBZSxpREFBUztBQUM5Qiw0Q0FBTSxjQUFjLGdEQUFRO0FBQzVCO0FBQ0EsK0RBQWUscURBQWUsZ05BQWdOLEVBQUM7QUFDL08iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2NvbXBvbmVudHMvVm9sdW1lQ29udHJvbC5qc3g/ZmQ2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQgfSBmcm9tICcuLi9saWInO1xuaW1wb3J0IHsgVm1Wb2x1bWVDb250cm9sLCBWbUNvbnRyb2wsIFZtSWNvbiwgVm1NdXRlQ29udHJvbCwgVm1Ub29sdGlwLCBWbVNsaWRlciB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vbGliJztcbmRlZmluZSgndm0tdm9sdW1lLWNvbnRyb2wnLCBWbVZvbHVtZUNvbnRyb2wpO1xuZGVmaW5lKCd2bS1jb250cm9sJywgVm1Db250cm9sKTtcbmRlZmluZSgndm0taWNvbicsIFZtSWNvbik7XG5kZWZpbmUoJ3ZtLW11dGUtY29udHJvbCcsIFZtTXV0ZUNvbnRyb2wpO1xuZGVmaW5lKCd2bS10b29sdGlwJywgVm1Ub29sdGlwKTtcbmRlZmluZSgndm0tc2xpZGVyJywgVm1TbGlkZXIpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS12b2x1bWUtY29udHJvbCcsIG5ldyBTZXQoWydsb3dWb2x1bWVJY29uJywgJ2hpZ2hWb2x1bWVJY29uJywgJ211dGVkSWNvbicsICdpY29ucycsICd0b29sdGlwUG9zaXRpb24nLCAndG9vbHRpcERpcmVjdGlvbicsICdoaWRlVG9vbHRpcCcsICdtdXRlS2V5cycsICdub0tleWJvYXJkJywgJ211dGVkJywgJ3ZvbHVtZScsICdpc01vYmlsZScsICdpMThuJ10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZvbHVtZUNvbnRyb2wuanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/VolumeControl.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/Youtube.jsx":
/*!******************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/Youtube.jsx ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib */ \"./node_modules/@vime/react/dist/esm/lib.jsx\");\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n\n\n\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-youtube', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmYoutube);\n(0,_lib__WEBPACK_IMPORTED_MODULE_0__.define)('vm-embed', _vime_core__WEBPACK_IMPORTED_MODULE_1__.VmEmbed);\n;\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,_lib__WEBPACK_IMPORTED_MODULE_0__.createComponent)('vm-youtube', new Set(['cookies', 'videoId', 'showFullscreenControl', 'poster', 'language', 'autoplay', 'controls', 'logger', 'loop', 'muted', 'playsinline'])));\n//# sourceMappingURL=Youtube.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Zb3V0dWJlLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBeUM7QUFDTztBQUNoQjtBQUNoQyw0Q0FBTSxlQUFlLGlEQUFTO0FBQzlCLDRDQUFNLGFBQWEsK0NBQU87QUFDMUI7QUFDQSwrREFBZSxxREFBZSxnS0FBZ0ssRUFBQztBQUMvTCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9Zb3V0dWJlLmpzeD82NTM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2xpYic7XG5pbXBvcnQgeyBWbVlvdXR1YmUsIFZtRW1iZWQgfSBmcm9tICdAdmltZS9jb3JlJztcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL2xpYic7XG5kZWZpbmUoJ3ZtLXlvdXR1YmUnLCBWbVlvdXR1YmUpO1xuZGVmaW5lKCd2bS1lbWJlZCcsIFZtRW1iZWQpO1xuO1xuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQ29tcG9uZW50KCd2bS15b3V0dWJlJywgbmV3IFNldChbJ2Nvb2tpZXMnLCAndmlkZW9JZCcsICdzaG93RnVsbHNjcmVlbkNvbnRyb2wnLCAncG9zdGVyJywgJ2xhbmd1YWdlJywgJ2F1dG9wbGF5JywgJ2NvbnRyb2xzJywgJ2xvZ2dlcicsICdsb29wJywgJ211dGVkJywgJ3BsYXlzaW5saW5lJ10pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVlvdXR1YmUuanN4Lm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/Youtube.jsx\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/components/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/components/index.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Audio\": function() { return /* binding */ Audio; },\n/* harmony export */   \"CaptionControl\": function() { return /* binding */ CaptionControl; },\n/* harmony export */   \"Captions\": function() { return /* binding */ Captions; },\n/* harmony export */   \"ClickToPlay\": function() { return /* binding */ ClickToPlay; },\n/* harmony export */   \"Control\": function() { return /* binding */ Control; },\n/* harmony export */   \"ControlGroup\": function() { return /* binding */ ControlGroup; },\n/* harmony export */   \"ControlSpacer\": function() { return /* binding */ ControlSpacer; },\n/* harmony export */   \"Controls\": function() { return /* binding */ Controls; },\n/* harmony export */   \"CurrentTime\": function() { return /* binding */ CurrentTime; },\n/* harmony export */   \"Dailymotion\": function() { return /* binding */ Dailymotion; },\n/* harmony export */   \"Dash\": function() { return /* binding */ Dash; },\n/* harmony export */   \"DblClickFullscreen\": function() { return /* binding */ DblClickFullscreen; },\n/* harmony export */   \"DefaultControls\": function() { return /* binding */ DefaultControls; },\n/* harmony export */   \"DefaultSettings\": function() { return /* binding */ DefaultSettings; },\n/* harmony export */   \"DefaultUi\": function() { return /* binding */ DefaultUi; },\n/* harmony export */   \"Embed\": function() { return /* binding */ Embed; },\n/* harmony export */   \"EndTime\": function() { return /* binding */ EndTime; },\n/* harmony export */   \"File\": function() { return /* binding */ File; },\n/* harmony export */   \"FullscreenControl\": function() { return /* binding */ FullscreenControl; },\n/* harmony export */   \"Hls\": function() { return /* binding */ Hls; },\n/* harmony export */   \"Icon\": function() { return /* binding */ Icon; },\n/* harmony export */   \"IconLibrary\": function() { return /* binding */ IconLibrary; },\n/* harmony export */   \"LiveIndicator\": function() { return /* binding */ LiveIndicator; },\n/* harmony export */   \"LoadingScreen\": function() { return /* binding */ LoadingScreen; },\n/* harmony export */   \"Menu\": function() { return /* binding */ Menu; },\n/* harmony export */   \"MenuItem\": function() { return /* binding */ MenuItem; },\n/* harmony export */   \"MenuRadio\": function() { return /* binding */ MenuRadio; },\n/* harmony export */   \"MenuRadioGroup\": function() { return /* binding */ MenuRadioGroup; },\n/* harmony export */   \"MuteControl\": function() { return /* binding */ MuteControl; },\n/* harmony export */   \"PipControl\": function() { return /* binding */ PipControl; },\n/* harmony export */   \"PlaybackControl\": function() { return /* binding */ PlaybackControl; },\n/* harmony export */   \"Player\": function() { return /* binding */ Player; },\n/* harmony export */   \"Poster\": function() { return /* binding */ Poster; },\n/* harmony export */   \"Scrim\": function() { return /* binding */ Scrim; },\n/* harmony export */   \"ScrubberControl\": function() { return /* binding */ ScrubberControl; },\n/* harmony export */   \"Settings\": function() { return /* binding */ Settings; },\n/* harmony export */   \"SettingsControl\": function() { return /* binding */ SettingsControl; },\n/* harmony export */   \"Skeleton\": function() { return /* binding */ Skeleton; },\n/* harmony export */   \"Slider\": function() { return /* binding */ Slider; },\n/* harmony export */   \"Spinner\": function() { return /* binding */ Spinner; },\n/* harmony export */   \"Submenu\": function() { return /* binding */ Submenu; },\n/* harmony export */   \"Time\": function() { return /* binding */ Time; },\n/* harmony export */   \"TimeProgress\": function() { return /* binding */ TimeProgress; },\n/* harmony export */   \"Tooltip\": function() { return /* binding */ Tooltip; },\n/* harmony export */   \"Ui\": function() { return /* binding */ Ui; },\n/* harmony export */   \"Video\": function() { return /* binding */ Video; },\n/* harmony export */   \"Vimeo\": function() { return /* binding */ Vimeo; },\n/* harmony export */   \"VolumeControl\": function() { return /* binding */ VolumeControl; },\n/* harmony export */   \"Youtube\": function() { return /* binding */ Youtube; }\n/* harmony export */ });\n/* harmony import */ var _Audio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Audio */ \"./node_modules/@vime/react/dist/esm/components/Audio.jsx\");\n/* harmony import */ var _CaptionControl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CaptionControl */ \"./node_modules/@vime/react/dist/esm/components/CaptionControl.jsx\");\n/* harmony import */ var _Captions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Captions */ \"./node_modules/@vime/react/dist/esm/components/Captions.jsx\");\n/* harmony import */ var _ClickToPlay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ClickToPlay */ \"./node_modules/@vime/react/dist/esm/components/ClickToPlay.jsx\");\n/* harmony import */ var _Control__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Control */ \"./node_modules/@vime/react/dist/esm/components/Control.jsx\");\n/* harmony import */ var _ControlGroup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ControlGroup */ \"./node_modules/@vime/react/dist/esm/components/ControlGroup.jsx\");\n/* harmony import */ var _ControlSpacer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ControlSpacer */ \"./node_modules/@vime/react/dist/esm/components/ControlSpacer.jsx\");\n/* harmony import */ var _Controls__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Controls */ \"./node_modules/@vime/react/dist/esm/components/Controls.jsx\");\n/* harmony import */ var _CurrentTime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./CurrentTime */ \"./node_modules/@vime/react/dist/esm/components/CurrentTime.jsx\");\n/* harmony import */ var _Dailymotion__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Dailymotion */ \"./node_modules/@vime/react/dist/esm/components/Dailymotion.jsx\");\n/* harmony import */ var _Dash__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Dash */ \"./node_modules/@vime/react/dist/esm/components/Dash.jsx\");\n/* harmony import */ var _DblClickFullscreen__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./DblClickFullscreen */ \"./node_modules/@vime/react/dist/esm/components/DblClickFullscreen.jsx\");\n/* harmony import */ var _DefaultControls__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./DefaultControls */ \"./node_modules/@vime/react/dist/esm/components/DefaultControls.jsx\");\n/* harmony import */ var _DefaultSettings__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./DefaultSettings */ \"./node_modules/@vime/react/dist/esm/components/DefaultSettings.jsx\");\n/* harmony import */ var _DefaultUi__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./DefaultUi */ \"./node_modules/@vime/react/dist/esm/components/DefaultUi.jsx\");\n/* harmony import */ var _Embed__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Embed */ \"./node_modules/@vime/react/dist/esm/components/Embed.jsx\");\n/* harmony import */ var _EndTime__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./EndTime */ \"./node_modules/@vime/react/dist/esm/components/EndTime.jsx\");\n/* harmony import */ var _File__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./File */ \"./node_modules/@vime/react/dist/esm/components/File.jsx\");\n/* harmony import */ var _FullscreenControl__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./FullscreenControl */ \"./node_modules/@vime/react/dist/esm/components/FullscreenControl.jsx\");\n/* harmony import */ var _Hls__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Hls */ \"./node_modules/@vime/react/dist/esm/components/Hls.jsx\");\n/* harmony import */ var _Icon__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Icon */ \"./node_modules/@vime/react/dist/esm/components/Icon.jsx\");\n/* harmony import */ var _IconLibrary__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./IconLibrary */ \"./node_modules/@vime/react/dist/esm/components/IconLibrary.jsx\");\n/* harmony import */ var _LiveIndicator__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./LiveIndicator */ \"./node_modules/@vime/react/dist/esm/components/LiveIndicator.jsx\");\n/* harmony import */ var _LoadingScreen__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./LoadingScreen */ \"./node_modules/@vime/react/dist/esm/components/LoadingScreen.jsx\");\n/* harmony import */ var _Menu__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Menu */ \"./node_modules/@vime/react/dist/esm/components/Menu.jsx\");\n/* harmony import */ var _MenuItem__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./MenuItem */ \"./node_modules/@vime/react/dist/esm/components/MenuItem.jsx\");\n/* harmony import */ var _MenuRadio__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./MenuRadio */ \"./node_modules/@vime/react/dist/esm/components/MenuRadio.jsx\");\n/* harmony import */ var _MenuRadioGroup__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./MenuRadioGroup */ \"./node_modules/@vime/react/dist/esm/components/MenuRadioGroup.jsx\");\n/* harmony import */ var _MuteControl__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./MuteControl */ \"./node_modules/@vime/react/dist/esm/components/MuteControl.jsx\");\n/* harmony import */ var _PipControl__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./PipControl */ \"./node_modules/@vime/react/dist/esm/components/PipControl.jsx\");\n/* harmony import */ var _PlaybackControl__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./PlaybackControl */ \"./node_modules/@vime/react/dist/esm/components/PlaybackControl.jsx\");\n/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./Player */ \"./node_modules/@vime/react/dist/esm/components/Player.jsx\");\n/* harmony import */ var _Poster__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./Poster */ \"./node_modules/@vime/react/dist/esm/components/Poster.jsx\");\n/* harmony import */ var _Scrim__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./Scrim */ \"./node_modules/@vime/react/dist/esm/components/Scrim.jsx\");\n/* harmony import */ var _ScrubberControl__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./ScrubberControl */ \"./node_modules/@vime/react/dist/esm/components/ScrubberControl.jsx\");\n/* harmony import */ var _Settings__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./Settings */ \"./node_modules/@vime/react/dist/esm/components/Settings.jsx\");\n/* harmony import */ var _SettingsControl__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./SettingsControl */ \"./node_modules/@vime/react/dist/esm/components/SettingsControl.jsx\");\n/* harmony import */ var _Skeleton__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./Skeleton */ \"./node_modules/@vime/react/dist/esm/components/Skeleton.jsx\");\n/* harmony import */ var _Slider__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./Slider */ \"./node_modules/@vime/react/dist/esm/components/Slider.jsx\");\n/* harmony import */ var _Spinner__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./Spinner */ \"./node_modules/@vime/react/dist/esm/components/Spinner.jsx\");\n/* harmony import */ var _Submenu__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./Submenu */ \"./node_modules/@vime/react/dist/esm/components/Submenu.jsx\");\n/* harmony import */ var _Time__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./Time */ \"./node_modules/@vime/react/dist/esm/components/Time.jsx\");\n/* harmony import */ var _TimeProgress__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./TimeProgress */ \"./node_modules/@vime/react/dist/esm/components/TimeProgress.jsx\");\n/* harmony import */ var _Tooltip__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./Tooltip */ \"./node_modules/@vime/react/dist/esm/components/Tooltip.jsx\");\n/* harmony import */ var _Ui__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./Ui */ \"./node_modules/@vime/react/dist/esm/components/Ui.jsx\");\n/* harmony import */ var _Video__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./Video */ \"./node_modules/@vime/react/dist/esm/components/Video.jsx\");\n/* harmony import */ var _Vimeo__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./Vimeo */ \"./node_modules/@vime/react/dist/esm/components/Vimeo.jsx\");\n/* harmony import */ var _VolumeControl__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./VolumeControl */ \"./node_modules/@vime/react/dist/esm/components/VolumeControl.jsx\");\n/* harmony import */ var _Youtube__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./Youtube */ \"./node_modules/@vime/react/dist/esm/components/Youtube.jsx\");\n/* eslint-disable */\n/* tslint:disable */\n// @ts-nocheck\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Audio = /*#__PURE__*/ _Audio__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\nconst CaptionControl = /*#__PURE__*/ _CaptionControl__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\nconst Captions = /*#__PURE__*/ _Captions__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\nconst ClickToPlay = /*#__PURE__*/ _ClickToPlay__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\nconst Control = /*#__PURE__*/ _Control__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\nconst ControlGroup = /*#__PURE__*/ _ControlGroup__WEBPACK_IMPORTED_MODULE_5__[\"default\"];\nconst ControlSpacer = /*#__PURE__*/ _ControlSpacer__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\nconst Controls = /*#__PURE__*/ _Controls__WEBPACK_IMPORTED_MODULE_7__[\"default\"];\nconst CurrentTime = /*#__PURE__*/ _CurrentTime__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\nconst Dailymotion = /*#__PURE__*/ _Dailymotion__WEBPACK_IMPORTED_MODULE_9__[\"default\"];\nconst Dash = /*#__PURE__*/ _Dash__WEBPACK_IMPORTED_MODULE_10__[\"default\"];\nconst DblClickFullscreen = /*#__PURE__*/ _DblClickFullscreen__WEBPACK_IMPORTED_MODULE_11__[\"default\"];\nconst DefaultControls = /*#__PURE__*/ _DefaultControls__WEBPACK_IMPORTED_MODULE_12__[\"default\"];\nconst DefaultSettings = /*#__PURE__*/ _DefaultSettings__WEBPACK_IMPORTED_MODULE_13__[\"default\"];\nconst DefaultUi = /*#__PURE__*/ _DefaultUi__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\nconst Embed = /*#__PURE__*/ _Embed__WEBPACK_IMPORTED_MODULE_15__[\"default\"];\nconst EndTime = /*#__PURE__*/ _EndTime__WEBPACK_IMPORTED_MODULE_16__[\"default\"];\nconst File = /*#__PURE__*/ _File__WEBPACK_IMPORTED_MODULE_17__[\"default\"];\nconst FullscreenControl = /*#__PURE__*/ _FullscreenControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"];\nconst Hls = /*#__PURE__*/ _Hls__WEBPACK_IMPORTED_MODULE_19__[\"default\"];\nconst Icon = /*#__PURE__*/ _Icon__WEBPACK_IMPORTED_MODULE_20__[\"default\"];\nconst IconLibrary = /*#__PURE__*/ _IconLibrary__WEBPACK_IMPORTED_MODULE_21__[\"default\"];\nconst LiveIndicator = /*#__PURE__*/ _LiveIndicator__WEBPACK_IMPORTED_MODULE_22__[\"default\"];\nconst LoadingScreen = /*#__PURE__*/ _LoadingScreen__WEBPACK_IMPORTED_MODULE_23__[\"default\"];\nconst Menu = /*#__PURE__*/ _Menu__WEBPACK_IMPORTED_MODULE_24__[\"default\"];\nconst MenuItem = /*#__PURE__*/ _MenuItem__WEBPACK_IMPORTED_MODULE_25__[\"default\"];\nconst MenuRadio = /*#__PURE__*/ _MenuRadio__WEBPACK_IMPORTED_MODULE_26__[\"default\"];\nconst MenuRadioGroup = /*#__PURE__*/ _MenuRadioGroup__WEBPACK_IMPORTED_MODULE_27__[\"default\"];\nconst MuteControl = /*#__PURE__*/ _MuteControl__WEBPACK_IMPORTED_MODULE_28__[\"default\"];\nconst PipControl = /*#__PURE__*/ _PipControl__WEBPACK_IMPORTED_MODULE_29__[\"default\"];\nconst PlaybackControl = /*#__PURE__*/ _PlaybackControl__WEBPACK_IMPORTED_MODULE_30__[\"default\"];\nconst Player = /*#__PURE__*/ _Player__WEBPACK_IMPORTED_MODULE_31__[\"default\"];\nconst Poster = /*#__PURE__*/ _Poster__WEBPACK_IMPORTED_MODULE_32__[\"default\"];\nconst Scrim = /*#__PURE__*/ _Scrim__WEBPACK_IMPORTED_MODULE_33__[\"default\"];\nconst ScrubberControl = /*#__PURE__*/ _ScrubberControl__WEBPACK_IMPORTED_MODULE_34__[\"default\"];\nconst Settings = /*#__PURE__*/ _Settings__WEBPACK_IMPORTED_MODULE_35__[\"default\"];\nconst SettingsControl = /*#__PURE__*/ _SettingsControl__WEBPACK_IMPORTED_MODULE_36__[\"default\"];\nconst Skeleton = /*#__PURE__*/ _Skeleton__WEBPACK_IMPORTED_MODULE_37__[\"default\"];\nconst Slider = /*#__PURE__*/ _Slider__WEBPACK_IMPORTED_MODULE_38__[\"default\"];\nconst Spinner = /*#__PURE__*/ _Spinner__WEBPACK_IMPORTED_MODULE_39__[\"default\"];\nconst Submenu = /*#__PURE__*/ _Submenu__WEBPACK_IMPORTED_MODULE_40__[\"default\"];\nconst Time = /*#__PURE__*/ _Time__WEBPACK_IMPORTED_MODULE_41__[\"default\"];\nconst TimeProgress = /*#__PURE__*/ _TimeProgress__WEBPACK_IMPORTED_MODULE_42__[\"default\"];\nconst Tooltip = /*#__PURE__*/ _Tooltip__WEBPACK_IMPORTED_MODULE_43__[\"default\"];\nconst Ui = /*#__PURE__*/ _Ui__WEBPACK_IMPORTED_MODULE_44__[\"default\"];\nconst Video = /*#__PURE__*/ _Video__WEBPACK_IMPORTED_MODULE_45__[\"default\"];\nconst Vimeo = /*#__PURE__*/ _Vimeo__WEBPACK_IMPORTED_MODULE_46__[\"default\"];\nconst VolumeControl = /*#__PURE__*/ _VolumeControl__WEBPACK_IMPORTED_MODULE_47__[\"default\"];\nconst Youtube = /*#__PURE__*/ _Youtube__WEBPACK_IMPORTED_MODULE_48__[\"default\"];\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNpQztBQUNrQjtBQUNaO0FBQ007QUFDUjtBQUNVO0FBQ0U7QUFDVjtBQUNNO0FBQ0E7QUFDZDtBQUM0QjtBQUNOO0FBQ0E7QUFDWjtBQUNSO0FBQ0k7QUFDTjtBQUMwQjtBQUM1QjtBQUNFO0FBQ2M7QUFDSTtBQUNBO0FBQ2xCO0FBQ1E7QUFDRTtBQUNVO0FBQ047QUFDRjtBQUNVO0FBQ2xCO0FBQ0E7QUFDRjtBQUNvQjtBQUNkO0FBQ2M7QUFDZDtBQUNKO0FBQ0U7QUFDQTtBQUNOO0FBQ2dCO0FBQ1Y7QUFDVjtBQUNNO0FBQ0E7QUFDZ0I7QUFDWjtBQUM5Qiw0QkFBNEIsOENBQVU7QUFDdEMscUNBQXFDLHVEQUFtQjtBQUN4RCwrQkFBK0IsaURBQWE7QUFDNUMsa0NBQWtDLG9EQUFnQjtBQUNsRCw4QkFBOEIsZ0RBQVk7QUFDMUMsbUNBQW1DLHFEQUFpQjtBQUNwRCxvQ0FBb0Msc0RBQWtCO0FBQ3RELCtCQUErQixpREFBYTtBQUM1QyxrQ0FBa0Msb0RBQWdCO0FBQ2xELGtDQUFrQyxvREFBZ0I7QUFDbEQsMkJBQTJCLDhDQUFTO0FBQ3BDLHlDQUF5Qyw0REFBdUI7QUFDaEUsc0NBQXNDLHlEQUFvQjtBQUMxRCxzQ0FBc0MseURBQW9CO0FBQzFELGdDQUFnQyxtREFBYztBQUM5Qyw0QkFBNEIsK0NBQVU7QUFDdEMsOEJBQThCLGlEQUFZO0FBQzFDLDJCQUEyQiw4Q0FBUztBQUNwQyx3Q0FBd0MsMkRBQXNCO0FBQzlELDBCQUEwQiw2Q0FBUTtBQUNsQywyQkFBMkIsOENBQVM7QUFDcEMsa0NBQWtDLHFEQUFnQjtBQUNsRCxvQ0FBb0MsdURBQWtCO0FBQ3RELG9DQUFvQyx1REFBa0I7QUFDdEQsMkJBQTJCLDhDQUFTO0FBQ3BDLCtCQUErQixrREFBYTtBQUM1QyxnQ0FBZ0MsbURBQWM7QUFDOUMscUNBQXFDLHdEQUFtQjtBQUN4RCxrQ0FBa0MscURBQWdCO0FBQ2xELGlDQUFpQyxvREFBZTtBQUNoRCxzQ0FBc0MseURBQW9CO0FBQzFELDZCQUE2QixnREFBVztBQUN4Qyw2QkFBNkIsZ0RBQVc7QUFDeEMsNEJBQTRCLCtDQUFVO0FBQ3RDLHNDQUFzQyx5REFBb0I7QUFDMUQsK0JBQStCLGtEQUFhO0FBQzVDLHNDQUFzQyx5REFBb0I7QUFDMUQsK0JBQStCLGtEQUFhO0FBQzVDLDZCQUE2QixnREFBVztBQUN4Qyw4QkFBOEIsaURBQVk7QUFDMUMsOEJBQThCLGlEQUFZO0FBQzFDLDJCQUEyQiw4Q0FBUztBQUNwQyxtQ0FBbUMsc0RBQWlCO0FBQ3BELDhCQUE4QixpREFBWTtBQUMxQyx5QkFBeUIsNENBQU87QUFDaEMsNEJBQTRCLCtDQUFVO0FBQ3RDLDRCQUE0QiwrQ0FBVTtBQUN0QyxvQ0FBb0MsdURBQWtCO0FBQ3RELDhCQUE4QixpREFBWTtBQUNqRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vY29tcG9uZW50cy9pbmRleC5qcz84ZmYwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuLy8gQHRzLW5vY2hlY2tcbmltcG9ydCBBdWRpb1Byb3h5IGZyb20gJy4vQXVkaW8nO1xuaW1wb3J0IENhcHRpb25Db250cm9sUHJveHkgZnJvbSAnLi9DYXB0aW9uQ29udHJvbCc7XG5pbXBvcnQgQ2FwdGlvbnNQcm94eSBmcm9tICcuL0NhcHRpb25zJztcbmltcG9ydCBDbGlja1RvUGxheVByb3h5IGZyb20gJy4vQ2xpY2tUb1BsYXknO1xuaW1wb3J0IENvbnRyb2xQcm94eSBmcm9tICcuL0NvbnRyb2wnO1xuaW1wb3J0IENvbnRyb2xHcm91cFByb3h5IGZyb20gJy4vQ29udHJvbEdyb3VwJztcbmltcG9ydCBDb250cm9sU3BhY2VyUHJveHkgZnJvbSAnLi9Db250cm9sU3BhY2VyJztcbmltcG9ydCBDb250cm9sc1Byb3h5IGZyb20gJy4vQ29udHJvbHMnO1xuaW1wb3J0IEN1cnJlbnRUaW1lUHJveHkgZnJvbSAnLi9DdXJyZW50VGltZSc7XG5pbXBvcnQgRGFpbHltb3Rpb25Qcm94eSBmcm9tICcuL0RhaWx5bW90aW9uJztcbmltcG9ydCBEYXNoUHJveHkgZnJvbSAnLi9EYXNoJztcbmltcG9ydCBEYmxDbGlja0Z1bGxzY3JlZW5Qcm94eSBmcm9tICcuL0RibENsaWNrRnVsbHNjcmVlbic7XG5pbXBvcnQgRGVmYXVsdENvbnRyb2xzUHJveHkgZnJvbSAnLi9EZWZhdWx0Q29udHJvbHMnO1xuaW1wb3J0IERlZmF1bHRTZXR0aW5nc1Byb3h5IGZyb20gJy4vRGVmYXVsdFNldHRpbmdzJztcbmltcG9ydCBEZWZhdWx0VWlQcm94eSBmcm9tICcuL0RlZmF1bHRVaSc7XG5pbXBvcnQgRW1iZWRQcm94eSBmcm9tICcuL0VtYmVkJztcbmltcG9ydCBFbmRUaW1lUHJveHkgZnJvbSAnLi9FbmRUaW1lJztcbmltcG9ydCBGaWxlUHJveHkgZnJvbSAnLi9GaWxlJztcbmltcG9ydCBGdWxsc2NyZWVuQ29udHJvbFByb3h5IGZyb20gJy4vRnVsbHNjcmVlbkNvbnRyb2wnO1xuaW1wb3J0IEhsc1Byb3h5IGZyb20gJy4vSGxzJztcbmltcG9ydCBJY29uUHJveHkgZnJvbSAnLi9JY29uJztcbmltcG9ydCBJY29uTGlicmFyeVByb3h5IGZyb20gJy4vSWNvbkxpYnJhcnknO1xuaW1wb3J0IExpdmVJbmRpY2F0b3JQcm94eSBmcm9tICcuL0xpdmVJbmRpY2F0b3InO1xuaW1wb3J0IExvYWRpbmdTY3JlZW5Qcm94eSBmcm9tICcuL0xvYWRpbmdTY3JlZW4nO1xuaW1wb3J0IE1lbnVQcm94eSBmcm9tICcuL01lbnUnO1xuaW1wb3J0IE1lbnVJdGVtUHJveHkgZnJvbSAnLi9NZW51SXRlbSc7XG5pbXBvcnQgTWVudVJhZGlvUHJveHkgZnJvbSAnLi9NZW51UmFkaW8nO1xuaW1wb3J0IE1lbnVSYWRpb0dyb3VwUHJveHkgZnJvbSAnLi9NZW51UmFkaW9Hcm91cCc7XG5pbXBvcnQgTXV0ZUNvbnRyb2xQcm94eSBmcm9tICcuL011dGVDb250cm9sJztcbmltcG9ydCBQaXBDb250cm9sUHJveHkgZnJvbSAnLi9QaXBDb250cm9sJztcbmltcG9ydCBQbGF5YmFja0NvbnRyb2xQcm94eSBmcm9tICcuL1BsYXliYWNrQ29udHJvbCc7XG5pbXBvcnQgUGxheWVyUHJveHkgZnJvbSAnLi9QbGF5ZXInO1xuaW1wb3J0IFBvc3RlclByb3h5IGZyb20gJy4vUG9zdGVyJztcbmltcG9ydCBTY3JpbVByb3h5IGZyb20gJy4vU2NyaW0nO1xuaW1wb3J0IFNjcnViYmVyQ29udHJvbFByb3h5IGZyb20gJy4vU2NydWJiZXJDb250cm9sJztcbmltcG9ydCBTZXR0aW5nc1Byb3h5IGZyb20gJy4vU2V0dGluZ3MnO1xuaW1wb3J0IFNldHRpbmdzQ29udHJvbFByb3h5IGZyb20gJy4vU2V0dGluZ3NDb250cm9sJztcbmltcG9ydCBTa2VsZXRvblByb3h5IGZyb20gJy4vU2tlbGV0b24nO1xuaW1wb3J0IFNsaWRlclByb3h5IGZyb20gJy4vU2xpZGVyJztcbmltcG9ydCBTcGlubmVyUHJveHkgZnJvbSAnLi9TcGlubmVyJztcbmltcG9ydCBTdWJtZW51UHJveHkgZnJvbSAnLi9TdWJtZW51JztcbmltcG9ydCBUaW1lUHJveHkgZnJvbSAnLi9UaW1lJztcbmltcG9ydCBUaW1lUHJvZ3Jlc3NQcm94eSBmcm9tICcuL1RpbWVQcm9ncmVzcyc7XG5pbXBvcnQgVG9vbHRpcFByb3h5IGZyb20gJy4vVG9vbHRpcCc7XG5pbXBvcnQgVWlQcm94eSBmcm9tICcuL1VpJztcbmltcG9ydCBWaWRlb1Byb3h5IGZyb20gJy4vVmlkZW8nO1xuaW1wb3J0IFZpbWVvUHJveHkgZnJvbSAnLi9WaW1lbyc7XG5pbXBvcnQgVm9sdW1lQ29udHJvbFByb3h5IGZyb20gJy4vVm9sdW1lQ29udHJvbCc7XG5pbXBvcnQgWW91dHViZVByb3h5IGZyb20gJy4vWW91dHViZSc7XG5leHBvcnQgY29uc3QgQXVkaW8gPSAvKiNfX1BVUkVfXyovIEF1ZGlvUHJveHk7XG5leHBvcnQgY29uc3QgQ2FwdGlvbkNvbnRyb2wgPSAvKiNfX1BVUkVfXyovIENhcHRpb25Db250cm9sUHJveHk7XG5leHBvcnQgY29uc3QgQ2FwdGlvbnMgPSAvKiNfX1BVUkVfXyovIENhcHRpb25zUHJveHk7XG5leHBvcnQgY29uc3QgQ2xpY2tUb1BsYXkgPSAvKiNfX1BVUkVfXyovIENsaWNrVG9QbGF5UHJveHk7XG5leHBvcnQgY29uc3QgQ29udHJvbCA9IC8qI19fUFVSRV9fKi8gQ29udHJvbFByb3h5O1xuZXhwb3J0IGNvbnN0IENvbnRyb2xHcm91cCA9IC8qI19fUFVSRV9fKi8gQ29udHJvbEdyb3VwUHJveHk7XG5leHBvcnQgY29uc3QgQ29udHJvbFNwYWNlciA9IC8qI19fUFVSRV9fKi8gQ29udHJvbFNwYWNlclByb3h5O1xuZXhwb3J0IGNvbnN0IENvbnRyb2xzID0gLyojX19QVVJFX18qLyBDb250cm9sc1Byb3h5O1xuZXhwb3J0IGNvbnN0IEN1cnJlbnRUaW1lID0gLyojX19QVVJFX18qLyBDdXJyZW50VGltZVByb3h5O1xuZXhwb3J0IGNvbnN0IERhaWx5bW90aW9uID0gLyojX19QVVJFX18qLyBEYWlseW1vdGlvblByb3h5O1xuZXhwb3J0IGNvbnN0IERhc2ggPSAvKiNfX1BVUkVfXyovIERhc2hQcm94eTtcbmV4cG9ydCBjb25zdCBEYmxDbGlja0Z1bGxzY3JlZW4gPSAvKiNfX1BVUkVfXyovIERibENsaWNrRnVsbHNjcmVlblByb3h5O1xuZXhwb3J0IGNvbnN0IERlZmF1bHRDb250cm9scyA9IC8qI19fUFVSRV9fKi8gRGVmYXVsdENvbnRyb2xzUHJveHk7XG5leHBvcnQgY29uc3QgRGVmYXVsdFNldHRpbmdzID0gLyojX19QVVJFX18qLyBEZWZhdWx0U2V0dGluZ3NQcm94eTtcbmV4cG9ydCBjb25zdCBEZWZhdWx0VWkgPSAvKiNfX1BVUkVfXyovIERlZmF1bHRVaVByb3h5O1xuZXhwb3J0IGNvbnN0IEVtYmVkID0gLyojX19QVVJFX18qLyBFbWJlZFByb3h5O1xuZXhwb3J0IGNvbnN0IEVuZFRpbWUgPSAvKiNfX1BVUkVfXyovIEVuZFRpbWVQcm94eTtcbmV4cG9ydCBjb25zdCBGaWxlID0gLyojX19QVVJFX18qLyBGaWxlUHJveHk7XG5leHBvcnQgY29uc3QgRnVsbHNjcmVlbkNvbnRyb2wgPSAvKiNfX1BVUkVfXyovIEZ1bGxzY3JlZW5Db250cm9sUHJveHk7XG5leHBvcnQgY29uc3QgSGxzID0gLyojX19QVVJFX18qLyBIbHNQcm94eTtcbmV4cG9ydCBjb25zdCBJY29uID0gLyojX19QVVJFX18qLyBJY29uUHJveHk7XG5leHBvcnQgY29uc3QgSWNvbkxpYnJhcnkgPSAvKiNfX1BVUkVfXyovIEljb25MaWJyYXJ5UHJveHk7XG5leHBvcnQgY29uc3QgTGl2ZUluZGljYXRvciA9IC8qI19fUFVSRV9fKi8gTGl2ZUluZGljYXRvclByb3h5O1xuZXhwb3J0IGNvbnN0IExvYWRpbmdTY3JlZW4gPSAvKiNfX1BVUkVfXyovIExvYWRpbmdTY3JlZW5Qcm94eTtcbmV4cG9ydCBjb25zdCBNZW51ID0gLyojX19QVVJFX18qLyBNZW51UHJveHk7XG5leHBvcnQgY29uc3QgTWVudUl0ZW0gPSAvKiNfX1BVUkVfXyovIE1lbnVJdGVtUHJveHk7XG5leHBvcnQgY29uc3QgTWVudVJhZGlvID0gLyojX19QVVJFX18qLyBNZW51UmFkaW9Qcm94eTtcbmV4cG9ydCBjb25zdCBNZW51UmFkaW9Hcm91cCA9IC8qI19fUFVSRV9fKi8gTWVudVJhZGlvR3JvdXBQcm94eTtcbmV4cG9ydCBjb25zdCBNdXRlQ29udHJvbCA9IC8qI19fUFVSRV9fKi8gTXV0ZUNvbnRyb2xQcm94eTtcbmV4cG9ydCBjb25zdCBQaXBDb250cm9sID0gLyojX19QVVJFX18qLyBQaXBDb250cm9sUHJveHk7XG5leHBvcnQgY29uc3QgUGxheWJhY2tDb250cm9sID0gLyojX19QVVJFX18qLyBQbGF5YmFja0NvbnRyb2xQcm94eTtcbmV4cG9ydCBjb25zdCBQbGF5ZXIgPSAvKiNfX1BVUkVfXyovIFBsYXllclByb3h5O1xuZXhwb3J0IGNvbnN0IFBvc3RlciA9IC8qI19fUFVSRV9fKi8gUG9zdGVyUHJveHk7XG5leHBvcnQgY29uc3QgU2NyaW0gPSAvKiNfX1BVUkVfXyovIFNjcmltUHJveHk7XG5leHBvcnQgY29uc3QgU2NydWJiZXJDb250cm9sID0gLyojX19QVVJFX18qLyBTY3J1YmJlckNvbnRyb2xQcm94eTtcbmV4cG9ydCBjb25zdCBTZXR0aW5ncyA9IC8qI19fUFVSRV9fKi8gU2V0dGluZ3NQcm94eTtcbmV4cG9ydCBjb25zdCBTZXR0aW5nc0NvbnRyb2wgPSAvKiNfX1BVUkVfXyovIFNldHRpbmdzQ29udHJvbFByb3h5O1xuZXhwb3J0IGNvbnN0IFNrZWxldG9uID0gLyojX19QVVJFX18qLyBTa2VsZXRvblByb3h5O1xuZXhwb3J0IGNvbnN0IFNsaWRlciA9IC8qI19fUFVSRV9fKi8gU2xpZGVyUHJveHk7XG5leHBvcnQgY29uc3QgU3Bpbm5lciA9IC8qI19fUFVSRV9fKi8gU3Bpbm5lclByb3h5O1xuZXhwb3J0IGNvbnN0IFN1Ym1lbnUgPSAvKiNfX1BVUkVfXyovIFN1Ym1lbnVQcm94eTtcbmV4cG9ydCBjb25zdCBUaW1lID0gLyojX19QVVJFX18qLyBUaW1lUHJveHk7XG5leHBvcnQgY29uc3QgVGltZVByb2dyZXNzID0gLyojX19QVVJFX18qLyBUaW1lUHJvZ3Jlc3NQcm94eTtcbmV4cG9ydCBjb25zdCBUb29sdGlwID0gLyojX19QVVJFX18qLyBUb29sdGlwUHJveHk7XG5leHBvcnQgY29uc3QgVWkgPSAvKiNfX1BVUkVfXyovIFVpUHJveHk7XG5leHBvcnQgY29uc3QgVmlkZW8gPSAvKiNfX1BVUkVfXyovIFZpZGVvUHJveHk7XG5leHBvcnQgY29uc3QgVmltZW8gPSAvKiNfX1BVUkVfXyovIFZpbWVvUHJveHk7XG5leHBvcnQgY29uc3QgVm9sdW1lQ29udHJvbCA9IC8qI19fUFVSRV9fKi8gVm9sdW1lQ29udHJvbFByb3h5O1xuZXhwb3J0IGNvbnN0IFlvdXR1YmUgPSAvKiNfX1BVUkVfXyovIFlvdXR1YmVQcm94eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/components/index.js\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/hooks.js":
/*!****************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/hooks.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"usePlayer\": function() { return /* binding */ usePlayer; },\n/* harmony export */   \"usePlayerContext\": function() { return /* binding */ usePlayerContext; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nconst noop = () => { };\n/**\n * Returns the closest ancestor player to the given `ref`.\n */\nconst usePlayer = (ref) => {\n    const [player, setPlayer] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {\n        function find() {\n            var _a;\n            return __awaiter(this, void 0, void 0, function* () {\n                setPlayer(ref.current ? (_a = (yield (0,_vime_core__WEBPACK_IMPORTED_MODULE_1__.findPlayer)(ref.current))) !== null && _a !== void 0 ? _a : null : null);\n            });\n        }\n        find();\n    }, [ref.current]);\n    return player;\n};\n/**\n * Binds the given `prop` to the closest ancestor player of the given `ref`. When the property\n * changes on the player, this hook will trigger a re-render with the new value.\n *\n * @param ref The ref to start searching from.\n * @param prop The property to bind to.\n * @param defaultValue The initial value of the property until the the player context is bound.\n */\nconst usePlayerContext = (ref, prop, defaultValue) => {\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue);\n    const dispatch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(ref.current === null ? noop : (0,_vime_core__WEBPACK_IMPORTED_MODULE_1__.createDispatcher)(ref.current), [ref.current]);\n    const setter = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    (value) => {\n        dispatch(prop, value);\n    }, [dispatch, prop]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {\n        if (ref.current === null)\n            return undefined;\n        let cleanup;\n        function connect() {\n            return __awaiter(this, void 0, void 0, function* () {\n                cleanup = yield (0,_vime_core__WEBPACK_IMPORTED_MODULE_1__.usePlayerContext)(ref.current, [prop], (_, newValue) => {\n                    setValue(newValue);\n                });\n            });\n        }\n        connect();\n        return () => {\n            cleanup === null || cleanup === void 0 ? void 0 : cleanup();\n        };\n    }, [ref.current, prop]);\n    return [value, setter];\n};\n//# sourceMappingURL=hooks.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vaG9va3MuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0IsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDK0Q7QUFDNEI7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGdDQUFnQywrQ0FBUTtBQUN4QyxJQUFJLHNEQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxzREFBVTtBQUMvRCxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsOEJBQThCLCtDQUFRO0FBQ3RDLHFCQUFxQixrREFBVywrQkFBK0IsNERBQWdCO0FBQy9FLG1CQUFtQixrREFBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxzREFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDREQUFVO0FBQzFDO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vaG9va3MuanM/M2ZkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VMYXlvdXRFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlRGlzcGF0Y2hlciwgdXNlUGxheWVyQ29udGV4dCBhcyB1c2VDb250ZXh0LCBmaW5kUGxheWVyLCB9IGZyb20gJ0B2aW1lL2NvcmUnO1xuY29uc3Qgbm9vcCA9ICgpID0+IHsgfTtcbi8qKlxuICogUmV0dXJucyB0aGUgY2xvc2VzdCBhbmNlc3RvciBwbGF5ZXIgdG8gdGhlIGdpdmVuIGByZWZgLlxuICovXG5leHBvcnQgY29uc3QgdXNlUGxheWVyID0gKHJlZikgPT4ge1xuICAgIGNvbnN0IFtwbGF5ZXIsIHNldFBsYXllcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBmdW5jdGlvbiBmaW5kKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBzZXRQbGF5ZXIocmVmLmN1cnJlbnQgPyAoX2EgPSAoeWllbGQgZmluZFBsYXllcihyZWYuY3VycmVudCkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsIDogbnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmaW5kKCk7XG4gICAgfSwgW3JlZi5jdXJyZW50XSk7XG4gICAgcmV0dXJuIHBsYXllcjtcbn07XG4vKipcbiAqIEJpbmRzIHRoZSBnaXZlbiBgcHJvcGAgdG8gdGhlIGNsb3Nlc3QgYW5jZXN0b3IgcGxheWVyIG9mIHRoZSBnaXZlbiBgcmVmYC4gV2hlbiB0aGUgcHJvcGVydHlcbiAqIGNoYW5nZXMgb24gdGhlIHBsYXllciwgdGhpcyBob29rIHdpbGwgdHJpZ2dlciBhIHJlLXJlbmRlciB3aXRoIHRoZSBuZXcgdmFsdWUuXG4gKlxuICogQHBhcmFtIHJlZiBUaGUgcmVmIHRvIHN0YXJ0IHNlYXJjaGluZyBmcm9tLlxuICogQHBhcmFtIHByb3AgVGhlIHByb3BlcnR5IHRvIGJpbmQgdG8uXG4gKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBpbml0aWFsIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB1bnRpbCB0aGUgdGhlIHBsYXllciBjb250ZXh0IGlzIGJvdW5kLlxuICovXG5leHBvcnQgY29uc3QgdXNlUGxheWVyQ29udGV4dCA9IChyZWYsIHByb3AsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUoZGVmYXVsdFZhbHVlKTtcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZUNhbGxiYWNrKHJlZi5jdXJyZW50ID09PSBudWxsID8gbm9vcCA6IGNyZWF0ZURpc3BhdGNoZXIocmVmLmN1cnJlbnQpLCBbcmVmLmN1cnJlbnRdKTtcbiAgICBjb25zdCBzZXR0ZXIgPSB1c2VDYWxsYmFjayhcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICBkaXNwYXRjaChwcm9wLCB2YWx1ZSk7XG4gICAgfSwgW2Rpc3BhdGNoLCBwcm9wXSk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHJlZi5jdXJyZW50ID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGNsZWFudXA7XG4gICAgICAgIGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNsZWFudXAgPSB5aWVsZCB1c2VDb250ZXh0KHJlZi5jdXJyZW50LCBbcHJvcF0sIChfLCBuZXdWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZShuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0KCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhbnVwID09PSBudWxsIHx8IGNsZWFudXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNsZWFudXAoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbcmVmLmN1cnJlbnQsIHByb3BdKTtcbiAgICByZXR1cm4gW3ZhbHVlLCBzZXR0ZXJdO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvb2tzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/hooks.js\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/index.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Provider\": function() { return /* reexport safe */ _vime_core__WEBPACK_IMPORTED_MODULE_0__.Provider; },\n/* harmony export */   \"ViewType\": function() { return /* reexport safe */ _vime_core__WEBPACK_IMPORTED_MODULE_0__.ViewType; },\n/* harmony export */   \"watchComponentRegistry\": function() { return /* reexport safe */ _vime_core__WEBPACK_IMPORTED_MODULE_0__.watchComponentRegistry; }\n/* harmony export */ });\n/* harmony import */ var _vime_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @vime/core */ \"./node_modules/@vime/core/dist/custom-elements/index.js\");\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components */ \"./node_modules/@vime/react/dist/esm/components/index.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _components__WEBPACK_IMPORTED_MODULE_1__) if([\"default\",\"ViewType\",\"Provider\",\"watchComponentRegistry\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _components__WEBPACK_IMPORTED_MODULE_1__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hooks */ \"./node_modules/@vime/react/dist/esm/hooks.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _hooks__WEBPACK_IMPORTED_MODULE_2__) if([\"default\",\"ViewType\",\"Provider\",\"watchComponentRegistry\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _hooks__WEBPACK_IMPORTED_MODULE_2__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXdFO0FBQzNDO0FBQ0w7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL3JlYWN0L2Rpc3QvZXNtL2luZGV4LmpzPzQxMGYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgVmlld1R5cGUsIFByb3ZpZGVyLCB3YXRjaENvbXBvbmVudFJlZ2lzdHJ5IH0gZnJvbSAnQHZpbWUvY29yZSc7XG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMnO1xuZXhwb3J0ICogZnJvbSAnLi9ob29rcyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/index.js\n"));

/***/ }),

/***/ "./node_modules/@vime/react/dist/esm/lib.jsx":
/*!***************************************************!*\
  !*** ./node_modules/@vime/react/dist/esm/lib.jsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createComponent\": function() { return /* binding */ createComponent; },\n/* harmony export */   \"define\": function() { return /* binding */ define; }\n/* harmony export */ });\n/* harmony import */ var _seznam_compose_react_refs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @seznam/compose-react-refs */ \"./node_modules/@seznam/compose-react-refs/composeRefs.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint-disable react/prop-types */\n\n\nconst define = (tagName, clazz) => {\n    const isClient = typeof window !== 'undefined';\n    if (isClient && !customElements.get(tagName))\n        customElements.define(tagName, clazz);\n};\nconst dashToPascalCase = (str) => str\n    .toLowerCase()\n    .split('-')\n    .map(segment => segment.charAt(0).toUpperCase() + segment.slice(1))\n    .join('');\nconst isEvent = (prop) => { var _a; return prop.indexOf('on') === 0 && prop[2] === ((_a = prop[2]) === null || _a === void 0 ? void 0 : _a.toUpperCase()); };\nconst toDomEventName = (prop) => prop.charAt(2).toLowerCase() + prop.substring(3);\nfunction createComponent(tagName, componentProps) {\n    const Component = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((_a, forwardedRef) => {\n        var { children } = _a, props = __rest(_a, [\"children\"]);\n        const [ref, setRef] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n        const setRefCb = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((node) => {\n            setRef(node);\n        }, []);\n        const eventHandlers = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map());\n        const domProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => Object.keys(props)\n            .filter(prop => !componentProps.has(prop) && !isEvent(prop))\n            .reduce((p, c) => (Object.assign(Object.assign({}, p), { [c]: props[c] })), {}), [props]);\n        const wcProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => Object.keys(props)\n            .filter(prop => componentProps.has(prop) || isEvent(prop))\n            .reduce((p, c) => (Object.assign(Object.assign({}, p), { [c]: props[c] })), {}), [props]);\n        const listen = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((prop, handler) => {\n            var _a;\n            const domEvent = toDomEventName(prop);\n            (_a = eventHandlers.current.get(domEvent)) === null || _a === void 0 ? void 0 : _a();\n            if (!ref || !handler)\n                return;\n            ref.addEventListener(domEvent, handler);\n            eventHandlers.current.set(domEvent, () => {\n                ref.removeEventListener(domEvent, handler);\n            });\n        }, [ref]);\n        const cleanup = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n            eventHandlers.current.forEach(fn => fn());\n            eventHandlers.current.clear();\n        }, []);\n        (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => () => {\n            cleanup();\n        }, []);\n        (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n            if (!ref)\n                return;\n            Object.keys(wcProps).forEach(prop => {\n                if (isEvent(prop)) {\n                    listen(prop, wcProps[prop]);\n                    return;\n                }\n                if (ref[prop] !== wcProps[prop]) {\n                    ref[prop] = wcProps[prop];\n                }\n            });\n        }, [ref, wcProps]);\n        return (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(tagName, Object.assign({ ref: (0,_seznam_compose_react_refs__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(setRefCb, forwardedRef) }, domProps), children);\n    });\n    Component.displayName = dashToPascalCase(tagName);\n    return Component;\n}\n//# sourceMappingURL=lib.jsx.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vbGliLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLGNBQWMsU0FBSSxJQUFJLFNBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsY0FBYztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDcUQ7QUFDaUQ7QUFDL0Y7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsUUFBUTtBQUNwQztBQUNPO0FBQ1Asc0JBQXNCLGlEQUFVO0FBQ2hDLGNBQWMsV0FBVztBQUN6Qiw4QkFBOEIsK0NBQVE7QUFDdEMseUJBQXlCLGtEQUFXO0FBQ3BDO0FBQ0EsU0FBUztBQUNULDhCQUE4Qiw2Q0FBTTtBQUNwQyx5QkFBeUIsOENBQU87QUFDaEM7QUFDQSw2REFBNkQsUUFBUSxlQUFlLE1BQU07QUFDMUYsd0JBQXdCLDhDQUFPO0FBQy9CO0FBQ0EsNkRBQTZELFFBQVEsZUFBZSxNQUFNO0FBQzFGLHVCQUF1QixrREFBVztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCx3QkFBd0Isa0RBQVc7QUFDbkM7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLGdEQUFTO0FBQ2pCO0FBQ0EsU0FBUztBQUNULFFBQVEsZ0RBQVM7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULGVBQWUsb0RBQWEsMEJBQTBCLEtBQUssc0VBQVcsMEJBQTBCO0FBQ2hHLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvcmVhY3QvZGlzdC9lc20vbGliLmpzeD8zY2Q1Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3Byb3AtdHlwZXMgKi9cbmltcG9ydCBjb21wb3NlUmVmcyBmcm9tICdAc2V6bmFtL2NvbXBvc2UtcmVhY3QtcmVmcyc7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBmb3J3YXJkUmVmLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlLCB9IGZyb20gJ3JlYWN0JztcbmV4cG9ydCBjb25zdCBkZWZpbmUgPSAodGFnTmFtZSwgY2xhenopID0+IHtcbiAgICBjb25zdCBpc0NsaWVudCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuICAgIGlmIChpc0NsaWVudCAmJiAhY3VzdG9tRWxlbWVudHMuZ2V0KHRhZ05hbWUpKVxuICAgICAgICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xufTtcbmNvbnN0IGRhc2hUb1Bhc2NhbENhc2UgPSAoc3RyKSA9PiBzdHJcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC5zcGxpdCgnLScpXG4gICAgLm1hcChzZWdtZW50ID0+IHNlZ21lbnQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzZWdtZW50LnNsaWNlKDEpKVxuICAgIC5qb2luKCcnKTtcbmNvbnN0IGlzRXZlbnQgPSAocHJvcCkgPT4geyB2YXIgX2E7IHJldHVybiBwcm9wLmluZGV4T2YoJ29uJykgPT09IDAgJiYgcHJvcFsyXSA9PT0gKChfYSA9IHByb3BbMl0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b1VwcGVyQ2FzZSgpKTsgfTtcbmNvbnN0IHRvRG9tRXZlbnROYW1lID0gKHByb3ApID0+IHByb3AuY2hhckF0KDIpLnRvTG93ZXJDYXNlKCkgKyBwcm9wLnN1YnN0cmluZygzKTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnQodGFnTmFtZSwgY29tcG9uZW50UHJvcHMpIHtcbiAgICBjb25zdCBDb21wb25lbnQgPSBmb3J3YXJkUmVmKChfYSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgICAgIHZhciB7IGNoaWxkcmVuIH0gPSBfYSwgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCJdKTtcbiAgICAgICAgY29uc3QgW3JlZiwgc2V0UmVmXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgICAgICBjb25zdCBzZXRSZWZDYiA9IHVzZUNhbGxiYWNrKChub2RlKSA9PiB7XG4gICAgICAgICAgICBzZXRSZWYobm9kZSk7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgY29uc3QgZXZlbnRIYW5kbGVycyA9IHVzZVJlZihuZXcgTWFwKCkpO1xuICAgICAgICBjb25zdCBkb21Qcm9wcyA9IHVzZU1lbW8oKCkgPT4gT2JqZWN0LmtleXMocHJvcHMpXG4gICAgICAgICAgICAuZmlsdGVyKHByb3AgPT4gIWNvbXBvbmVudFByb3BzLmhhcyhwcm9wKSAmJiAhaXNFdmVudChwcm9wKSlcbiAgICAgICAgICAgIC5yZWR1Y2UoKHAsIGMpID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHApLCB7IFtjXTogcHJvcHNbY10gfSkpLCB7fSksIFtwcm9wc10pO1xuICAgICAgICBjb25zdCB3Y1Byb3BzID0gdXNlTWVtbygoKSA9PiBPYmplY3Qua2V5cyhwcm9wcylcbiAgICAgICAgICAgIC5maWx0ZXIocHJvcCA9PiBjb21wb25lbnRQcm9wcy5oYXMocHJvcCkgfHwgaXNFdmVudChwcm9wKSlcbiAgICAgICAgICAgIC5yZWR1Y2UoKHAsIGMpID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHApLCB7IFtjXTogcHJvcHNbY10gfSkpLCB7fSksIFtwcm9wc10pO1xuICAgICAgICBjb25zdCBsaXN0ZW4gPSB1c2VDYWxsYmFjaygocHJvcCwgaGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgZG9tRXZlbnQgPSB0b0RvbUV2ZW50TmFtZShwcm9wKTtcbiAgICAgICAgICAgIChfYSA9IGV2ZW50SGFuZGxlcnMuY3VycmVudC5nZXQoZG9tRXZlbnQpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EoKTtcbiAgICAgICAgICAgIGlmICghcmVmIHx8ICFoYW5kbGVyKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHJlZi5hZGRFdmVudExpc3RlbmVyKGRvbUV2ZW50LCBoYW5kbGVyKTtcbiAgICAgICAgICAgIGV2ZW50SGFuZGxlcnMuY3VycmVudC5zZXQoZG9tRXZlbnQsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcihkb21FdmVudCwgaGFuZGxlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgW3JlZl0pO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgZXZlbnRIYW5kbGVycy5jdXJyZW50LmZvckVhY2goZm4gPT4gZm4oKSk7XG4gICAgICAgICAgICBldmVudEhhbmRsZXJzLmN1cnJlbnQuY2xlYXIoKTtcbiAgICAgICAgfSwgW10pO1xuICAgICAgICB1c2VFZmZlY3QoKCkgPT4gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlZilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh3Y1Byb3BzKS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc0V2ZW50KHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3Rlbihwcm9wLCB3Y1Byb3BzW3Byb3BdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVmW3Byb3BdICE9PSB3Y1Byb3BzW3Byb3BdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZltwcm9wXSA9IHdjUHJvcHNbcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIFtyZWYsIHdjUHJvcHNdKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQodGFnTmFtZSwgT2JqZWN0LmFzc2lnbih7IHJlZjogY29tcG9zZVJlZnMoc2V0UmVmQ2IsIGZvcndhcmRlZFJlZikgfSwgZG9tUHJvcHMpLCBjaGlsZHJlbik7XG4gICAgfSk7XG4gICAgQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gZGFzaFRvUGFzY2FsQ2FzZSh0YWdOYW1lKTtcbiAgICByZXR1cm4gQ29tcG9uZW50O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGliLmpzeC5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@vime/react/dist/esm/lib.jsx\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./node_modules/@vime/core/themes/default.css":
/*!********************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./node_modules/@vime/core/themes/default.css ***!
  \********************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../next/dist/build/webpack/loaders/css-loader/src/runtime/api.js */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js\");\n/* harmony import */ var _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"vm-player{--vm-color-dark:#313131;--vm-color-gray-100:rgba(0, 0, 0, 0.1);--vm-color-gray-200:rgba(0, 0, 0, 0.27);--vm-color-gray-300:rgba(0, 0, 0, 0.38);--vm-color-gray-500:rgba(0, 0, 0, 0.64);--vm-color-gray-600:rgba(0, 0, 0, 0.7);--vm-color-white-100:rgba(255, 255, 255, 0.1);--vm-color-white-200:rgba(255, 255, 255, 0.27);--vm-color-white-700:rgba(255, 255, 255, 0.87);--vm-fade-transition:opacity 0.3s ease-in-out;--vm-media-z-index:0;--vm-blocker-z-index:1;--vm-ui-z-index:2;--vm-loading-screen-z-index:1;--vm-poster-z-index:5;--vm-scrim-z-index:10;--vm-click-to-play-z-index:20;--vm-dbl-click-fullscreen-z-index:20;--vm-captions-z-index:30;--vm-spinner-z-index:40;--vm-controls-z-index:50;--vm-tooltip-z-index:60;--vm-menu-z-index:70;--vm-skeleton-z-index:100;--vm-player-bg:#000;--vm-player-border-radius:4px;--vm-player-font-family:'Helvetica Neue','Segoe UI',Helvetica,Arial,sans-serif;--vm-loading-screen-dot-size:12px;--vm-loading-screen-pulse-duration:1.5s;--vm-loading-screen-dot-color:var(\\n    --vm-player-theme,\\n    var(--vm-color-white-700)\\n  );--vm-skeleton-color:hsl(0, 10%, 90%);--vm-skeleton-sheen-color:hsl(0, 10%, 97%);--vm-slider-thumb-width:13px;--vm-slider-thumb-height:13px;--vm-slider-thumb-bg:#fff;--vm-slider-thumb-border:2px solid transparent;--vm-slider-track-height:3px;--vm-slider-track-focused-height:5px;--vm-slider-track-color:var(--vm-color-white-200);--vm-slider-value-color:var(--vm-player-theme, #fff);--vm-tooltip-border-radius:3px;--vm-tooltip-font-size:14px;--vm-tooltip-padding:calc(var(--vm-control-spacing) / 1.5);--vm-tooltip-fade-duration:0.2s;--vm-tooltip-fade-timing-func:ease;--vm-tooltip-spacing:14px;--vm-tooltip-box-shadow:0 0 2px var(--vm-color-gray-500);--vm-tooltip-bg:var(--vm-color-dark);--vm-tooltip-color:var(--vm-color-white-700);--vm-spinner-width:80px;--vm-spinner-height:80px;--vm-spinner-thickness:3px;--vm-spinner-fill-color:#fff;--vm-spinner-track-color:var(--vm-color-white-200);--vm-spinner-spin-duration:1.1s;--vm-spinner-spin-timing-func:linear;--vm-scrim-bg:var(--vm-color-gray-300);--vm-captions-text-color:#fff;--vm-captions-font-size:18px;--vm-captions-font-size-medium:22px;--vm-captions-font-size-large:24px;--vm-captions-font-size-xlarge:28px;--vm-captions-cue-bg-color:var(--vm-color-gray-600);--vm-captions-cue-border-radius:2px;--vm-captions-cue-padding:0.2em 0.5em;--vm-controls-bg:transparent;--vm-controls-border-radius:4px;--vm-controls-padding:var(--vm-control-spacing);--vm-controls-spacing:var(--vm-control-spacing);--vm-control-group-spacing:var(--vm-control-spacing);--vm-control-border:0;--vm-control-scale:1;--vm-control-border-radius:3px;--vm-control-spacing:8px;--vm-control-padding:4px;--vm-control-icon-size:28px;--vm-control-color:#fff;--vm-control-tap-highlight:var(--vm-color-white-200);--vm-control-focus-color:#fff;--vm-control-focus-bg:var(--vm-player-theme, var(--vm-color-white-200));--vm-scrubber-loading-stripe-size:25px;--vm-scrubber-buffered-bg:var(--vm-color-white-200);--vm-scrubber-loading-stripe-color:var(--vm-color-white-200);--vm-scrubber-tooltip-spacing:10px;--vm-time-font-size:14px;--vm-time-font-weight:400;--vm-time-color:var(--vm-color-white-700);--vm-menu-color:var(--vm-color-white-700);--vm-menu-bg:var(--vm-color-dark);--vm-menu-font-size:14px;--vm-menu-font-weight:400;--vm-menu-transition:transform 0.25s ease-out;--vm-menu-item-padding:8px;--vm-menu-item-focus-color:var(--vm-menu-color);--vm-menu-item-focus-bg:var(--vm-color-white-100);--vm-menu-item-tap-highlight:var(--vm-color-white-100);--vm-menu-item-hint-color:var(--vm-menu-color);--vm-menu-item-hint-font-size:13px;--vm-menu-item-hint-opacity:0.54;--vm-menu-item-badge-color:var(--vm-menu-color);--vm-menu-item-badge-bg:transparent;--vm-menu-item-badge-font-size:10px;--vm-menu-item-arrow-color:var(--vm-menu-color);--vm-menu-item-check-icon-size:16px;--vm-menu-item-divider-color:var(--vm-color-white-100);--vm-settings-width:275px;--vm-settings-padding:8px;--vm-settings-max-height:75%;--vm-settings-border-radius:2px;--vm-settings-shadow:0 0 8px 2px var(--vm-color-gray-100);--vm-settings-scroll-width:10px;--vm-settings-scroll-thumb-color:var(--vm-color-white-200);--vm-settings-scroll-track-color:var(--vm-menu-bg);--vm-settings-transition:transform 0.2s cubic-bezier(0, 0, 0.4, 1) 0.16s,opacity 0.2s cubic-bezier(0, 0, 0.4, 1) 0.16s}vm-player[video]{--vm-tooltip-spacing:18px}vm-player[mobile],vm-player[touch]{--vm-control-border-radius:50%}vm-player[mobile]{--vm-settings-width:100%;--vm-menu-control-padding:12px calc(var(--vm-control-padding) * 2)}vm-player[audio]{--vm-controls-bg:var(--vm-color-dark);--vm-settings-max-height:200px;--vm-tooltip-spacing:10px}\", \"\",{\"version\":3,\"sources\":[\"webpack://node_modules/@vime/core/themes/default.css\"],\"names\":[],\"mappings\":\"AAAA,UAAU,uBAAuB,CAAC,sCAAsC,CAAC,uCAAuC,CAAC,uCAAuC,CAAC,uCAAuC,CAAC,sCAAsC,CAAC,6CAA6C,CAAC,8CAA8C,CAAC,8CAA8C,CAAC,6CAA6C,CAAC,oBAAoB,CAAC,sBAAsB,CAAC,iBAAiB,CAAC,6BAA6B,CAAC,qBAAqB,CAAC,qBAAqB,CAAC,6BAA6B,CAAC,oCAAoC,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,oBAAoB,CAAC,yBAAyB,CAAC,mBAAmB,CAAC,6BAA6B,CAAC,8EAA8E,CAAC,iCAAiC,CAAC,uCAAuC,CAAC;;;GAGt8B,CAAC,oCAAoC,CAAC,0CAA0C,CAAC,4BAA4B,CAAC,6BAA6B,CAAC,yBAAyB,CAAC,8CAA8C,CAAC,4BAA4B,CAAC,oCAAoC,CAAC,iDAAiD,CAAC,oDAAoD,CAAC,8BAA8B,CAAC,2BAA2B,CAAC,0DAA0D,CAAC,+BAA+B,CAAC,kCAAkC,CAAC,yBAAyB,CAAC,wDAAwD,CAAC,oCAAoC,CAAC,4CAA4C,CAAC,uBAAuB,CAAC,wBAAwB,CAAC,0BAA0B,CAAC,4BAA4B,CAAC,kDAAkD,CAAC,+BAA+B,CAAC,oCAAoC,CAAC,sCAAsC,CAAC,6BAA6B,CAAC,4BAA4B,CAAC,mCAAmC,CAAC,kCAAkC,CAAC,mCAAmC,CAAC,mDAAmD,CAAC,mCAAmC,CAAC,qCAAqC,CAAC,4BAA4B,CAAC,+BAA+B,CAAC,+CAA+C,CAAC,+CAA+C,CAAC,oDAAoD,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,8BAA8B,CAAC,wBAAwB,CAAC,wBAAwB,CAAC,2BAA2B,CAAC,uBAAuB,CAAC,oDAAoD,CAAC,6BAA6B,CAAC,uEAAuE,CAAC,sCAAsC,CAAC,mDAAmD,CAAC,4DAA4D,CAAC,kCAAkC,CAAC,wBAAwB,CAAC,yBAAyB,CAAC,yCAAyC,CAAC,yCAAyC,CAAC,iCAAiC,CAAC,wBAAwB,CAAC,yBAAyB,CAAC,6CAA6C,CAAC,0BAA0B,CAAC,+CAA+C,CAAC,iDAAiD,CAAC,sDAAsD,CAAC,8CAA8C,CAAC,kCAAkC,CAAC,gCAAgC,CAAC,+CAA+C,CAAC,mCAAmC,CAAC,mCAAmC,CAAC,+CAA+C,CAAC,mCAAmC,CAAC,sDAAsD,CAAC,yBAAyB,CAAC,yBAAyB,CAAC,4BAA4B,CAAC,+BAA+B,CAAC,yDAAyD,CAAC,+BAA+B,CAAC,0DAA0D,CAAC,kDAAkD,CAAC,sHAAsH,CAAC,iBAAiB,yBAAyB,CAAC,mCAAmC,8BAA8B,CAAC,kBAAkB,wBAAwB,CAAC,kEAAkE,CAAC,iBAAiB,qCAAqC,CAAC,8BAA8B,CAAC,yBAAyB\",\"sourcesContent\":[\"vm-player{--vm-color-dark:#313131;--vm-color-gray-100:rgba(0, 0, 0, 0.1);--vm-color-gray-200:rgba(0, 0, 0, 0.27);--vm-color-gray-300:rgba(0, 0, 0, 0.38);--vm-color-gray-500:rgba(0, 0, 0, 0.64);--vm-color-gray-600:rgba(0, 0, 0, 0.7);--vm-color-white-100:rgba(255, 255, 255, 0.1);--vm-color-white-200:rgba(255, 255, 255, 0.27);--vm-color-white-700:rgba(255, 255, 255, 0.87);--vm-fade-transition:opacity 0.3s ease-in-out;--vm-media-z-index:0;--vm-blocker-z-index:1;--vm-ui-z-index:2;--vm-loading-screen-z-index:1;--vm-poster-z-index:5;--vm-scrim-z-index:10;--vm-click-to-play-z-index:20;--vm-dbl-click-fullscreen-z-index:20;--vm-captions-z-index:30;--vm-spinner-z-index:40;--vm-controls-z-index:50;--vm-tooltip-z-index:60;--vm-menu-z-index:70;--vm-skeleton-z-index:100;--vm-player-bg:#000;--vm-player-border-radius:4px;--vm-player-font-family:'Helvetica Neue','Segoe UI',Helvetica,Arial,sans-serif;--vm-loading-screen-dot-size:12px;--vm-loading-screen-pulse-duration:1.5s;--vm-loading-screen-dot-color:var(\\n    --vm-player-theme,\\n    var(--vm-color-white-700)\\n  );--vm-skeleton-color:hsl(0, 10%, 90%);--vm-skeleton-sheen-color:hsl(0, 10%, 97%);--vm-slider-thumb-width:13px;--vm-slider-thumb-height:13px;--vm-slider-thumb-bg:#fff;--vm-slider-thumb-border:2px solid transparent;--vm-slider-track-height:3px;--vm-slider-track-focused-height:5px;--vm-slider-track-color:var(--vm-color-white-200);--vm-slider-value-color:var(--vm-player-theme, #fff);--vm-tooltip-border-radius:3px;--vm-tooltip-font-size:14px;--vm-tooltip-padding:calc(var(--vm-control-spacing) / 1.5);--vm-tooltip-fade-duration:0.2s;--vm-tooltip-fade-timing-func:ease;--vm-tooltip-spacing:14px;--vm-tooltip-box-shadow:0 0 2px var(--vm-color-gray-500);--vm-tooltip-bg:var(--vm-color-dark);--vm-tooltip-color:var(--vm-color-white-700);--vm-spinner-width:80px;--vm-spinner-height:80px;--vm-spinner-thickness:3px;--vm-spinner-fill-color:#fff;--vm-spinner-track-color:var(--vm-color-white-200);--vm-spinner-spin-duration:1.1s;--vm-spinner-spin-timing-func:linear;--vm-scrim-bg:var(--vm-color-gray-300);--vm-captions-text-color:#fff;--vm-captions-font-size:18px;--vm-captions-font-size-medium:22px;--vm-captions-font-size-large:24px;--vm-captions-font-size-xlarge:28px;--vm-captions-cue-bg-color:var(--vm-color-gray-600);--vm-captions-cue-border-radius:2px;--vm-captions-cue-padding:0.2em 0.5em;--vm-controls-bg:transparent;--vm-controls-border-radius:4px;--vm-controls-padding:var(--vm-control-spacing);--vm-controls-spacing:var(--vm-control-spacing);--vm-control-group-spacing:var(--vm-control-spacing);--vm-control-border:0;--vm-control-scale:1;--vm-control-border-radius:3px;--vm-control-spacing:8px;--vm-control-padding:4px;--vm-control-icon-size:28px;--vm-control-color:#fff;--vm-control-tap-highlight:var(--vm-color-white-200);--vm-control-focus-color:#fff;--vm-control-focus-bg:var(--vm-player-theme, var(--vm-color-white-200));--vm-scrubber-loading-stripe-size:25px;--vm-scrubber-buffered-bg:var(--vm-color-white-200);--vm-scrubber-loading-stripe-color:var(--vm-color-white-200);--vm-scrubber-tooltip-spacing:10px;--vm-time-font-size:14px;--vm-time-font-weight:400;--vm-time-color:var(--vm-color-white-700);--vm-menu-color:var(--vm-color-white-700);--vm-menu-bg:var(--vm-color-dark);--vm-menu-font-size:14px;--vm-menu-font-weight:400;--vm-menu-transition:transform 0.25s ease-out;--vm-menu-item-padding:8px;--vm-menu-item-focus-color:var(--vm-menu-color);--vm-menu-item-focus-bg:var(--vm-color-white-100);--vm-menu-item-tap-highlight:var(--vm-color-white-100);--vm-menu-item-hint-color:var(--vm-menu-color);--vm-menu-item-hint-font-size:13px;--vm-menu-item-hint-opacity:0.54;--vm-menu-item-badge-color:var(--vm-menu-color);--vm-menu-item-badge-bg:transparent;--vm-menu-item-badge-font-size:10px;--vm-menu-item-arrow-color:var(--vm-menu-color);--vm-menu-item-check-icon-size:16px;--vm-menu-item-divider-color:var(--vm-color-white-100);--vm-settings-width:275px;--vm-settings-padding:8px;--vm-settings-max-height:75%;--vm-settings-border-radius:2px;--vm-settings-shadow:0 0 8px 2px var(--vm-color-gray-100);--vm-settings-scroll-width:10px;--vm-settings-scroll-thumb-color:var(--vm-color-white-200);--vm-settings-scroll-track-color:var(--vm-menu-bg);--vm-settings-transition:transform 0.2s cubic-bezier(0, 0, 0.4, 1) 0.16s,opacity 0.2s cubic-bezier(0, 0, 0.4, 1) 0.16s}vm-player[video]{--vm-tooltip-spacing:18px}vm-player[mobile],vm-player[touch]{--vm-control-border-radius:50%}vm-player[mobile]{--vm-settings-width:100%;--vm-menu-control-padding:12px calc(var(--vm-control-padding) * 2)}vm-player[audio]{--vm-controls-bg:var(--vm-color-dark);--vm-settings-max-height:200px;--vm-tooltip-spacing:10px}\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1syXS5vbmVPZls3XS51c2VbMV0hLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0ub25lT2ZbN10udXNlWzJdIS4vbm9kZV9tb2R1bGVzL0B2aW1lL2NvcmUvdGhlbWVzL2RlZmF1bHQuY3NzLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ2lIO0FBQ2pILDhCQUE4QixxR0FBMkI7QUFDekQ7QUFDQSxvREFBb0Qsd0JBQXdCLHVDQUF1Qyx3Q0FBd0Msd0NBQXdDLHdDQUF3Qyx1Q0FBdUMsOENBQThDLCtDQUErQywrQ0FBK0MsOENBQThDLHFCQUFxQix1QkFBdUIsa0JBQWtCLDhCQUE4QixzQkFBc0Isc0JBQXNCLDhCQUE4QixxQ0FBcUMseUJBQXlCLHdCQUF3Qix5QkFBeUIsd0JBQXdCLHFCQUFxQiwwQkFBMEIsb0JBQW9CLDhCQUE4QiwrRUFBK0Usa0NBQWtDLHdDQUF3QywrRkFBK0YscUNBQXFDLDJDQUEyQyw2QkFBNkIsOEJBQThCLDBCQUEwQiwrQ0FBK0MsNkJBQTZCLHFDQUFxQyxrREFBa0QscURBQXFELCtCQUErQiw0QkFBNEIsMkRBQTJELGdDQUFnQyxtQ0FBbUMsMEJBQTBCLHlEQUF5RCxxQ0FBcUMsNkNBQTZDLHdCQUF3Qix5QkFBeUIsMkJBQTJCLDZCQUE2QixtREFBbUQsZ0NBQWdDLHFDQUFxQyx1Q0FBdUMsOEJBQThCLDZCQUE2QixvQ0FBb0MsbUNBQW1DLG9DQUFvQyxvREFBb0Qsb0NBQW9DLHNDQUFzQyw2QkFBNkIsZ0NBQWdDLGdEQUFnRCxnREFBZ0QscURBQXFELHNCQUFzQixxQkFBcUIsK0JBQStCLHlCQUF5Qix5QkFBeUIsNEJBQTRCLHdCQUF3QixxREFBcUQsOEJBQThCLHdFQUF3RSx1Q0FBdUMsb0RBQW9ELDZEQUE2RCxtQ0FBbUMseUJBQXlCLDBCQUEwQiwwQ0FBMEMsMENBQTBDLGtDQUFrQyx5QkFBeUIsMEJBQTBCLDhDQUE4QywyQkFBMkIsZ0RBQWdELGtEQUFrRCx1REFBdUQsK0NBQStDLG1DQUFtQyxpQ0FBaUMsZ0RBQWdELG9DQUFvQyxvQ0FBb0MsZ0RBQWdELG9DQUFvQyx1REFBdUQsMEJBQTBCLDBCQUEwQiw2QkFBNkIsZ0NBQWdDLDBEQUEwRCxnQ0FBZ0MsMkRBQTJELG1EQUFtRCx1SEFBdUgsaUJBQWlCLDBCQUEwQixtQ0FBbUMsK0JBQStCLGtCQUFrQix5QkFBeUIsbUVBQW1FLGlCQUFpQixzQ0FBc0MsK0JBQStCLDBCQUEwQixPQUFPLDhjQUE4Yyxxb0NBQXFvQyx3QkFBd0IsdUNBQXVDLHdDQUF3Qyx3Q0FBd0Msd0NBQXdDLHVDQUF1Qyw4Q0FBOEMsK0NBQStDLCtDQUErQyw4Q0FBOEMscUJBQXFCLHVCQUF1QixrQkFBa0IsOEJBQThCLHNCQUFzQixzQkFBc0IsOEJBQThCLHFDQUFxQyx5QkFBeUIsd0JBQXdCLHlCQUF5Qix3QkFBd0IscUJBQXFCLDBCQUEwQixvQkFBb0IsOEJBQThCLCtFQUErRSxrQ0FBa0Msd0NBQXdDLCtGQUErRixxQ0FBcUMsMkNBQTJDLDZCQUE2Qiw4QkFBOEIsMEJBQTBCLCtDQUErQyw2QkFBNkIscUNBQXFDLGtEQUFrRCxxREFBcUQsK0JBQStCLDRCQUE0QiwyREFBMkQsZ0NBQWdDLG1DQUFtQywwQkFBMEIseURBQXlELHFDQUFxQyw2Q0FBNkMsd0JBQXdCLHlCQUF5QiwyQkFBMkIsNkJBQTZCLG1EQUFtRCxnQ0FBZ0MscUNBQXFDLHVDQUF1Qyw4QkFBOEIsNkJBQTZCLG9DQUFvQyxtQ0FBbUMsb0NBQW9DLG9EQUFvRCxvQ0FBb0Msc0NBQXNDLDZCQUE2QixnQ0FBZ0MsZ0RBQWdELGdEQUFnRCxxREFBcUQsc0JBQXNCLHFCQUFxQiwrQkFBK0IseUJBQXlCLHlCQUF5Qiw0QkFBNEIsd0JBQXdCLHFEQUFxRCw4QkFBOEIsd0VBQXdFLHVDQUF1QyxvREFBb0QsNkRBQTZELG1DQUFtQyx5QkFBeUIsMEJBQTBCLDBDQUEwQywwQ0FBMEMsa0NBQWtDLHlCQUF5QiwwQkFBMEIsOENBQThDLDJCQUEyQixnREFBZ0Qsa0RBQWtELHVEQUF1RCwrQ0FBK0MsbUNBQW1DLGlDQUFpQyxnREFBZ0Qsb0NBQW9DLG9DQUFvQyxnREFBZ0Qsb0NBQW9DLHVEQUF1RCwwQkFBMEIsMEJBQTBCLDZCQUE2QixnQ0FBZ0MsMERBQTBELGdDQUFnQywyREFBMkQsbURBQW1ELHVIQUF1SCxpQkFBaUIsMEJBQTBCLG1DQUFtQywrQkFBK0Isa0JBQWtCLHlCQUF5QixtRUFBbUUsaUJBQWlCLHNDQUFzQywrQkFBK0IsMEJBQTBCLG1CQUFtQjtBQUN6dlY7QUFDQSwrREFBZSx1QkFBdUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHZpbWUvY29yZS90aGVtZXMvZGVmYXVsdC5jc3M/YWYwZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18odHJ1ZSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJ2bS1wbGF5ZXJ7LS12bS1jb2xvci1kYXJrOiMzMTMxMzE7LS12bS1jb2xvci1ncmF5LTEwMDpyZ2JhKDAsIDAsIDAsIDAuMSk7LS12bS1jb2xvci1ncmF5LTIwMDpyZ2JhKDAsIDAsIDAsIDAuMjcpOy0tdm0tY29sb3ItZ3JheS0zMDA6cmdiYSgwLCAwLCAwLCAwLjM4KTstLXZtLWNvbG9yLWdyYXktNTAwOnJnYmEoMCwgMCwgMCwgMC42NCk7LS12bS1jb2xvci1ncmF5LTYwMDpyZ2JhKDAsIDAsIDAsIDAuNyk7LS12bS1jb2xvci13aGl0ZS0xMDA6cmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpOy0tdm0tY29sb3Itd2hpdGUtMjAwOnJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yNyk7LS12bS1jb2xvci13aGl0ZS03MDA6cmdiYSgyNTUsIDI1NSwgMjU1LCAwLjg3KTstLXZtLWZhZGUtdHJhbnNpdGlvbjpvcGFjaXR5IDAuM3MgZWFzZS1pbi1vdXQ7LS12bS1tZWRpYS16LWluZGV4OjA7LS12bS1ibG9ja2VyLXotaW5kZXg6MTstLXZtLXVpLXotaW5kZXg6MjstLXZtLWxvYWRpbmctc2NyZWVuLXotaW5kZXg6MTstLXZtLXBvc3Rlci16LWluZGV4OjU7LS12bS1zY3JpbS16LWluZGV4OjEwOy0tdm0tY2xpY2stdG8tcGxheS16LWluZGV4OjIwOy0tdm0tZGJsLWNsaWNrLWZ1bGxzY3JlZW4tei1pbmRleDoyMDstLXZtLWNhcHRpb25zLXotaW5kZXg6MzA7LS12bS1zcGlubmVyLXotaW5kZXg6NDA7LS12bS1jb250cm9scy16LWluZGV4OjUwOy0tdm0tdG9vbHRpcC16LWluZGV4OjYwOy0tdm0tbWVudS16LWluZGV4OjcwOy0tdm0tc2tlbGV0b24tei1pbmRleDoxMDA7LS12bS1wbGF5ZXItYmc6IzAwMDstLXZtLXBsYXllci1ib3JkZXItcmFkaXVzOjRweDstLXZtLXBsYXllci1mb250LWZhbWlseTonSGVsdmV0aWNhIE5ldWUnLCdTZWdvZSBVSScsSGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7LS12bS1sb2FkaW5nLXNjcmVlbi1kb3Qtc2l6ZToxMnB4Oy0tdm0tbG9hZGluZy1zY3JlZW4tcHVsc2UtZHVyYXRpb246MS41czstLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1jb2xvcjp2YXIoXFxuICAgIC0tdm0tcGxheWVyLXRoZW1lLFxcbiAgICB2YXIoLS12bS1jb2xvci13aGl0ZS03MDApXFxuICApOy0tdm0tc2tlbGV0b24tY29sb3I6aHNsKDAsIDEwJSwgOTAlKTstLXZtLXNrZWxldG9uLXNoZWVuLWNvbG9yOmhzbCgwLCAxMCUsIDk3JSk7LS12bS1zbGlkZXItdGh1bWItd2lkdGg6MTNweDstLXZtLXNsaWRlci10aHVtYi1oZWlnaHQ6MTNweDstLXZtLXNsaWRlci10aHVtYi1iZzojZmZmOy0tdm0tc2xpZGVyLXRodW1iLWJvcmRlcjoycHggc29saWQgdHJhbnNwYXJlbnQ7LS12bS1zbGlkZXItdHJhY2staGVpZ2h0OjNweDstLXZtLXNsaWRlci10cmFjay1mb2N1c2VkLWhlaWdodDo1cHg7LS12bS1zbGlkZXItdHJhY2stY29sb3I6dmFyKC0tdm0tY29sb3Itd2hpdGUtMjAwKTstLXZtLXNsaWRlci12YWx1ZS1jb2xvcjp2YXIoLS12bS1wbGF5ZXItdGhlbWUsICNmZmYpOy0tdm0tdG9vbHRpcC1ib3JkZXItcmFkaXVzOjNweDstLXZtLXRvb2x0aXAtZm9udC1zaXplOjE0cHg7LS12bS10b29sdGlwLXBhZGRpbmc6Y2FsYyh2YXIoLS12bS1jb250cm9sLXNwYWNpbmcpIC8gMS41KTstLXZtLXRvb2x0aXAtZmFkZS1kdXJhdGlvbjowLjJzOy0tdm0tdG9vbHRpcC1mYWRlLXRpbWluZy1mdW5jOmVhc2U7LS12bS10b29sdGlwLXNwYWNpbmc6MTRweDstLXZtLXRvb2x0aXAtYm94LXNoYWRvdzowIDAgMnB4IHZhcigtLXZtLWNvbG9yLWdyYXktNTAwKTstLXZtLXRvb2x0aXAtYmc6dmFyKC0tdm0tY29sb3ItZGFyayk7LS12bS10b29sdGlwLWNvbG9yOnZhcigtLXZtLWNvbG9yLXdoaXRlLTcwMCk7LS12bS1zcGlubmVyLXdpZHRoOjgwcHg7LS12bS1zcGlubmVyLWhlaWdodDo4MHB4Oy0tdm0tc3Bpbm5lci10aGlja25lc3M6M3B4Oy0tdm0tc3Bpbm5lci1maWxsLWNvbG9yOiNmZmY7LS12bS1zcGlubmVyLXRyYWNrLWNvbG9yOnZhcigtLXZtLWNvbG9yLXdoaXRlLTIwMCk7LS12bS1zcGlubmVyLXNwaW4tZHVyYXRpb246MS4xczstLXZtLXNwaW5uZXItc3Bpbi10aW1pbmctZnVuYzpsaW5lYXI7LS12bS1zY3JpbS1iZzp2YXIoLS12bS1jb2xvci1ncmF5LTMwMCk7LS12bS1jYXB0aW9ucy10ZXh0LWNvbG9yOiNmZmY7LS12bS1jYXB0aW9ucy1mb250LXNpemU6MThweDstLXZtLWNhcHRpb25zLWZvbnQtc2l6ZS1tZWRpdW06MjJweDstLXZtLWNhcHRpb25zLWZvbnQtc2l6ZS1sYXJnZToyNHB4Oy0tdm0tY2FwdGlvbnMtZm9udC1zaXplLXhsYXJnZToyOHB4Oy0tdm0tY2FwdGlvbnMtY3VlLWJnLWNvbG9yOnZhcigtLXZtLWNvbG9yLWdyYXktNjAwKTstLXZtLWNhcHRpb25zLWN1ZS1ib3JkZXItcmFkaXVzOjJweDstLXZtLWNhcHRpb25zLWN1ZS1wYWRkaW5nOjAuMmVtIDAuNWVtOy0tdm0tY29udHJvbHMtYmc6dHJhbnNwYXJlbnQ7LS12bS1jb250cm9scy1ib3JkZXItcmFkaXVzOjRweDstLXZtLWNvbnRyb2xzLXBhZGRpbmc6dmFyKC0tdm0tY29udHJvbC1zcGFjaW5nKTstLXZtLWNvbnRyb2xzLXNwYWNpbmc6dmFyKC0tdm0tY29udHJvbC1zcGFjaW5nKTstLXZtLWNvbnRyb2wtZ3JvdXAtc3BhY2luZzp2YXIoLS12bS1jb250cm9sLXNwYWNpbmcpOy0tdm0tY29udHJvbC1ib3JkZXI6MDstLXZtLWNvbnRyb2wtc2NhbGU6MTstLXZtLWNvbnRyb2wtYm9yZGVyLXJhZGl1czozcHg7LS12bS1jb250cm9sLXNwYWNpbmc6OHB4Oy0tdm0tY29udHJvbC1wYWRkaW5nOjRweDstLXZtLWNvbnRyb2wtaWNvbi1zaXplOjI4cHg7LS12bS1jb250cm9sLWNvbG9yOiNmZmY7LS12bS1jb250cm9sLXRhcC1oaWdobGlnaHQ6dmFyKC0tdm0tY29sb3Itd2hpdGUtMjAwKTstLXZtLWNvbnRyb2wtZm9jdXMtY29sb3I6I2ZmZjstLXZtLWNvbnRyb2wtZm9jdXMtYmc6dmFyKC0tdm0tcGxheWVyLXRoZW1lLCB2YXIoLS12bS1jb2xvci13aGl0ZS0yMDApKTstLXZtLXNjcnViYmVyLWxvYWRpbmctc3RyaXBlLXNpemU6MjVweDstLXZtLXNjcnViYmVyLWJ1ZmZlcmVkLWJnOnZhcigtLXZtLWNvbG9yLXdoaXRlLTIwMCk7LS12bS1zY3J1YmJlci1sb2FkaW5nLXN0cmlwZS1jb2xvcjp2YXIoLS12bS1jb2xvci13aGl0ZS0yMDApOy0tdm0tc2NydWJiZXItdG9vbHRpcC1zcGFjaW5nOjEwcHg7LS12bS10aW1lLWZvbnQtc2l6ZToxNHB4Oy0tdm0tdGltZS1mb250LXdlaWdodDo0MDA7LS12bS10aW1lLWNvbG9yOnZhcigtLXZtLWNvbG9yLXdoaXRlLTcwMCk7LS12bS1tZW51LWNvbG9yOnZhcigtLXZtLWNvbG9yLXdoaXRlLTcwMCk7LS12bS1tZW51LWJnOnZhcigtLXZtLWNvbG9yLWRhcmspOy0tdm0tbWVudS1mb250LXNpemU6MTRweDstLXZtLW1lbnUtZm9udC13ZWlnaHQ6NDAwOy0tdm0tbWVudS10cmFuc2l0aW9uOnRyYW5zZm9ybSAwLjI1cyBlYXNlLW91dDstLXZtLW1lbnUtaXRlbS1wYWRkaW5nOjhweDstLXZtLW1lbnUtaXRlbS1mb2N1cy1jb2xvcjp2YXIoLS12bS1tZW51LWNvbG9yKTstLXZtLW1lbnUtaXRlbS1mb2N1cy1iZzp2YXIoLS12bS1jb2xvci13aGl0ZS0xMDApOy0tdm0tbWVudS1pdGVtLXRhcC1oaWdobGlnaHQ6dmFyKC0tdm0tY29sb3Itd2hpdGUtMTAwKTstLXZtLW1lbnUtaXRlbS1oaW50LWNvbG9yOnZhcigtLXZtLW1lbnUtY29sb3IpOy0tdm0tbWVudS1pdGVtLWhpbnQtZm9udC1zaXplOjEzcHg7LS12bS1tZW51LWl0ZW0taGludC1vcGFjaXR5OjAuNTQ7LS12bS1tZW51LWl0ZW0tYmFkZ2UtY29sb3I6dmFyKC0tdm0tbWVudS1jb2xvcik7LS12bS1tZW51LWl0ZW0tYmFkZ2UtYmc6dHJhbnNwYXJlbnQ7LS12bS1tZW51LWl0ZW0tYmFkZ2UtZm9udC1zaXplOjEwcHg7LS12bS1tZW51LWl0ZW0tYXJyb3ctY29sb3I6dmFyKC0tdm0tbWVudS1jb2xvcik7LS12bS1tZW51LWl0ZW0tY2hlY2staWNvbi1zaXplOjE2cHg7LS12bS1tZW51LWl0ZW0tZGl2aWRlci1jb2xvcjp2YXIoLS12bS1jb2xvci13aGl0ZS0xMDApOy0tdm0tc2V0dGluZ3Mtd2lkdGg6Mjc1cHg7LS12bS1zZXR0aW5ncy1wYWRkaW5nOjhweDstLXZtLXNldHRpbmdzLW1heC1oZWlnaHQ6NzUlOy0tdm0tc2V0dGluZ3MtYm9yZGVyLXJhZGl1czoycHg7LS12bS1zZXR0aW5ncy1zaGFkb3c6MCAwIDhweCAycHggdmFyKC0tdm0tY29sb3ItZ3JheS0xMDApOy0tdm0tc2V0dGluZ3Mtc2Nyb2xsLXdpZHRoOjEwcHg7LS12bS1zZXR0aW5ncy1zY3JvbGwtdGh1bWItY29sb3I6dmFyKC0tdm0tY29sb3Itd2hpdGUtMjAwKTstLXZtLXNldHRpbmdzLXNjcm9sbC10cmFjay1jb2xvcjp2YXIoLS12bS1tZW51LWJnKTstLXZtLXNldHRpbmdzLXRyYW5zaXRpb246dHJhbnNmb3JtIDAuMnMgY3ViaWMtYmV6aWVyKDAsIDAsIDAuNCwgMSkgMC4xNnMsb3BhY2l0eSAwLjJzIGN1YmljLWJlemllcigwLCAwLCAwLjQsIDEpIDAuMTZzfXZtLXBsYXllclt2aWRlb117LS12bS10b29sdGlwLXNwYWNpbmc6MThweH12bS1wbGF5ZXJbbW9iaWxlXSx2bS1wbGF5ZXJbdG91Y2hdey0tdm0tY29udHJvbC1ib3JkZXItcmFkaXVzOjUwJX12bS1wbGF5ZXJbbW9iaWxlXXstLXZtLXNldHRpbmdzLXdpZHRoOjEwMCU7LS12bS1tZW51LWNvbnRyb2wtcGFkZGluZzoxMnB4IGNhbGModmFyKC0tdm0tY29udHJvbC1wYWRkaW5nKSAqIDIpfXZtLXBsYXllclthdWRpb117LS12bS1jb250cm9scy1iZzp2YXIoLS12bS1jb2xvci1kYXJrKTstLXZtLXNldHRpbmdzLW1heC1oZWlnaHQ6MjAwcHg7LS12bS10b29sdGlwLXNwYWNpbmc6MTBweH1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vbm9kZV9tb2R1bGVzL0B2aW1lL2NvcmUvdGhlbWVzL2RlZmF1bHQuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBLFVBQVUsdUJBQXVCLENBQUMsc0NBQXNDLENBQUMsdUNBQXVDLENBQUMsdUNBQXVDLENBQUMsdUNBQXVDLENBQUMsc0NBQXNDLENBQUMsNkNBQTZDLENBQUMsOENBQThDLENBQUMsOENBQThDLENBQUMsNkNBQTZDLENBQUMsb0JBQW9CLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCLENBQUMsNkJBQTZCLENBQUMscUJBQXFCLENBQUMscUJBQXFCLENBQUMsNkJBQTZCLENBQUMsb0NBQW9DLENBQUMsd0JBQXdCLENBQUMsdUJBQXVCLENBQUMsd0JBQXdCLENBQUMsdUJBQXVCLENBQUMsb0JBQW9CLENBQUMseUJBQXlCLENBQUMsbUJBQW1CLENBQUMsNkJBQTZCLENBQUMsOEVBQThFLENBQUMsaUNBQWlDLENBQUMsdUNBQXVDLENBQUM7OztHQUd0OEIsQ0FBQyxvQ0FBb0MsQ0FBQywwQ0FBMEMsQ0FBQyw0QkFBNEIsQ0FBQyw2QkFBNkIsQ0FBQyx5QkFBeUIsQ0FBQyw4Q0FBOEMsQ0FBQyw0QkFBNEIsQ0FBQyxvQ0FBb0MsQ0FBQyxpREFBaUQsQ0FBQyxvREFBb0QsQ0FBQyw4QkFBOEIsQ0FBQywyQkFBMkIsQ0FBQywwREFBMEQsQ0FBQywrQkFBK0IsQ0FBQyxrQ0FBa0MsQ0FBQyx5QkFBeUIsQ0FBQyx3REFBd0QsQ0FBQyxvQ0FBb0MsQ0FBQyw0Q0FBNEMsQ0FBQyx1QkFBdUIsQ0FBQyx3QkFBd0IsQ0FBQywwQkFBMEIsQ0FBQyw0QkFBNEIsQ0FBQyxrREFBa0QsQ0FBQywrQkFBK0IsQ0FBQyxvQ0FBb0MsQ0FBQyxzQ0FBc0MsQ0FBQyw2QkFBNkIsQ0FBQyw0QkFBNEIsQ0FBQyxtQ0FBbUMsQ0FBQyxrQ0FBa0MsQ0FBQyxtQ0FBbUMsQ0FBQyxtREFBbUQsQ0FBQyxtQ0FBbUMsQ0FBQyxxQ0FBcUMsQ0FBQyw0QkFBNEIsQ0FBQywrQkFBK0IsQ0FBQywrQ0FBK0MsQ0FBQywrQ0FBK0MsQ0FBQyxvREFBb0QsQ0FBQyxxQkFBcUIsQ0FBQyxvQkFBb0IsQ0FBQyw4QkFBOEIsQ0FBQyx3QkFBd0IsQ0FBQyx3QkFBd0IsQ0FBQywyQkFBMkIsQ0FBQyx1QkFBdUIsQ0FBQyxvREFBb0QsQ0FBQyw2QkFBNkIsQ0FBQyx1RUFBdUUsQ0FBQyxzQ0FBc0MsQ0FBQyxtREFBbUQsQ0FBQyw0REFBNEQsQ0FBQyxrQ0FBa0MsQ0FBQyx3QkFBd0IsQ0FBQyx5QkFBeUIsQ0FBQyx5Q0FBeUMsQ0FBQyx5Q0FBeUMsQ0FBQyxpQ0FBaUMsQ0FBQyx3QkFBd0IsQ0FBQyx5QkFBeUIsQ0FBQyw2Q0FBNkMsQ0FBQywwQkFBMEIsQ0FBQywrQ0FBK0MsQ0FBQyxpREFBaUQsQ0FBQyxzREFBc0QsQ0FBQyw4Q0FBOEMsQ0FBQyxrQ0FBa0MsQ0FBQyxnQ0FBZ0MsQ0FBQywrQ0FBK0MsQ0FBQyxtQ0FBbUMsQ0FBQyxtQ0FBbUMsQ0FBQywrQ0FBK0MsQ0FBQyxtQ0FBbUMsQ0FBQyxzREFBc0QsQ0FBQyx5QkFBeUIsQ0FBQyx5QkFBeUIsQ0FBQyw0QkFBNEIsQ0FBQywrQkFBK0IsQ0FBQyx5REFBeUQsQ0FBQywrQkFBK0IsQ0FBQywwREFBMEQsQ0FBQyxrREFBa0QsQ0FBQyxzSEFBc0gsQ0FBQyxpQkFBaUIseUJBQXlCLENBQUMsbUNBQW1DLDhCQUE4QixDQUFDLGtCQUFrQix3QkFBd0IsQ0FBQyxrRUFBa0UsQ0FBQyxpQkFBaUIscUNBQXFDLENBQUMsOEJBQThCLENBQUMseUJBQXlCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcInZtLXBsYXllcnstLXZtLWNvbG9yLWRhcms6IzMxMzEzMTstLXZtLWNvbG9yLWdyYXktMTAwOnJnYmEoMCwgMCwgMCwgMC4xKTstLXZtLWNvbG9yLWdyYXktMjAwOnJnYmEoMCwgMCwgMCwgMC4yNyk7LS12bS1jb2xvci1ncmF5LTMwMDpyZ2JhKDAsIDAsIDAsIDAuMzgpOy0tdm0tY29sb3ItZ3JheS01MDA6cmdiYSgwLCAwLCAwLCAwLjY0KTstLXZtLWNvbG9yLWdyYXktNjAwOnJnYmEoMCwgMCwgMCwgMC43KTstLXZtLWNvbG9yLXdoaXRlLTEwMDpyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7LS12bS1jb2xvci13aGl0ZS0yMDA6cmdiYSgyNTUsIDI1NSwgMjU1LCAwLjI3KTstLXZtLWNvbG9yLXdoaXRlLTcwMDpyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuODcpOy0tdm0tZmFkZS10cmFuc2l0aW9uOm9wYWNpdHkgMC4zcyBlYXNlLWluLW91dDstLXZtLW1lZGlhLXotaW5kZXg6MDstLXZtLWJsb2NrZXItei1pbmRleDoxOy0tdm0tdWktei1pbmRleDoyOy0tdm0tbG9hZGluZy1zY3JlZW4tei1pbmRleDoxOy0tdm0tcG9zdGVyLXotaW5kZXg6NTstLXZtLXNjcmltLXotaW5kZXg6MTA7LS12bS1jbGljay10by1wbGF5LXotaW5kZXg6MjA7LS12bS1kYmwtY2xpY2stZnVsbHNjcmVlbi16LWluZGV4OjIwOy0tdm0tY2FwdGlvbnMtei1pbmRleDozMDstLXZtLXNwaW5uZXItei1pbmRleDo0MDstLXZtLWNvbnRyb2xzLXotaW5kZXg6NTA7LS12bS10b29sdGlwLXotaW5kZXg6NjA7LS12bS1tZW51LXotaW5kZXg6NzA7LS12bS1za2VsZXRvbi16LWluZGV4OjEwMDstLXZtLXBsYXllci1iZzojMDAwOy0tdm0tcGxheWVyLWJvcmRlci1yYWRpdXM6NHB4Oy0tdm0tcGxheWVyLWZvbnQtZmFtaWx5OidIZWx2ZXRpY2EgTmV1ZScsJ1NlZ29lIFVJJyxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjstLXZtLWxvYWRpbmctc2NyZWVuLWRvdC1zaXplOjEycHg7LS12bS1sb2FkaW5nLXNjcmVlbi1wdWxzZS1kdXJhdGlvbjoxLjVzOy0tdm0tbG9hZGluZy1zY3JlZW4tZG90LWNvbG9yOnZhcihcXG4gICAgLS12bS1wbGF5ZXItdGhlbWUsXFxuICAgIHZhcigtLXZtLWNvbG9yLXdoaXRlLTcwMClcXG4gICk7LS12bS1za2VsZXRvbi1jb2xvcjpoc2woMCwgMTAlLCA5MCUpOy0tdm0tc2tlbGV0b24tc2hlZW4tY29sb3I6aHNsKDAsIDEwJSwgOTclKTstLXZtLXNsaWRlci10aHVtYi13aWR0aDoxM3B4Oy0tdm0tc2xpZGVyLXRodW1iLWhlaWdodDoxM3B4Oy0tdm0tc2xpZGVyLXRodW1iLWJnOiNmZmY7LS12bS1zbGlkZXItdGh1bWItYm9yZGVyOjJweCBzb2xpZCB0cmFuc3BhcmVudDstLXZtLXNsaWRlci10cmFjay1oZWlnaHQ6M3B4Oy0tdm0tc2xpZGVyLXRyYWNrLWZvY3VzZWQtaGVpZ2h0OjVweDstLXZtLXNsaWRlci10cmFjay1jb2xvcjp2YXIoLS12bS1jb2xvci13aGl0ZS0yMDApOy0tdm0tc2xpZGVyLXZhbHVlLWNvbG9yOnZhcigtLXZtLXBsYXllci10aGVtZSwgI2ZmZik7LS12bS10b29sdGlwLWJvcmRlci1yYWRpdXM6M3B4Oy0tdm0tdG9vbHRpcC1mb250LXNpemU6MTRweDstLXZtLXRvb2x0aXAtcGFkZGluZzpjYWxjKHZhcigtLXZtLWNvbnRyb2wtc3BhY2luZykgLyAxLjUpOy0tdm0tdG9vbHRpcC1mYWRlLWR1cmF0aW9uOjAuMnM7LS12bS10b29sdGlwLWZhZGUtdGltaW5nLWZ1bmM6ZWFzZTstLXZtLXRvb2x0aXAtc3BhY2luZzoxNHB4Oy0tdm0tdG9vbHRpcC1ib3gtc2hhZG93OjAgMCAycHggdmFyKC0tdm0tY29sb3ItZ3JheS01MDApOy0tdm0tdG9vbHRpcC1iZzp2YXIoLS12bS1jb2xvci1kYXJrKTstLXZtLXRvb2x0aXAtY29sb3I6dmFyKC0tdm0tY29sb3Itd2hpdGUtNzAwKTstLXZtLXNwaW5uZXItd2lkdGg6ODBweDstLXZtLXNwaW5uZXItaGVpZ2h0OjgwcHg7LS12bS1zcGlubmVyLXRoaWNrbmVzczozcHg7LS12bS1zcGlubmVyLWZpbGwtY29sb3I6I2ZmZjstLXZtLXNwaW5uZXItdHJhY2stY29sb3I6dmFyKC0tdm0tY29sb3Itd2hpdGUtMjAwKTstLXZtLXNwaW5uZXItc3Bpbi1kdXJhdGlvbjoxLjFzOy0tdm0tc3Bpbm5lci1zcGluLXRpbWluZy1mdW5jOmxpbmVhcjstLXZtLXNjcmltLWJnOnZhcigtLXZtLWNvbG9yLWdyYXktMzAwKTstLXZtLWNhcHRpb25zLXRleHQtY29sb3I6I2ZmZjstLXZtLWNhcHRpb25zLWZvbnQtc2l6ZToxOHB4Oy0tdm0tY2FwdGlvbnMtZm9udC1zaXplLW1lZGl1bToyMnB4Oy0tdm0tY2FwdGlvbnMtZm9udC1zaXplLWxhcmdlOjI0cHg7LS12bS1jYXB0aW9ucy1mb250LXNpemUteGxhcmdlOjI4cHg7LS12bS1jYXB0aW9ucy1jdWUtYmctY29sb3I6dmFyKC0tdm0tY29sb3ItZ3JheS02MDApOy0tdm0tY2FwdGlvbnMtY3VlLWJvcmRlci1yYWRpdXM6MnB4Oy0tdm0tY2FwdGlvbnMtY3VlLXBhZGRpbmc6MC4yZW0gMC41ZW07LS12bS1jb250cm9scy1iZzp0cmFuc3BhcmVudDstLXZtLWNvbnRyb2xzLWJvcmRlci1yYWRpdXM6NHB4Oy0tdm0tY29udHJvbHMtcGFkZGluZzp2YXIoLS12bS1jb250cm9sLXNwYWNpbmcpOy0tdm0tY29udHJvbHMtc3BhY2luZzp2YXIoLS12bS1jb250cm9sLXNwYWNpbmcpOy0tdm0tY29udHJvbC1ncm91cC1zcGFjaW5nOnZhcigtLXZtLWNvbnRyb2wtc3BhY2luZyk7LS12bS1jb250cm9sLWJvcmRlcjowOy0tdm0tY29udHJvbC1zY2FsZToxOy0tdm0tY29udHJvbC1ib3JkZXItcmFkaXVzOjNweDstLXZtLWNvbnRyb2wtc3BhY2luZzo4cHg7LS12bS1jb250cm9sLXBhZGRpbmc6NHB4Oy0tdm0tY29udHJvbC1pY29uLXNpemU6MjhweDstLXZtLWNvbnRyb2wtY29sb3I6I2ZmZjstLXZtLWNvbnRyb2wtdGFwLWhpZ2hsaWdodDp2YXIoLS12bS1jb2xvci13aGl0ZS0yMDApOy0tdm0tY29udHJvbC1mb2N1cy1jb2xvcjojZmZmOy0tdm0tY29udHJvbC1mb2N1cy1iZzp2YXIoLS12bS1wbGF5ZXItdGhlbWUsIHZhcigtLXZtLWNvbG9yLXdoaXRlLTIwMCkpOy0tdm0tc2NydWJiZXItbG9hZGluZy1zdHJpcGUtc2l6ZToyNXB4Oy0tdm0tc2NydWJiZXItYnVmZmVyZWQtYmc6dmFyKC0tdm0tY29sb3Itd2hpdGUtMjAwKTstLXZtLXNjcnViYmVyLWxvYWRpbmctc3RyaXBlLWNvbG9yOnZhcigtLXZtLWNvbG9yLXdoaXRlLTIwMCk7LS12bS1zY3J1YmJlci10b29sdGlwLXNwYWNpbmc6MTBweDstLXZtLXRpbWUtZm9udC1zaXplOjE0cHg7LS12bS10aW1lLWZvbnQtd2VpZ2h0OjQwMDstLXZtLXRpbWUtY29sb3I6dmFyKC0tdm0tY29sb3Itd2hpdGUtNzAwKTstLXZtLW1lbnUtY29sb3I6dmFyKC0tdm0tY29sb3Itd2hpdGUtNzAwKTstLXZtLW1lbnUtYmc6dmFyKC0tdm0tY29sb3ItZGFyayk7LS12bS1tZW51LWZvbnQtc2l6ZToxNHB4Oy0tdm0tbWVudS1mb250LXdlaWdodDo0MDA7LS12bS1tZW51LXRyYW5zaXRpb246dHJhbnNmb3JtIDAuMjVzIGVhc2Utb3V0Oy0tdm0tbWVudS1pdGVtLXBhZGRpbmc6OHB4Oy0tdm0tbWVudS1pdGVtLWZvY3VzLWNvbG9yOnZhcigtLXZtLW1lbnUtY29sb3IpOy0tdm0tbWVudS1pdGVtLWZvY3VzLWJnOnZhcigtLXZtLWNvbG9yLXdoaXRlLTEwMCk7LS12bS1tZW51LWl0ZW0tdGFwLWhpZ2hsaWdodDp2YXIoLS12bS1jb2xvci13aGl0ZS0xMDApOy0tdm0tbWVudS1pdGVtLWhpbnQtY29sb3I6dmFyKC0tdm0tbWVudS1jb2xvcik7LS12bS1tZW51LWl0ZW0taGludC1mb250LXNpemU6MTNweDstLXZtLW1lbnUtaXRlbS1oaW50LW9wYWNpdHk6MC41NDstLXZtLW1lbnUtaXRlbS1iYWRnZS1jb2xvcjp2YXIoLS12bS1tZW51LWNvbG9yKTstLXZtLW1lbnUtaXRlbS1iYWRnZS1iZzp0cmFuc3BhcmVudDstLXZtLW1lbnUtaXRlbS1iYWRnZS1mb250LXNpemU6MTBweDstLXZtLW1lbnUtaXRlbS1hcnJvdy1jb2xvcjp2YXIoLS12bS1tZW51LWNvbG9yKTstLXZtLW1lbnUtaXRlbS1jaGVjay1pY29uLXNpemU6MTZweDstLXZtLW1lbnUtaXRlbS1kaXZpZGVyLWNvbG9yOnZhcigtLXZtLWNvbG9yLXdoaXRlLTEwMCk7LS12bS1zZXR0aW5ncy13aWR0aDoyNzVweDstLXZtLXNldHRpbmdzLXBhZGRpbmc6OHB4Oy0tdm0tc2V0dGluZ3MtbWF4LWhlaWdodDo3NSU7LS12bS1zZXR0aW5ncy1ib3JkZXItcmFkaXVzOjJweDstLXZtLXNldHRpbmdzLXNoYWRvdzowIDAgOHB4IDJweCB2YXIoLS12bS1jb2xvci1ncmF5LTEwMCk7LS12bS1zZXR0aW5ncy1zY3JvbGwtd2lkdGg6MTBweDstLXZtLXNldHRpbmdzLXNjcm9sbC10aHVtYi1jb2xvcjp2YXIoLS12bS1jb2xvci13aGl0ZS0yMDApOy0tdm0tc2V0dGluZ3Mtc2Nyb2xsLXRyYWNrLWNvbG9yOnZhcigtLXZtLW1lbnUtYmcpOy0tdm0tc2V0dGluZ3MtdHJhbnNpdGlvbjp0cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoMCwgMCwgMC40LCAxKSAwLjE2cyxvcGFjaXR5IDAuMnMgY3ViaWMtYmV6aWVyKDAsIDAsIDAuNCwgMSkgMC4xNnN9dm0tcGxheWVyW3ZpZGVvXXstLXZtLXRvb2x0aXAtc3BhY2luZzoxOHB4fXZtLXBsYXllclttb2JpbGVdLHZtLXBsYXllclt0b3VjaF17LS12bS1jb250cm9sLWJvcmRlci1yYWRpdXM6NTAlfXZtLXBsYXllclttb2JpbGVdey0tdm0tc2V0dGluZ3Mtd2lkdGg6MTAwJTstLXZtLW1lbnUtY29udHJvbC1wYWRkaW5nOjEycHggY2FsYyh2YXIoLS12bS1jb250cm9sLXBhZGRpbmcpICogMil9dm0tcGxheWVyW2F1ZGlvXXstLXZtLWNvbnRyb2xzLWJnOnZhcigtLXZtLWNvbG9yLWRhcmspOy0tdm0tc2V0dGluZ3MtbWF4LWhlaWdodDoyMDBweDstLXZtLXRvb2x0aXAtc3BhY2luZzoxMHB4fVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./node_modules/@vime/core/themes/default.css\n"));

/***/ }),

/***/ "./node_modules/@vime/core/themes/default.css":
/*!****************************************************!*\
  !*** ./node_modules/@vime/core/themes/default.css ***!
  \****************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var api = __webpack_require__(/*! !../../../next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !!../../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!../../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./default.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./node_modules/@vime/core/themes/default.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(element) {\n                    // These elements should always exist. If they do not,\n                    // this code should fail.\n                    var anchorElement = document.querySelector(\"#__next_css__DO_NOT_USE__\");\n                    var parentNode = anchorElement.parentNode// Normally <head>\n                    ;\n                    // Each style tag should be placed right before our\n                    // anchor. By inserting before and not after, we do not\n                    // need to track the last inserted element.\n                    parentNode.insertBefore(element, anchorElement);\n                };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (true) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n    if (!a && b || a && !b) {\n        return false;\n    }\n    let p;\n    for(p in a){\n        if (isNamedExport && p === \"default\") {\n            continue;\n        }\n        if (a[p] !== b[p]) {\n            return false;\n        }\n    }\n    for(p in b){\n        if (isNamedExport && p === \"default\") {\n            continue;\n        }\n        if (!a[p]) {\n            return false;\n        }\n    }\n    return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      /*! !!../../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!../../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./default.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./node_modules/@vime/core/themes/default.css\",\n      function () {\n        content = __webpack_require__(/*! !!../../../next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!../../../next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./default.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[2].oneOf[7].use[2]!./node_modules/@vime/core/themes/default.css\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHZpbWUvY29yZS90aGVtZXMvZGVmYXVsdC5jc3MuanMiLCJtYXBwaW5ncyI6IkFBQUEsVUFBVSxtQkFBTyxDQUFDLDZNQUFpRztBQUNuSCwwQkFBMEIsbUJBQU8sQ0FBQyxpZkFBaU87O0FBRW5ROztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBLElBQUksSUFBVTtBQUNkLHlCQUF5QixVQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLGlCQUFpQjtBQUNyQixNQUFNLGlmQUFpTztBQUN2TztBQUNBLGtCQUFrQixtQkFBTyxDQUFDLGlmQUFpTzs7QUFFM1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLFVBQVU7O0FBRTFCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxVQUFVO0FBQ1o7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B2aW1lL2NvcmUvdGhlbWVzL2RlZmF1bHQuY3NzPzJiMjgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXN0eWxlLWxvYWRlci9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1syXS5vbmVPZls3XS51c2VbMV0hLi4vLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0ub25lT2ZbN10udXNlWzJdIS4vZGVmYXVsdC5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIGVsZW1lbnRzIHNob3VsZCBhbHdheXMgZXhpc3QuIElmIHRoZXkgZG8gbm90LFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNvZGUgc2hvdWxkIGZhaWwuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmNob3JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNfX25leHRfY3NzX19ET19OT1RfVVNFX19cIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnROb2RlID0gYW5jaG9yRWxlbWVudC5wYXJlbnROb2RlLy8gTm9ybWFsbHkgPGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgLy8gRWFjaCBzdHlsZSB0YWcgc2hvdWxkIGJlIHBsYWNlZCByaWdodCBiZWZvcmUgb3VyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuY2hvci4gQnkgaW5zZXJ0aW5nIGJlZm9yZSBhbmQgbm90IGFmdGVyLCB3ZSBkbyBub3RcbiAgICAgICAgICAgICAgICAgICAgLy8gbmVlZCB0byB0cmFjayB0aGUgbGFzdCBpbnNlcnRlZCBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShlbGVtZW50LCBhbmNob3JFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9O1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5pZiAobW9kdWxlLmhvdCkge1xuICBpZiAoIWNvbnRlbnQubG9jYWxzIHx8IG1vZHVsZS5ob3QuaW52YWxpZGF0ZSkge1xuICAgIHZhciBpc0VxdWFsTG9jYWxzID0gZnVuY3Rpb24gaXNFcXVhbExvY2FscyhhLCBiLCBpc05hbWVkRXhwb3J0KSB7XG4gICAgaWYgKCFhICYmIGIgfHwgYSAmJiAhYikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCBwO1xuICAgIGZvcihwIGluIGEpe1xuICAgICAgICBpZiAoaXNOYW1lZEV4cG9ydCAmJiBwID09PSBcImRlZmF1bHRcIikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFbcF0gIT09IGJbcF0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IocCBpbiBiKXtcbiAgICAgICAgaWYgKGlzTmFtZWRFeHBvcnQgJiYgcCA9PT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYVtwXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcbiAgICB2YXIgb2xkTG9jYWxzID0gY29udGVudC5sb2NhbHM7XG5cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcbiAgICAgIFwiISEuLi8uLi8uLi9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzJdLm9uZU9mWzddLnVzZVsxXSEuLi8uLi8uLi9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1syXS5vbmVPZls3XS51c2VbMl0hLi9kZWZhdWx0LmNzc1wiLFxuICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1syXS5vbmVPZls3XS51c2VbMV0hLi4vLi4vLi4vbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0ub25lT2ZbN10udXNlWzJdIS4vZGVmYXVsdC5jc3NcIik7XG5cbiAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghaXNFcXVhbExvY2FscyhvbGRMb2NhbHMsIGNvbnRlbnQubG9jYWxzKSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5ob3QuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb2xkTG9jYWxzID0gY29udGVudC5sb2NhbHM7XG5cbiAgICAgICAgICAgICAgdXBkYXRlKGNvbnRlbnQpO1xuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@vime/core/themes/default.css\n"));

/***/ }),

/***/ "./src/components/watch/VideoControls.jsx":
/*!************************************************!*\
  !*** ./src/components/watch/VideoControls.jsx ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _heroicons_react_solid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @heroicons/react/solid */ \"./node_modules/@heroicons/react/solid/esm/index.js\");\n/* harmony import */ var _vime_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vime/react */ \"./node_modules/@vime/react/dist/esm/index.js\");\n/* harmony import */ var _hooks_useMediaQuery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @hooks/useMediaQuery */ \"./src/hooks/useMediaQuery.ts\");\n/* harmony import */ var _slices_episode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @slices/episode */ \"./src/store/slices/episode.ts\");\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @store/store */ \"./src/store/store.ts\");\nvar _this = undefined;\n\n\n\n\n\n\nvar _s = $RefreshSig$();\nvar VideoControls = function() {\n    _s();\n    var isMobile = (0,_hooks_useMediaQuery__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"(max-width: 768px)\");\n    var dispatch = (0,_store_store__WEBPACK_IMPORTED_MODULE_4__.useDispatch)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.DefaultUi, {\n        noControls: true,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.Controls, {\n                align: \"center\",\n                pin: \"center\",\n                justify: \"space-evenly\",\n                style: {\n                    \"--vm-controls-spacing\": \"80px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.Control, {\n                        onClick: function() {\n                            return dispatch((0,_slices_episode__WEBPACK_IMPORTED_MODULE_3__.decrementEpisode)());\n                        },\n                        keys: \"p\",\n                        label: \"Previous Episode\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_heroicons_react_solid__WEBPACK_IMPORTED_MODULE_5__.ChevronDoubleLeftIcon, {\n                                className: \"w-9 text-white\"\n                            }, void 0, false, {\n                                fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                lineNumber: 50,\n                                columnNumber: 11\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.Tooltip, {\n                                children: \"previous(p)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                lineNumber: 51,\n                                columnNumber: 11\n                            }, _this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                        lineNumber: 45,\n                        columnNumber: 9\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.PlaybackControl, {\n                        hideTooltip: true,\n                        keys: \"k/ \"\n                    }, void 0, false, {\n                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                        lineNumber: 54,\n                        columnNumber: 9\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.Control, {\n                        onClick: function() {\n                            return dispatch((0,_slices_episode__WEBPACK_IMPORTED_MODULE_3__.incrementEpisode)());\n                        },\n                        keys: \"n\",\n                        label: \"Next Episode\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_heroicons_react_solid__WEBPACK_IMPORTED_MODULE_5__.ChevronDoubleRightIcon, {\n                                className: \"w-9 text-white\"\n                            }, void 0, false, {\n                                fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                lineNumber: 61,\n                                columnNumber: 11\n                            }, _this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.Tooltip, {\n                                className: \"text-xs\",\n                                children: \"next(n)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                lineNumber: 62,\n                                columnNumber: 11\n                            }, _this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                        lineNumber: 56,\n                        columnNumber: 9\n                    }, _this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                lineNumber: 37,\n                columnNumber: 7\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.Scrim, {\n                gradient: \"up\"\n            }, void 0, false, {\n                fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                lineNumber: 67,\n                columnNumber: 7\n            }, _this),\n            isMobile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.Controls, {\n                pin: \"topLeft\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.ControlSpacer, {}, void 0, false, {\n                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                        lineNumber: 71,\n                        columnNumber: 11\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.VolumeControl, {}, void 0, false, {\n                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                        lineNumber: 72,\n                        columnNumber: 11\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.SettingsControl, {}, void 0, false, {\n                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                        lineNumber: 73,\n                        columnNumber: 11\n                    }, _this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                lineNumber: 70,\n                columnNumber: 9\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.Controls, {\n                pin: \"bottomLeft\",\n                direction: isMobile ? \"column\" : \"column-reverse\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.ControlGroup, {\n                        space: isMobile ? \"none\" : \"top\",\n                        children: [\n                            !isMobile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.PlaybackControl, {\n                                        keys: \"k/ \",\n                                        tooltipDirection: \"right\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                        lineNumber: 84,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.VolumeControl, {}, void 0, false, {\n                                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                        lineNumber: 85,\n                                        columnNumber: 15\n                                    }, _this)\n                                ]\n                            }, void 0, true),\n                            !isMobile ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.TimeProgress, {}, void 0, false, {\n                                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                        lineNumber: 91,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.ControlSpacer, {}, void 0, false, {\n                                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                        lineNumber: 92,\n                                        columnNumber: 15\n                                    }, _this)\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.CurrentTime, {}, void 0, false, {\n                                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                        lineNumber: 96,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.ControlSpacer, {}, void 0, false, {\n                                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                        lineNumber: 97,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.EndTime, {}, void 0, false, {\n                                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                        lineNumber: 98,\n                                        columnNumber: 15\n                                    }, _this)\n                                ]\n                            }, void 0, true),\n                            !isMobile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.CaptionControl, {}, void 0, false, {\n                                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                        lineNumber: 104,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.PipControl, {\n                                        keys: \"i\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                        lineNumber: 105,\n                                        columnNumber: 15\n                                    }, _this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.SettingsControl, {}, void 0, false, {\n                                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                        lineNumber: 106,\n                                        columnNumber: 15\n                                    }, _this)\n                                ]\n                            }, void 0, true),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.FullscreenControl, {\n                                tooltipDirection: \"left\"\n                            }, void 0, false, {\n                                fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                                lineNumber: 110,\n                                columnNumber: 11\n                            }, _this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                        lineNumber: 81,\n                        columnNumber: 9\n                    }, _this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.ControlGroup, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_1__.ScrubberControl, {}, void 0, false, {\n                            fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                            lineNumber: 114,\n                            columnNumber: 11\n                        }, _this)\n                    }, void 0, false, {\n                        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                        lineNumber: 113,\n                        columnNumber: 9\n                    }, _this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n                lineNumber: 77,\n                columnNumber: 7\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoControls.jsx\",\n        lineNumber: 35,\n        columnNumber: 5\n    }, _this);\n};\n_s(VideoControls, \"r2jCGe3RckxW+1MREtQFVeUJp08=\", false, function() {\n    return [\n        _hooks_useMediaQuery__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n        _store_store__WEBPACK_IMPORTED_MODULE_4__.useDispatch\n    ];\n});\n_c = VideoControls;\n/* harmony default export */ __webpack_exports__[\"default\"] = (VideoControls);\nvar _c;\n$RefreshReg$(_c, \"VideoControls\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy93YXRjaC9WaWRlb0NvbnRyb2xzLmpzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOztBQUdnQztBQW1CWDtBQUU0QjtBQUNvQjtBQUMxQjs7QUFFM0MsSUFBTXVCLGFBQWEsR0FBRyxXQUFNOztJQUMxQixJQUFNQyxRQUFRLEdBQUdMLGdFQUFhLENBQUMsb0JBQW9CLENBQUM7SUFFcEQsSUFBTU0sUUFBUSxHQUFHSCx5REFBVyxFQUFFO0lBRTlCLHFCQUNFLDhEQUFDWixrREFBUztRQUFDZ0IsVUFBVTs7MEJBRW5CLDhEQUFDeEIsaURBQVE7Z0JBQ1B5QixLQUFLLEVBQUMsUUFBUTtnQkFDZEMsR0FBRyxFQUFDLFFBQVE7Z0JBQ1pDLE9BQU8sRUFBQyxjQUFjO2dCQUN0QkMsS0FBSyxFQUFFO29CQUNMLHVCQUF1QixFQUFFLE1BQU07aUJBQ2hDOztrQ0FFRCw4REFBQzFCLGdEQUFPO3dCQUNOMkIsT0FBTyxFQUFFO21DQUFNTixRQUFRLENBQUNMLGlFQUFnQixFQUFFLENBQUM7eUJBQUE7d0JBQzNDWSxJQUFJLEVBQUMsR0FBRzt3QkFDUkMsS0FBSyxFQUFDLGtCQUFrQjs7MENBRXhCLDhEQUFDakMseUVBQXFCO2dDQUFDa0MsU0FBUyxFQUFDLGdCQUFnQjs7Ozs7cUNBQUc7MENBQ3BELDhEQUFDaEIsZ0RBQU87MENBQUMsYUFBVzs7Ozs7cUNBQVU7Ozs7Ozs2QkFDdEI7a0NBRVYsOERBQUNmLHdEQUFlO3dCQUFDZ0MsV0FBVzt3QkFBQ0gsSUFBSSxFQUFDLEtBQUs7Ozs7OzZCQUFHO2tDQUUxQyw4REFBQzVCLGdEQUFPO3dCQUNOMkIsT0FBTyxFQUFFO21DQUFNTixRQUFRLENBQUNKLGlFQUFnQixFQUFFLENBQUM7eUJBQUE7d0JBQzNDVyxJQUFJLEVBQUMsR0FBRzt3QkFDUkMsS0FBSyxFQUFDLGNBQWM7OzBDQUVwQiw4REFBQ2hDLDBFQUFzQjtnQ0FBQ2lDLFNBQVMsRUFBQyxnQkFBZ0I7Ozs7O3FDQUFHOzBDQUNyRCw4REFBQ2hCLGdEQUFPO2dDQUFDZ0IsU0FBUyxFQUFDLFNBQVM7MENBQUMsU0FBTzs7Ozs7cUNBQVU7Ozs7Ozs2QkFDdEM7Ozs7OztxQkFDRDswQkFHWCw4REFBQzdCLDhDQUFLO2dCQUFDK0IsUUFBUSxFQUFDLElBQUk7Ozs7O3FCQUFHO1lBRXRCWixRQUFRLGtCQUNQLDhEQUFDdEIsaURBQVE7Z0JBQUMwQixHQUFHLEVBQUMsU0FBUzs7a0NBQ3JCLDhEQUFDckIsc0RBQWE7Ozs7NkJBQUc7a0NBQ2pCLDhEQUFDQyxzREFBYTs7Ozs2QkFBRztrQ0FDakIsOERBQUNDLHdEQUFlOzs7OzZCQUFHOzs7Ozs7cUJBQ1Y7MEJBR2IsOERBQUNQLGlEQUFRO2dCQUNQMEIsR0FBRyxFQUFDLFlBQVk7Z0JBQ2hCUyxTQUFTLEVBQUViLFFBQVEsR0FBRyxRQUFRLEdBQUcsZ0JBQWdCOztrQ0FFakQsOERBQUNWLHFEQUFZO3dCQUFDd0IsS0FBSyxFQUFFZCxRQUFRLEdBQUcsTUFBTSxHQUFHLEtBQUs7OzRCQUMzQyxDQUFDQSxRQUFRLGtCQUNSOztrREFDRSw4REFBQ3JCLHdEQUFlO3dDQUFDNkIsSUFBSSxFQUFDLEtBQUs7d0NBQUNPLGdCQUFnQixFQUFDLE9BQU87Ozs7OzZDQUFHO2tEQUN2RCw4REFBQy9CLHNEQUFhOzs7OzZDQUFHOzs0Q0FDaEI7NEJBR0osQ0FBQ2dCLFFBQVEsaUJBQ1I7O2tEQUNFLDhEQUFDVCxxREFBWTs7Ozs2Q0FBRztrREFDaEIsOERBQUNSLHNEQUFhOzs7OzZDQUFHOzs0Q0FDaEIsaUJBRUg7O2tEQUNFLDhEQUFDSyxvREFBVzs7Ozs2Q0FBRztrREFDZiw4REFBQ0wsc0RBQWE7Ozs7NkNBQUc7a0RBQ2pCLDhEQUFDTSxnREFBTzs7Ozs2Q0FBRzs7NENBQ1Y7NEJBR0osQ0FBQ1csUUFBUSxrQkFDUjs7a0RBQ0UsOERBQUNQLHVEQUFjOzs7OzZDQUFHO2tEQUNsQiw4REFBQ0QsbURBQVU7d0NBQUNnQixJQUFJLEVBQUMsR0FBRzs7Ozs7NkNBQUc7a0RBQ3ZCLDhEQUFDdkIsd0RBQWU7Ozs7NkNBQUc7OzRDQUNsQjswQ0FHTCw4REFBQ0UsMERBQWlCO2dDQUFDNEIsZ0JBQWdCLEVBQUMsTUFBTTs7Ozs7cUNBQUc7Ozs7Ozs2QkFDaEM7a0NBRWYsOERBQUN6QixxREFBWTtrQ0FDWCw0RUFBQ1Isd0RBQWU7Ozs7aUNBQUc7Ozs7OzZCQUNOOzs7Ozs7cUJBQ047Ozs7OzthQUNELENBQ1o7Q0FDSDtHQTFGS2lCLGFBQWE7O1FBQ0FKLDREQUFhO1FBRWJHLHFEQUFXOzs7QUFIeEJDLEtBQUFBLGFBQWE7QUE0Rm5CLCtEQUFlQSxhQUFhLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvd2F0Y2gvVmlkZW9Db250cm9scy5qc3g/NDc1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDaGV2cm9uRG91YmxlTGVmdEljb24sXG4gIENoZXZyb25Eb3VibGVSaWdodEljb24sXG59IGZyb20gJ0BoZXJvaWNvbnMvcmVhY3Qvc29saWQnO1xuaW1wb3J0IHtcbiAgQ29udHJvbHMsXG4gIFBsYXliYWNrQ29udHJvbCxcbiAgQ29udHJvbCxcbiAgU2NyaW0sXG4gIFNjcnViYmVyQ29udHJvbCxcbiAgQ29udHJvbFNwYWNlcixcbiAgVm9sdW1lQ29udHJvbCxcbiAgU2V0dGluZ3NDb250cm9sLFxuICBEZWZhdWx0VWksXG4gIEZ1bGxzY3JlZW5Db250cm9sLFxuICBDdXJyZW50VGltZSxcbiAgRW5kVGltZSxcbiAgQ29udHJvbEdyb3VwLFxuICBUaW1lUHJvZ3Jlc3MsXG4gIFBpcENvbnRyb2wsXG4gIENhcHRpb25Db250cm9sLFxuICBUb29sdGlwLFxufSBmcm9tICdAdmltZS9yZWFjdCc7XG5cbmltcG9ydCB1c2VNZWRpYVF1ZXJ5IGZyb20gJ0Bob29rcy91c2VNZWRpYVF1ZXJ5JztcbmltcG9ydCB7IGRlY3JlbWVudEVwaXNvZGUsIGluY3JlbWVudEVwaXNvZGUgfSBmcm9tICdAc2xpY2VzL2VwaXNvZGUnO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2ggfSBmcm9tICdAc3RvcmUvc3RvcmUnO1xuXG5jb25zdCBWaWRlb0NvbnRyb2xzID0gKCkgPT4ge1xuICBjb25zdCBpc01vYmlsZSA9IHVzZU1lZGlhUXVlcnkoJyhtYXgtd2lkdGg6IDc2OHB4KScpO1xuXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcblxuICByZXR1cm4gKFxuICAgIDxEZWZhdWx0VWkgbm9Db250cm9scz5cbiAgICAgIHsvKiBDZW50ZXIgQ29udHJvbHMgZm9yIHBsYXkvcGF1c2UgYW5kIGNoYW5naW5nIGVwaXNvZGUgKi99XG4gICAgICA8Q29udHJvbHNcbiAgICAgICAgYWxpZ249XCJjZW50ZXJcIlxuICAgICAgICBwaW49XCJjZW50ZXJcIlxuICAgICAgICBqdXN0aWZ5PVwic3BhY2UtZXZlbmx5XCJcbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAnLS12bS1jb250cm9scy1zcGFjaW5nJzogJzgwcHgnLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8Q29udHJvbFxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGRpc3BhdGNoKGRlY3JlbWVudEVwaXNvZGUoKSl9XG4gICAgICAgICAga2V5cz1cInBcIlxuICAgICAgICAgIGxhYmVsPVwiUHJldmlvdXMgRXBpc29kZVwiXG4gICAgICAgID5cbiAgICAgICAgICA8Q2hldnJvbkRvdWJsZUxlZnRJY29uIGNsYXNzTmFtZT1cInctOSB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICA8VG9vbHRpcD5wcmV2aW91cyhwKTwvVG9vbHRpcD5cbiAgICAgICAgPC9Db250cm9sPlxuXG4gICAgICAgIDxQbGF5YmFja0NvbnRyb2wgaGlkZVRvb2x0aXAga2V5cz1cImsvIFwiIC8+XG5cbiAgICAgICAgPENvbnRyb2xcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBkaXNwYXRjaChpbmNyZW1lbnRFcGlzb2RlKCkpfVxuICAgICAgICAgIGtleXM9XCJuXCJcbiAgICAgICAgICBsYWJlbD1cIk5leHQgRXBpc29kZVwiXG4gICAgICAgID5cbiAgICAgICAgICA8Q2hldnJvbkRvdWJsZVJpZ2h0SWNvbiBjbGFzc05hbWU9XCJ3LTkgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgPFRvb2x0aXAgY2xhc3NOYW1lPVwidGV4dC14c1wiPm5leHQobik8L1Rvb2x0aXA+XG4gICAgICAgIDwvQ29udHJvbD5cbiAgICAgIDwvQ29udHJvbHM+XG5cbiAgICAgIHsvKiBEZWZhdWx0IENvbnRyb2xzICovfVxuICAgICAgPFNjcmltIGdyYWRpZW50PVwidXBcIiAvPlxuXG4gICAgICB7aXNNb2JpbGUgJiYgKFxuICAgICAgICA8Q29udHJvbHMgcGluPVwidG9wTGVmdFwiPlxuICAgICAgICAgIDxDb250cm9sU3BhY2VyIC8+XG4gICAgICAgICAgPFZvbHVtZUNvbnRyb2wgLz5cbiAgICAgICAgICA8U2V0dGluZ3NDb250cm9sIC8+XG4gICAgICAgIDwvQ29udHJvbHM+XG4gICAgICApfVxuXG4gICAgICA8Q29udHJvbHNcbiAgICAgICAgcGluPVwiYm90dG9tTGVmdFwiXG4gICAgICAgIGRpcmVjdGlvbj17aXNNb2JpbGUgPyAnY29sdW1uJyA6ICdjb2x1bW4tcmV2ZXJzZSd9XG4gICAgICA+XG4gICAgICAgIDxDb250cm9sR3JvdXAgc3BhY2U9e2lzTW9iaWxlID8gJ25vbmUnIDogJ3RvcCd9PlxuICAgICAgICAgIHshaXNNb2JpbGUgJiYgKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPFBsYXliYWNrQ29udHJvbCBrZXlzPVwiay8gXCIgdG9vbHRpcERpcmVjdGlvbj1cInJpZ2h0XCIgLz5cbiAgICAgICAgICAgICAgPFZvbHVtZUNvbnRyb2wgLz5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7IWlzTW9iaWxlID8gKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPFRpbWVQcm9ncmVzcyAvPlxuICAgICAgICAgICAgICA8Q29udHJvbFNwYWNlciAvPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxDdXJyZW50VGltZSAvPlxuICAgICAgICAgICAgICA8Q29udHJvbFNwYWNlciAvPlxuICAgICAgICAgICAgICA8RW5kVGltZSAvPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHshaXNNb2JpbGUgJiYgKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPENhcHRpb25Db250cm9sIC8+XG4gICAgICAgICAgICAgIDxQaXBDb250cm9sIGtleXM9XCJpXCIgLz5cbiAgICAgICAgICAgICAgPFNldHRpbmdzQ29udHJvbCAvPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIDxGdWxsc2NyZWVuQ29udHJvbCB0b29sdGlwRGlyZWN0aW9uPVwibGVmdFwiIC8+XG4gICAgICAgIDwvQ29udHJvbEdyb3VwPlxuXG4gICAgICAgIDxDb250cm9sR3JvdXA+XG4gICAgICAgICAgPFNjcnViYmVyQ29udHJvbCAvPlxuICAgICAgICA8L0NvbnRyb2xHcm91cD5cbiAgICAgIDwvQ29udHJvbHM+XG4gICAgPC9EZWZhdWx0VWk+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBWaWRlb0NvbnRyb2xzO1xuIl0sIm5hbWVzIjpbIkNoZXZyb25Eb3VibGVMZWZ0SWNvbiIsIkNoZXZyb25Eb3VibGVSaWdodEljb24iLCJDb250cm9scyIsIlBsYXliYWNrQ29udHJvbCIsIkNvbnRyb2wiLCJTY3JpbSIsIlNjcnViYmVyQ29udHJvbCIsIkNvbnRyb2xTcGFjZXIiLCJWb2x1bWVDb250cm9sIiwiU2V0dGluZ3NDb250cm9sIiwiRGVmYXVsdFVpIiwiRnVsbHNjcmVlbkNvbnRyb2wiLCJDdXJyZW50VGltZSIsIkVuZFRpbWUiLCJDb250cm9sR3JvdXAiLCJUaW1lUHJvZ3Jlc3MiLCJQaXBDb250cm9sIiwiQ2FwdGlvbkNvbnRyb2wiLCJUb29sdGlwIiwidXNlTWVkaWFRdWVyeSIsImRlY3JlbWVudEVwaXNvZGUiLCJpbmNyZW1lbnRFcGlzb2RlIiwidXNlRGlzcGF0Y2giLCJWaWRlb0NvbnRyb2xzIiwiaXNNb2JpbGUiLCJkaXNwYXRjaCIsIm5vQ29udHJvbHMiLCJhbGlnbiIsInBpbiIsImp1c3RpZnkiLCJzdHlsZSIsIm9uQ2xpY2siLCJrZXlzIiwibGFiZWwiLCJjbGFzc05hbWUiLCJoaWRlVG9vbHRpcCIsImdyYWRpZW50IiwiZGlyZWN0aW9uIiwic3BhY2UiLCJ0b29sdGlwRGlyZWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/watch/VideoControls.jsx\n"));

/***/ }),

/***/ "./src/components/watch/VideoPlayer.tsx":
/*!**********************************************!*\
  !*** ./src/components/watch/VideoPlayer.tsx ***!
  \**********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _swc_helpers_src_sliced_to_array_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @swc/helpers/src/_sliced_to_array.mjs */ \"./node_modules/@swc/helpers/src/_sliced_to_array.mjs\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _vime_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @vime/react */ \"./node_modules/@vime/react/dist/esm/index.js\");\n/* harmony import */ var _vime_core_themes_default_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @vime/core/themes/default.css */ \"./node_modules/@vime/core/themes/default.css\");\n/* harmony import */ var _vime_core_themes_default_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_vime_core_themes_default_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _slices_timer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @slices/timer */ \"./src/store/slices/timer.ts\");\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @store/store */ \"./src/store/store.ts\");\n/* harmony import */ var _VideoControls__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./VideoControls */ \"./src/components/watch/VideoControls.jsx\");\n\nvar _this = undefined;\n\n\n\n\n\n\n\nvar _s = $RefreshSig$();\nvar VideoPlayer = function(param) {\n    var src = param.src, poster = param.poster;\n    _s();\n    var dispatch = (0,_store_store__WEBPACK_IMPORTED_MODULE_5__.useDispatch)();\n    var ref = (0,_swc_helpers_src_sliced_to_array_mjs__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_store_store__WEBPACK_IMPORTED_MODULE_5__.useSelector)(function(store) {\n        return [\n            store.timer.startTime,\n            store.timer.currentTime, \n        ];\n    }), 2), startTime = ref[0], currentTime = ref[1];\n    var ref1 = (0,_swc_helpers_src_sliced_to_array_mjs__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_store_store__WEBPACK_IMPORTED_MODULE_5__.useSelector)(function(store) {\n        return [\n            store.anime.anime,\n            store.episode.episode, \n        ];\n    }), 2), anime = ref1[0], episode = ref1[1];\n    var episodeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(episode);\n    var videoplayer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Workaround for keyboard shortcuts not working\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function() {\n        // focus on videoplayer by default\n        videoplayer.current.focus();\n        // prevent default actions\n        videoplayer.current.addEventListener(\"keydown\", function(e) {\n            e.preventDefault();\n        });\n        // Refocus on the videoplayer on fullscreen change\n        videoplayer.current.onfullscreenchange = function() {\n            videoplayer.current.focus();\n        };\n        // Enable fullscreen keyboard shortcuts in fullscreen\n        document.addEventListener(\"keydown\", function(e) {\n            var ref;\n            if (((ref = videoplayer.current) === null || ref === void 0 ? void 0 : ref.isFullscreenActive) && e.target !== videoplayer.current) {\n                // Create a new keyboard event\n                var keyboardEvent = new KeyboardEvent(\"keydown\", {\n                    key: e.key,\n                    code: e.code,\n                    shiftKey: e.shiftKey,\n                    ctrlKey: e.ctrlKey,\n                    metaKey: e.metaKey\n                });\n                // dispatch it to the videoplayer\n                videoplayer.current.dispatchEvent(keyboardEvent);\n            }\n        });\n    });\n    var timeChangeCallback = function(event) {\n        if (videoplayer.current.duration < 0) return;\n        if (currentTime === Math.ceil(event.detail)) return;\n        dispatch((0,_slices_timer__WEBPACK_IMPORTED_MODULE_4__.setCurrentTime)(event.detail));\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function() {\n        var savedState = localStorage.getItem(\"Anime\".concat(anime)) || \"1-0\";\n        var ref = (0,_swc_helpers_src_sliced_to_array_mjs__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(savedState.split(\"-\").map(function(v) {\n            return parseInt(v, 10);\n        }), 2), savedEpisode = ref[0], savedTime = ref[1];\n        if (savedEpisode === episode) {\n            dispatch((0,_slices_timer__WEBPACK_IMPORTED_MODULE_4__.setStartTime)(savedTime));\n        } else {\n            dispatch((0,_slices_timer__WEBPACK_IMPORTED_MODULE_4__.setStartTime)(0));\n        }\n    }, [\n        anime,\n        dispatch,\n        episode\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function() {\n        if (currentTime <= 120) return;\n        if (videoplayer.current.duration - currentTime <= 180) {\n            localStorage.removeItem(\"Anime\".concat(anime));\n            return;\n        }\n        localStorage.setItem(\"Anime\".concat(anime), \"\".concat(episodeRef.current, \"-\").concat(currentTime));\n    }, [\n        anime,\n        currentTime,\n        dispatch\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_2__.Player, {\n        onVmCurrentTimeChange: timeChangeCallback,\n        ref: videoplayer,\n        tabIndex: 0,\n        style: {\n            outline: \"none\"\n        },\n        onVmPlaybackReady: function() {\n            videoplayer.current.currentTime = startTime;\n        },\n        children: [\n            src && src.includes(\"m3u8\") ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_2__.Hls, {\n                version: \"latest\",\n                poster: poster,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                    \"data-src\": src,\n                    type: \"application/x-mpegURL\"\n                }, void 0, false, {\n                    fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoPlayer.tsx\",\n                    lineNumber: 114,\n                    columnNumber: 11\n                }, _this)\n            }, src, false, {\n                fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoPlayer.tsx\",\n                lineNumber: 113,\n                columnNumber: 9\n            }, _this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vime_react__WEBPACK_IMPORTED_MODULE_2__.Video, {\n                poster: poster,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                    \"data-src\": src,\n                    type: \"video/mp4\"\n                }, void 0, false, {\n                    fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoPlayer.tsx\",\n                    lineNumber: 118,\n                    columnNumber: 11\n                }, _this)\n            }, src, false, {\n                fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoPlayer.tsx\",\n                lineNumber: 117,\n                columnNumber: 9\n            }, _this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_VideoControls__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoPlayer.tsx\",\n                lineNumber: 122,\n                columnNumber: 7\n            }, _this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/areccusbranch/Documents/PersonalProjects/animestreaming/src/components/watch/VideoPlayer.tsx\",\n        lineNumber: 103,\n        columnNumber: 5\n    }, _this);\n};\n_s(VideoPlayer, \"v+f3i74ZBfGZ287X6qWRRWBZ6cU=\", false, function() {\n    return [\n        _store_store__WEBPACK_IMPORTED_MODULE_5__.useDispatch,\n        _store_store__WEBPACK_IMPORTED_MODULE_5__.useSelector,\n        _store_store__WEBPACK_IMPORTED_MODULE_5__.useSelector\n    ];\n});\n_c = VideoPlayer;\n/* harmony default export */ __webpack_exports__[\"default\"] = (VideoPlayer);\nvar _c;\n$RefreshReg$(_c, \"VideoPlayer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dGNoL1ZpZGVvUGxheWVyLnRzeD8xYjE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBQbGF5ZXIsIEhscywgVmlkZW8gfSBmcm9tICdAdmltZS9yZWFjdCc7XG5cbmltcG9ydCAnQHZpbWUvY29yZS90aGVtZXMvZGVmYXVsdC5jc3MnO1xuXG5pbXBvcnQgeyBzZXRDdXJyZW50VGltZSwgc2V0U3RhcnRUaW1lIH0gZnJvbSAnQHNsaWNlcy90aW1lcic7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tICdAc3RvcmUvc3RvcmUnO1xuXG5pbXBvcnQgVmlkZW9Db250cm9scyBmcm9tICcuL1ZpZGVvQ29udHJvbHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvUGxheWVyUHJvcHMge1xuICBzcmM6IHN0cmluZztcbiAgcG9zdGVyOiBzdHJpbmc7XG59XG5cbmNvbnN0IFZpZGVvUGxheWVyOiBSZWFjdC5GQzxWaWRlb1BsYXllclByb3BzPiA9ICh7IHNyYywgcG9zdGVyIH0pID0+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICBjb25zdCBbc3RhcnRUaW1lLCBjdXJyZW50VGltZV0gPSB1c2VTZWxlY3Rvcigoc3RvcmUpID0+IFtcbiAgICBzdG9yZS50aW1lci5zdGFydFRpbWUsXG4gICAgc3RvcmUudGltZXIuY3VycmVudFRpbWUsXG4gIF0pO1xuICBjb25zdCBbYW5pbWUsIGVwaXNvZGVdID0gdXNlU2VsZWN0b3IoKHN0b3JlKSA9PiBbXG4gICAgc3RvcmUuYW5pbWUuYW5pbWUsXG4gICAgc3RvcmUuZXBpc29kZS5lcGlzb2RlLFxuICBdKTtcblxuICBjb25zdCBlcGlzb2RlUmVmID0gdXNlUmVmKGVwaXNvZGUpO1xuXG4gIGNvbnN0IHZpZGVvcGxheWVyID0gdXNlUmVmPEhUTUxWbVBsYXllckVsZW1lbnQ+KG51bGwpO1xuXG4gIC8vIFdvcmthcm91bmQgZm9yIGtleWJvYXJkIHNob3J0Y3V0cyBub3Qgd29ya2luZ1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIGZvY3VzIG9uIHZpZGVvcGxheWVyIGJ5IGRlZmF1bHRcbiAgICB2aWRlb3BsYXllci5jdXJyZW50LmZvY3VzKCk7XG5cbiAgICAvLyBwcmV2ZW50IGRlZmF1bHQgYWN0aW9uc1xuICAgIHZpZGVvcGxheWVyLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAvLyBSZWZvY3VzIG9uIHRoZSB2aWRlb3BsYXllciBvbiBmdWxsc2NyZWVuIGNoYW5nZVxuICAgIHZpZGVvcGxheWVyLmN1cnJlbnQub25mdWxsc2NyZWVuY2hhbmdlID0gKCkgPT4ge1xuICAgICAgdmlkZW9wbGF5ZXIuY3VycmVudC5mb2N1cygpO1xuICAgIH07XG5cbiAgICAvLyBFbmFibGUgZnVsbHNjcmVlbiBrZXlib2FyZCBzaG9ydGN1dHMgaW4gZnVsbHNjcmVlblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICB2aWRlb3BsYXllci5jdXJyZW50Py5pc0Z1bGxzY3JlZW5BY3RpdmUgJiZcbiAgICAgICAgZS50YXJnZXQgIT09IHZpZGVvcGxheWVyLmN1cnJlbnRcbiAgICAgICkge1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcga2V5Ym9hcmQgZXZlbnRcbiAgICAgICAgY29uc3Qga2V5Ym9hcmRFdmVudCA9IG5ldyBLZXlib2FyZEV2ZW50KCdrZXlkb3duJywge1xuICAgICAgICAgIGtleTogZS5rZXksXG4gICAgICAgICAgY29kZTogZS5jb2RlLFxuICAgICAgICAgIHNoaWZ0S2V5OiBlLnNoaWZ0S2V5LFxuICAgICAgICAgIGN0cmxLZXk6IGUuY3RybEtleSxcbiAgICAgICAgICBtZXRhS2V5OiBlLm1ldGFLZXksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGRpc3BhdGNoIGl0IHRvIHRoZSB2aWRlb3BsYXllclxuICAgICAgICB2aWRlb3BsYXllci5jdXJyZW50LmRpc3BhdGNoRXZlbnQoa2V5Ym9hcmRFdmVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHRpbWVDaGFuZ2VDYWxsYmFjayA9IChldmVudDogQ3VzdG9tRXZlbnQ8bnVtYmVyPikgPT4ge1xuICAgIGlmICh2aWRlb3BsYXllci5jdXJyZW50LmR1cmF0aW9uIDwgMCkgcmV0dXJuO1xuXG4gICAgaWYgKGN1cnJlbnRUaW1lID09PSBNYXRoLmNlaWwoZXZlbnQuZGV0YWlsKSkgcmV0dXJuO1xuXG4gICAgZGlzcGF0Y2goc2V0Q3VycmVudFRpbWUoZXZlbnQuZGV0YWlsKSk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzYXZlZFN0YXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYEFuaW1lJHthbmltZX1gKSB8fCAnMS0wJztcbiAgICBjb25zdCBbc2F2ZWRFcGlzb2RlLCBzYXZlZFRpbWVdID0gc2F2ZWRTdGF0ZVxuICAgICAgLnNwbGl0KCctJylcbiAgICAgIC5tYXAoKHYpID0+IHBhcnNlSW50KHYsIDEwKSk7XG5cbiAgICBpZiAoc2F2ZWRFcGlzb2RlID09PSBlcGlzb2RlKSB7XG4gICAgICBkaXNwYXRjaChzZXRTdGFydFRpbWUoc2F2ZWRUaW1lKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc3BhdGNoKHNldFN0YXJ0VGltZSgwKSk7XG4gICAgfVxuICB9LCBbYW5pbWUsIGRpc3BhdGNoLCBlcGlzb2RlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY3VycmVudFRpbWUgPD0gMTIwKSByZXR1cm47XG4gICAgaWYgKHZpZGVvcGxheWVyLmN1cnJlbnQuZHVyYXRpb24gLSBjdXJyZW50VGltZSA8PSAxODApIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGBBbmltZSR7YW5pbWV9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgICBgQW5pbWUke2FuaW1lfWAsXG4gICAgICBgJHtlcGlzb2RlUmVmLmN1cnJlbnR9LSR7Y3VycmVudFRpbWV9YFxuICAgICk7XG4gIH0sIFthbmltZSwgY3VycmVudFRpbWUsIGRpc3BhdGNoXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8UGxheWVyXG4gICAgICBvblZtQ3VycmVudFRpbWVDaGFuZ2U9e3RpbWVDaGFuZ2VDYWxsYmFja31cbiAgICAgIHJlZj17dmlkZW9wbGF5ZXJ9XG4gICAgICB0YWJJbmRleD17MH1cbiAgICAgIHN0eWxlPXt7IG91dGxpbmU6ICdub25lJyB9fVxuICAgICAgb25WbVBsYXliYWNrUmVhZHk9eygpID0+IHtcbiAgICAgICAgdmlkZW9wbGF5ZXIuY3VycmVudC5jdXJyZW50VGltZSA9IHN0YXJ0VGltZTtcbiAgICAgIH19XG4gICAgPlxuICAgICAge3NyYyAmJiBzcmMuaW5jbHVkZXMoJ20zdTgnKSA/IChcbiAgICAgICAgPEhscyB2ZXJzaW9uPVwibGF0ZXN0XCIgcG9zdGVyPXtwb3N0ZXJ9IGtleT17c3JjfT5cbiAgICAgICAgICA8c291cmNlIGRhdGEtc3JjPXtzcmN9IHR5cGU9XCJhcHBsaWNhdGlvbi94LW1wZWdVUkxcIiAvPlxuICAgICAgICA8L0hscz5cbiAgICAgICkgOiAoXG4gICAgICAgIDxWaWRlbyBwb3N0ZXI9e3Bvc3Rlcn0ga2V5PXtzcmN9PlxuICAgICAgICAgIDxzb3VyY2UgZGF0YS1zcmM9e3NyY30gdHlwZT1cInZpZGVvL21wNFwiIC8+XG4gICAgICAgIDwvVmlkZW8+XG4gICAgICApfVxuXG4gICAgICA8VmlkZW9Db250cm9scyAvPlxuICAgIDwvUGxheWVyPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVmlkZW9QbGF5ZXI7XG4iXSwibmFtZXMiOlsidXNlUmVmIiwidXNlRWZmZWN0IiwiUGxheWVyIiwiSGxzIiwiVmlkZW8iLCJzZXRDdXJyZW50VGltZSIsInNldFN0YXJ0VGltZSIsInVzZURpc3BhdGNoIiwidXNlU2VsZWN0b3IiLCJWaWRlb0NvbnRyb2xzIiwiVmlkZW9QbGF5ZXIiLCJzcmMiLCJwb3N0ZXIiLCJkaXNwYXRjaCIsInN0b3JlIiwidGltZXIiLCJzdGFydFRpbWUiLCJjdXJyZW50VGltZSIsImFuaW1lIiwiZXBpc29kZSIsImVwaXNvZGVSZWYiLCJ2aWRlb3BsYXllciIsImN1cnJlbnQiLCJmb2N1cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJvbmZ1bGxzY3JlZW5jaGFuZ2UiLCJkb2N1bWVudCIsImlzRnVsbHNjcmVlbkFjdGl2ZSIsInRhcmdldCIsImtleWJvYXJkRXZlbnQiLCJLZXlib2FyZEV2ZW50Iiwia2V5IiwiY29kZSIsInNoaWZ0S2V5IiwiY3RybEtleSIsIm1ldGFLZXkiLCJkaXNwYXRjaEV2ZW50IiwidGltZUNoYW5nZUNhbGxiYWNrIiwiZXZlbnQiLCJkdXJhdGlvbiIsIk1hdGgiLCJjZWlsIiwiZGV0YWlsIiwic2F2ZWRTdGF0ZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzcGxpdCIsIm1hcCIsInYiLCJwYXJzZUludCIsInNhdmVkRXBpc29kZSIsInNhdmVkVGltZSIsInJlbW92ZUl0ZW0iLCJzZXRJdGVtIiwib25WbUN1cnJlbnRUaW1lQ2hhbmdlIiwicmVmIiwidGFiSW5kZXgiLCJzdHlsZSIsIm91dGxpbmUiLCJvblZtUGxheWJhY2tSZWFkeSIsImluY2x1ZGVzIiwidmVyc2lvbiIsInNvdXJjZSIsImRhdGEtc3JjIiwidHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/watch/VideoPlayer.tsx\n"));

/***/ }),

/***/ "./src/hooks/useMediaQuery.ts":
/*!************************************!*\
  !*** ./src/hooks/useMediaQuery.ts ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar useMediaQuery = function(query) {\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), matches = ref[0], setMatches = ref[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function() {\n        var media = window.matchMedia(query);\n        if (media.matches !== matches) {\n            setMatches(media.matches);\n        }\n        var listener = function() {\n            return setMatches(media.matches);\n        };\n        window.addEventListener(\"resize\", listener);\n        return function() {\n            return window.removeEventListener(\"resize\", listener);\n        };\n    }, [\n        matches,\n        query\n    ]);\n    return matches;\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (useMediaQuery);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlTWVkaWFRdWVyeS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBNEM7QUFFNUMsSUFBTUUsYUFBYSxHQUFHLFNBQUNDLEtBQWEsRUFBSztJQUN2QyxJQUE4QkgsR0FBZSxHQUFmQSwrQ0FBUSxDQUFDLEtBQUssQ0FBQyxFQUF0Q0ksT0FBTyxHQUFnQkosR0FBZSxHQUEvQixFQUFFSyxVQUFVLEdBQUlMLEdBQWUsR0FBbkI7SUFFMUJDLGdEQUFTLENBQUMsV0FBTTtRQUNkLElBQU1LLEtBQUssR0FBR0MsTUFBTSxDQUFDQyxVQUFVLENBQUNMLEtBQUssQ0FBQztRQUN0QyxJQUFJRyxLQUFLLENBQUNGLE9BQU8sS0FBS0EsT0FBTyxFQUFFO1lBQzdCQyxVQUFVLENBQUNDLEtBQUssQ0FBQ0YsT0FBTyxDQUFDLENBQUM7U0FDM0I7UUFDRCxJQUFNSyxRQUFRLEdBQUc7bUJBQU1KLFVBQVUsQ0FBQ0MsS0FBSyxDQUFDRixPQUFPLENBQUM7U0FBQTtRQUNoREcsTUFBTSxDQUFDRyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUVELFFBQVEsQ0FBQyxDQUFDO1FBQzVDLE9BQU87bUJBQU1GLE1BQU0sQ0FBQ0ksbUJBQW1CLENBQUMsUUFBUSxFQUFFRixRQUFRLENBQUM7U0FBQSxDQUFDO0tBQzdELEVBQUU7UUFBQ0wsT0FBTztRQUFFRCxLQUFLO0tBQUMsQ0FBQyxDQUFDO0lBRXJCLE9BQU9DLE9BQU8sQ0FBQztDQUNoQjtBQUVELCtEQUFlRixhQUFhLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2hvb2tzL3VzZU1lZGlhUXVlcnkudHM/ZDI2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCB1c2VNZWRpYVF1ZXJ5ID0gKHF1ZXJ5OiBzdHJpbmcpID0+IHtcbiAgY29uc3QgW21hdGNoZXMsIHNldE1hdGNoZXNdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbWVkaWEgPSB3aW5kb3cubWF0Y2hNZWRpYShxdWVyeSk7XG4gICAgaWYgKG1lZGlhLm1hdGNoZXMgIT09IG1hdGNoZXMpIHtcbiAgICAgIHNldE1hdGNoZXMobWVkaWEubWF0Y2hlcyk7XG4gICAgfVxuICAgIGNvbnN0IGxpc3RlbmVyID0gKCkgPT4gc2V0TWF0Y2hlcyhtZWRpYS5tYXRjaGVzKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgbGlzdGVuZXIpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgbGlzdGVuZXIpO1xuICB9LCBbbWF0Y2hlcywgcXVlcnldKTtcblxuICByZXR1cm4gbWF0Y2hlcztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHVzZU1lZGlhUXVlcnk7XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VNZWRpYVF1ZXJ5IiwicXVlcnkiLCJtYXRjaGVzIiwic2V0TWF0Y2hlcyIsIm1lZGlhIiwid2luZG93IiwibWF0Y2hNZWRpYSIsImxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/hooks/useMediaQuery.ts\n"));

/***/ }),

/***/ "./node_modules/@stencil/core/internal/app-data/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@stencil/core/internal/app-data/index.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BUILD\": function() { return /* binding */ BUILD; },\n/* harmony export */   \"Env\": function() { return /* binding */ Env; },\n/* harmony export */   \"NAMESPACE\": function() { return /* binding */ NAMESPACE; }\n/* harmony export */ });\nconst BUILD = {\n    allRenderFn: false,\n    cmpDidLoad: true,\n    cmpDidUnload: false,\n    cmpDidUpdate: true,\n    cmpDidRender: true,\n    cmpWillLoad: true,\n    cmpWillUpdate: true,\n    cmpWillRender: true,\n    connectedCallback: true,\n    disconnectedCallback: true,\n    element: true,\n    event: true,\n    hasRenderFn: true,\n    lifecycle: true,\n    hostListener: true,\n    hostListenerTargetWindow: true,\n    hostListenerTargetDocument: true,\n    hostListenerTargetBody: true,\n    hostListenerTargetParent: false,\n    hostListenerTarget: true,\n    member: true,\n    method: true,\n    mode: true,\n    observeAttribute: true,\n    prop: true,\n    propMutable: true,\n    reflect: true,\n    scoped: true,\n    shadowDom: true,\n    slot: true,\n    cssAnnotations: true,\n    state: true,\n    style: true,\n    svg: true,\n    updatable: true,\n    vdomAttribute: true,\n    vdomXlink: true,\n    vdomClass: true,\n    vdomFunctional: true,\n    vdomKey: true,\n    vdomListener: true,\n    vdomRef: true,\n    vdomPropOrAttr: true,\n    vdomRender: true,\n    vdomStyle: true,\n    vdomText: true,\n    watchCallback: true,\n    taskQueue: true,\n    hotModuleReplacement: false,\n    isDebug: false,\n    isDev: false,\n    isTesting: false,\n    hydrateServerSide: false,\n    hydrateClientSide: false,\n    lifecycleDOMEvents: false,\n    lazyLoad: false,\n    profile: false,\n    slotRelocation: true,\n    appendChildSlotFix: false,\n    cloneNodeFix: false,\n    hydratedAttribute: false,\n    hydratedClass: true,\n    safari10: false,\n    scriptDataOpts: false,\n    shadowDomShim: false,\n    slotChildNodesFix: false,\n    propBoolean: true,\n    propNumber: true,\n    propString: true,\n    cssVarShim: false,\n    constructableCSS: true,\n    cmpShouldUpdate: true,\n    devTools: false,\n    dynamicImportShim: false,\n    shadowDelegatesFocus: true,\n    initializeNextTick: false,\n    asyncLoading: false,\n    asyncQueue: false,\n    transformTagName: false,\n    attachStyles: true,\n};\nconst Env = {};\nconst NAMESPACE = /* default */ 'app';\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN0ZW5jaWwvY29yZS9pbnRlcm5hbC9hcHAtZGF0YS9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9Ac3RlbmNpbC9jb3JlL2ludGVybmFsL2FwcC1kYXRhL2luZGV4LmpzPzY3ZjEiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQlVJTEQgPSB7XG4gICAgYWxsUmVuZGVyRm46IGZhbHNlLFxuICAgIGNtcERpZExvYWQ6IHRydWUsXG4gICAgY21wRGlkVW5sb2FkOiBmYWxzZSxcbiAgICBjbXBEaWRVcGRhdGU6IHRydWUsXG4gICAgY21wRGlkUmVuZGVyOiB0cnVlLFxuICAgIGNtcFdpbGxMb2FkOiB0cnVlLFxuICAgIGNtcFdpbGxVcGRhdGU6IHRydWUsXG4gICAgY21wV2lsbFJlbmRlcjogdHJ1ZSxcbiAgICBjb25uZWN0ZWRDYWxsYmFjazogdHJ1ZSxcbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjazogdHJ1ZSxcbiAgICBlbGVtZW50OiB0cnVlLFxuICAgIGV2ZW50OiB0cnVlLFxuICAgIGhhc1JlbmRlckZuOiB0cnVlLFxuICAgIGxpZmVjeWNsZTogdHJ1ZSxcbiAgICBob3N0TGlzdGVuZXI6IHRydWUsXG4gICAgaG9zdExpc3RlbmVyVGFyZ2V0V2luZG93OiB0cnVlLFxuICAgIGhvc3RMaXN0ZW5lclRhcmdldERvY3VtZW50OiB0cnVlLFxuICAgIGhvc3RMaXN0ZW5lclRhcmdldEJvZHk6IHRydWUsXG4gICAgaG9zdExpc3RlbmVyVGFyZ2V0UGFyZW50OiBmYWxzZSxcbiAgICBob3N0TGlzdGVuZXJUYXJnZXQ6IHRydWUsXG4gICAgbWVtYmVyOiB0cnVlLFxuICAgIG1ldGhvZDogdHJ1ZSxcbiAgICBtb2RlOiB0cnVlLFxuICAgIG9ic2VydmVBdHRyaWJ1dGU6IHRydWUsXG4gICAgcHJvcDogdHJ1ZSxcbiAgICBwcm9wTXV0YWJsZTogdHJ1ZSxcbiAgICByZWZsZWN0OiB0cnVlLFxuICAgIHNjb3BlZDogdHJ1ZSxcbiAgICBzaGFkb3dEb206IHRydWUsXG4gICAgc2xvdDogdHJ1ZSxcbiAgICBjc3NBbm5vdGF0aW9uczogdHJ1ZSxcbiAgICBzdGF0ZTogdHJ1ZSxcbiAgICBzdHlsZTogdHJ1ZSxcbiAgICBzdmc6IHRydWUsXG4gICAgdXBkYXRhYmxlOiB0cnVlLFxuICAgIHZkb21BdHRyaWJ1dGU6IHRydWUsXG4gICAgdmRvbVhsaW5rOiB0cnVlLFxuICAgIHZkb21DbGFzczogdHJ1ZSxcbiAgICB2ZG9tRnVuY3Rpb25hbDogdHJ1ZSxcbiAgICB2ZG9tS2V5OiB0cnVlLFxuICAgIHZkb21MaXN0ZW5lcjogdHJ1ZSxcbiAgICB2ZG9tUmVmOiB0cnVlLFxuICAgIHZkb21Qcm9wT3JBdHRyOiB0cnVlLFxuICAgIHZkb21SZW5kZXI6IHRydWUsXG4gICAgdmRvbVN0eWxlOiB0cnVlLFxuICAgIHZkb21UZXh0OiB0cnVlLFxuICAgIHdhdGNoQ2FsbGJhY2s6IHRydWUsXG4gICAgdGFza1F1ZXVlOiB0cnVlLFxuICAgIGhvdE1vZHVsZVJlcGxhY2VtZW50OiBmYWxzZSxcbiAgICBpc0RlYnVnOiBmYWxzZSxcbiAgICBpc0RldjogZmFsc2UsXG4gICAgaXNUZXN0aW5nOiBmYWxzZSxcbiAgICBoeWRyYXRlU2VydmVyU2lkZTogZmFsc2UsXG4gICAgaHlkcmF0ZUNsaWVudFNpZGU6IGZhbHNlLFxuICAgIGxpZmVjeWNsZURPTUV2ZW50czogZmFsc2UsXG4gICAgbGF6eUxvYWQ6IGZhbHNlLFxuICAgIHByb2ZpbGU6IGZhbHNlLFxuICAgIHNsb3RSZWxvY2F0aW9uOiB0cnVlLFxuICAgIGFwcGVuZENoaWxkU2xvdEZpeDogZmFsc2UsXG4gICAgY2xvbmVOb2RlRml4OiBmYWxzZSxcbiAgICBoeWRyYXRlZEF0dHJpYnV0ZTogZmFsc2UsXG4gICAgaHlkcmF0ZWRDbGFzczogdHJ1ZSxcbiAgICBzYWZhcmkxMDogZmFsc2UsXG4gICAgc2NyaXB0RGF0YU9wdHM6IGZhbHNlLFxuICAgIHNoYWRvd0RvbVNoaW06IGZhbHNlLFxuICAgIHNsb3RDaGlsZE5vZGVzRml4OiBmYWxzZSxcbiAgICBwcm9wQm9vbGVhbjogdHJ1ZSxcbiAgICBwcm9wTnVtYmVyOiB0cnVlLFxuICAgIHByb3BTdHJpbmc6IHRydWUsXG4gICAgY3NzVmFyU2hpbTogZmFsc2UsXG4gICAgY29uc3RydWN0YWJsZUNTUzogdHJ1ZSxcbiAgICBjbXBTaG91bGRVcGRhdGU6IHRydWUsXG4gICAgZGV2VG9vbHM6IGZhbHNlLFxuICAgIGR5bmFtaWNJbXBvcnRTaGltOiBmYWxzZSxcbiAgICBzaGFkb3dEZWxlZ2F0ZXNGb2N1czogdHJ1ZSxcbiAgICBpbml0aWFsaXplTmV4dFRpY2s6IGZhbHNlLFxuICAgIGFzeW5jTG9hZGluZzogZmFsc2UsXG4gICAgYXN5bmNRdWV1ZTogZmFsc2UsXG4gICAgdHJhbnNmb3JtVGFnTmFtZTogZmFsc2UsXG4gICAgYXR0YWNoU3R5bGVzOiB0cnVlLFxufTtcbmNvbnN0IEVudiA9IHt9O1xuY29uc3QgTkFNRVNQQUNFID0gLyogZGVmYXVsdCAqLyAnYXBwJztcblxuZXhwb3J0IHsgQlVJTEQsIEVudiwgTkFNRVNQQUNFIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@stencil/core/internal/app-data/index.js\n"));

/***/ })

}]);