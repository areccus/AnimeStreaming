(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{1878:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/watch/[id]",function(){return n(2763)}])},3108:function(e,t,n){"use strict";var r=n(5893),a=n(1664),s=n.n(a);t.Z=function(e){var t=e.genre;return(0,r.jsx)(s(),{href:"/genre/".concat(t),passHref:!0,children:(0,r.jsx)("a",{className:"transform rounded bg-black p-1 text-xs text-white transition duration-300 ease-out hover:scale-105 sm:text-sm",children:t})})}},2730:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5893),a=n(1664),s=n.n(a),i=n(1163),c=n(3737),l=function(e){var t=e.className;return(0,r.jsxs)("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[(0,r.jsx)("path",{d:"M257.498 293.782L277.084 389.793H419.004L391.023 293.782H257.498Z",fill:"#E50914"}),(0,r.jsx)("path",{d:"M97.7692 289.197L76.673 389.793H272.903L253.317 293.782L97.7692 289.197Z",fill:"#E50914"}),(0,r.jsx)("path",{d:"M189.869 0H313.317L123.448 499.725H0L189.869 0Z",fill:"#B1060F"}),(0,r.jsx)("path",{d:"M317.467 0H189.869L384.402 512H512L317.467 0Z",fill:"#E50914"}),(0,r.jsx)("path",{d:"M248.226 293.526L267.987 389.56H295.529L291.137 293.526H248.226Z",fill:"#E50914"})]})},o=function(){var e=(0,i.useRouter)();return(0,r.jsxs)("header",{className:"sticky top-0 z-[51] flex h-12 w-full items-center bg-gray-900 shadow-md",children:[(0,r.jsx)(s(),{href:"/",passHref:!0,children:(0,r.jsx)("a",{children:(0,r.jsx)(l,{className:"ml-4 h-7 w-7 cursor-pointer sm:ml-6"})})}),(0,r.jsxs)("div",{className:"ml-4 flex items-center rounded bg-gray-50 py-[1px] px-2 sm:ml-6",children:[(0,r.jsx)(c.Z,{className:"h-4 w-4"}),(0,r.jsx)("input",{className:"w-44 bg-transparent p-1 text-sm text-black placeholder-gray-400 outline-none sm:w-56 md:w-64 lg:w-72",placeholder:"Search for Anime to watch",onKeyPress:function(t){"Enter"===t.key&&e.push("/search?keyword=".concat(t.currentTarget.value))}})]})]})}},2925:function(e,t,n){"use strict";var r=n(5893);n(7294);t.Z=function(e){var t=e.icon,n=e.text,a=e.className,s=t;return(0,r.jsxs)("div",{className:"flex items-center space-x-1 ".concat(a||""),children:[(0,r.jsx)(s,{className:"h-4 w-4"}),(0,r.jsx)("p",{className:"text-xs sm:text-sm",children:n})]})}},8442:function(e,t,n){"use strict";n.d(t,{O8:function(){return s},TS:function(){return r},gm:function(){return a}});var r="https://graphql.anilist.co",a="https://kitsu.io/api/graphql",s=/(gogocdn\.stream)|(manifest\.prod\.boltdns\.net)/},2763:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return K},default:function(){return G}});var r=n(5893),a=n(7294),s=n(5152),i=n.n(s),c=n(1163),l=n(2962),o=n(3108),u=n(2730),d=n(361),f=n(5675),m=n.n(f),x=n(1664),h=n.n(x),p=n(5186),g=n(4523),v=n(6111),y=n(2925),j=n(2426),w=function(e){var t=e.anime;return(0,r.jsx)(h(),{href:"/watch/".concat(t.id),passHref:!0,children:(0,r.jsxs)("a",{className:"ml-2 mr-4 flex transform space-x-4 py-2 text-white transition duration-300 ease-out hover:scale-105",children:[(0,r.jsx)("div",{className:"aspect-h-1 aspect-w-3 relative w-24 flex-shrink-0",children:(0,r.jsx)(m(),{alt:t.title.english||t.title.romaji,src:t.coverImage.large||t.coverImage.medium,layout:"fill",objectFit:"cover",className:"rounded-md",placeholder:"blur",blurDataURL:"data:image/svg+xml;base64,".concat((0,j.YE)(t.coverImage.color))})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("p",{className:"line-clamp-1",children:t.title.english||t.title.romaji}),(0,r.jsx)("p",{className:"text-gray-400 line-clamp-2",children:t.description.replace(/<\w*\\?>/g,"")}),(0,r.jsxs)("div",{className:"m-4 flex justify-end space-x-2 text-xs text-white",children:[(0,r.jsx)(y.Z,{icon:v.Z,text:t.format,className:"hidden sm:flex"}),(0,r.jsx)(y.Z,{icon:p.Z,text:"".concat(t.duration," Min")}),(0,r.jsx)(y.Z,{icon:g.Z,text:"".concat(t.meanScore,"%")})]})]})]})})},b=n(961),N=n(1520),k=function(e){var t=e.start,n=e.end,a=e.onClick;return(0,r.jsxs)("button",{onClick:a,className:"rounded-md bg-gray-700 px-2 py-1 text-gray-300 transition duration-75 ease-out hover:bg-gray-800 active:scale-90",children:[t,"-",n]})},E=function(){var e=(0,N.v9)((function(e){return e.gogoApi.totalEpisodes})),t=(0,N.I0)(),n=(0,a.useState)(1),s=n[0],i=n[1],c=(0,a.useRef)(null),l=Math.ceil(e/100),o=Array.from({length:e},(function(e,t){return t+1}));return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"m-2 flex",children:[(0,r.jsx)("span",{className:"text-gray-300 md:text-lg",children:"Go to episode: "}),(0,r.jsx)("input",{ref:c,className:"ml-2 w-32 rounded-sm p-1 text-sm text-gray-800 placeholder-gray-700 outline-none md:text-base",placeholder:"Episode no.",onKeyDown:function(e){"Enter"===e.key&&(t((0,b.RK)(parseInt(c.current.value,10))),c.current.value="")}})]}),e&&(0,r.jsxs)("div",{className:"m-2",children:[(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("span",{className:"text-lg text-gray-300",children:"Episodes: "}),(0,r.jsx)("div",{className:"flex flex-wrap space-x-2",children:new Array(l).fill(1).map((function(t,n){return(0,r.jsx)(k,{start:100*n+1,end:100*n+100>e?e:100*n+100,onClick:function(){return i(n+1)}},n+1)}))})]}),(0,r.jsx)("div",{className:"grid grid-cols-11 gap-x-2 gap-y-1 py-1 sm:grid-cols-[repeat(16,_minmax(0,_1fr))] lg:grid-cols-[repeat(20,_minmax(0,_1fr))] xl:grid-cols-[repeat(25,_minmax(0,_1fr))]",children:o.slice(100*(s-1),100*s).map((function(e){return(0,r.jsx)("div",{className:"rounded-sm bg-gray-100 py-[1px] px-1 text-gray-800 hover:bg-gray-400",onClick:function(){return t((0,b.RK)(e))},children:e},e)}))})]})]})},S=n(5092);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(e){var t=e.label,n=e.checked,a=e.action,s=(0,N.I0)();return(0,r.jsxs)("label",{className:"p2 relative mr-2 flex items-center justify-between text-white",children:[t,(0,r.jsx)("input",{type:"checkbox",checked:n,onChange:function(){return s(a)},className:"peer absolute left-0 top-0 h-full w-full appearance-none"}),(0,r.jsx)("span",{className:"\n                  ml-2 flex h-5 w-9 flex-shrink-0 items-center\n                  rounded-full bg-gray-300 p-1\n                  after:h-4 after:w-4 after:rounded-full after:bg-gray-500 after:shadow-lg\n                  after:duration-300 peer-checked:bg-red-500 peer-checked:after:translate-x-3 peer-checked:after:bg-gray-800\n                "})]})},Z=function(){var e=A((0,N.v9)((function(e){return[e.videoSettings.useProxy,e.videoSettings.useDub]})),2),t=e[0],n=e[1];return(0,r.jsxs)("div",{className:"m-2 flex space-x-4",children:[(0,r.jsx)(_,{label:"Use Proxy?",checked:t,action:(0,S.TH)()}),(0,r.jsx)(_,{label:"Watch Dubbed?",checked:n,action:(0,S.ni)()})]})},L=n(4051),H=n.n(L),C=n(8100);function M(e,t,n,r,a,s,i){try{var c=e[s](i),l=c.value}catch(o){return void n(o)}c.done?t(l):Promise.resolve(l).then(r,a)}var R=function(e,t,n){var r=function(){var e,t=(e=H().mark((function e(t,n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/anime/?id=".concat(t,"&episode=").concat(n)).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){M(s,r,a,i,c,"next",e)}function c(e){M(s,r,a,i,c,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),a=(0,C.ZP)([e,t],r,{revalidateOnFocus:!1}),s=a.data,i=a.error;return{sources:n?null===s||void 0===s?void 0:s.dub.sources:null===s||void 0===s?void 0:s.sub.sources,referer:n?null===s||void 0===s?void 0:s.dub.Referer:null===s||void 0===s?void 0:s.sub.Referer,episodes:null===s||void 0===s?void 0:s.episodes,isLoading:!i&&!s,isError:i}},P=n(8442),O=n(705),T=function(e){var t=new Date(e),n=t.getFullYear(),r=t.toLocaleString("en-us",{month:"short"}),a=t.getDate();return"".concat(a).concat(function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(a)," of ").concat(r," ").concat(n)},D=function(e){var t=new Date(e),n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()],r=t.getHours(),a=t.getMinutes(),s=r>=12?"pm":"am";return r=(r%=12)||12,a=a<10?"0".concat(a):a,"".concat(n," at ").concat(r,":").concat(a," ").concat(s," (GMT-4)")},F=n(3305);function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B=i()((function(){return Promise.all([n.e(972),n.e(910),n.e(447)]).then(n.bind(n,8321))}),{loadableGenerated:{webpack:function(){return[8321]}},ssr:!1}),K=!0,G=function(e){var t=e.anime,n=e.recommended;d.Z.finish();var s=(0,c.useRouter)(),i=(0,N.I0)(),f=U((0,N.v9)((function(e){return[e.anime.anime,e.episode.episode]})),2),m=f[0],x=f[1],h=(0,N.v9)((function(e){return e.videoSettings})),p=h.useDub,g=h.useProxy,v=(0,N.v9)((function(e){return e.gogoApi.videoLink})),y=(0,a.useRef)(s);(0,a.useEffect)((function(){if(!y.current.query.episode){var e=(localStorage.getItem("Anime".concat(m))||"1-0").split("-").map((function(e){return parseInt(e,10)}))[0];i((0,b.RK)(e))}}),[m,i]),(0,a.useEffect)((function(){y.current.replace({pathname:"/watch/[id]",query:{id:m,episode:x}},"/watch/".concat(m,"/?episode=").concat(x),{shallow:!0})}),[m,x]);var j=R(m,x,p),k=j.sources,I=j.referer,A=j.isError,_=j.isLoading,L=j.episodes;(0,a.useEffect)((function(){_&&i((0,O.XC)()),i((0,O.ed)(k))}),[i,_,k]),(0,a.useEffect)((function(){_||i((0,O.j5)(L))}),[i,L,_]),(0,a.useEffect)((function(){_||i((0,S.pL)(!v.match(P.O8)))}),[i,_,v]);var H=t.nextAiringEpisode;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.PB,{title:"".concat(t.title.romaji||t.title.english," | Episode ").concat(x),description:t.description,openGraph:{images:[{type:"large",url:t.bannerImage,alt:"Banner Image for ".concat(t.title.english||t.title.romaji)},{url:t.coverImage.large||t.coverImage.medium,alt:"Cover Image for ".concat(t.title.english||t.title.romaji)}]}}),(0,r.jsx)(u.Z,{}),(0,r.jsxs)("div",{className:"space-x-4 sm:mt-4 lg:flex",children:[(0,r.jsxs)("div",{className:"mx-auto max-w-[800px] flex-shrink-0 sm:p-4 lg:mx-0 lg:ml-4 lg:w-[65%] lg:max-w-full lg:p-0",children:[A?(0,r.jsx)("p",{className:"mt-4 ml-3 text-base font-semibold text-white sm:ml-6 sm:text-lg md:text-xl lg:text-2xl xl:text-3xl 2xl:text-4xl",children:"Sorry, the anime video couldn't be found"}):(0,r.jsx)(B,{src:g?(0,F.qy)(v,I):v,poster:t.bannerImage}),(0,r.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,r.jsx)("p",{className:"m-2 mt-4 text-base font-semibold text-white sm:text-lg md:text-xl lg:text-2xl xl:text-3xl 2xl:text-4xl",children:"".concat(t.title.romaji||t.title.english).concat("MOVIE"!==t.format?" | Episode ".concat(x):"")})}),(0,r.jsx)("div",{className:"mx-3 flex flex-wrap gap-x-1 gap-y-1 sm:gap-x-2",children:t.genres.map((function(e){return(0,r.jsx)(o.Z,{genre:e},e)}))}),H?(0,r.jsxs)("div",{className:"mt-2 p-2 text-gray-400",children:[t.title.romaji||t.title.english," Episode"," ",H.episode," will release on the"," ",(0,r.jsxs)("div",{className:"inline-block font-bold text-gray-400",children:[T(1e3*H.airingAt),"."]})," ","Further episodes of the anime will air every"," ",D(1e3*H.airingAt),"."]}):null,(0,r.jsx)(Z,{}),(0,r.jsx)(E,{}),(0,r.jsx)("p",{className:"m-2 text-gray-400 line-clamp-6 md:line-clamp-none",children:t.description.replace(/<\w*\\?>/g,"")})]}),(0,r.jsxs)("div",{className:"mx-auto",children:[(0,r.jsx)("p",{className:"text-base font-semibold text-white sm:text-lg md:text-xl lg:mt-0 lg:text-2xl xl:text-3xl 2xl:text-4xl",children:"Recommended animes"}),n.map((function(e){return(0,r.jsx)(w,{anime:e},e.id)}))]})]})]})}},2426:function(e,t,n){"use strict";n.d(t,{YE:function(){return a}});var r=n(8764).Buffer,a=function(e){return t=function(e){return'\n  <svg width="1" height="1" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <rect width="1" height="1" style="fill:'.concat(e,";stroke-width:3;stroke:").concat(e,'" />\n  </svg>\n')}(e),r.from(t).toString("base64");var t}},3305:function(e,t,n){"use strict";n.d(t,{Vt:function(){return a},qy:function(){return r}});var r=function(e,t){return"/api/video/proxy?src=".concat(encodeURIComponent(e),"&referer=").concat(encodeURIComponent(t))},a=function(e){return e.replace(/<\/?\w*\\?>/gm,"")}}},function(e){e.O(0,[232,7,774,888,179],(function(){return t=1878,e(e.s=t);var t}));var t=e.O();_N_E=t}]);